(window.webpackJsonp=window.webpackJsonp||[]).push([[37],{1385:
/*!*************************************************!*\
  !*** ./components/Utility/BalanceComponent.jsx ***!
  \*************************************************/
/*! exports provided: default */
/*! exports used: default */function(e,t,n){"use strict";var s=n(/*! react */0),a=n(/*! prop-types */3),o=n(/*! ./FormattedAsset */19),r=n(/*! ./ChainTypes */22),i=n(/*! ./BindToChainState */27),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}();var u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s["Component"]),c(t,[{key:"render",value:function(){var e=Number(this.props.balance.get("balance")),t=this.props.balance.get("asset_type");return s.createElement(o.a,{amount:e,asset:t,asPercentage:this.props.asPercentage,assetInfo:this.props.assetInfo,replace:this.props.replace,hide_asset:this.props.hide_asset})}}]),t}();u.propTypes={balance:r.a.ChainObject.isRequired,assetInfo:a.node,hide_asset:a.bool},u.defaultProps={hide_asset:!1},t.a=Object(i.a)(u,{keep_updating:!0})},1389:
/*!***********************************************!*\
  !*** ./components/Utility/AmountSelector.jsx ***!
  \***********************************************/
/*! exports provided: default */
/*! exports used: default */function(e,t,n){"use strict";var s=n(/*! react */0),a=n(/*! prop-types */3),o=n(/*! react-translate-component */1),r=n.n(o),i=n(/*! ../Utility/ChainTypes */22),c=n(/*! ../Utility/BindToChainState */27),u=n(/*! ./FormattedAsset */19),l=n(/*! ./FloatingDropdown */282),p=n(/*! immutable */7),d=n.n(p),f=n(/*! counterpart */13),m=n.n(f),h=function(){function e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}();function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var y=function(e){function t(){return b(this,t),_(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return v(t,s["Component"]),h(t,[{key:"render",value:function(){return 0===this.props.assets.length?null:s.createElement(l.a,{entries:this.props.assets.map(function(e){return e&&e.get("symbol")}).filter(function(e){return!!e}),values:this.props.assets.reduce(function(e,t){return t&&t.get("symbol")&&(e[t.get("symbol")]=t),e},{}),singleEntry:this.props.assets[0]?s.createElement(u.a,{asset:this.props.assets[0].get("id"),amount:0,hide_amount:!0}):null,value:this.props.value,onChange:this.props.onChange})}}]),t}();y.propTypes={assets:i.a.ChainAssetsList,value:a.string,onChange:a.func},y=Object(c.a)(y);var g=function(e){function t(){return b(this,t),_(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return v(t,s["Component"]),h(t,[{key:"componentDidMount",value:function(){this.onAssetChange(this.props.asset)}},{key:"formatAmount",value:function(e){return e||(e=""),"number"==typeof e&&(e=e.toString()),e.trim().replace(/,/g,"")}},{key:"_onChange",value:function(e){var t=e.target.value;this.props.onChange({amount:t,asset:this.props.asset})}},{key:"onAssetChange",value:function(e){this.props.onChange({amount:this.props.amount,asset:e})}},{key:"render",value:function(){var e=this.props.error?m.a.translate(this.props.error):this.formatAmount(this.props.amount),t=this.props.isNumber;return s.createElement("div",{className:"amount-selector",style:this.props.style},s.createElement("label",{className:"right-label"},this.props.display_balance),s.createElement(r.a,{className:"left-label",component:"label",content:this.props.label}),s.createElement("div",{className:"inline-label input-wrapper"},t?s.createElement("input",{disabled:this.props.disabled,type:"number",value:e||0,placeholder:this.props.placeholder,onChange:this._onChange.bind(this),tabIndex:this.props.tabIndex}):s.createElement("input",{disabled:this.props.disabled,type:"text",value:e||"",placeholder:this.props.placeholder,onChange:this._onChange.bind(this),tabIndex:this.props.tabIndex}),s.createElement("div",{className:"form-label select floating-dropdown"},s.createElement(y,{ref:this.props.refCallback,value:this.props.asset.get("symbol"),assets:d.a.List(this.props.assets),onChange:this.onAssetChange.bind(this)}))))}}]),t}();g.propTypes={label:a.string,asset:i.a.ChainAsset.isRequired,assets:a.array,amount:a.any,placeholder:a.string,onChange:a.func.isRequired,tabIndex:a.number,error:a.string},g.defaultProps={disabled:!1},g=Object(c.a)(g),t.a=g},1391:
/*!*********************************!*\
  !*** ./actions/AssetActions.js ***!
  \*********************************/
/*! exports provided: default */
/*! exports used: default */function(e,t,n){"use strict";var s=n(/*! alt-instance */11),a=n(/*! cybexjs-ws */4),o=n(/*! common/utils */8),r=n(/*! api/WalletApi */134),i=n(/*! api/ApplicationApi */135),c=n(/*! stores/WalletDb */14),u=n(/*! cybexjs */2),l=n(/*! bignumber.js */1418),p=n.n(l),d=function(){function e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}();var f={},m=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return d(e,[{key:"fundPool",value:function(e,t,n,s){var a=r.a.new_transaction(),i=o.a.get_asset_precision(t.get("precision"));return a.add_type_operation("asset_fund_fee_pool",{fee:{amount:0,asset_id:"1.3.0"},from_account:e,asset_id:n.get("id"),amount:s*i}),function(e){return c.a.process_transaction(a,null,!0).then(function(t){e(!0)}).catch(function(t){console.log("[AssetActions.js:150] ----- fundPool error -----\x3e",t),e(!1)})}}},{key:"claimPoolFees",value:function(e,t,n){var s=r.a.new_transaction(),a=o.a.get_asset_precision(t.get("precision"));return s.add_type_operation("asset_claim_fees",{fee:{amount:0,asset_id:0},issuer:e,amount_to_claim:{asset_id:t.get("id"),amount:n*a}}),function(e){return c.a.process_transaction(s,null,!0).then(function(t){e(!0)}).catch(function(t){console.log("[AssetActions.js:150] ----- claimFees error -----\x3e",t),e(!1)})}}},{key:"createAsset",value:function(e,t,n,s,a,i,l,d,f){console.log("create asset:",t,"flags:",n,"isBitAsset:",i,"bitasset_opts:",d);var m=r.a.new_transaction(),h=o.a.get_asset_precision(t.precision);p.a.config({DECIMAL_PLACES:t.precision});var b=new p.a(t.max_supply).times(h).toString(),_=new p.a(t.max_market_fee||0).times(h).toString(),v=(Date.now(),null);t.vesting_period&&(v=[[1,{vesting_period:1*t.vesting_period}]]);var y=o.a.get_asset_precision(u.b.getAsset(a.base.asset_id).get("precision")),g={fee:{amount:0,asset_id:0},issuer:e,symbol:t.symbol,precision:parseInt(t.precision,10),common_options:{max_supply:b,market_fee_percent:100*t.market_fee_percent||0,max_market_fee:_,issuer_permissions:s,flags:n,core_exchange_rate:{base:{amount:a.base.amount*y,asset_id:a.base.asset_id},quote:{amount:a.quote.amount*h,asset_id:"1.3.1"}},whitelist_authorities:[],blacklist_authorities:[],whitelist_markets:[],blacklist_markets:[],description:f,extensions:v},is_prediction_market:l,extensions:null};return i&&(g.bitasset_opts=d),console.debug("BitAsset: ",d),m.add_type_operation("asset_create",g),function(e){return c.a.process_transaction(m,null,!0).then(function(t){e(!0)}).catch(function(t){console.log("[AssetActions.js:150] ----- createAsset error -----\x3e",t),e(!1)})}}},{key:"updateAsset",value:function(e,t,n,s,a,i,l,d,f,m,h,b){var _=r.a.new_transaction(),v=o.a.get_asset_precision(a.get("precision"));p.a.config({DECIMAL_PLACES:a.get("precision")});var y=new p.a(n.max_supply).times(v).toString(),g=new p.a(n.max_market_fee||0).times(v).toString(),j=u.b.getAsset(s.quote.asset_id),w=o.a.get_asset_precision(j.get("precision")),k=u.b.getAsset(s.base.asset_id),E=o.a.get_asset_precision(k.get("precision")),C=new p.a(s.quote.amount).times(w).toString(),O=new p.a(s.base.amount).times(E).toString();console.log("auths:",b);var A={fee:{amount:0,asset_id:0},asset_to_update:a.get("id"),extensions:a.get("extensions"),issuer:e,new_issuer:t,new_options:{max_supply:y,max_market_fee:g,market_fee_percent:100*n.market_fee_percent,description:h,issuer_permissions:l,flags:i,whitelist_authorities:b.whitelist_authorities.toJS(),blacklist_authorities:b.blacklist_authorities.toJS(),whitelist_markets:b.whitelist_markets.toJS(),blacklist_markets:b.blacklist_markets.toJS(),extensions:a.getIn(["options","extensions"]),core_exchange_rate:{quote:{amount:C,asset_id:s.quote.asset_id},base:{amount:O,asset_id:s.base.asset_id}}}};if(e!==t&&t||delete A.new_issuer,_.add_type_operation("asset_update",A),console.log("bitasset_opts:",f,"original_bitasset_opts:",m),d&&(f.feed_lifetime_sec!==m.feed_lifetime_sec||f.minimum_feeds!==m.minimum_feeds||f.force_settlement_delay_sec!==m.force_settlement_delay_sec||f.force_settlement_offset_percent!==m.force_settlement_offset_percent||f.maximum_force_settlement_volume!==m.maximum_force_settlement_volume||f.short_backing_asset!==m.short_backing_asset)){var x={fee:{amount:0,asset_id:0},asset_to_update:a.get("id"),issuer:e,new_options:f};console.debug("Update: ",x),_.add_type_operation("asset_update_bitasset",x)}return c.a.process_transaction(_,null,!0).then(function(e){return!0}).catch(function(e){return console.log("[AssetActions.js:150] ----- createAsset error -----\x3e",e),!1})}},{key:"issueAsset",value:function(e,t,n,s,a,o){i.a.issue_asset(e,t,n,s,a,o)}},{key:"getAssetList",value:function(e,t){var n=e+"_"+t;return function(s){if(!f[n])return f[n]=!0,s({loading:!0}),a.a.instance().db_api().exec("list_assets",[e,t]).then(function(e){var t=[],o=[];e.forEach(function(e){u.b._updateObject(e,!1),o.push(e.dynamic_asset_data_id),e.bitasset_data_id&&t.push(e.bitasset_data_id)});var r=a.a.instance().db_api().exec("get_objects",[o]),i=t.length>0?a.a.instance().db_api().exec("get_objects",[t]):null;Promise.all([r,i]).then(function(t){delete f[n],s({assets:e,dynamic:t[0],bitasset_data:t[1],loading:!1})}),s({loading:!1}),delete f[n]})}}},{key:"lookupAsset",value:function(e,t){var n=u.b.getAsset(e);return n?{assets:[n],searchID:t,symbol:e}:function(n){setTimeout(function(){var s=u.b.getAsset(e);s&&n({assets:[s],searchID:t,symbol:e})},200)}}},{key:"reserveAsset",value:function(e,t,n){var s=r.a.new_transaction();return s.add_type_operation("asset_reserve",{fee:{amount:0,asset_id:0},amount_to_reserve:{amount:e,asset_id:t},payer:n,extensions:[]}),c.a.process_transaction(s,null,!0).then(function(e){return!0}).catch(function(e){return console.log("[AssetActions.js:150] ----- reserveAsset error -----\x3e",e),!1})}}]),e}();t.a=s.a.createActions(m)},1400:
/*!******************************!*\
  !*** ./stores/AssetStore.js ***!
  \******************************/
/*! exports provided: default */
/*! exports used: default */function(e,t,n){"use strict";var s=n(/*! ./BaseStore */42),a=n(/*! immutable */7),o=n.n(a),r=n(/*! alt-instance */11),i=n(/*! actions/AssetActions */1391),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}();var u=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.assets=o.a.Map(),e.asset_symbol_to_id={},e.searchTerms={},e.lookupResults=[],e.assetsLoading=!1,e.bindListeners({onGetAssetList:i.a.getAssetList,onLookupAsset:i.a.lookupAsset}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s["a"]),c(t,[{key:"onGetAssetList",value:function(e){var t=this;if(!e)return!1;this.assetsLoading=e.loading,e.assets&&e.assets.forEach(function(n){for(var s=0;s<e.dynamic.length;s++)if(e.dynamic[s].id===n.dynamic_asset_data_id){n.dynamic=e.dynamic[s];break}if(n.bitasset_data_id){n.market_asset=!0;for(s=0;s<e.bitasset_data.length;s++)if(e.bitasset_data[s].id===n.bitasset_data_id){n.bitasset_data=e.bitasset_data[s];break}}else n.market_asset=!1;t.assets=t.assets.set(n.id,n),t.asset_symbol_to_id[n.symbol]=n.id})}},{key:"onLookupAsset",value:function(e){this.searchTerms[e.searchID]=e.symbol,this.lookupResults=e.assets}}]),t}();t.a=r.a.createStore(u,"AssetStore")},1561:
/*!*************************************************!*\
  !*** ./components/Forms/Period.tsx + 1 modules ***!
  \*************************************************/
/*! exports provided: Period */
/*! exports used: Period */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/react-translate-component/index.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/react/index.js (<- Module is not an ECMAScript module) */function(e,t,n){"use strict";var s=n(0),a=n(1),o=n.n(a),r=[{label:"Seconds",translate:"period.seconds",value:1},{label:"Minutes",translate:"period.minutes",value:60},{label:"Hours",translate:"period.hours",value:3600},{label:"Days",translate:"period.days",value:86400}],i=function(e){var t=e.disabled,n=e.tabIndex,a=e.className,r=e.value,i=e.name,c=e.id,u=e.items,l=e.onChange;return s.createElement("select",{disabled:t,tabIndex:n,className:a,value:r,name:i,id:c,onChange:l},u.map(function(e){return e.translate?s.createElement(o.a,{component:"option",key:e.label,value:e.value,content:e.translate}):s.createElement("option",{key:e.label,value:e.value},e.label)}))};n.d(t,"a",function(){return u});var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}();var u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={vestingPeriod:n.props.defaultPeriod,vestingAmount:n.props.defaultPeriod,vestingUnit:1},n.getIds=n.getIds.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s["Component"]),c(t,[{key:"getIds",value:function(){return{amount:"vestingAmount-"+this.props.name,unit:"vestingUnit-"+this.props.name}}},{key:"onVestingChanged",value:function(e){var t=this.getIds(),n=t.amount,s=t.unit,a=this.props.onPeriodChange,o=document.getElementById(n).value,r=document.getElementById(s).value,i=o*r;a(i),this.setState({vestingUnit:r,vestingAmount:o,vestingPeriod:i})}},{key:"onVestingUnitChanged",value:function(e){var t=this.getIds(),n=(t.amount,t.unit),s=this.state.vestingPeriod,a=document.getElementById(n).value;this.setState({vestingAmount:s/a,vestingUnit:a})}},{key:"render",value:function(){var e=this.props,t=e.tabIndex,n=e.className,a=e.disabled;return s.createElement("div",{className:n},s.createElement("input",{tabIndex:t?t-1:-1,id:this.getIds().amount,name:this.getIds().amount,type:"number",min:"0",value:this.state.vestingAmount,onChange:this.onVestingChanged.bind(this),disabled:a}),s.createElement(i,{tabIndex:t?t-1:-1,id:this.getIds().unit,disabled:a,name:this.getIds().unit,value:this.state.vestingUnit,onChange:this.onVestingUnitChanged.bind(this),items:r}))}}]),t}()},1568:
/*!*************************************!*\
  !*** ./actions/CrowdFundActions.ts ***!
  \*************************************/
/*! exports provided: default */
/*! exports used: default */function(e,t,n){"use strict";var s=n(/*! alt-instance */11),a=n(/*! cybexjs-ws */4),o=n(/*! stores/WalletDb */14),r=n(/*! api/WalletApi */134),i=n(/*! utils */189),c=n(/*! moment */1379),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}();var l=function(e,t,n,s){return new(n||(n=Promise))(function(a,o){function r(e){try{c(s.next(e))}catch(e){o(e)}}function i(e){try{c(s.throw(e))}catch(e){o(e)}}function c(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(r,i)}c((s=s.apply(e,t||[])).next())})},p=Object(i.a)("CrowdFundActions"),d=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return u(e,[{key:"queryAllCrowdFunds",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,n=arguments[2];return l(this,void 0,void 0,regeneratorRuntime.mark(function s(){var o,r,i;return regeneratorRuntime.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return o="1.16."+e.toString(),s.next=3,a.a.instance().db_api().exec("list_crowdfund_objects",[o,t]);case 3:if(r=(r=s.sent).map(function(e){return Object.assign({},e,{beginMoment:c.utc(e.begin)})}),!n){s.next=10;break}return s.next=8,Promise.all([this.queryAccountInitCrowds(n),this.queryAccountPartiCrowds(n)]);case 8:i=s.sent,p("AccountCrowd: ",i);case 10:p("Query All Funds RES: ",r),this.allFundsFetched({start:e,size:t,res:r});case 12:case"end":return s.stop()}},s,this)}))}},{key:"queryAccountInitCrowds",value:function(e){return l(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.a.instance().db_api().exec("get_crowdfund_objects",[e]);case 2:return n=t.sent,p("Query Init RES: ",n),this.accountInitFundsFetched(n),t.abrupt("return",n);case 6:case"end":return t.stop()}},t,this)}))}},{key:"queryAccountPartiCrowds",value:function(e){return l(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.a.instance().db_api().exec("get_crowdfund_contract_objects",[e]);case 2:return n=(n=t.sent).map(function(e){return Object.assign({},e,{whenM:c.utc(e.when)})}),p("Query Fund RES: ",n),this.accountPartiFundsFetched(n),t.abrupt("return",n);case 7:case"end":return t.stop()}},t,this)}))}},{key:"initCrowdFund",value:function(e){return l(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n,s;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=Object.assign({fee:{asset_id:0,amount:0}},e),(s=r.a.new_transaction()).add_type_operation("initiate_crowdfund",n),t.prev=3,t.next=6,o.a.process_transaction(s,null,!0);case 6:return t.abrupt("return",function(e){return e(!0)});case 9:return t.prev=9,t.t0=t.catch(3),t.abrupt("return",function(e){return e(!1)});case 12:case"end":return t.stop()}},t,this,[[3,9]])}))}},{key:"partiCrowd",value:function(e){return l(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n,s;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=Object.assign({fee:{asset_id:0,amount:0}},e),(s=r.a.new_transaction()).add_type_operation("participate_crowdfund",n),t.prev=3,t.next=6,o.a.process_transaction(s,null,!0);case 6:return t.abrupt("return",function(e){return e(!0)});case 9:return t.prev=9,t.t0=t.catch(3),t.abrupt("return",function(e){return e(!1)});case 12:case"end":return t.stop()}},t,this,[[3,9]])}))}},{key:"withdrawCrowdFund",value:function(e,t){return l(this,void 0,void 0,regeneratorRuntime.mark(function n(){var s,a;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return s={fee:{amount:0,asset_id:"1.3.0"},buyer:e,crowdfund_contract:t},(a=r.a.new_transaction()).add_type_operation("withdraw_crowdfund",s),n.prev=3,n.next=6,o.a.process_transaction(a,null,!0);case 6:return n.abrupt("return",function(e){return e(!0)});case 9:return n.prev=9,n.t0=n.catch(3),n.abrupt("return",function(e){return e(!1)});case 12:case"end":return n.stop()}},n,this,[[3,9]])}))}},{key:"allFundsFetched",value:function(e){return e}},{key:"accountInitFundsFetched",value:function(e){return e}},{key:"accountPartiFundsFetched",value:function(e){return e}}]),e}(),f=s.a.createActions(d);t.a=f},1603:
/*!***************************************************!*\
  !*** ../node_modules/moment/locale sync ^\.\/.*$ ***!
  \***************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){var s={"./af":1538,"./af.js":1538,"./ar":1537,"./ar-dz":1536,"./ar-dz.js":1536,"./ar-kw":1535,"./ar-kw.js":1535,"./ar-ly":1534,"./ar-ly.js":1534,"./ar-ma":1533,"./ar-ma.js":1533,"./ar-sa":1532,"./ar-sa.js":1532,"./ar-tn":1531,"./ar-tn.js":1531,"./ar.js":1537,"./az":1530,"./az.js":1530,"./be":1529,"./be.js":1529,"./bg":1528,"./bg.js":1528,"./bm":1527,"./bm.js":1527,"./bn":1526,"./bn.js":1526,"./bo":1525,"./bo.js":1525,"./br":1524,"./br.js":1524,"./bs":1523,"./bs.js":1523,"./ca":1522,"./ca.js":1522,"./cs":1521,"./cs.js":1521,"./cv":1520,"./cv.js":1520,"./cy":1519,"./cy.js":1519,"./da":1518,"./da.js":1518,"./de":1517,"./de-at":1516,"./de-at.js":1516,"./de-ch":1515,"./de-ch.js":1515,"./de.js":1517,"./dv":1514,"./dv.js":1514,"./el":1513,"./el.js":1513,"./en-au":1512,"./en-au.js":1512,"./en-ca":1511,"./en-ca.js":1511,"./en-gb":1510,"./en-gb.js":1510,"./en-ie":1509,"./en-ie.js":1509,"./en-nz":1508,"./en-nz.js":1508,"./eo":1507,"./eo.js":1507,"./es":1506,"./es-do":1505,"./es-do.js":1505,"./es-us":1504,"./es-us.js":1504,"./es.js":1506,"./et":1503,"./et.js":1503,"./eu":1502,"./eu.js":1502,"./fa":1501,"./fa.js":1501,"./fi":1500,"./fi.js":1500,"./fo":1499,"./fo.js":1499,"./fr":1498,"./fr-ca":1497,"./fr-ca.js":1497,"./fr-ch":1496,"./fr-ch.js":1496,"./fr.js":1498,"./fy":1495,"./fy.js":1495,"./gd":1494,"./gd.js":1494,"./gl":1493,"./gl.js":1493,"./gom-latn":1492,"./gom-latn.js":1492,"./gu":1491,"./gu.js":1491,"./he":1490,"./he.js":1490,"./hi":1489,"./hi.js":1489,"./hr":1488,"./hr.js":1488,"./hu":1487,"./hu.js":1487,"./hy-am":1486,"./hy-am.js":1486,"./id":1485,"./id.js":1485,"./is":1484,"./is.js":1484,"./it":1483,"./it.js":1483,"./ja":1482,"./ja.js":1482,"./jv":1481,"./jv.js":1481,"./ka":1480,"./ka.js":1480,"./kk":1479,"./kk.js":1479,"./km":1478,"./km.js":1478,"./kn":1477,"./kn.js":1477,"./ko":1476,"./ko.js":1476,"./ky":1475,"./ky.js":1475,"./lb":1474,"./lb.js":1474,"./lo":1473,"./lo.js":1473,"./lt":1472,"./lt.js":1472,"./lv":1471,"./lv.js":1471,"./me":1470,"./me.js":1470,"./mi":1469,"./mi.js":1469,"./mk":1468,"./mk.js":1468,"./ml":1467,"./ml.js":1467,"./mr":1466,"./mr.js":1466,"./ms":1465,"./ms-my":1464,"./ms-my.js":1464,"./ms.js":1465,"./my":1463,"./my.js":1463,"./nb":1462,"./nb.js":1462,"./ne":1461,"./ne.js":1461,"./nl":1460,"./nl-be":1459,"./nl-be.js":1459,"./nl.js":1460,"./nn":1458,"./nn.js":1458,"./pa-in":1457,"./pa-in.js":1457,"./pl":1456,"./pl.js":1456,"./pt":1455,"./pt-br":1454,"./pt-br.js":1454,"./pt.js":1455,"./ro":1453,"./ro.js":1453,"./ru":1452,"./ru.js":1452,"./sd":1451,"./sd.js":1451,"./se":1450,"./se.js":1450,"./si":1449,"./si.js":1449,"./sk":1448,"./sk.js":1448,"./sl":1447,"./sl.js":1447,"./sq":1446,"./sq.js":1446,"./sr":1445,"./sr-cyrl":1444,"./sr-cyrl.js":1444,"./sr.js":1445,"./ss":1443,"./ss.js":1443,"./sv":1442,"./sv.js":1442,"./sw":1441,"./sw.js":1441,"./ta":1440,"./ta.js":1440,"./te":1439,"./te.js":1439,"./tet":1438,"./tet.js":1438,"./th":1437,"./th.js":1437,"./tl-ph":1436,"./tl-ph.js":1436,"./tlh":1435,"./tlh.js":1435,"./tr":1434,"./tr.js":1434,"./tzl":1433,"./tzl.js":1433,"./tzm":1432,"./tzm-latn":1431,"./tzm-latn.js":1431,"./tzm.js":1432,"./uk":1430,"./uk.js":1430,"./ur":1429,"./ur.js":1429,"./uz":1428,"./uz-latn":1427,"./uz-latn.js":1427,"./uz.js":1428,"./vi":1426,"./vi.js":1426,"./x-pseudo":1425,"./x-pseudo.js":1425,"./yo":1424,"./yo.js":1424,"./zh-cn":1423,"./zh-cn.js":1423,"./zh-hk":1422,"./zh-hk.js":1422,"./zh-tw":1421,"./zh-tw.js":1421};function a(e){var t=o(e);return n(t)}function o(e){var t=s[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}a.keys=function(){return Object.keys(s)},a.resolve=o,e.exports=a,a.id=1603},1620:
/*!**********************************!*\
  !*** ./stores/CrowdFundStore.ts ***!
  \**********************************/
/*! exports provided: default */
/*! exports used: default */function(e,t,n){"use strict";var s=n(/*! ./BaseStore */42),a=n(/*! immutable */7),o=n(/*! alt-instance */11),r=n(/*! actions/CrowdFundActions */1568),i=n(/*! utils//Utils */125),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}();var u=Object(i.a)("CrowdFundStore"),l=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={allFunds:Object(a.List)(),initCrowds:[],partiCrowds:[]},e.bindListeners({onAllFundsFetched:r.a.allFundsFetched,onAccountPartiFundsFetched:r.a.accountPartiFundsFetched,onAccountInitFundsFetched:r.a.accountInitFundsFetched}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s["a"]),c(t,[{key:"onAllFundsFetched",value:function(e){var t=e.res,n=e.start,s=(e.size,this.state.allFunds.take(n));s=s.concat(t),this.setState({allFunds:s}),u("onAllFundsFetched: ",this)}},{key:"onAccountInitFundsFetched",value:function(e){this.setState({initCrowds:e}),u("onAccountInitFundsFetched: ",this)}},{key:"onAccountPartiFundsFetched",value:function(e){this.setState({partiCrowds:e}),u("onAccountPartiFundsFetched: ",this)}}]),t}();t.a=o.a.createStore(l,"CrowdFundStore")},1782:
/*!*****************************************!*\
  !*** ./components/Modal/IssueModal.jsx ***!
  \*****************************************/
/*! exports provided: default */
/*! exports used: default */
/*! ModuleConcatenation bailout: Module uses injected variables (Buffer) */function(e,t,n){"use strict";(function(e){var s=n(/*! react */0),a=(n(/*! prop-types */3),n(/*! react-translate-component */1)),o=n.n(a),r=n(/*! ../Utility/ChainTypes */22),i=n(/*! ../Utility/BindToChainState */27),c=n(/*! common/utils */8),u=n(/*! counterpart */13),l=n.n(u),p=n(/*! actions/AssetActions */1391),d=n(/*! ../Account/AccountSelector */285),f=n(/*! ../Utility/AmountSelector */1389),m=n(/*! utils */189),h=n(/*! components/Forms/Period */1561),b=function(){function e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}();var _=function(t){function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e)),s=t.props.asset.options,a=Object(m.d)(s,"vesting_period")||void 0;return t.state={amount:e.amount,to:e.to,to_id:null,memo:void 0,vestingPeriod:a},t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,s["Component"]),b(n,[{key:"onAmountChanged",value:function(e){var t=e.amount;e.asset;this.setState({amount:t})}},{key:"onToAccountChanged",value:function(e){var t=e?{to:e.get("name"),to_id:e.get("id")}:{to_id:null};this.setState(t)}},{key:"onToChanged",value:function(e){this.setState({to:e,to_id:null})}},{key:"onPeriodChange",value:function(e){this.setState({vestingPeriod:e})}},{key:"onSubmit",value:function(){var t=this.props.asset_to_issue,n=c.a.get_asset_precision(t.get("precision")),s=this.state.amount.replace(/,/g,"");s*=n;var a=this.props.asset.options,o=Object(m.d)(a,"vesting_period");p.a.issueAsset(this.state.to_id,t.get("issuer"),t.get("id"),s,this.state.memo?new e(this.state.memo,"utf-8"):this.state.memo,o&&this.state.vestingPeriod),this.setState({amount:null,to_id:null,memo:null})}},{key:"onMemoChanged",value:function(e){this.setState({memo:e.target.value})}},{key:"render",value:function(){var e=this.props.asset_to_issue.get("id"),t=1,n=this.props.asset.options,a=Object(m.d)(n,"vesting_period");return s.createElement("form",{className:"grid-block vertical full-width-content"},s.createElement("div",{className:"grid-container ",style:{paddingTop:"2rem"}},s.createElement("div",{className:"content-block"},s.createElement(d.a,{label:"modal.issue.to",accountName:this.state.to,onAccountChanged:this.onToAccountChanged.bind(this),onChange:this.onToChanged.bind(this),account:this.state.to,tabIndex:t++})),s.createElement("div",{className:"content-block"},s.createElement(f.a,{label:"modal.issue.amount",amount:this.state.amount,onChange:this.onAmountChanged.bind(this),asset:e,assets:[e],tabIndex:t++})),a&&s.createElement("div",{className:"content-block"},s.createElement("label",{htmlFor:"issueVesting"},s.createElement(o.a,{component:"span",content:"account.user_issued_assets.vesting_period"})),s.createElement(h.a,{className:"period-horizontal",defaultPeriod:this.state.vestingPeriod||a,name:"issue",tabIndex:t+=2,onPeriodChange:this.onPeriodChange.bind(this)})),s.createElement("div",{className:"content-block"},s.createElement("label",null,s.createElement(o.a,{component:"span",content:"transfer.memo"})," (",s.createElement(o.a,{content:"transfer.optional"}),")"),s.createElement("textarea",{rows:"1",value:this.state.memo,tabIndex:t++,onChange:this.onMemoChanged.bind(this)})),s.createElement("div",{className:"content-block button-group"},s.createElement("input",{type:"submit",className:"button success",onClick:this.onSubmit.bind(this,this.state.to,this.state.amount),value:l.a.translate("modal.issue.submit"),tabIndex:t++}),s.createElement("div",{className:"button",onClick:this.props.onClose,tabIndex:t++},l.a.translate("cancel")))))}}]),n}();_.propTypes={asset_to_issue:r.a.ChainAsset.isRequired},t.a=Object(i.a)(_)}).call(this,n(/*! ./../../../node_modules/buffer/index.js */37).Buffer)},1969:
/*!**********************************************************!*\
  !*** ./components/Account/AccountAssets.jsx + 2 modules ***!
  \**********************************************************/
/*! exports provided: default */
/*! all exports used */
/*! ModuleConcatenation bailout: Cannot concat with ./actions/CrowdFundActions.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./actions/NotificationActions.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./components/Forms/Period.tsx */
/*! ModuleConcatenation bailout: Cannot concat with ./components/Modal/BaseModal.tsx */
/*! ModuleConcatenation bailout: Cannot concat with ./lib/common/utils.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./stores/CrowdFundStore.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./utils/ClassName.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./actions/AccountActions.js */
/*! ModuleConcatenation bailout: Cannot concat with ./actions/AssetActions.js */
/*! ModuleConcatenation bailout: Cannot concat with ./components/LoadingIndicator.jsx */
/*! ModuleConcatenation bailout: Cannot concat with ./components/Modal/IssueModal.jsx (<- Module uses injected variables (Buffer)) */
/*! ModuleConcatenation bailout: Cannot concat with ./components/Utility/AmountSelector.jsx */
/*! ModuleConcatenation bailout: Cannot concat with ./components/Utility/BalanceComponent.jsx */
/*! ModuleConcatenation bailout: Cannot concat with ./components/Utility/BindToChainState.jsx */
/*! ModuleConcatenation bailout: Cannot concat with ./components/Utility/ChainTypes.js */
/*! ModuleConcatenation bailout: Cannot concat with ./components/Utility/FormattedAsset.jsx */
/*! ModuleConcatenation bailout: Cannot concat with ./lib/alt-react/lib/index.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ./lib/common/asset_utils.js */
/*! ModuleConcatenation bailout: Cannot concat with ./lib/counterpart/index.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ./lib/react-foundation-apps/src/utils/foundation-api.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ./stores/AssetStore.js */
/*! ModuleConcatenation bailout: Cannot concat with ./stores/NotificationStore.js */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/immutable/dist/immutable.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/lodash/index.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/prop-types/index.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/react-router/es/index.js */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/react-translate-component/index.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/react/index.js (<- Module is not an ECMAScript module) */function(e,t,n){"use strict";n.r(t);var s=n(0),a=n(3),o=n(6),r=n(1),i=n.n(r),c=n(1391),u=n(1400),l=n(56),p=n(104),d=n(19),f=n(35),m=n.n(f),h=n(67),b=n(222),_=n(8),v=n(26),y=n(157),g=n(1782),j=n(1385),w=n(13),k=n.n(w),E=n(1389),C=function(){function e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}();var O=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={amount:0},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s["Component"]),C(t,[{key:"onAmountChanged",value:function(e){var t=e.amount,n=e.asset;this.setState({amount:t,asset:n})}},{key:"onSubmit",value:function(){var e=_.a.get_asset_precision(this.state.asset.get("precision")),t=this.state.amount.replace(/,/g,"");t*=e,c.a.reserveAsset(t,this.props.assetId,this.props.account.get("id")),this.props.onClose()}},{key:"render",value:function(){var e=this.props.assetId;return s.createElement("form",{className:"grid-block vertical full-width-content"},s.createElement(i.a,{component:"h3",content:"modal.reserve.title"}),s.createElement("div",{className:"grid-container ",style:{paddingTop:"2rem"}},s.createElement("div",{className:"content-block"},s.createElement(E.a,{label:"modal.reserve.amount",amount:this.state.amount,onChange:this.onAmountChanged.bind(this),asset:e,assets:[e],display_balance:s.createElement(j.a,{balance:this.props.account.getIn(["balances",e])}),tabIndex:1})),s.createElement("div",{className:"content-block button-group"},s.createElement("input",{type:"submit",className:"button success",onClick:this.onSubmit.bind(this),value:k.a.translate("modal.reserve.submit"),tabIndex:2}),s.createElement("div",{className:"button",onClick:this.props.onClose,tabIndex:3},k.a.translate("cancel")))))}}]),t}(),A=n(25),x=n(190),P=n(7),I=n(22),S=n(27),F=n(1568),N=n(1620),T=n(1561),R=n(105),z=function(){function e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}();var L=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onSubmit=function(e){e.preventDefault();var t=n.state,s=t.u,a=t.t,o=n.props.asset;n.props.onSubmit({t:a,u:s,asset:o})},n.onPeriodChange=function(e){return function(t){var s,a,o;n.setState((o=t,(a=e)in(s={})?Object.defineProperty(s,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):s[a]=o,s))}},n.state={u:18e3,t:3600},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s["Component"]),z(t,[{key:"render",value:function(){var e=this.props.asset,t=this.state,n=t.u,a=t.t,o=n>0&&a>0;return s.createElement("form",{className:"grid-block vertical full-width-content"},s.createElement("h4",null,e&&e.symbol),s.createElement("div",{className:"grid-container ",style:{paddingTop:"2rem"}},s.createElement("div",{className:"content-block"},s.createElement("label",{htmlFor:"crowdU"},s.createElement(i.a,{component:"span",content:"crowdfund.timeLimit"})),s.createElement(T.a,{className:"period-horizontal",defaultPeriod:n,name:"crowdU",onPeriodChange:this.onPeriodChange("u")})),s.createElement("div",{className:"content-block"},s.createElement("label",{htmlFor:"crowdT"},s.createElement(i.a,{component:"span",content:"crowdfund.timeToLock"})),s.createElement(T.a,{className:"period-horizontal",defaultPeriod:a,name:"crowdT",onPeriodChange:this.onPeriodChange("t")})),s.createElement("div",{className:"content-block button-group"},s.createElement(i.a,{component:"button",className:Object(R.a)("button",{disabled:!o}),type:"submit",content:"modal.issue.submit",onClick:this.onSubmit}),s.createElement(i.a,{className:"button",component:"button",onClick:this.props.onClose,content:"cancel"}))))}}]),t}(),q=function(){function e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}();var D=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._initCrow=function(e){var t=e.u,n=e.t,s=e.asset;F.a.initCrowdFund({u:t,t:n,owner:s.issuer,asset_id:s.id})},n.state={create:{symbol:"",name:"",description:"",max_supply:1e15,precision:4},issue:{amount:0,to:"",to_id:"",asset_id:"",symbol:""},errors:{symbol:null},isValid:!1,searchTerm:""},n._searchAccounts=Object(v.debounce)(n._searchAccounts,150),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s["Component"]),q(t,[{key:"_checkAssets",value:function(e,t){if(!this.props.account.get("assets").size){var n=e.sort(function(e,t){return e.symbol>t.symbol?1:e.symbol<t.symbol?-1:0}).last();0===e.size||t?(c.a.getAssetList.defer("A",100),this.setState({assetsFetched:100})):e.size>=this.state.assetsFetched&&(c.a.getAssetList.defer(n.symbol,100),this.setState({assetsFetched:this.state.assetsFetched+99}))}}},{key:"_checkInitedCrowd",value:function(e){e&&e.get("id")&&F.a.queryAccountInitCrowds(e.get("id"))}},{key:"componentWillReceiveProps",value:function(e){this._checkAssets(e.assets),this.props.account.get("id")!==e.account.get("id")&&this._checkInitedCrowd(e.account),this.props.notification!==e.notification&&(this._checkAssets(this.props.assets,!0),this._checkInitedCrowd(this.props.account))}},{key:"componentWillMount",value:function(){this._checkAssets(this.props.assets,!0),this._checkInitedCrowd(this.props.account)}},{key:"_onIssueInput",value:function(e,t){var n=t.target.id,s=this.state.issue;if("to"===n){this._searchAccounts(t.target.value),s.to=t.target.value;var a=this.props.searchAccounts.findEntry(function(e){return e===t.target.value});s.to_id=a?a[0]:null}else s[e]=t.target.value;this.setState({issue:s})}},{key:"_searchAccounts",value:function(e){l.a.accountSearch(e)}},{key:"_issueAsset",value:function(e,t){var n=this;t.preventDefault(),m.a.publish("issue_asset","close");var s=this.state.issue,a=this.props.assets.get(s.asset_id);s.amount*=_.a.get_asset_precision(a.precision),c.a.issueAsset(e,s).then(function(e){e?(h.b.addNotification({message:"Successfully issued "+_.a.format_asset(s.amount,n.props.assets.get(s.asset_id)),level:"success",autoDismiss:10}),ChainStore.getAsset(s.asset_id)):h.b.addNotification({message:"Failed to issue asset",level:"error",autoDismiss:10})})}},{key:"_reserveButtonClick",value:function(e,t){t.preventDefault(),this.setState({reserve:e}),m.a.publish("reserve_asset","open")}},{key:"_reserveAsset",value:function(e,t){t.preventDefault(),m.a.publish("reserve_asset","close");var n=this.state.issue,s=this.props.assets.get(n.asset_id);n.amount*=_.a.get_asset_precision(s.precision),c.a.issueAsset(e,n).then(function(e){})}},{key:"_issueButtonClick",value:function(e,t,n,s){s.preventDefault();var a=this.state.issue;a.asset_id=e,a.symbol=t,this.setState({issue:a,assetToIssue:n}),m.a.publish("issue_asset","open")}},{key:"_showInitCrowdModal",value:function(e){this.setState({assetToIssue:e}),m.a.publish("initCrowdModal","open")}},{key:"_editButtonClick",value:function(e,t,n){n.preventDefault(),this.props.router.push("/account/"+t+"/update-asset/"+e)}},{key:"_onAccountSelect",value:function(e){var t=this.state.issue;t.to=e,t.to_id=this.props.account_name_to_id[e],this.setState({issue:t})}},{key:"render",value:function(){var e=this,t=this.props,n=t.account,a=t.account_name,r=(t.searchAccounts,t.assets),c=t.assetsList,u=t.crowdsInited,l=this.state,f=(l.issue,l.errors,l.isValid,l.create,l.assetToIssue),h=u.map(function(e){return e.asset_id}),b=!0;if(!n)return s.createElement(y.a,{type:"circle"});if(n.notFound&&(b=!1),!b)return s.createElement("div",{className:"grid-block"},s.createElement("h5",null,s.createElement(i.a,{component:"h5",content:"account.errors.not_found",name:a})));c.length&&(r=r.clear(),c.forEach(function(e){e&&(r=r.set(e.get("id"),e.toJS()))}));var _=r.filter(function(e){return e.issuer===n.get("id")}).sort(function(e,t){return parseInt(e.id.substring(4,e.id.length),10)-parseInt(t.id.substring(4,t.id.length),10)}).map(function(t){var n=x.a.parseDescription(t.options.description),r=n.short_name?n.short_name:n.main,c=-1!==h.indexOf(t.id);return r.length>100&&(r=r.substr(0,100)+"..."),s.createElement("tr",{key:t.symbol},s.createElement("td",null,s.createElement(o.b,{to:"/asset/"+t.symbol},t.symbol)),s.createElement("td",{style:{maxWidth:"250px"}},r),s.createElement("td",null,s.createElement(d.a,{amount:parseInt(t.dynamic.current_supply,10),asset:t.id})),s.createElement("td",null,s.createElement(d.a,{amount:parseInt(t.options.max_supply,10),asset:t.id})),s.createElement("td",null,t.bitasset_data_id?null:s.createElement("button",{onClick:e._issueButtonClick.bind(e,t.id,t.symbol,t),className:"button outline"},s.createElement(i.a,{content:"transaction.trxTypes.asset_issue"}))),s.createElement("td",null,t.bitasset_data_id?null:s.createElement("button",{onClick:e._reserveButtonClick.bind(e,t.id),className:"button outline"},s.createElement(i.a,{content:"transaction.trxTypes.asset_reserve"}))),s.createElement("td",null,s.createElement("button",{onClick:e._editButtonClick.bind(e,t.symbol,a),className:"button outline"},s.createElement(i.a,{content:"transaction.trxTypes.asset_update"}))),s.createElement("td",null,c?s.createElement(i.a,{component:"button",className:"button disabled outline",content:"transaction.trxTypes.crowd_inited"}):s.createElement("button",{onClick:function(){return e._showInitCrowdModal(t)},className:"button outline"},s.createElement(i.a,{content:"transaction.trxTypes.init_crowd"}))))}).toArray();return s.createElement("div",{className:"grid-content"},s.createElement("div",{className:"content-block generic-bordered-box"},s.createElement("div",{className:"block-content-header"},s.createElement(i.a,{content:"account.user_issued_assets.issued_assets"})),s.createElement("div",{className:"box-content"},s.createElement("table",{className:"table dashboard-table"},s.createElement("thead",null,s.createElement("tr",null,s.createElement("th",null,s.createElement(i.a,{content:"account.user_issued_assets.symbol"})),s.createElement("th",{style:{maxWidth:"200px"}},s.createElement(i.a,{content:"account.user_issued_assets.description"})),s.createElement(i.a,{component:"th",content:"markets.supply"}),s.createElement("th",null,s.createElement(i.a,{content:"account.user_issued_assets.max_supply"})),s.createElement("th",{style:{textAlign:"center"},colSpan:"4"},s.createElement(i.a,{content:"account.perm.action"})))),s.createElement("tbody",null,_)))),s.createElement("div",{className:"content-block"},s.createElement(o.b,{to:"/account/"+a+"/create-asset/"},s.createElement("button",{className:"button outline"},s.createElement(i.a,{content:"transaction.trxTypes.asset_create"})))),s.createElement(p.a,{id:"issue_asset",overlay:!0},s.createElement("br",null),s.createElement("div",{className:"grid-block vertical"},s.createElement(g.a,{asset_to_issue:this.state.issue.asset_id,asset:this.state.assetToIssue,onClose:function(){m.a.publish("issue_asset","close")}}))),s.createElement(p.a,{id:"reserve_asset",overlay:!0},s.createElement("br",null),s.createElement("div",{className:"grid-block vertical"},s.createElement(O,{assetId:this.state.reserve,account:n,onClose:function(){m.a.publish("reserve_asset","close")}}))),s.createElement(p.a,{id:"initCrowdModal",overlay:!0},s.createElement("br",null),s.createElement("div",{className:"grid-block vertical"},s.createElement(L,{onSubmit:function(t){return e._initCrow(t)},onClose:function(){m.a.publish("initCrowdModal","close")},asset:f}))))}}]),t}();D.defaultProps={symbol:"",name:"",description:"",max_supply:0,precision:0,crowdsInited:[]},D.propTypes={assetsList:I.a.ChainAssetsList,symbol:a.string.isRequired,crowdsInited:a.array.isRequired},D=Object(S.a)(D);t.default=Object(A.connect)(D,{listenTo:function(){return[u.a,N.a]},getProps:function(e){var t=Object(P.Map)(),n=Object(P.List)();e.account.get("assets",[]).size?e.account.get("assets",[]).forEach(function(e){n=n.push(e)}):t=u.a.getState().assets;var s=N.a.getState().initCrowds;return{assets:t,assetsList:n,notification:b.a.getState().notification,crowdsInited:s}}})}}]);