(window.webpackJsonp=window.webpackJsonp||[]).push([[15,33],{1392:
/*!*************************************************!*\
  !*** ./components/Utility/BalanceComponent.jsx ***!
  \*************************************************/
/*! exports provided: default */
/*! exports used: default */function(e,t,n){"use strict";var a=n(/*! react */0),r=n(/*! prop-types */3),s=n(/*! ./FormattedAsset */19),o=n(/*! ./ChainTypes */21),i=n(/*! ./BindToChainState */24),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["Component"]),l(t,[{key:"render",value:function(){var e=Number(this.props.balance.get("balance"));console.debug("NUMBER: ",e);var t=this.props.balance.get("asset_type");return a.createElement(s.a,{amount:e,asset:t,asPercentage:this.props.asPercentage,assetInfo:this.props.assetInfo,replace:this.props.replace,hide_asset:this.props.hide_asset})}}]),t}();c.propTypes={balance:o.a.ChainObject.isRequired,assetInfo:r.node,hide_asset:r.bool},c.defaultProps={hide_asset:!1},t.a=Object(i.a)(c,{keep_updating:!0})},1395:
/*!***********************************************!*\
  !*** ./components/Utility/AmountSelector.jsx ***!
  \***********************************************/
/*! exports provided: default */
/*! exports used: default */function(e,t,n){"use strict";var a=n(/*! react */0),r=n(/*! prop-types */3),s=n(/*! react-translate-component */1),o=n.n(s),i=n(/*! ../Utility/ChainTypes */21),l=n(/*! ../Utility/BindToChainState */24),c=n(/*! ./FormattedAsset */19),u=n(/*! ./FloatingDropdown */295),p=n(/*! immutable */7),d=n.n(p),m=n(/*! counterpart */14),h=n.n(m),f=n(/*! components/Common */123),b=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var v=function(e){function t(){return g(this,t),y(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return _(t,a["Component"]),b(t,[{key:"render",value:function(){return 0===this.props.assets.length?null:a.createElement(u.a,{entries:this.props.assets.map(function(e){return e&&e.get("symbol")}).filter(function(e){return!!e}),values:this.props.assets.reduce(function(e,t){return t&&t.get("symbol")&&(e[t.get("symbol")]=t),e},{}),singleEntry:this.props.assets[0]?a.createElement(c.a,{asset:this.props.assets[0].get("id"),amount:0,hide_amount:!0}):null,value:this.props.value,onChange:this.props.onChange})}}]),t}();v.propTypes={assets:i.a.ChainAssetsList,value:r.string,onChange:r.func},v=Object(l.a)(v);var E=function(e){function t(){return g(this,t),y(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return _(t,a["Component"]),b(t,[{key:"componentDidMount",value:function(){this.onAssetChange(this.props.asset)}},{key:"formatAmount",value:function(e){return e||(e=""),"number"==typeof e&&(e=e.toString()),e.trim().replace(/,/g,"")}},{key:"_onChange",value:function(e){var t=e.target.value;this.props.onChange({amount:t,asset:this.props.asset})}},{key:"onAssetChange",value:function(e){this.props.onChange({amount:this.props.amount,asset:e})}},{key:"render",value:function(){var e=this.props.error?h.a.translate(this.props.error):this.formatAmount(this.props.amount),t=this.props.isNumber;return a.createElement("div",{className:"amount-selector",style:this.props.style},a.createElement("label",{className:"right-label"},this.props.display_balance),a.createElement(o.a,{className:"left-label",component:"label",content:this.props.label}),a.createElement("div",{className:"inline-label input-wrapper"},t?a.createElement(f.l,{disabled:this.props.disabled,type:"number",valueFromOuter:!0,value:e||0,size:"small",placeholder:this.props.placeholder,onChange:this._onChange.bind(this),tabIndex:this.props.tabIndex,style:{width:"100%",marginBottom:0}}):a.createElement(f.l,{disabled:this.props.disabled,type:"text",valueFromOuter:!0,size:"small",value:e||"",placeholder:this.props.placeholder,onChange:this._onChange.bind(this),tabIndex:this.props.tabIndex,style:{width:"100%",marginBottom:0}}),a.createElement("div",{className:"form-label select floating-dropdown"},a.createElement(v,{ref:this.props.refCallback,value:this.props.asset.get("symbol"),assets:d.a.List(this.props.assets),onChange:this.onAssetChange.bind(this)}))))}}]),t}();E.propTypes={label:r.string,asset:i.a.ChainAsset.isRequired,assets:r.array,amount:r.any,placeholder:r.string,onChange:r.func.isRequired,tabIndex:r.number,error:r.string},E.defaultProps={disabled:!1},E=Object(l.a)(E),t.a=E},1397:
/*!***********************************!*\
  !*** ./services/GatewayConfig.ts ***!
  \***********************************/
/*! exports provided: JadePool, GATEWAY_URI, GATEWAY_QUERY_URI, GATEWAY_ID, CALLBACK_URL */
/*! exports used: GATEWAY_ID, GATEWAY_QUERY_URI, GATEWAY_URI, JadePool */function(e,t,n){"use strict";n.d(t,"d",function(){return a}),n.d(t,"c",function(){return r}),n.d(t,"b",function(){return s}),n.d(t,"a",function(){return o});var a={GATEWAY_ACCOUNT:"cybex-jadegateway",ADDRESS_TYPES:{"JADE.ETH":"ETH","JADE.BTC":"BTC","JADE.LTC":"LTC","JADE.EOS":"EOS","JADE.USDT":"USDT","JADE.LHT":"LHT","JADE.INK":"INK","JADE.BAT":"BAT","JADE.OMG":"OMG","JADE.SNT":"SNT","JADE.NAS":"NAS","JADE.KNC":"KNC","JADE.PAY":"PAY","JADE.GET":"GET","JADE.MAD":"MAD","JADE.TCT":"TCT","JADE.MKR":"MKR","JADE.FUN":"FUN","JADE.VEN":"VEN","JADE.MVP":"MVP","JADE.GNT":"GNT","JADE.NKN":"NKN","JADE.DPY":"DPY","JADE.GNX":"GNX","JADE.KEY":"KEY","JADE.MT":"MT","JADE.ENG":"ENG"},ADDRESS_ASSETS:{ETH:"JADE.ETH",BTC:"JADE.BTC",EOS:"JADE.EOS",USDT:"JADE.USDT",LTC:"JADE.LTC",LHT:"JADE.LHT",BAT:"JADE.BAT",INK:"JADE.INK",OMG:"JADE.OMG",SNT:"JADE.SNT",NAS:"JADE.NAS",KNC:"JADE.KNC",PAY:"JADE.PAY",GET:"JADE.GET",MAD:"JADE.MAD",TCT:"JADE.TCT",MKR:"JADE.MKR",FUN:"JADE.FUN",VEN:"JADE.VEN",MVP:"JADE.MVP",GNT:"JADE.GNT",NKN:"JADE.NKN",DPY:"JADE.DPY",GNX:"JADE.GNX",KEY:"JADE.KEY",MT:"JADE.MT",ENG:"JADE.ENG"}},r="https://gateway.cybex.io/gateway",s="https://gateway-query.cybex.io/",o="CybexGateway"},1399:
/*!***********************************************!*\
  !*** ./actions/GatewayActions.ts + 1 modules ***!
  \***********************************************/
/*! exports provided: DEPOSIT_MODAL_ID, WITHDRAW_MODAL_ID, GatewayActions, default */
/*! exports used: DEPOSIT_MODAL_ID, GatewayActions, WITHDRAW_MODAL_ID, default */
/*! ModuleConcatenation bailout: Cannot concat with ./actions/NotificationActions.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./services/GatewayConfig.ts because of ./components/Account/AccountOverview.tsx */
/*! ModuleConcatenation bailout: Cannot concat with ./services/GatewayService.ts because of ./components/Gateway/WithdrawModal.tsx */
/*! ModuleConcatenation bailout: Cannot concat with ./stores/SettingsStore.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./utils/index.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./alt-instance.js */
/*! ModuleConcatenation bailout: Cannot concat with ./cybex/cybexjs/index.js */
/*! ModuleConcatenation bailout: Cannot concat with ./stores/WalletDb.js (<- Module uses injected variables (Buffer)) */function(e,t,n){"use strict";var a=n(11),r=n(15),s=n(13),o=n(194),i=n(1530),l=n(68),c=n(1397),u=n(2),p=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var d=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.op=t,this.signer=""}return p(e,[{key:"addSigner",value:function(e){this.signer=e}}]),e}();n.d(t,"a",function(){return b}),n.d(t,"c",function(){return g}),n.d(t,"b",function(){return v});var m=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var h=function(e,t,n,a){return new(n||(n=Promise))(function(r,s){function o(e){try{l(a.next(e))}catch(e){s(e)}}function i(e){try{l(a.throw(e))}catch(e){s(e)}}function l(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(o,i)}l((a=a.apply(e,t||[])).next())})},f=Object(o.a)("GatewayActions"),b="DEPOSIT_MODAL_ID",g="WITHDRAW_MODAL_ID",y=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=[],a=!0,s=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(a=(i=l.next()).done);a=!0){var c=i.value,u=r.a.getPrivateKey(c);if(u&&(n.push(u),n.length>=t))break}}catch(e){s=!0,o=e}finally{try{!a&&l.return&&l.return()}finally{if(s)throw o}}return n},_=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return m(e,[{key:"showDepositModal",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:b;return h(this,void 0,void 0,regeneratorRuntime.mark(function a(){var r;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(r=c.d.ADDRESS_TYPES[t]){a.next=3;break}return a.abrupt("return",l.a.error("No suitable asset for "+t+" to be deposited"));case 3:return a.next=5,this.updateDepositAddress(e,r);case 5:if(a.sent){a.next=8;break}return a.abrupt("return");case 8:this.openModal(n);case 9:case"end":return a.stop()}},a,this)}))}},{key:"showWithdrawModal",value:function(e){return h(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(f("Withdraw: ",e),n=c.d.ADDRESS_TYPES[e]){t.next=4;break}return t.abrupt("return",l.a.error("No suitable asset for "+e+" to be withdrawn"));case 4:return t.next=6,this.updateWithdrawInfo(e,n);case 6:if(t.sent){t.next=9;break}return t.abrupt("return");case 9:this.openModal(g);case 10:case"end":return t.stop()}},t,this)}))}},{key:"updateDepositAddress",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return h(this,void 0,void 0,regeneratorRuntime.mark(function a(){var r,s,o;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return r=void 0,f("Update Deposit Address: ",e,t,n),a.prev=2,a.next=5,Object(i.a)(e,t,n);case 5:s=r=a.sent,o=s.address,f("Address: ",o),a.next=15;break;case 10:return a.prev=10,a.t0=a.catch(2),f(a.t0),l.a.error(a.t0.message),a.abrupt("return",!1);case 15:return this.afterUpdateDepositInfo(r),a.abrupt("return",r);case 17:case"end":return a.stop()}},a,this,[[2,10]])}))}},{key:"updateWithdrawInfo",value:function(e,t){return h(this,void 0,void 0,regeneratorRuntime.mark(function n(){var a;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return a=void 0,n.prev=1,n.next=4,Object(i.b)(t);case 4:a=n.sent,f("WithdrawLimit: ",a),n.next=13;break;case 8:return n.prev=8,n.t0=n.catch(1),f(n.t0),l.a.error(n.t0.message),n.abrupt("return",!1);case 13:return this.afterUpdateWithdrawInfo(Object.assign({asset:e},a)),n.abrupt("return",!0);case 15:case"end":return n.stop()}},n,this,[[1,8]])}))}},{key:"queryFundRecords",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:20;return h(this,void 0,void 0,regeneratorRuntime.mark(function r(){var s,o,l,c;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return f("[QueryFundRecord]",e),s=new d({accountName:e.get("name"),offset:n,size:a}),t.accountName===e.get("name")&&t.signer&&s.addSigner(t.signer),r.next=5,Object(i.d)(s);case 5:if(o=r.sent){r.next=15;break}return r.next=9,this.loginGatewayQuery(e);case 9:return l=r.sent,c=l.signer,s.addSigner(c),r.next=14,Object(i.d)(s);case 14:o=r.sent;case 15:o&&this.updateFundRecords(o);case 16:case"end":return r.stop()}},r,this)}))}},{key:"updateFundRecords",value:function(e){return e}},{key:"loginGatewayQuery",value:function(e){return h(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n,a,r,o,l,c,p;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(f("[LoginGatewayQuery]",e),f("[LoginGatewayQuery]",s.b.getSetting("walletLockTimeout")),n=new d({accountName:e.get("name"),expiration:Date.now()+1e3*s.b.getSetting("walletLockTimeout")}),a=u.p.fund_query.fromObject(n.op),e.getIn(["active","weight_threshold"]),r=e.getIn(["active","key_auths"]).filter(function(e){return e.get(1)>=1}).map(function(e){return e.get(0)}).toJS(),o=y(r)[0]){t.next=9;break}throw Error("Privkey Not Found");case 9:return f("[LoginGatewayQuery privKey]",e.getIn(["options","memo_key"]),o),l=u.p.fund_query.toBuffer(a),c=u.k.signBuffer(l,o).toHex(),f("[LoginGatewayQuery Signed]",c),n.addSigner(c),t.next=16,Object(i.c)(n);case 16:return p=t.sent,f("[LoginGatewayQuery LoginRes]",p),p&&this.updateLogin(p),t.abrupt("return",p);case 20:case"end":return t.stop()}},t,this)}))}},{key:"updateLogin",value:function(e){return e}},{key:"afterUpdateWithdrawInfo",value:function(e){return e}},{key:"afterUpdateDepositInfo",value:function(e){return e}},{key:"closeModal",value:function(e){return e}},{key:"openModal",value:function(e){return e}}]),e}(),v=a.a.createActions(_);t.d=v},1400:
/*!*************************************!*\
  !*** ./components/Utility/Tabs.jsx ***!
  \*************************************/
/*! exports provided: Tabs, Tab */
/*! exports used: Tab, Tabs */function(e,t,n){"use strict";n.d(t,"b",function(){return g}),n.d(t,"a",function(){return b});var a=n(/*! react */0),r=n(/*! prop-types */3),s=n(/*! react-translate-component */1),o=n.n(s),i=n(/*! classnames */40),l=n.n(i),c=n(/*! alt-react */25),u=n(/*! actions/SettingsActions */22),p=n(/*! stores/SettingsStore */13),d=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var b=function(e){function t(){return m(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return f(t,a["Component"]),d(t,[{key:"render",value:function(){var e=this.props,t=e.isActive,n=e.index,r=e.changeTab,s=e.title,i=e.className,c=e.disabled,u=l()({"is-active":t},i);return this.props.collapsed?a.createElement("option",{value:n},"string"==typeof s&&s.indexOf(".")>0?a.createElement(o.a,{className:"tab-title",content:s}):a.createElement("span",{className:"tab-title"},s)):a.createElement("li",{className:u,onClick:c?null:r.bind(this,n)},a.createElement("a",null,"string"==typeof s&&s.indexOf(".")>0?a.createElement(o.a,{className:"tab-title",content:s}):a.createElement("span",{className:"tab-title"},s),this.props.subText?a.createElement("div",{className:"tab-subtext"},this.props.subText):null))}}]),t}();b.propTypes={changeTab:r.func,isActive:r.bool.isRequired,index:r.number.isRequired,className:r.string},b.defaultProps={isActive:!1,index:0,className:""};var g=function(e){function t(e){m(this,t);var n=h(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.state={activeTab:e.setting?e.viewSettings.get(e.setting,e.defaultActiveTab):e.defaultActiveTab,width:window.innerWidth},n._setDimensions=n._setDimensions.bind(n),n}return f(t,a["Component"]),d(t,[{key:"componentDidMount",value:function(){this._setDimensions(),window.addEventListener("resize",this._setDimensions,{capture:!1,passive:!0})}},{key:"componentWillReceiveProps",value:function(e){var t=e.viewSettings.get(e.setting);t!==this.props.viewSettings.get(this.props.setting)&&this.setState({activeTab:t})}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._setDimensions)}},{key:"_setDimensions",value:function(){var e=window.innerWidth;e!==this.state.width&&this.setState({width:e})}},{key:"_changeTab",value:function(e){e!==this.state.activeTab&&(this.props.setting&&u.a.changeViewSetting(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},this.props.setting,e)),this.setState({activeTab:e}),this.props.onChangeTab&&this.props.onChangeTab(e))}},{key:"render",value:function(){var e=this,t=this.props,n=t.children,r=t.contentClass,s=t.tabsClass,o=t.style,i=t.segmented,c=this.state.width<900,u=null,p=[],d=a.Children.map(n,function(t,n){if(!t)return null;if(c&&t.props.disabled)return null;var r=n===e.state.activeTab;return r&&(u=t.props.children),a.cloneElement(t,{collapsed:c,isActive:r,changeTab:e._changeTab.bind(e),index:n})}).filter(function(e){return e&&p.push(e.props.index),null!==e});return u||(u=d[0].props.children),a.createElement("div",{className:l()(this.props.actionButtons?"with-buttons":"",this.props.className)},a.createElement("div",{className:"service-selector"},a.createElement("ul",{style:o,className:l()("button-group no-margin",s,{segmented:i})},c?a.createElement("li",{style:{paddingLeft:10,paddingRight:10,minWidth:"15rem"}},a.createElement("select",{value:this.state.activeTab,style:{marginTop:10,marginBottom:10},className:"cyb-select",onChange:function(t){e._changeTab(parseInt(t.target.value,10))}},d)):d,this.props.actionButtons?a.createElement("li",{className:"tabs-action-buttons"},this.props.actionButtons):null)),a.createElement("div",{className:r+" tab-content"},u))}}]),t}();g.propTypes={setting:r.string,defaultActiveTab:r.number,segmented:r.bool},g.defaultProps={active:0,defaultActiveTab:0,segmented:!0,contentClass:"",style:{}},g=Object(c.connect)(g,{listenTo:function(){return[p.b]},getProps:function(){return{viewSettings:p.b.getState().viewSettings}}})},1401:
/*!**************************************************!*\
  !*** ./components/Utility/TransitionWrapper.jsx ***!
  \**************************************************/
/*! exports provided: default */
/*! exports used: default */function(e,t,n){"use strict";var a=n(/*! react */0),r=(n(/*! prop-types */3),n(/*! react-transition-group/CSSTransitionGroup */1550)),s=n.n(r),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var i=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={animateEnter:!1},e.timer=null,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["Component"]),o(t,[{key:"componentDidMount",value:function(){this.enableAnimation()}},{key:"resetAnimation",value:function(){this.setState({animateEnter:!1}),this.enableAnimation()}},{key:"enableAnimation",value:function(){var e=this;this.timer=setTimeout(function(){e.timer&&e.setState({animateEnter:!0})},2e3)}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timer),this.timer=null}},{key:"render",value:function(){return this.props.children?a.createElement(s.a,{className:this.props.className,component:this.props.component,transitionName:this.props.transitionName,transitionEnterTimeout:this.props.enterTimeout,transitionEnter:this.state.animateEnter,transitionLeave:!1},this.props.children):a.createElement(this.props.component)}}]),t}();i.defaultProps={component:"span",enterTimeout:2e3},t.a=i},1527:
/*!***********************************************!*\
  !*** ../node_modules/file-saver/FileSaver.js ***!
  \***********************************************/
/*! no static exports found */
/*! exports used: saveAs */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){var a,r=r||function(e){"use strict";if(!(void 0===e||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var t=function(){return e.URL||e.webkitURL||e},n=e.document.createElementNS("http://www.w3.org/1999/xhtml","a"),a="download"in n,r=/constructor/i.test(e.HTMLElement)||e.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent),o=function(t){(e.setImmediate||e.setTimeout)(function(){throw t},0)},i=function(e){setTimeout(function(){"string"==typeof e?t().revokeObjectURL(e):e.remove()},4e4)},l=function(e){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob([String.fromCharCode(65279),e],{type:e.type}):e},c=function(c,u,p){p||(c=l(c));var d,m=this,h="application/octet-stream"===c.type,f=function(){!function(e,t,n){for(var a=(t=[].concat(t)).length;a--;){var r=e["on"+t[a]];if("function"==typeof r)try{r.call(e,n||e)}catch(e){o(e)}}}(m,"writestart progress write writeend".split(" "))};if(m.readyState=m.INIT,a)return d=t().createObjectURL(c),void setTimeout(function(){var e,t;n.href=d,n.download=u,e=n,t=new MouseEvent("click"),e.dispatchEvent(t),f(),i(d),m.readyState=m.DONE});!function(){if((s||h&&r)&&e.FileReader){var n=new FileReader;return n.onloadend=function(){var t=s?n.result:n.result.replace(/^data:[^;]*;/,"data:attachment/file;");e.open(t,"_blank")||(e.location.href=t),t=void 0,m.readyState=m.DONE,f()},n.readAsDataURL(c),void(m.readyState=m.INIT)}d||(d=t().createObjectURL(c)),h?e.location.href=d:e.open(d,"_blank")||(e.location.href=d);m.readyState=m.DONE,f(),i(d)}()},u=c.prototype;return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(e,t,n){return t=t||e.name||"download",n||(e=l(e)),navigator.msSaveOrOpenBlob(e,t)}:(u.abort=function(){},u.readyState=u.INIT=0,u.WRITING=1,u.DONE=2,u.error=u.onwritestart=u.onprogress=u.onwrite=u.onabort=u.onerror=u.onwriteend=null,function(e,t,n){return new c(e,t||e.name||"download",n)})}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);
/*! @source http://purl.eligrey.com/github/FileSaver.js/blob/master/FileSaver.js */void 0!==e&&e.exports?e.exports.saveAs=r:null!==n(/*! !webpack amd define */826)&&null!==n(/*! !webpack amd options */1534)&&(void 0===(a=function(){return r}.call(t,n,t,e))||(e.exports=a))},1530:
/*!************************************!*\
  !*** ./services/GatewayService.ts ***!
  \************************************/
/*! exports provided: getDepositInfo, getWithdrawInfo, verifyAddress, queryFundRecords, loginQuery, GatewayService */
/*! exports used: getDepositInfo, getWithdrawInfo, loginQuery, queryFundRecords, verifyAddress */function(e,t,n){"use strict";n.d(t,"a",function(){return v}),n.d(t,"b",function(){return E}),n.d(t,"e",function(){return w}),n.d(t,"d",function(){return k}),n.d(t,"c",function(){return O});var a=n(/*! ./GatewayConfig */1397),r=n(/*! utils */194),s=n(/*! graphql-tag */1576),o=n.n(s),i=n(/*! apollo-client */1574),l=n(/*! apollo-link-http */1571),c=n(/*! apollo-cache-inmemory */1573),u=h(["\n    mutation GenNewAddress($accountName: String!, $asset: String!) {\n      newDepositAddress(accountName: $accountName, asset: $asset) {\n        address\n        accountName\n        asset\n        type\n        createAt\n      }\n    }\n  "],["\n    mutation GenNewAddress($accountName: String!, $asset: String!) {\n      newDepositAddress(accountName: $accountName, asset: $asset) {\n        address\n        accountName\n        asset\n        type\n        createAt\n      }\n    }\n  "]),p=h(["\n    query GetAddress($accountName: String!, $asset: String!) {\n      getDepositAddress(accountName: $accountName, asset: $asset) {\n        address\n        accountName\n        asset\n        type\n        createAt\n      }\n    }\n  "],["\n    query GetAddress($accountName: String!, $asset: String!) {\n      getDepositAddress(accountName: $accountName, asset: $asset) {\n        address\n        accountName\n        asset\n        type\n        createAt\n      }\n    }\n  "]),d=h(["\n    query WithdrawInfo($type: String!) {\n      withdrawInfo(type: $type) {\n        fee\n        minValue\n        precision\n        asset\n        type\n        gatewayAccount\n      }\n    }\n  "],["\n    query WithdrawInfo($type: String!) {\n      withdrawInfo(type: $type) {\n        fee\n        minValue\n        precision\n        asset\n        type\n        gatewayAccount\n      }\n    }\n  "]),m=h(["\n    query VerifyAddress(\n      $asset: String!\n      $accountName: String!\n      $address: String!\n    ) {\n      verifyAddress(\n        asset: $asset\n        accountName: $accountName\n        address: $address\n      ) {\n        valid\n        asset\n      }\n    }\n  "],["\n    query VerifyAddress(\n      $asset: String!\n      $accountName: String!\n      $address: String!\n    ) {\n      verifyAddress(\n        asset: $asset\n        accountName: $accountName\n        address: $address\n      ) {\n        valid\n        asset\n      }\n    }\n  "]);function h(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var f=function(e,t,n,a){return new(n||(n=Promise))(function(r,s){function o(e){try{l(a.next(e))}catch(e){s(e)}}function i(e){try{l(a.throw(e))}catch(e){s(e)}}function l(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(o,i)}l((a=a.apply(e,t||[])).next())})},b=Object(r.a)("GatewayService"),g=new Headers;g.append("Content-Type","application/x-www-form-urlencoded");var y=new l.a({uri:a.c}),_=new i.a({link:y,cache:new c.a});function v(e,t,n){return f(this,void 0,void 0,regeneratorRuntime.mark(function a(){var r,s;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(b("Get Deposit: ",e,t,n),r=o()(u),s=o()(p),!n){a.next=9;break}return a.next=6,A("mutate",{mutation:r,variables:{accountName:e,asset:t}},"newDepositAddress");case 6:a.t0=a.sent,a.next=12;break;case 9:return a.next=11,A("query",{query:s,variables:{accountName:e,asset:t}},"getDepositAddress");case 11:a.t0=a.sent;case 12:return a.abrupt("return",a.t0);case 13:case"end":return a.stop()}},a,this)}))}function E(e){return f(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=o()(d),t.next=3,A("query",{query:n,variables:{type:e}},"withdrawInfo");case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}},t,this)}))}function w(e,t,n){return f(this,void 0,void 0,regeneratorRuntime.mark(function a(){var r;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return r=o()(m),a.next=3,A("query",{query:r,variables:{asset:n,accountName:t,address:e}},"verifyAddress");case 3:return a.abrupt("return",a.sent);case 4:case"end":return a.stop()}},a,this)}))}function k(e){return f(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j("records",e).then(function(e){return e.data});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}))}function O(e){return f(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j("login",e).then(function(e){return e.data});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}))}function j(e,t){return f(this,void 0,void 0,regeneratorRuntime.mark(function n(){var r,s;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return(r=new Headers).append("Content-Type","application/json"),s={headers:r,method:"POST",body:JSON.stringify(t)},n.next=5,fetch(""+a.b+e,s).then(function(e){return e.json()}).catch(function(e){return{code:400,error:e.message}});case 5:return n.abrupt("return",n.sent);case 6:case"end":return n.stop()}},n,this)}))}function A(e,t,n){return f(this,void 0,void 0,regeneratorRuntime.mark(function a(){return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,_[e](t);case 3:return a.t0=n,a.abrupt("return",a.sent.data[a.t0]);case 7:throw a.prev=7,a.t1=a.catch(0),console.error("GatewayError: ",a.t1),a.t1;case 11:case"end":return a.stop()}},a,this,[[0,7]])}))}},1531:
/*!*********************************************************!*\
  !*** ./components/Utility/EquivalentValueComponent.jsx ***!
  \*********************************************************/
/*! exports provided: EquivalentValueComponent, BalanceValueComponent */
/*! exports used: BalanceValueComponent, EquivalentValueComponent */function(e,t,n){"use strict";n.d(t,"b",function(){return k}),n.d(t,"a",function(){return O});var a=n(/*! react */0),r=(n(/*! prop-types */3),n(/*! ./FormattedAsset */19)),s=n(/*! ./ChainTypes */21),o=n(/*! ./BindToChainState */24),i=n(/*! common/utils */8),l=n(/*! alt-react */25),c=n(/*! stores/MarketsStore */88),u=n(/*! react-translate-component */1),p=n.n(u),d=n(/*! counterpart */14),m=n.n(d),h=n(/*! react-tooltip */60),f=n.n(h),b=n(/*! ../Utility/EquivalentPrice */301),g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},y=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function E(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var w=function(e){function t(e){return _(this,t),v(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return E(t,b["a"]),y(t,[{key:"componentDidMount",value:function(){f.a.rebuild()}},{key:"shouldComponentUpdate",value:function(e){return function e(t,n,a){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,n,a)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(a):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"shouldComponentUpdate",this).call(this,e)||e.toAsset!==this.props.toAsset||e.fromAsset!==this.props.fromAsset||e.amount!==this.props.amount}},{key:"getValue",value:function(){var e=this.props,t=e.amount,n=e.toAsset,a=e.fromAsset,r=e.fullPrecision,s=e.marketStats,o=e.coreAsset,l=void 0,c=void 0,u=n.get("id"),p=n.get("symbol"),d=a.get("id"),m=a.get("symbol");if(r||(t=i.a.get_asset_amount(t,a)),o&&s){var h=o.get("symbol");l=s.get(p+"_"+h),c=s.get(m+"_"+h)}var f=i.a.convertPrice(c&&c.close?c.close:"1.3.0"===d||a.has("bitasset")?a:null,l&&l.close?l.close:"1.3.0"===u||n.has("bitasset")?n:null,d,u);return f?i.a.convertValue(f,t,a,n):null}},{key:"render",value:function(){var e=this.props,t=e.amount,n=e.toAsset,s=e.fromAsset,o=e.fullPrecision,l=n.get("id");n.get("symbol");o||(t=i.a.get_asset_amount(t,s));var c=this.getValue();return c||0===c?a.createElement(r.a,{hide_asset:this.props.hide_asset,noPrefix:!0,amount:c,asset:l,decimalOffset:0}):a.createElement("div",{className:"tooltip inline-block","data-place":"bottom","data-tip":m.a.translate("tooltip.no_price"),style:{fontSize:"0.9rem"}},a.createElement(p.a,{content:"account.no_price"}))}}]),t}();w.propTypes={toAsset:s.a.ChainAsset.isRequired,fromAsset:s.a.ChainAsset.isRequired,coreAsset:s.a.ChainAsset.isRequired},w.defaultProps={toAsset:"1.3.0",fullPrecision:!0,noDecimals:!1,hide_asset:!1,coreAsset:"1.3.0"},w=Object(o.a)(w,{keep_updating:!0});var k=function(e){function t(){return _(this,t),v(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return E(t,a["Component"]),y(t,[{key:"render",value:function(){var e=this.props,t=e.refCallback,n=function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}(e,["refCallback"]);return a.createElement(w,g({},n,{ref:t}))}}]),t}();k=Object(l.connect)(k,{listenTo:function(){return[c.a]},getProps:function(){return{marketStats:c.a.getState().allMarketStats}}});var O=function(e){function t(){return _(this,t),v(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return E(t,a["Component"]),y(t,[{key:"render",value:function(){var e=this.props.balance,t=!!e.getIn(["balance","amount"]),n=Number(t?e.getIn(["balance","amount"]):e.get("balance")),r=t?e.getIn(["balance","asset_id"]):e.get("asset_type");return isNaN(n)?a.createElement("span",null,"--"):a.createElement(k,{refCallback:this.props.refCallback,hide_asset:this.props.hide_asset,amount:n,fromAsset:r,noDecimals:!0,toAsset:this.props.toAsset})}}]),t}();O.propTypes={balance:s.a.ChainObject.isRequired},O=Object(o.a)(O,{keep_updating:!0})},1534:
/*!******************************************************!*\
  !*** ../node_modules/webpack/buildin/amd-options.js ***!
  \******************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t){(function(t){e.exports=t}).call(this,{})},1536:
/*!***************************************************!*\
  !*** ./components/Account/RecentTransactions.jsx ***!
  \***************************************************/
/*! exports provided: RecentTransactions, TransactionWrapper */
/*! exports used: RecentTransactions, TransactionWrapper */function(e,t,n){"use strict";n.d(t,"a",function(){return C}),n.d(t,"b",function(){return S});var a=n(/*! react */0),r=n(/*! prop-types */3),s=n(/*! react-translate-component */1),o=n.n(s),i=n(/*! file-saver */1527),l=n(/*! ../Blockchain/Operation */302),c=n(/*! ../Utility/ChainTypes */21),u=n(/*! ../Utility/BindToChainState */24),p=n(/*! common/utils */8),d=n(/*! cybexjs */2),m=n(/*! ../Utility/TransitionWrapper */1401),h=n(/*! perfect-scrollbar */1570),f=n.n(h),b=n(/*! counterpart */14),g=n.n(b),y=n(/*! ../Icon/Icon */49),_=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function w(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var k=d.c.operations,O={textAlign:"left"},j={textAlign:"right"};function A(e,t){return t.block_num===e.block_num?t.virtual_op-e.virtual_op:t.block_num-e.block_num}function N(e){return e?'"'+e.textContent.replace(/[\s\t\r\n]/gi," ")+'"':""}var C=function(e){function t(e){v(this,t);var n=E(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.state={limit:e.limit||20,csvExport:!1,headerHeight:85,filter:"all"},n}return w(t,a["Component"]),_(t,[{key:"componentDidMount",value:function(){if(!this.props.fullHeight){var e=this.refs.transactions;f.a.initialize(e),this._setHeaderHeight()}}},{key:"_setHeaderHeight",value:function(){var e=this.refs.header.offsetHeight;e!==this.state.headerHeight&&this.setState({headerHeight:e})}},{key:"shouldComponentUpdate",value:function(e,t){if(!p.a.are_equal_shallow(this.props.accountsList,e.accountsList))return!0;if(this.props.maxHeight!==e.maxHeight)return!0;if(this.state.headerHeight!==t.headerHeight)return!0;if(this.state.filter!==t.filter)return!0;if(this.props.customFilter&&(!p.a.are_equal_shallow(this.props.customFilter.fields,e.customFilter.fields)||!p.a.are_equal_shallow(this.props.customFilter.values,e.customFilter.values)))return!0;if(this.props.maxHeight!==e.maxHeight)return!0;if(t.limit!==this.state.limit||t.csvExport!==this.state.csvExport)return!0;for(var n=0;n<e.accountsList.length;++n){var a=e.accountsList[n],r=this.props.accountsList[n];if(a&&r&&a.get("history")!==r.get("history"))return!0}return!1}},{key:"componentDidUpdate",value:function(){if(this.state.csvExport){this.state.csvExport=!1;var e=document.getElementById("csv_export_container").childNodes,t="",n=!0,a=!1,r=void 0;try{for(var s,o=e[Symbol.iterator]();!(n=(s=o.next()).done);n=!0){var l=s.value.childNodes;""!==t&&(t+="\n"),t+=[N(l[0]),N(l[1]),N(l[2]),N(l[3])].join(",")}}catch(e){a=!0,r=e}finally{try{!n&&o.return&&o.return()}finally{if(a)throw r}}var c=new Blob([t],{type:"text/csv;charset=utf-8"}),u=new Date;Object(i.saveAs)(c,"cybhist-"+u.getFullYear()+"-"+("0"+(u.getMonth()+1)).slice(-2)+"-"+("0"+u.getDate()).slice(-2)+"-"+("0"+u.getHours()).slice(-2)+("0"+u.getMinutes()).slice(-2)+".csv")}if(!this.props.fullHeight){var p=this.refs.transactions;f.a.update(p),this._setHeaderHeight()}}},{key:"_onIncreaseLimit",value:function(){this.setState({limit:this.state.limit+30})}},{key:"_getHistory",value:function(e,t,n){var a=[],r=new Set,s=!0,o=!1,i=void 0;try{for(var l,c=e[Symbol.iterator]();!(s=(l=c.next()).done);s=!0){var u=l.value;if(u){var p=u.get("history");p&&(a=a.concat(p.toJS().filter(function(e){return!r.has(e.id)&&r.add(e.id)})))}}}catch(e){o=!0,i=e}finally{try{!s&&c.return&&c.return()}finally{if(o)throw i}}return t&&(a=a.filter(function(e){return e.op[0]===k[t]})),n&&(a=a.filter(function(e){return n.fields.reduce(function(t,a){switch(a){case"asset_id":return t&&e.op[1].amount[a]===n.values[a];default:return t&&e.op[1][a]===n.values[a]}},!0)})),a}},{key:"_downloadCSV",value:function(){this.setState({csvExport:!0})}},{key:"_onChangeFilter",value:function(e){this.setState({filter:e.target.value})}},{key:"render",value:function(){var e=this.props,t=e.accountsList,n=e.compactView,r=e.filter,s=e.customFilter,i=e.style,c=e.maxHeight,u=this.state,p=u.limit,d=u.headerHeight,h=1===t.length&&t[0]?t[0].get("id"):null,f=this._getHistory(t,this.props.showFilters&&"all"!==this.state.filter?this.state.filter:r,s).sort(A),b=f.length;i=i||{};var _=null;_=["all","transfer","limit_order_create","limit_order_cancel","fill_order","account_create","account_update","asset_create","witness_withdraw_pay","vesting_balance_withdraw"].map(function(e){return a.createElement("option",{value:e,key:e},g.a.translate("transaction.trxTypes."+e))});var v=f.length?f.slice(0,p).map(function(e){return a.createElement(l.a,{style:O,key:e.id,op:e.op,result:e.result,block:e.block_num,current:h,hideFee:!0,inverted:!1,hideOpLabel:n})}):[a.createElement("tr",{key:"no_recent"},a.createElement("td",{colSpan:n?"2":"3"},a.createElement(o.a,{content:"operation.no_recent"})))];return v.push(a.createElement("tr",{className:"total-value",key:"total_value"},a.createElement("td",{className:"column-hide-tiny"}),a.createElement("td",{style:j},b>0?a.createElement("span",null,a.createElement("a",{className:"inline-block",onClick:this._downloadCSV.bind(this),"data-tip":g.a.translate("transaction.csv_tip"),"data-place":"bottom"},a.createElement(y.a,{name:"excel",className:"icon-14px"}))):null),a.createElement("td",{style:{textAlign:"center"}}," ",this.props.showMore&&b>this.props.limit||p<b?a.createElement("a",{onClick:this._onIncreaseLimit.bind(this)},a.createElement(y.a,{name:"chevron-down",className:"icon-14px"})):null))),a.createElement("div",{className:"recent-transactions no-overflow",style:i},a.createElement("div",{className:"generic-bordered-box"},this.props.dashboard?null:a.createElement("div",{ref:"header"},a.createElement("div",{className:"block-content-header"},a.createElement("span",null,this.props.title?this.props.title:a.createElement(o.a,{content:"account.recent"})))),a.createElement("div",{className:"box-content grid-block no-margin",style:this.props.fullHeight?null:{maxHeight:c-d},ref:"transactions"},a.createElement("table",{className:"table"+(n?" compact":"")+(this.props.dashboard?" dashboard-table":"")},a.createElement("thead",null,a.createElement("tr",null,n?null:a.createElement("th",{style:O,className:"column-hide-tiny"},this.props.showFilters?a.createElement("select",{"data-place":"left","data-tip":g.a.translate("tooltip.filter_ops"),style:{paddingTop:5,width:"auto"},className:"cyb-select no-margin",value:this.state.filter,onChange:this._onChangeFilter.bind(this)},_):null),a.createElement("th",{style:O},a.createElement(o.a,{content:"account.votes.info"})),a.createElement("th",null))),a.createElement(m.a,{component:"tbody",transitionName:"newrow"},v))),b>0&&this.state.csvExport&&a.createElement("div",{id:"csv_export_container",style:{display:"none"}},a.createElement("div",null,a.createElement("div",null,"DATE"),a.createElement("div",null,"OPERATION"),a.createElement("div",null,"MEMO"),a.createElement("div",null,"AMOUNT")),f.map(function(e){return a.createElement(l.a,{key:e.id,op:e.op,result:e.result,block:e.block_num,inverted:!1,csvExportMode:!0})}))))}}]),t}();C.propTypes={accountsList:c.a.ChainAccountsList.isRequired,compactView:r.bool,limit:r.number,maxHeight:r.number,fullHeight:r.bool,showFilters:r.bool},C.defaultProps={limit:25,maxHeight:500,fullHeight:!1,showFilters:!1},C=Object(u.a)(C,{keep_updating:!0});var S=function(e){function t(){return v(this,t),E(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return w(t,a["Component"]),_(t,[{key:"render",value:function(){return a.createElement("span",{className:"wrapper"},this.props.children(this.props))}}]),t}();S.propTypes={asset:c.a.ChainAsset.isRequired,to:c.a.ChainAccount.isRequired,fromAccount:c.a.ChainAccount.isRequired},S.defaultProps={asset:"1.3.0"},S=Object(u.a)(S)},1546:
/*!******************************************!*\
  !*** ./components/Utility/PriceText.jsx ***!
  \******************************************/
/*! exports provided: default */
/*! exports used: default */function(e,t,n){"use strict";var a=n(/*! react */0),r=n(/*! common/utils */8),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var o=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["Component"]),s(t,[{key:"render",value:function(){var e=this.props,t=e.price,n=e.preFormattedPrice,s=e.quote,o=e.base,i=(e.component,e.precision),l=n||r.a.price_to_text(t,s,o,i);return l.full>=1?a.createElement("span",null,a.createElement("span",{className:"price-integer"},l.int,"."),l.dec?a.createElement("span",{className:"price-integer"},l.dec):null,l.trailing?a.createElement("span",{className:"price-decimal"},l.trailing):null):l.full>=.1?a.createElement("span",null,a.createElement("span",{className:"price-decimal"},l.int,"."),l.dec?a.createElement("span",{className:"price-integer"},l.dec):null,l.trailing?a.createElement("span",{className:"price-decimal"},l.trailing):null):a.createElement("span",null,a.createElement("span",{className:"price-decimal"},l.int,"."),l.dec?a.createElement("span",{className:"price-decimal"},l.dec):null,l.trailing?a.createElement("span",{className:"price-integer"},l.trailing):null)}}]),t}();t.a=o},1566:
/*!***************************************************!*\
  !*** ../node_modules/moment/locale sync ^\.\/.*$ ***!
  \***************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){var a={"./af":1521,"./af.js":1521,"./ar":1520,"./ar-dz":1519,"./ar-dz.js":1519,"./ar-kw":1518,"./ar-kw.js":1518,"./ar-ly":1517,"./ar-ly.js":1517,"./ar-ma":1516,"./ar-ma.js":1516,"./ar-sa":1515,"./ar-sa.js":1515,"./ar-tn":1514,"./ar-tn.js":1514,"./ar.js":1520,"./az":1513,"./az.js":1513,"./be":1512,"./be.js":1512,"./bg":1511,"./bg.js":1511,"./bm":1510,"./bm.js":1510,"./bn":1509,"./bn.js":1509,"./bo":1508,"./bo.js":1508,"./br":1507,"./br.js":1507,"./bs":1506,"./bs.js":1506,"./ca":1505,"./ca.js":1505,"./cs":1504,"./cs.js":1504,"./cv":1503,"./cv.js":1503,"./cy":1502,"./cy.js":1502,"./da":1501,"./da.js":1501,"./de":1500,"./de-at":1499,"./de-at.js":1499,"./de-ch":1498,"./de-ch.js":1498,"./de.js":1500,"./dv":1497,"./dv.js":1497,"./el":1496,"./el.js":1496,"./en-au":1495,"./en-au.js":1495,"./en-ca":1494,"./en-ca.js":1494,"./en-gb":1493,"./en-gb.js":1493,"./en-ie":1492,"./en-ie.js":1492,"./en-nz":1491,"./en-nz.js":1491,"./eo":1490,"./eo.js":1490,"./es":1489,"./es-do":1488,"./es-do.js":1488,"./es-us":1487,"./es-us.js":1487,"./es.js":1489,"./et":1486,"./et.js":1486,"./eu":1485,"./eu.js":1485,"./fa":1484,"./fa.js":1484,"./fi":1483,"./fi.js":1483,"./fo":1482,"./fo.js":1482,"./fr":1481,"./fr-ca":1480,"./fr-ca.js":1480,"./fr-ch":1479,"./fr-ch.js":1479,"./fr.js":1481,"./fy":1478,"./fy.js":1478,"./gd":1477,"./gd.js":1477,"./gl":1476,"./gl.js":1476,"./gom-latn":1475,"./gom-latn.js":1475,"./gu":1474,"./gu.js":1474,"./he":1473,"./he.js":1473,"./hi":1472,"./hi.js":1472,"./hr":1471,"./hr.js":1471,"./hu":1470,"./hu.js":1470,"./hy-am":1469,"./hy-am.js":1469,"./id":1468,"./id.js":1468,"./is":1467,"./is.js":1467,"./it":1466,"./it.js":1466,"./ja":1465,"./ja.js":1465,"./jv":1464,"./jv.js":1464,"./ka":1463,"./ka.js":1463,"./kk":1462,"./kk.js":1462,"./km":1461,"./km.js":1461,"./kn":1460,"./kn.js":1460,"./ko":1459,"./ko.js":1459,"./ky":1458,"./ky.js":1458,"./lb":1457,"./lb.js":1457,"./lo":1456,"./lo.js":1456,"./lt":1455,"./lt.js":1455,"./lv":1454,"./lv.js":1454,"./me":1453,"./me.js":1453,"./mi":1452,"./mi.js":1452,"./mk":1451,"./mk.js":1451,"./ml":1450,"./ml.js":1450,"./mr":1449,"./mr.js":1449,"./ms":1448,"./ms-my":1447,"./ms-my.js":1447,"./ms.js":1448,"./my":1446,"./my.js":1446,"./nb":1445,"./nb.js":1445,"./ne":1444,"./ne.js":1444,"./nl":1443,"./nl-be":1442,"./nl-be.js":1442,"./nl.js":1443,"./nn":1441,"./nn.js":1441,"./pa-in":1440,"./pa-in.js":1440,"./pl":1439,"./pl.js":1439,"./pt":1438,"./pt-br":1437,"./pt-br.js":1437,"./pt.js":1438,"./ro":1436,"./ro.js":1436,"./ru":1435,"./ru.js":1435,"./sd":1434,"./sd.js":1434,"./se":1433,"./se.js":1433,"./si":1432,"./si.js":1432,"./sk":1431,"./sk.js":1431,"./sl":1430,"./sl.js":1430,"./sq":1429,"./sq.js":1429,"./sr":1428,"./sr-cyrl":1427,"./sr-cyrl.js":1427,"./sr.js":1428,"./ss":1426,"./ss.js":1426,"./sv":1425,"./sv.js":1425,"./sw":1424,"./sw.js":1424,"./ta":1423,"./ta.js":1423,"./te":1422,"./te.js":1422,"./tet":1421,"./tet.js":1421,"./th":1420,"./th.js":1420,"./tl-ph":1419,"./tl-ph.js":1419,"./tlh":1418,"./tlh.js":1418,"./tr":1417,"./tr.js":1417,"./tzl":1416,"./tzl.js":1416,"./tzm":1415,"./tzm-latn":1414,"./tzm-latn.js":1414,"./tzm.js":1415,"./uk":1413,"./uk.js":1413,"./ur":1412,"./ur.js":1412,"./uz":1411,"./uz-latn":1410,"./uz-latn.js":1410,"./uz.js":1411,"./vi":1409,"./vi.js":1409,"./x-pseudo":1408,"./x-pseudo.js":1408,"./yo":1407,"./yo.js":1407,"./zh-cn":1406,"./zh-cn.js":1406,"./zh-hk":1405,"./zh-hk.js":1405,"./zh-tw":1404,"./zh-tw.js":1404};function r(e){var t=s(e);return n(t)}function s(e){var t=a[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}r.keys=function(){return Object.keys(a)},r.resolve=s,e.exports=r,r.id=1566},1567:
/*!*****************************************!*\
  !*** ./components/Forms/MyAccounts.jsx ***!
  \*****************************************/
/*! exports provided: default */
/*! exports used: default */function(e,t,n){"use strict";var a=n(/*! react */0),r=n(/*! prop-types */3),s=n(/*! stores/AccountStore */28),o=n(/*! components/Utility/ChainTypes */21),i=n(/*! components/Forms/AccountSelect */300),l=n(/*! components/Utility/BindToChainState */24),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["Component"]),c(t,[{key:"render",value:function(){var e=this.props.accounts.filter(function(e){return!!e}).filter(function(e){return s.a.isMyAccount(e)}).map(function(e){return e.get("name")}).sort();this.props.className;return a.createElement(i.a,{className:!0,onChange:this.onAccountSelect.bind(this),account_names:e,center:!0})}},{key:"onAccountSelect",value:function(e){this.props.onChange(e)}}]),t}();u.propTypes={accounts:o.a.ChainAccountsList.isRequired,onChange:r.func.isRequired},t.a=Object(l.a)(u,{keep_updating:!0})},1591:
/*!**********************************************!*\
  !*** ./components/Exchange/MyOpenOrders.tsx ***!
  \**********************************************/
/*! exports provided: OrderRow, TableHeader, MyOpenOrders */
/*! exports used: MyOpenOrders, OrderRow, TableHeader */function(e,t,n){"use strict";n.d(t,"b",function(){return O}),n.d(t,"c",function(){return k}),n.d(t,"a",function(){return j});var a=n(/*! react */0),r=n(/*! prop-types */3),s=n(/*! react-router */5),o=n(/*! react-intl */69),i=n(/*! common/utils */8),l=n(/*! react-translate-component */1),c=n.n(l),u=n(/*! ../Utility/PriceText */1546),p=n(/*! ../Utility/TransitionWrapper */1401),d=n(/*! ../Utility/AssetName */70),m=n(/*! ../Icon/Icon */49),h=n(/*! cybexjs */2),f=n(/*! common/MarketClasses */33),b=n(/*! ../Utility/EquivalentValueComponent */1531),g=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function E(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var w={textAlign:"right"},k=function(e){function t(){return _(this,t),v(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return E(t,a["Component"]),g(t,[{key:"render",value:function(){var e=this.props,t=e.baseSymbol,n=e.quoteSymbol,r=e.dashboard,s=e.isMyAccount,o=e.settings,i=o?o.get("unit"):"1.3.0";return r?a.createElement("thead",null,a.createElement("tr",null,a.createElement("th",null,a.createElement(c.a,{content:"account.cyb_market"})),a.createElement("th",{style:w},a.createElement(c.a,{content:"exchange.price"})),a.createElement("th",{style:w},a.createElement(c.a,{content:"account.qty"})),a.createElement("th",{style:w},a.createElement(c.a,{content:"exchange.total"})),a.createElement("th",{style:w},a.createElement(c.a,{content:"exchange.order_value"})," (",a.createElement(d.a,{name:i}),")"),a.createElement("th",null,a.createElement(c.a,{content:"account.trade"})),s?a.createElement("th",null,a.createElement(c.a,{content:"wallet.cancel"})):null)):a.createElement("thead",null,a.createElement("tr",null,a.createElement("th",{className:"text-right"},a.createElement(c.a,{className:"header-sub-title",content:"exchange.price"})),a.createElement("th",{className:"text-right"},t?a.createElement("span",{className:"header-sub-title"},a.createElement(d.a,{dataPlace:"top",name:n})):null),a.createElement("th",{className:"text-right"},t?a.createElement("span",{className:"header-sub-title"},a.createElement(d.a,{dataPlace:"top",name:t})):null),a.createElement("th",{className:"text-right",style:{width:"28%"}},a.createElement(c.a,{className:"header-sub-title",content:"transaction.expiration"})),a.createElement("th",{style:{whiteSpace:"nowrap"}},a.createElement(c.a,{content:"wallet.cancel"}))))}}]),t}();k.defaultProps={quoteSymbol:null,baseSymbol:null};var O=function(e){function t(){return _(this,t),v(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return E(t,a["Component"]),g(t,[{key:"shouldComponentUpdate",value:function(e){return e.order.for_sale!==this.props.order.for_sale||e.order.id!==this.props.order.id||e.isMyAccount!==this.props.isMyAccount||e.quote!==this.props.quote||e.base!==this.props.base||e.order.market_base!==this.props.order.market_base}},{key:"render",value:function(){var e=this.props,t=e.base,n=e.quote,r=e.order,l=e.showSymbols,c=e.dashboard,p=e.isMyAccount,h=e.settings,f=r.isBid(),g=r.isCall(),y=(g?"orderHistoryCall":f?"orderHistoryBid":"orderHistoryAsk")+" text-right",_=l?a.createElement("span",null," "+t.get("symbol")+"/"+n.get("symbol")):null,v=l?" "+t.get("symbol"):null,E=l?" "+n.get("symbol"):null,k=h?h.get("unit"):"1.3.0";return c?a.createElement("tr",{key:r.id},a.createElement("td",{style:{textAlign:"center",paddingLeft:0,borderRight:"none"}},a.createElement(s.b,{to:"/asset/"+n.get("symbol")},a.createElement(d.a,{noTip:!0,name:n.get("symbol")})),"/",a.createElement(s.b,{to:"/asset/"+t.get("symbol")},a.createElement(d.a,{noTip:!0,name:t.get("symbol")}))),a.createElement("td",{className:y,style:w},a.createElement(u.a,{price:r.getPrice(),base:t,quote:n}),_),a.createElement("td",{style:w},i.a.format_number(r[f?"amountToReceive":"amountForSale"]().getAmount({real:!0}),n.get("precision"))," ",E),a.createElement("td",{style:w},i.a.format_number(r[f?"amountForSale":"amountToReceive"]().getAmount({real:!0}),t.get("precision"))," ",v),a.createElement("td",{className:"text-right"},a.createElement(b.b,{hide_asset:!0,amount:r.amountForSale().getAmount(),fromAsset:r.amountForSale().asset_id,noDecimals:!0,toAsset:k})),a.createElement("td",null,a.createElement(s.b,{to:"/market/"+n.get("symbol")+"_"+t.get("symbol")},a.createElement(m.a,{name:"trade",className:"icon-14px"}))),p?a.createElement("td",{className:"text-center",style:{padding:"2px 5px"}},g?null:a.createElement("a",{style:{marginRight:0},className:"order-cancel",onClick:this.props.onCancel},a.createElement(m.a,{name:"cross-circle",className:"icon-14px"}))):null):a.createElement("tr",{key:r.id},a.createElement("td",{className:y,style:{paddingLeft:10}},a.createElement(u.a,{price:r.getPrice(),base:t,quote:n}),_),a.createElement("td",{className:"text-right"},i.a.format_number(r[f?"amountToReceive":"amountForSale"]().getAmount({real:!0}),n.get("precision"))," ",E),a.createElement("td",{className:"text-right"},i.a.format_number(r[f?"amountForSale":"amountToReceive"]().getAmount({real:!0}),t.get("precision"))," ",v),a.createElement("td",{className:"text-right",style:{width:"28%"}},g?null:a.createElement(o.a,{value:r.expiration,format:"short"})),a.createElement("td",{className:"text-center",style:{padding:"2px 5px"}},g?null:a.createElement("a",{style:{marginRight:0},className:"order-cancel",onClick:this.props.onCancel},a.createElement(m.a,{name:"cross-circle",className:"icon-14px"}))))}}]),t}();O.defaultProps={showSymbols:!1};var j=function(e){function t(e){_(this,t);var n=v(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._getOrders=n._getOrders.bind(n),n}return E(t,a["Component"]),g(t,[{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(){}},{key:"_getOrders",value:function(){var e,t=this,n=this.props,a=n.currentAccount,r=n.base,s=n.quote,o=a.get("orders"),i=a.get("call_orders"),l=r.get("id"),c=s.get("id"),u=(y(e={},r.get("id"),{precision:r.get("precision")}),y(e,s.get("id"),{precision:s.get("precision")}),e),p=o.toArray().map(function(e){var t=h.b.getObject(e);if(!t)return null;var n=t.getIn(["sell_price","base","asset_id"]),a=t.getIn(["sell_price","quote","asset_id"]);return n===l&&a===c||n===c&&a===l?new f.d(t.toJS(),u,s.get("id")):void 0}).filter(function(e){return!!e}),d=i.toArray().map(function(e){var n=h.b.getObject(e);if(!n)return null;var a=n.getIn(["call_price","base","asset_id"]),r=n.getIn(["call_price","quote","asset_id"]);return a===l&&r===c||a===c&&r===l?t.props.feedPrice?new f.b(n.toJS(),u,s.get("id"),t.props.feedPrice):null:void 0}).filter(function(e){return!!e}).filter(function(e){return e.isMarginCalled()});return p.concat(d)}},{key:"render",value:function(){var e=this,t=this.props,n=t.base,r=t.quote,s=t.quoteSymbol,o=t.baseSymbol;if(!n||!r)return null;var i=this._getOrders(),l=a.createElement("tr",null,a.createElement("td",{style:{textAlign:"center"},colSpan:5},a.createElement(c.a,{content:"account.no_orders"}))),u=i.filter(function(e){return e.isBid()}).sort(function(e,t){return t.getPrice()-e.getPrice()}).map(function(t){var s=t.getPrice();return a.createElement(O,{price:s,key:t.id,order:t,base:n,quote:r,onCancel:e.props.onCancel.bind(e,t.id)})}),d=i.filter(function(e){return!e.isBid()}).sort(function(e,t){return e.getPrice()-t.getPrice()}).map(function(t){var s=t.getPrice();return a.createElement(O,{price:s,key:t.id,order:t,base:n,quote:r,onCancel:e.props.onCancel.bind(e,t.id)})}),m=[];return d.length&&(m=m.concat(d)),u.length&&(m=m.concat(u)),m.sort(function(e,t){return e.props.price-t.props.price}),a.createElement(a.Fragment,null,a.createElement("div",{className:"exchange-content-header"},a.createElement(c.a,{content:"exchange.my_orders"})),a.createElement("table",{className:"table order-table table-hover"},a.createElement(k,{type:"sell",baseSymbol:o,quoteSymbol:s})),a.createElement("div",{className:"grid-block no-padding market-right-padding _scroll-bar",ref:"asks",style:{overflow:"auto",maxHeight:720}},a.createElement("table",{style:{paddingBottom:5},className:"table order-table table-hover"},a.createElement(p.a,{component:"tbody",transitionName:"newrow"},m.length?m:l))))}}]),t}();j.defaultProps={base:{},quote:{},orders:{},quoteSymbol:"",baseSymbol:""},j.propTypes={base:r.object.isRequired,quote:r.object.isRequired,orders:r.object.isRequired,quoteSymbol:r.string.isRequired,baseSymbol:r.string.isRequired}},1600:
/*!******************************************!*\
  !*** ./components/Modal/BorrowModal.jsx ***!
  \******************************************/
/*! exports provided: default */
/*! exports used: default */function(e,t,n){"use strict";var a=n(/*! react */0),r=n(/*! prop-types */3),s=n(/*! lodash */27),o=n(/*! react-foundation-apps/src/utils/foundation-api */35),i=n.n(o),l=n(/*! ./BaseModal */109),c=n(/*! react-foundation-apps/src/trigger */81),u=n(/*! react-translate-component */1),p=n.n(u),d=n(/*! ../Utility/ChainTypes */21),m=n(/*! ../Utility/BindToChainState */24),h=n(/*! ../Utility/FormattedAsset */19),f=n(/*! common/utils */8),b=n(/*! classnames */40),g=n.n(b),y=n(/*! ../Utility/AmountSelector */1395),_=n(/*! ../Utility/BalanceComponent */1392),v=n(/*! api/WalletApi */136),E=n(/*! stores/WalletDb */15),w=n(/*! ../Utility/FormattedPrice */76),k=n(/*! counterpart */14),O=n.n(k),j=n(/*! ../Utility/HelpContent */297),A=n(/*! immutable */7),N=n.n(A),C=n(/*! cybexjs */2),S=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function x(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function P(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function T(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var D=function(e){function t(e){x(this,t);var n=P(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.state=n._initialState(e),n}return T(t,a["Component"]),S(t,[{key:"_initialState",value:function(e){var t=e?this._getCurrentPosition(e):{};if(t.collateral){var n=f.a.get_asset_amount(t.debt,e.quote_asset),a=f.a.get_asset_amount(t.collateral,e.backing_asset);return{short_amount:n?n.toString():null,collateral:a?a.toString():null,collateral_ratio:this._getCollateralRatio(n,a),errors:this._getInitialErrors(),isValid:!1,original_position:{debt:n,collateral:a}}}return{short_amount:0,collateral:0,collateral_ratio:this._getInitialCollateralRatio(e),errors:this._getInitialErrors(),isValid:!1,original_position:{debt:0,collateral:0}}}},{key:"componentDidMount",value:function(){var e=this._initialState(this.props);this.setState(e),this._setUpdatedPosition(e)}},{key:"shouldComponentUpdate",value:function(e,t){return!(f.a.are_equal_shallow(t,this.state)&&N.a.is(e.quote_asset,this.props.quote_asset)&&!e.backing_asset.get("symbol")!==this.props.backing_asset.get("symbol")&&N.a.is(e.account,this.props.account)&&N.a.is(e.call_orders,this.props.call_orders))}},{key:"componentWillReceiveProps",value:function(e){e.account===this.props.account&&e.hasCallOrders===this.props.hasCallOrders&&e.quote_asset.get("id")===this.props.quote_asset.get("id")||this.setState(this._initialState(e))}},{key:"_getInitialErrors",value:function(){return{collateral_balance:null,ratio_too_high:null}}},{key:"confirmClicked",value:function(e){e.preventDefault(),i.a.publish(this.props.modalId,"close")}},{key:"_onBorrowChange",value:function(e){var t=this._getFeedPrice(),n=e.amount.replace(/,/g,""),a={short_amount:n,collateral:(this.state.collateral_ratio*(n/t)).toFixed(this.props.backing_asset.get("precision")),collateral_ratio:this.state.collateral_ratio};this.setState(a),this._validateFields(a),this._setUpdatedPosition(a)}},{key:"_onCollateralChange",value:function(e){var t=e.amount.replace(/,/g,""),n=this._getFeedPrice(),a=t/(this.state.short_amount/n),r=this._isPredictionMarket(this.props)?{short_amount:t,collateral:t,collateral_ratio:1}:{short_amount:this.state.short_amount,collateral:t,collateral_ratio:Object(s.isFinite)(a)?a:this._getInitialCollateralRatio(this.props)};this.setState(r),this._validateFields(r),this._setUpdatedPosition(r)}},{key:"_onRatioChange",value:function(e){var t=this._getFeedPrice(),n=e.target.value,a={short_amount:this.state.short_amount,collateral:(this.state.short_amount/t*n).toFixed(this.props.backing_asset.get("precision")),collateral_ratio:n};this.setState(a),this._validateFields(a),this._setUpdatedPosition(a)}},{key:"_setUpdatedPosition",value:function(e){this.setState({newPosition:parseFloat(e.short_amount)/parseFloat(e.collateral)})}},{key:"_validateFields",value:function(e){var t=this._getInitialErrors(),n=this.state.original_position,a=this.props.backing_balance?this.props.backing_balance.toJS():{balance:0};parseFloat(e.collateral)-n.collateral>f.a.get_asset_amount(a.balance,this.props.backing_asset.toJS())&&(t.collateral_balance=O.a.translate("borrow.errors.collateral"));var r=e.short_amount>=0&&e.collateral>=0&&(e.short_amount!=n.debt||e.collateral!=n.collateral),s=this.props.quote_asset.getIn(["bitasset","current_feed","maintenance_collateral_ratio"])/1e3;parseFloat(e.collateral_ratio)<(this._isPredictionMarket(this.props)?1:s)?(t.below_maintenance=O.a.translate("borrow.errors.below",{mr:s}),r=!1):parseFloat(e.collateral_ratio)<(this._isPredictionMarket(this.props)?1:s+.5)&&(t.close_maintenance=O.a.translate("borrow.errors.close",{mr:s}),r=!0),this.setState({errors:t,isValid:r})}},{key:"_onSubmit",value:function(e){e.preventDefault();var t=f.a.get_asset_precision(this.props.quote_asset.get("precision")),n=f.a.get_asset_precision(this.props.backing_asset.get("precision")),a=this._getCurrentPosition(this.props),r=v.a.new_transaction();r.add_type_operation("call_order_update",{fee:{amount:0,asset_id:0},funding_account:this.props.account.get("id"),delta_collateral:{amount:parseInt(this.state.collateral*n-a.collateral,10),asset_id:this.props.backing_asset.get("id")},delta_debt:{amount:parseInt(this.state.short_amount*t-a.debt,10),asset_id:this.props.quote_asset.get("id")}}),E.a.process_transaction(r,null,!0).catch(function(e){}),i.a.publish(this.props.modalId,"close")}},{key:"_getCurrentPosition",value:function(e){var t={collateral:null,debt:null};if(e&&e.hasCallOrders&&e.call_orders)for(var n in e.call_orders)e.call_orders.hasOwnProperty(n)&&e.call_orders[n]&&e.quote_asset.get("id")===e.call_orders[n].getIn(["call_price","quote","asset_id"])&&(t=e.call_orders[n].toJS());return t}},{key:"_getFeedPrice",value:function(){return this.props?this._isPredictionMarket(this.props)?1:1/f.a.get_asset_price(this.props.quote_asset.getIn(["bitasset","current_feed","settlement_price","quote","amount"]),this.props.backing_asset,this.props.quote_asset.getIn(["bitasset","current_feed","settlement_price","base","amount"]),this.props.quote_asset):1}},{key:"_getInitialCollateralRatio",value:function(e){return this._isPredictionMarket(e)?1:0}},{key:"_getCollateralRatio",value:function(e,t){return t/(e/this._getFeedPrice())}},{key:"_isPredictionMarket",value:function(e){return e.quote_asset.getIn(["bitasset","is_prediction_market"])}},{key:"render",value:function(){var e=this,t=this.props,n=t.quote_asset,r=t.bitasset_balance,s=t.backing_asset,o=t.backing_balance,i=this.state,l=i.short_amount,u=i.collateral,d=i.collateral_ratio,m=i.errors,b=i.isValid,v=f.a.get_asset_precision(this.props.quote_asset.get("precision")),E=f.a.get_asset_precision(this.props.backing_asset.get("precision"));d&&!isNaN(d)&&d>0&&d<1e3||(d=0),r=r?r.toJS():{balance:0,id:null},o=o?o.toJS():{balance:0,id:null};var k=g()("form-group",{"has-error":m.collateral_balance}),O=g()("form-group",{"has-error":m.below_maintenance},{"has-warning":m.close_maintenance}),A=g()("button",{disabled:m.collateral_balance||!b},{success:b}),N=this._getCurrentPosition(this.props),S=o.id?C.b.getObject(o.id):null,x=(S?S.get("balance"):0)-parseInt(this.state.collateral*E-N.collateral,10),P=a.createElement("span",null,a.createElement(p.a,{component:"span",content:"transfer.available"}),":"," ",r.id?a.createElement(_.a,{balance:r.id}):a.createElement(h.a,{amount:0,asset:n.get("id")})),T=a.createElement("span",null,a.createElement(p.a,{component:"span",content:"transfer.available"}),":"," ",o.id?a.createElement(h.a,{amount:x,asset:s.get("id")}):a.createElement(h.a,{amount:0,asset:s.get("id")})),D=this._getFeedPrice(),q=this.props.quote_asset.getIn(["bitasset","current_feed","maintenance_collateral_ratio"])/1e3,R=(this.props.quote_asset.getIn(["bitasset","current_feed","maximum_short_squeeze_ratio"]),this._isPredictionMarket(this.props));return!R&&isNaN(D)?a.createElement("div",null,a.createElement("form",{className:"grid-container text-center no-overflow",noValidate:!0},a.createElement(p.a,{component:"h3",content:"borrow.no_valid",asset_symbol:n.get("symbol")})),a.createElement("div",{className:"grid-content button-group text-center no-overflow"},a.createElement(c.a,{close:this.props.modalId},a.createElement("div",{className:" button warning"},a.createElement(p.a,{content:"account.perm.cancel"}))))):a.createElement("div",null,a.createElement("form",{className:"grid-container small-10 small-offset-1 no-overflow",noValidate:!0},a.createElement(p.a,{component:"h3",content:"borrow.title",asset_symbol:n.get("symbol")}),a.createElement("div",{style:{textAlign:"left"}},this.props.hide_help?null:a.createElement(j.a,{path:"components/"+(R?"BorrowModalPrediction":"BorrowModal"),debt:n.get("symbol"),collateral:s.get("symbol"),borrower:this.props.account.get("name"),mr:q}),R?null:a.createElement("div",{style:{paddingBottom:"1rem"}},a.createElement("div",{className:"borrow-price-feeds"},a.createElement("span",{className:"borrow-price-label"},a.createElement(p.a,{content:"transaction.feed_price"}),": "),a.createElement(w.a,{noPopOver:!0,quote_amount:n.getIn(["bitasset","current_feed","settlement_price","base","amount"]),quote_asset:n.getIn(["bitasset","current_feed","settlement_price","base","asset_id"]),base_asset:n.getIn(["bitasset","current_feed","settlement_price","quote","asset_id"]),base_amount:n.getIn(["bitasset","current_feed","settlement_price","quote","amount"])})),a.createElement("b",null),a.createElement("div",{className:"borrow-price-final "+(m.below_maintenance?"has-error":m.close_maintenance?"has-warning":"")},a.createElement("span",{className:"borrow-price-label"},a.createElement(p.a,{content:"exchange.your_price"}),": "),this.state.newPosition?a.createElement(w.a,{noPopOver:!0,quote_amount:q*this.state.short_amount*v,quote_asset:n.get("id"),base_asset:s.get("id"),base_amount:this.state.collateral*E}):null)),a.createElement("div",{className:"form-group"},a.createElement(y.a,{label:"transaction.borrow_amount",amount:l.toString(),onChange:this._onBorrowChange.bind(this),asset:n.get("id"),assets:[n.get("id")],display_balance:P,placeholder:"0.0",tabIndex:1})),a.createElement("div",{className:k},a.createElement(y.a,{label:"transaction.collateral",amount:u.toString(),onChange:this._onCollateralChange.bind(this),asset:s.get("id"),assets:[s.get("id")],display_balance:T,placeholder:"0.0",tabIndex:1}),m.collateral_balance?a.createElement("div",{style:{paddingTop:"0.5rem"}},m.collateral_balance):null),R?null:a.createElement("div",{className:O},a.createElement(p.a,{component:"label",content:"borrow.coll_ratio"}),a.createElement("input",{min:"0",max:"6",step:"0.05",onChange:this._onRatioChange.bind(this),value:d,type:"range",disabled:!l}),a.createElement("div",{className:"inline-block"},f.a.format_number(d,2)),m.below_maintenance||m.close_maintenance?a.createElement("div",{style:{maxWidth:"calc(100% - 50px)"},className:"float-right"},m.below_maintenance,m.close_maintenance):null),a.createElement("div",{className:"no-padding grid-content button-group no-overflow"},a.createElement("div",{onClick:this._onSubmit.bind(this),href:!0,className:A},a.createElement(p.a,{content:"borrow.adjust"})),a.createElement("div",{onClick:function(t){t.preventDefault(),e.setState(e._initialState(e.props))},href:!0,className:"button info"},a.createElement(p.a,{content:"wallet.reset"}))))))}}]),t}();D.propTypes={quote_asset:d.a.ChainAsset.isRequired,bitasset_balance:d.a.ChainObject,backing_asset:d.a.ChainAsset.isRequired,backing_balance:d.a.ChainObject,call_orders:d.a.ChainObjectsList,hasCallOrders:r.bool},D=Object(m.a)(D,{keep_updating:!0});var q=function(e){function t(){x(this,t);var e=P(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={smallScreen:!1},e}return T(t,a["Component"]),S(t,[{key:"show",value:function(){var e="borrow_modal_"+this.props.quote_asset;i.a.publish(e,"open")}},{key:"componentWillMount",value:function(){this.setState({smallScreen:window.innerHeight<=800})}},{key:"render",value:function(){var e=this.props,t=e.quote_asset,n=e.backing_asset,r=e.account,s="borrow_modal_"+t,o=r.get("balances").toJS(),i=void 0,c=void 0;if(o)for(var u in o)u===n&&(i=o[u]),u===t&&(c=o[u]);return a.createElement(l.a,{id:s,overlay:!0,ref:s},a.createElement("div",{className:"grid-block vertical"},a.createElement(D,{quote_asset:t,call_orders:r.get("call_orders"),hasCallOrders:r.get("call_orders")&&r.get("call_orders").size>0,modalId:s,bitasset_balance:c,backing_balance:i,backing_asset:n,hide_help:this.state.smallScreen,account:r})))}}]),t}();t.a=q},2028:
/*!*************************************************************!*\
  !*** ./components/Account/AccountOverview.tsx + 11 modules ***!
  \*************************************************************/
/*! exports provided: default */
/*! all exports used */
/*! ModuleConcatenation bailout: Cannot concat with ./actions/GatewayActions.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./actions/NotificationActions.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./components/Account/AccountOrders.tsx (<- Module is referenced from these modules with unsupported syntax: ./Routes.jsx (referenced with import())) */
/*! ModuleConcatenation bailout: Cannot concat with ./components/Modal/BaseModal.tsx */
/*! ModuleConcatenation bailout: Cannot concat with ./components/Utility/EquivalentPrice.tsx */
/*! ModuleConcatenation bailout: Cannot concat with ./components/Utility/TotalBalanceValue.tsx */
/*! ModuleConcatenation bailout: Cannot concat with ./lib/common/MarketClasses.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./lib/common/utils.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./lib/qtb/index.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./services/GatewayConfig.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./actions/BalanceClaimActiveActions.js */
/*! ModuleConcatenation bailout: Cannot concat with ./actions/SettingsActions.js */
/*! ModuleConcatenation bailout: Cannot concat with ./actions/WalletActions.js */
/*! ModuleConcatenation bailout: Cannot concat with ./api/WalletApi.js */
/*! ModuleConcatenation bailout: Cannot concat with ./components/Account/RecentTransactions.jsx */
/*! ModuleConcatenation bailout: Cannot concat with ./components/Blockchain/ProposedOperation.jsx */
/*! ModuleConcatenation bailout: Cannot concat with ./components/Forms/AccountSelect.jsx */
/*! ModuleConcatenation bailout: Cannot concat with ./components/Forms/MyAccounts.jsx */
/*! ModuleConcatenation bailout: Cannot concat with ./components/Icon/Icon.jsx */
/*! ModuleConcatenation bailout: Cannot concat with ./components/Modal/BorrowModal.jsx */
/*! ModuleConcatenation bailout: Cannot concat with ./components/Utility/AmountSelector.jsx */
/*! ModuleConcatenation bailout: Cannot concat with ./components/Utility/AssetName.jsx */
/*! ModuleConcatenation bailout: Cannot concat with ./components/Utility/BalanceComponent.jsx */
/*! ModuleConcatenation bailout: Cannot concat with ./components/Utility/BindToChainState.jsx */
/*! ModuleConcatenation bailout: Cannot concat with ./components/Utility/ChainTypes.js */
/*! ModuleConcatenation bailout: Cannot concat with ./components/Utility/EquivalentValueComponent.jsx */
/*! ModuleConcatenation bailout: Cannot concat with ./components/Utility/FormattedAsset.jsx */
/*! ModuleConcatenation bailout: Cannot concat with ./components/Utility/FormattedPrice.jsx */
/*! ModuleConcatenation bailout: Cannot concat with ./components/Utility/LinkToAccountById.jsx */
/*! ModuleConcatenation bailout: Cannot concat with ./components/Utility/LinkToAssetById.jsx */
/*! ModuleConcatenation bailout: Cannot concat with ./components/Utility/Tabs.jsx */
/*! ModuleConcatenation bailout: Cannot concat with ./components/Utility/TranslateWithLinks.jsx */
/*! ModuleConcatenation bailout: Cannot concat with ./cybex/cybexjs/index.js */
/*! ModuleConcatenation bailout: Cannot concat with ./lib/alt-react/lib/index.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ./lib/common/asset_utils.js */
/*! ModuleConcatenation bailout: Cannot concat with ./lib/counterpart/index.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ./lib/react-foundation-apps/src/utils/foundation-api.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ./stores/AccountRefsStore.js */
/*! ModuleConcatenation bailout: Cannot concat with ./stores/AccountStore.js */
/*! ModuleConcatenation bailout: Cannot concat with ./stores/BalanceClaimActiveStore.js */
/*! ModuleConcatenation bailout: Cannot concat with ./stores/MarketsStore.js */
/*! ModuleConcatenation bailout: Cannot concat with ./stores/PrivateKeyStore.js */
/*! ModuleConcatenation bailout: Cannot concat with ./stores/WalletDb.js (<- Module uses injected variables (Buffer)) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/classnames/index.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/immutable/dist/immutable.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/lodash/index.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/moment/moment.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/prop-types/index.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/react-intl/lib/index.es.js */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/react-router/es/index.js */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/react-tooltip/dist/index.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/react-translate-component/index.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/react/index.js (<- Module is not an ECMAScript module) */function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(7),s=n.n(r),o=n(1),i=n.n(o),l=n(1392),c=n(307),u=n(3),p=n(35),d=n.n(p),m=n(109),h=n(21),f=n(24),b=n(8),g=n(136),y=n(15),_=n(14),v=n.n(_),E=n(2),w=n(1395),k=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function O(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function A(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var N=function(e){function t(){O(this,t);var e=j(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={amount:0},e}return A(t,a["Component"]),k(t,[{key:"onAmountChanged",value:function(e){var t=e.amount;e.asset;this.setState({amount:t})}},{key:"onSubmit",value:function(e){e.preventDefault(),d.a.publish("settlement_modal","close");var t=b.a.get_asset_precision(this.props.asset.get("precision")),n=this.state.amount.replace(/,/g,"");n*=t;var a=g.a.new_transaction();return a.add_type_operation("asset_settle",{fee:{amount:0,asset_id:0},account:this.props.account.get("id"),amount:{amount:n,asset_id:this.props.asset.get("id")}}),y.a.process_transaction(a,null,!0).then(function(e){return!0}).catch(function(e){return console.error("asset settle error: ",e),!1})}},{key:"render",value:function(){var e=this.props,t=e.asset,n=e.account,r=this.state.amount;if(!t)return null;var s=t.get("id"),o=n.get("balances"),c=null,u=0;o&&o.forEach(function(e){var t=E.b.getObject(e);if(!t.get("balance"))return null;t.get("asset_type")===s&&(c=e,u=t.get("balance"))});var p=b.a.get_asset_precision(t.get("precision")),d=r?r.replace(/,/g,""):0,m=parseFloat(d)>0&&parseFloat(d)*p<=parseFloat(u)?"button success":"button disabled",h=c?a.createElement("span",null,a.createElement(i.a,{content:"exchange.balance"}),": ",a.createElement(l.a,{balance:c})):null;return a.createElement("form",{className:"grid-block vertical full-width-content"},a.createElement(i.a,{component:"h3",content:"modal.settle.title",asset:t.get("symbol")}),a.createElement("div",{className:"grid-container ",style:{paddingTop:"2rem"}},a.createElement("div",{className:"content-block",style:{maxWidth:"25rem"}},a.createElement(w.a,{label:"modal.settle.amount",amount:r,onChange:this.onAmountChanged.bind(this),display_balance:h,asset:s,assets:[s],tabIndex:1})),a.createElement("div",{className:"content-block"},a.createElement("input",{type:"submit",className:m,onClick:this.onSubmit.bind(this),value:v.a.translate("modal.settle.submit")}))))}}]),t}();N.propTypes={asset:h.a.ChainAsset.isRequired,account:h.a.ChainAccount.isRequired},N=Object(f.a)(N,{keep_updating:!0});var C=function(e){function t(){return O(this,t),j(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return A(t,a["Component"]),k(t,[{key:"show",value:function(){d.a.publish("settlement_modal","open")}},{key:"render",value:function(){return a.createElement(m.a,{id:"settlement_modal",overlay:!0,ref:"settlement_modal"},a.createElement("div",{className:"grid-block vertical"},a.createElement(N,this.props)))}}]),t}(),S=n(1531),x=n(69),P=n(25),T=n(88),D=n(60),q=n.n(D),R=n(301),I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},M=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function L(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function F(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function J(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var B=function(e){function t(e){return L(this,t),F(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return J(t,R["a"]),M(t,[{key:"componentDidMount",value:function(){q.a.rebuild()}},{key:"shouldComponentUpdate",value:function(e){return function e(t,n,a){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,n,a)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(a):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"shouldComponentUpdate",this).call(this,e)||e.fromAsset!==this.props.fromAsset}},{key:"getValue",value:function(){var e=this.props,t=e.fromAsset,n=e.marketStats,a=e.toAsset,r=void 0,s=t.get("symbol");if(a&&n){var o=a.get("symbol");r=n.get(s+"_"+o)}return r&&r.change?r.change:0}},{key:"render",value:function(){var e=this.getValue(),t=0===parseFloat(e)?"":parseFloat(e)<0?"change-down":"change-up",n=a.createElement(x.b,{style:"decimal",value:e,minimumFractionDigits:2,maximumFractionDigits:2});return a.createElement("span",{className:"value "+t},n,"%")}}]),t}();B.propTypes={toAsset:h.a.ChainAsset.isRequired,fromAsset:h.a.ChainAsset.isRequired,coreAsset:h.a.ChainAsset.isRequired},B.defaultProps={toAsset:"1.3.0",fullPrecision:!1,noDecimals:!1,hide_asset:!1,coreAsset:"1.3.0"},B=Object(f.a)(B,{keep_updating:!0});var H=function(e){function t(){return L(this,t),F(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return J(t,a["Component"]),M(t,[{key:"render",value:function(){var e=this.props,t=e.refCallback,n=function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}(e,["refCallback"]);return a.createElement(B,I({},n,{ref:t}))}}]),t}();H=Object(P.connect)(H,{listenTo:function(){return[T.a]},getProps:function(){return{marketStats:T.a.getState().allMarketStats}}});var z=n(70),U=n(19),W=n(76),K=n(1600),V=n(49),G=n(5),$=n(20),Y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Q=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function X(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Z(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ee(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function te(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var ne={textAlign:"right"},ae={textAlign:"left"},re=function(e){function t(){return Z(this,t),ee(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return te(t,a["Component"]),Q(t,[{key:"_onUpdatePosition",value:function(e){e.preventDefault();var t="cp_modal_"+this.props.object.getIn(["call_price","quote","asset_id"]);this.refs[t].show()}},{key:"_onClosePosition",value:function(e){e.preventDefault();var t=g.a.new_transaction();t.add_type_operation("call_order_update",{fee:{amount:0,asset_id:0},funding_account:this.props.object.get("borrower"),delta_collateral:{amount:-this.props.object.get("collateral"),asset_id:this.props.object.getIn(["call_price","base","asset_id"])},delta_debt:{amount:-this.props.object.get("debt"),asset_id:this.props.object.getIn(["call_price","quote","asset_id"])}}),y.a.process_transaction(t,null,!0)}},{key:"_getFeedPrice",value:function(){return this.props?1/b.a.get_asset_price(this.props.debtAsset.getIn(["bitasset","current_feed","settlement_price","quote","amount"]),this.props.collateralAsset,this.props.debtAsset.getIn(["bitasset","current_feed","settlement_price","base","amount"]),this.props.debtAsset):1}},{key:"_getCollateralRatio",value:function(){var e=this.props.object.toJS();return b.a.get_asset_amount(e.collateral,this.props.collateralAsset)/(b.a.get_asset_amount(e.debt,this.props.debtAsset)/this._getFeedPrice())}},{key:"_getMR",value:function(){return this.props.debtAsset.getIn(["bitasset","current_feed","maintenance_collateral_ratio"])/1e3}},{key:"_getStatusClass",value:function(){var e=this._getCollateralRatio(),t=this._getMR();return isNaN(e)?null:e<t?"danger":e<t+.5?"warning":""}},{key:"_getCRTip",value:function(){var e=this._getStatusClass(),t=this._getMR();return e&&""!==e?"danger"===e?v.a.translate("tooltip.cr_danger",{mr:t}):"warning"===e?v.a.translate("tooltip.cr_warning",{mr:t}):null:null}},{key:"_onNavigate",value:function(e,t){t.preventDefault(),this.context.router.push(e)}},{key:"render",value:function(){var e=this.props,t=e.debtAsset,n=e.collateralAsset,s=e.object.toJS(),o=this._getCollateralRatio(),l=b.a.get_asset_amount(s.debt,this.props.debtAsset),u=this._getStatusClass(),p="/asset/"+t.get("symbol"),d="/market/"+t.get("symbol")+"_"+n.get("symbol"),m=a.createElement("ul",null,a.createElement("li",null,a.createElement("a",{href:p,onClick:this._onNavigate.bind(this,p)},a.createElement(i.a,{content:"account.asset_details"}))),a.createElement("li",null,a.createElement("a",{href:d,onClick:this._onNavigate.bind(this,d)},a.createElement(z.a,{name:t.get("symbol")})," :"," ",a.createElement(z.a,{name:n.get("symbol")}))));return a.createElement("tr",{className:"margin-row"},a.createElement("td",{style:ae},a.createElement(G.b,{to:"/asset/"+t.get("symbol")},a.createElement(z.a,{noTip:!0,name:t.get("symbol")}))),a.createElement("td",{style:ne},a.createElement(U.a,{amount:s.debt,asset:s.call_price.quote.asset_id,assetInfo:m,hide_asset:!0})),a.createElement("td",{style:ne,className:"column-hide-medium"},a.createElement(U.a,{decimalOffset:5,amount:s.collateral,asset:s.call_price.base.asset_id})),a.createElement("td",{"data-place":"bottom","data-tip":this._getCRTip(),className:"center-content "+u},b.a.format_number(o,2)),a.createElement("td",{style:ne},a.createElement(c.a,{noTip:!0,balances:Object(r.List)(),debt:X({},t.get("id"),s.debt),collateral:X({},n.get("id"),parseInt(s.collateral,10)),hide_asset:!0})),a.createElement("td",{style:ne,className:"column-hide-small"},a.createElement(W.a,{base_amount:s.call_price.base.amount,base_asset:s.call_price.base.asset_id,quote_amount:s.call_price.quote.amount,quote_asset:s.call_price.quote.asset_id,hide_symbols:!0})),a.createElement("td",{style:ne,className:"column-hide-small"},a.createElement(R.b,{forceDirection:!1,fromAsset:s.call_price.base.asset_id,toAsset:s.call_price.quote.asset_id,hide_symbols:!0})),a.createElement("td",{className:"center-content column-hide-small",style:ae},a.createElement(W.a,{base_amount:s.call_price.base.amount,base_asset:s.call_price.base.asset_id,quote_amount:s.call_price.quote.amount,quote_asset:s.call_price.quote.asset_id,hide_value:!0})),a.createElement("td",null,a.createElement("div",{"data-place":"left","data-tip":v.a.translate("tooltip.update_position"),style:{paddingBottom:5}},a.createElement("a",{onClick:this._onUpdatePosition.bind(this)},a.createElement(V.a,{name:"adjust",className:"icon-14px rotate90"})))),a.createElement("td",null,a.createElement("div",{"data-place":"left","data-tip":v.a.translate("tooltip.close_position",{amount:l,asset:t.get("symbol")}),style:{paddingBottom:5}},a.createElement("a",{onClick:this._onClosePosition.bind(this)},a.createElement(V.a,{name:"cross-circle",className:"icon-14px"}))),t?a.createElement(K.a,{ref:"cp_modal_"+s.call_price.quote.asset_id,quote_asset:s.call_price.quote.asset_id,backing_asset:t.getIn(["bitasset","options","short_backing_asset"]),account:this.props.account}):null))}}]),t}();re.propTypes={debtAsset:h.a.ChainAsset.isRequired,collateralAsset:h.a.ChainAsset.isRequired},re.defaultProps={tempComponent:"tr"},re.contextTypes={router:u.object},re=Object(f.a)(re,{keep_updating:!0});var se=function(e){function t(){return Z(this,t),ee(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return te(t,a["Component"]),Q(t,[{key:"render",value:function(){var e=this.props.object,t=e.getIn(["call_price","quote","asset_id"]),n=e.getIn(["call_price","base","asset_id"]);return a.createElement(re,Y({debtAsset:t,collateralAsset:n},this.props))}}]),t}();se.propTypes={object:h.a.ChainObject.isRequired},se=Object(f.a)(se,{keep_updating:!0});var oe=function(e){function t(){return Z(this,t),ee(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return te(t,a["Component"]),Q(t,[{key:"_onUpdatePosition",value:function(e){e.preventDefault();var t="cp_modal_"+this.props.debtAsset.get("id");this.refs[t].show()}},{key:"_getFeedPrice",value:function(){return this.props?1/b.a.get_asset_price(this.props.debtAsset.getIn(["bitasset","current_feed","settlement_price","quote","amount"]),this.props.collateralAsset,this.props.debtAsset.getIn(["bitasset","current_feed","settlement_price","base","amount"]),this.props.debtAsset):1}},{key:"_onNavigate",value:function(e,t){t.preventDefault(),this.context.router.push(e)}},{key:"render",value:function(){var e=this.props,t=e.debtAsset,n=e.collateralAsset,r="/asset/"+t.get("symbol"),s="/market/"+t.get("symbol")+"_"+n.get("symbol"),o=a.createElement("ul",null,a.createElement("li",null,a.createElement("a",{href:r,onClick:this._onNavigate.bind(this,r)},a.createElement(i.a,{content:"account.asset_details"}))),a.createElement("li",null,a.createElement("a",{href:s,onClick:this._onNavigate.bind(this,s)},a.createElement(z.a,{name:t.get("symbol")})," :"," ",a.createElement(z.a,{name:n.get("symbol")}))));return a.createElement("tr",{className:"margin-row"},a.createElement("td",{style:ae},a.createElement(G.b,{to:"/asset/"+t.get("symbol")},a.createElement(z.a,{noTip:!0,name:t.get("symbol")}))),a.createElement("td",{style:ne},a.createElement(U.a,{amount:0,asset:t.get("id"),assetInfo:o,hide_asset:!0})),a.createElement("td",{style:ne,className:"column-hide-medium"},a.createElement(U.a,{decimalOffset:5,amount:0,asset:n.get("id")})),a.createElement("td",null),a.createElement("td",{style:ne}),a.createElement("td",{style:ne,className:"column-hide-small"}),a.createElement("td",{style:ne,className:"column-hide-small"}),a.createElement("td",{className:"center-content column-hide-small",style:ae}),a.createElement("td",null,a.createElement("div",{"data-place":"left","data-tip":v.a.translate("tooltip.update_position"),style:{paddingBottom:5}},a.createElement("a",{onClick:this._onUpdatePosition.bind(this)},a.createElement(V.a,{name:"adjust",className:"icon-14px rotate90"})))),a.createElement("td",null,t?a.createElement(K.a,{ref:"cp_modal_"+t.get("id"),quote_asset:t.get("id"),backing_asset:t.getIn(["bitasset","options","short_backing_asset"]),account:this.props.account}):null))}}]),t}();oe.propTypes={debtAsset:h.a.ChainAsset.isRequired,collateralAsset:h.a.ChainAsset.isRequired},oe.defaultProps={tempComponent:"tr"},oe.contextTypes={router:u.object},oe=Object(f.a)(oe);var ie=function(e){function t(){return Z(this,t),ee(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return te(t,a["Component"]),Q(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.objects,r=t.optionals;if(n=n.filter(function(e){return!!e}),!(r=r.filter(function(e){return!!e})).length)return null;if(n.forEach(function(e){if(e){var t=r.findIndex(function(t){return t&&t.get("id")===e.getIn(["call_price","quote","asset_id"])});-1!==t&&r.splice(t,1)}}),!r.length)return null;var s=r.map(function(t){return a.createElement(oe,Y({key:t.get("id"),debtAsset:t.get("id"),collateralAsset:t.getIn(["bitasset","options","short_backing_asset"])},e.props))});return a.createElement("tbody",null,s)}}]),t}();ie.propTypes={objects:h.a.ChainObjectsList,optionals:h.a.ChainAssetsList},ie.defaultProps={optionals:s.a.List(["1.3.103","1.3.113","1.3.120","1.3.121","1.3.958","1.3.1325","1.3.1362"])},ie=Object(f.a)(ie,{keep_updating:!0});var le=n(1536),ce=n(225),ue=n(300),pe=n(28),de=n(125),me={AccountPermission:function(e,t,n){var a=this;this.id=e.get("id"),this.weight=t,this.threshold=e.getIn([n,"weight_threshold"]),this.accounts=[],this.keys=e.getIn([n,"key_auths"]).map(function(e){return new function(e){var t=this;this.id=e.toJS?e.get(0):e[0],this.weight=e.toJS?e.get(1):e[1],this.isAvailable=function(e){return e.includes?e.includes(t.id):-1!==e.indexOf(t)}}(e)}).toArray(),this.isAvailable=function(e){return e.includes?e.includes(a.id):-1!==e.indexOf(a)},this._sumWeights=function(e){if(a.isNested()||a.isMultiSig()){var t=a.accounts.reduce(function(t,n){return t+(n._sumWeights(e)?n.weight:0)},0);return Math.floor(t/a.threshold)}return a.isAvailable(e)?a.weight:0},this.getStatus=function(e,t){if(a.isNested()){var n=a.accounts.reduce(function(t,n){return t+n._sumWeights(e)},0);return a.keys.length&&(n+=a.sumKeys(t)),n}var r=a._sumWeights(e);return a.isMultiSig()&&(r+=a.sumKeys(t)),r},this.sumKeys=function(e){return a.keys.reduce(function(t,n){return t+(n.isAvailable(e)?n.weight:0)},0)},this.isNested=function(){return a.accounts.length>0},this.isMultiSig=function(){return a.keys.reduce(function(e,t){return e||t.weight<a.threshold},!1)},this.getMissingSigs=function(e){var t=[],n=[];return a.isNested()?n=a.accounts.reduce(function(t,n){return t.concat(n.getMissingSigs(e))},[]):a.isAvailable(e)||t.push(a.id),t.concat(n)},this.getMissingKeys=function(e){var t=[],n=[];return a.keys.length&&(a.isNested()||a.isMultiSig())&&a.keys.forEach(function(n){n.isAvailable(e)||t.push(n.id)}),a.isNested()&&(n=a.accounts.reduce(function(t,n){return t.concat(n.getMissingKeys(e))},[])),t.concat(n)}},listToIDs:function(e){var t=[];return e.forEach(function(e){e&&t.push(e.get?e.get("id"):e)}),t},unravel:function(e,t){var n=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(a<3){var r=E.b.getAccount(e.id);r&&r.getIn([t,"account_auths"]).size&&r.getIn([t,"account_auths"]).forEach(function(r){var s=E.b.getAccount(r.get(0));s&&e.accounts.push(n.unravel(new n.AccountPermission(s,r.get(1),t),t,a+1))})}return e},unnest:function(e,t){var n=this,a=[];return e.forEach(function(e){var r=E.b.getAccount(e),s=n.unravel(new n.AccountPermission(r,null,t),t);a.push(s)}),a},flatten_auths:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.a.List();return e.size?(e.forEach(function(e){t.includes(e.get(0))||(t=t.push(e.get(0)))}),t):t}},he=n(27),fe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},be=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function ge(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ye(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _e(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var ve=function(e){function t(){return ge(this,t),ye(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return _e(t,a["Component"]),be(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.account,r=t.available,s=t.availableKeys,o=t.permission,i=t.threshold,l=o.isAvailable(r),c=o.isNested(),u=o.isMultiSig(),p=[],d=i&&i>10?b.a.get_percentage(o.weight,this.props.threshold):o.weight,m=o&&o.threshold>10?b.a.get_percentage(o.getStatus(r,s),o.threshold)+" / 100%":o.getStatus(r,s)+" / "+o.threshold;return p.push(a.createElement("div",{key:n.get("id"),style:{textAlign:"left",width:"100%",clear:"both",paddingBottom:5}},a.createElement("div",{className:"inline-block",style:{paddingLeft:5*this.props.indent+"%"}},a.createElement(de.a,{subpage:"permissions",account:n.get("id")}),!c&&d?(d&&2===d.length?"  ":"")+"("+d+") ":null),a.createElement("div",{className:"float-right",style:{paddingLeft:20,marginRight:10}},c||u?a.createElement("span",{className:l?"success-text":""},m):a.createElement("span",null,l?a.createElement(V.a,{name:"checkmark-circle",size:"1x",className:"success"}):a.createElement(V.a,{name:"cross-circle",size:"1x",className:"error"}))))),(c||u)&&(o.accounts.forEach(function(t){p.push(a.createElement(Ee,{key:t.id,indent:e.props.indent+1,account:t.id,accounts:t.accounts,permission:t,available:r,availableKeys:s,threshold:o.threshold}))}),o.keys.length&&o.keys.forEach(function(t){p.push(a.createElement(we,{key:t.id,permission:t,available:s,indent:e.props.indent+1}))})),a.createElement("div",null,p)}}]),t}();ve.propTypes={account:h.a.ChainAccount.isRequired,accounts:h.a.ChainAccountsList,indent:u.number.isRequired},ve.defaultProps={indent:0};var Ee=Object(f.a)(ve),we=function(e){function t(){return ge(this,t),ye(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return _e(t,a["Component"]),be(t,[{key:"render",value:function(){var e=this.props,t=e.available,n=e.permission,r=n.isAvailable(t),s=[];return s.push(a.createElement("div",{key:n.id,style:{textAlign:"left",width:"100%",paddingBottom:5}},a.createElement("div",{className:"inline-block",style:{paddingLeft:5*this.props.indent+"%"}},a.createElement("span",null,n.id.substr(0,20-4*this.props.indent),"... (",n.weight,")")),a.createElement("div",{className:"float-right",style:{paddingLeft:20,marginRight:10}},a.createElement("span",null,r?a.createElement(V.a,{name:"checkmark-circle",size:"1x",className:"success"}):a.createElement(V.a,{name:"cross-circle",size:"1x",className:"error"}))))),a.createElement("div",null,s)}}]),t}();we.propTypes={indent:u.number.isRequired},we.defaultProps={indent:0};var ke=function(e){function t(){return ge(this,t),ye(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return _e(t,a["Component"]),be(t,[{key:"render",value:function(){var e=this.props,t=e.requiredPermissions,n=e.available,r=e.availableKeys,s=(e.type,[]);return t.forEach(function(e){s.push(a.createElement(Ee,{key:e.id,account:e.id,accounts:e.accounts,permission:e,available:n,availableKeys:r}))}),a.createElement("div",null,s)}}]),t}(),Oe=function(e){function t(){ge(this,t);var e=ye(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={requiredPermissions:[]},e._updateState=e._updateState.bind(e),e}return _e(t,a["Component"]),be(t,[{key:"componentWillMount",value:function(){this._updateState(),E.b.subscribe(this._updateState)}},{key:"componentWillUnmount",value:function(){E.b.unsubscribe(this._updateState)}},{key:"_updateState",value:function(){var e=me.listToIDs(this.props.required),t=me.listToIDs(this.props.available);this.setState({requiredPermissions:me.unnest(e,this.props.type),required:e,available:t})}},{key:"render",value:function(){var e=this.props,t=e.type,n=(e.proposal,e.added),r=e.removed,s=e.availableKeys,o=this.state,i=o.requiredPermissions,l=o.required,c=o.available;return c=Object(he.cloneDeep)(c),s=s.toJS(),n&&(c.push(n),s.push(n)),r&&(-1!==c.indexOf(r)&&c.splice(c.indexOf(r),1),-1!==s.indexOf(r)&&s.splice(s.indexOf(r),1)),a.createElement(ke,{type:t,added:n,removed:r,required:l,available:c,availableKeys:s,requiredPermissions:i})}}]),t}();Oe.propTypes={required:h.a.ChainAccountsList,available:h.a.ChainAccountsList},Oe.defaultProps={type:"active",added:null,removed:null},Oe=Object(f.a)(Oe,{keep_updating:!0});var je=function(e){function t(){return ge(this,t),ye(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return _e(t,a["Component"]),be(t,[{key:"render",value:function(){var e=this.props,t=e.proposal,n=e.type,r=t.get("available_"+n+"_approvals"),s=t.get("available_key_approvals"),o=t.get("required_"+n+"_approvals");return a.createElement(Oe,fe({},this.props,{required:o,available:r,availableKeys:s}))}}]),t}();je.propTypes={proposal:h.a.ChainObject.isRequired,type:u.string.isRequired},je.defaultProps={type:"active",added:null};var Ae=Object(f.a)(je,{keep_updating:!0}),Ne=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Ce=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function Se(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xe(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Pe(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Te=function(e){function t(e){Se(this,t);var n=xe(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.state={active:null,key:null,owner:null,payee:null},n}return Pe(t,a["Component"]),Ce(t,[{key:"onActiveAccount",value:function(e,t,n,a){var r={};t[a]?(r.key=a,r[n]=null):a?(r[n]=e[a],r.key=null):(r[n]=null,r.key=null),this.setState(r)}},{key:"_onProposalAction",value:function(e){var t=this,n=e.toJS(),a=this.state,r=a.active,s=(a.key,a.owner,{fee_paying_account:a.payee||r,proposal:n.id,active_approvals_to_add:[],active_approvals_to_remove:[],owner_approvals_to_add:[],owner_approvals_to_remove:[],key_approvals_to_add:[],key_approvals_to_remove:[]}),o="approve"===this.props.action,i=[];["active","owner","key"].forEach(function(e){var a=t.state[e];if(a){var r=-1!==n["available_"+e+"_approvals"].indexOf(a);(o&&!r||!o&&r)&&("approve"===t.props.action?(s[e+"_approvals_to_add"]=[a],"key"===e&&i.push(a)):"reject"===t.props.action&&(s[e+"_approvals_to_remove"]=[a],"key"===e&&i.push(a)))}});var l=g.a.new_transaction();l.add_type_operation("proposal_update",s),y.a.process_transaction(l,null,!0,i),d.a.publish(this.props.modalId,"close")}},{key:"onChangePayee",value:function(e){var t=E.b.getAccount(e);t&&this.setState({payee:t.get("id")})}},{key:"onCancel",value:function(){d.a.publish(this.props.modalId,"close")}},{key:"render",value:function(){var e=this.props,t=e.proposal,n=e.type,r=[],s={},o="approve"===this.props.action;this.props.accounts.length&&this.props.accounts.forEach(function(e){(o?e&&!t.get("available_"+n+"_approvals").includes(e.get("id")):e&&t.get("available_"+n+"_approvals").includes(e.get("id")))&&(s[e.get("name")]=e.get("id"),r.push(e.get("name")))});var l=[],c={};this.props.keys.length&&this.props.keys.forEach(function(e){pe.a.isMyKey(e)&&!t.get("available_key_approvals").includes(e)&&(c[e]=!0,l.push(e))});var u=pe.a.getMyAccounts();return a.createElement("form",{className:"grid-block vertical full-width-content"},a.createElement("div",{className:"grid-container"},a.createElement("div",{className:"content-block"},a.createElement("h4",null,o?"Add approval":"Remove approval")),a.createElement("div",{className:"content-block",style:{paddingRight:"20%"}},a.createElement(Ae,{proposal:t.get("id"),type:n,added:o?this.state.key?this.state.key:this.state[n]||null:null,removed:o?null:this.state.key?this.state.key:this.state[n]||null})),a.createElement("div",{className:"content-block full-width-content"},a.createElement("div",{className:"full-width-content form-group"},a.createElement(i.a,{content:"modal.proposals.pay_with",component:"label"}),a.createElement(ue.a,{account_names:u,onChange:this.onChangePayee.bind(this)})),r.length||l.length?a.createElement("div",{className:"full-width-content form-group"},a.createElement(i.a,{content:"modal.proposals.approval_"+(o?"add":"remove"),component:"label"}),a.createElement(ue.a,{account_names:r.concat(l),onChange:this.onActiveAccount.bind(this,s,c,n)})):null,null),a.createElement("div",{className:"content-block"},a.createElement("button",{type:"submit",className:"button",onClick:this._onProposalAction.bind(this,t)},a.createElement(i.a,{content:o?"account.perm.approve":"account.perm.remove"})),a.createElement("div",{onClick:this.onCancel.bind(this),className:" button"},a.createElement(i.a,{content:"account.perm.cancel"})))))}}]),t}();Te.propTypes={accounts:h.a.ChainAccountsList},Te=Object(f.a)(Te);var De=function(e){function t(){Se(this,t);var e=xe(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._updateState=e._updateState.bind(e),e}return Pe(t,a["Component"]),Ce(t,[{key:"componentWillMount",value:function(){this._updateState(),E.b.subscribe(this._updateState)}},{key:"componentWillUnmount",value:function(){E.b.unsubscribe(this._updateState)}},{key:"_updateState",value:function(){var e=this.props,t=e.proposal,n=(e.account,t.get("required_active_approvals").size?"active":"owner"),a=me.listToIDs(t.get("required_"+n+"_approvals")),r=me.listToIDs(t.get("available_"+n+"_approvals")),s=me.listToIDs(t.get("available_key_approvals"));this.setState({requiredPermissions:me.unnest(a,n),available:r,availableKeys:s,type:n})}},{key:"render",value:function(){var e=this.props.action,t=this.state,n=t.requiredPermissions,r=t.available,s=t.availableKeys,o=t.type,i=[];n.forEach(function(e){i=i.concat(e.getMissingSigs(r))});var l=[];return n.forEach(function(e){l=l.concat(e.getMissingKeys(s))}),a.createElement(Te,Ne({},this.props,{type:o,accounts:"approve"===e?i:r,keys:"approve"===e?l:s}))}}]),t}();De.propTypes={account:h.a.ChainAccount.isRequired,proposal:h.a.ChainObject.isRequired},De=Object(f.a)(De);var qe=function(e){function t(){Se(this,t);var e=xe(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={open:!1},e}return Pe(t,a["Component"]),Ce(t,[{key:"componentDidMount",value:function(){var e=this;d.a.subscribe(this.props.modalId,function(t,n){e.setState({open:"open"===n})})}},{key:"show",value:function(){d.a.publish(this.props.modalId,"open")}},{key:"render",value:function(){var e=this.props,t=e.modalId;e.proposal;return a.createElement(m.a,{id:t,overlay:!0,ref:t},this.state.open?a.createElement("div",{className:"grid-block vertical"},a.createElement(De,this.props)):null)}}]),t}(),Re=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var Ie=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["Component"]),Re(t,[{key:"_onApproveModal",value:function(e,t){this.refs[e+"_"+t]&&this.refs[e+"_"+t].show()}},{key:"_canApprove",value:function(e,t){return-1!==e.required_active_approvals.indexOf(t)&&-1===e.available_active_approvals.indexOf(t)||-1!==e.required_owner_approvals.indexOf(t)&&-1===e.available_owner_approvals.indexOf(t)}},{key:"_canReject",value:function(e){return e.available_active_approvals.length||e.available_owner_approvals.length}},{key:"render",value:function(){var e=this,t=this.props.account;if(!t)return null;var n=[];t.get("proposals").size&&t.get("proposals").forEach(function(e){var a=E.b.getObject(e);if(a){var r=a.get("proposed_transaction").get("operations");n.push({operations:r,account:t,proposal:a})}});var r=n.sort(function(e,t){return b.a.sortID(e.proposal.get("id"),t.proposal.get("id"),!0)}).map(function(t){var n=!1,r=t.operations.map(function(e,r){return"1.2.153124"===e.getIn([1,"to"])&&(n=!0),a.createElement(ce.a,{key:t.proposal.get("id")+"_"+r,expiration:t.proposal.get("expiration_time"),index:r,op:e.toJS(),inverted:!1,hideFee:!1,hideOpLabel:!0,hideDate:!0,proposal:!0,id:t.proposal.get("id")})}).toArray(),s=e._canReject(t.proposal.toJS()),o=t.proposal.get("id"),l=t.proposal.get("required_active_approvals").size?"active":"owner";return a.createElement("tr",{key:o},a.createElement("td",null,r),a.createElement("td",null,a.createElement(Ae,{proposal:t.proposal.get("id"),type:l})),a.createElement("td",null,s?a.createElement("button",{onClick:e._onApproveModal.bind(e,o,"reject"),className:"button outline"},a.createElement(i.a,{content:"proposal.reject"})):null,a.createElement(qe,{ref:o+"_reject",modalId:o+"_reject",account:t.account.get("id"),proposal:o,action:"reject"}),n?a.createElement("div",{"data-tip":v.a.translate("tooltip.propose_scam"),className:" tooltip has-error"},"SCAM"):a.createElement("button",{onClick:e._onApproveModal.bind(e,o,"approve"),className:"button outline"},a.createElement("span",null,a.createElement(i.a,{content:"proposal.approve"}))),a.createElement(qe,{ref:o+"_approve",modalId:o+"_approve",account:t.account.get("id"),proposal:o,action:"approve"})))});return a.createElement("table",{className:"table compact "+this.props.className},a.createElement("thead",null,a.createElement("tr",null,a.createElement("th",null,a.createElement(i.a,{content:"account.votes.info"})),a.createElement("th",null,a.createElement(i.a,{content:"proposal.status"})),a.createElement("th",null,a.createElement(i.a,{content:"proposal.action"})))),a.createElement("tbody",null,r))}}]),t}();Ie.propTypes={account:h.a.ChainAccount.isRequired};var Me=Object(f.a)(Ie,{keep_updating:!0}),Le=n(22),Fe=n(195),Je=n(133),Be=n(1400),He=n(287),ze=n(40),Ue=n.n(ze),We=n(33);var Ke=n(68),Ve=n(52),Ge=n(138),$e=n(299),Ye=n(184),Qe=n(1388),Xe=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var Ze=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["PureComponent"]),Xe(t,[{key:"componentWillReceiveProps",value:function(e){e.claim_account_name!==this.props.claim_account_name&&this.onClaimAccount(e.claim_account_name,e.checked)}},{key:"render",value:function(){var e=this,t=this.props.total_by_account_asset&&this.props.total_by_account_asset.toArray()[0],n=t&&t.balances.sort(function(e,t){return e.id<t.id?-1:1});return a.createElement("div",null,a.createElement("table",{className:"table dashboard-table vest-table"},a.createElement("thead",null,a.createElement("tr",null,a.createElement("th",null),a.createElement("th",{style:{textAlign:"center"}},a.createElement(i.a,{content:"account.asset"})),a.createElement("th",{style:{textAlign:"center"}},a.createElement(i.a,{content:"exchange.amount"})),a.createElement("th",{style:{textAlign:"center"}},a.createElement(i.a,{content:"vesting.end_time"})),a.createElement("th",{style:{textAlign:"center"}},a.createElement(i.a,{content:"vesting.progress"})),a.createElement("th",{style:{textAlign:"center"},title:v.a.translate("vesting.pubkey_tip"),className:"tooltip with-tooltip","data-place":"bottom","data-tip":v.a.translate("vesting.pubkey_tip")},a.createElement(i.a,{content:"vesting.pubkey"})))),a.createElement("tbody",null,n&&n.map(function(t){var n=t.id,r=t.vesting_policy,s=t.public_key_string,o=Qe.utc(r.begin_timestamp).add(r.vesting_cliff_seconds,"s"),i=Qe.utc(),l=r.vesting_cliff_seconds-(o.valueOf()-i.valueOf())/1e3;return a.createElement("tr",{key:n},a.createElement("td",null,a.createElement("input",{type:"checkbox",onChange:function(a){return e.onCheckbox(n,t,a)},disabled:i.isBefore(o)})),a.createElement("td",{style:{textAlign:"center"}},r.begin_balance?a.createElement(U.a,{amount:t.balance.amount,asset:t.balance.asset_id,hide_amount:!0}):null),a.createElement("td",{style:{textAlign:"center"}},r.begin_balance?a.createElement("div",null,a.createElement(U.a,{amount:t.balance.amount,asset:t.balance.asset_id,hide_asset:!0})):null),a.createElement("td",{style:{textAlign:"center"}},o.format("YYYY-MM-DD HH:mm:ss zZ")),a.createElement("td",null,r.begin_timestamp&&a.createElement("progress",{value:l,max:r.vesting_cliff_seconds})),a.createElement("td",null,s))}).toArray(),!this.props.total_by_account_asset||0===this.props.total_by_account_asset.size&&a.createElement("tr",null,a.createElement("td",null,"-"),a.createElement("td",null,"-"),a.createElement("td",null,"-"),a.createElement("td",null,"-"),a.createElement("td",null,"-"),a.createElement("td",null,"-")))))}},{key:"onCheckbox",value:function(e,t,n){var a=n.target.checked,r=this.props.checked;r=a?r.set(e,t):r.delete(e),Ye.a.setSelectedBalanceClaims(r)}},{key:"onClaimAccount",value:function(e,t){if(!t.size){var n=-1;this.props.total_by_account_asset.forEach(function(a,r){n++,r.get(0)===e&&(a.unclaimed||a.vesting.unclaimed)&&(t=t.set(n,a.balances))}),t.size&&Ye.a.setSelectedBalanceClaims(t)}}}]),t}(),et=(Ze=Object(P.connect)(Ze,{listenTo:function(){return[$e.a]},getProps:function(){var e=$e.a.getState(),t=e.balances,n=e.address_to_pubkey,a=Ve.a.getState().keys,s=r.Map().asMutable();return t&&(e.total_by_account_asset=t.groupBy(function(e){var t="",o=n.get(e.owner),i=a.get(o);i&&i.import_account_names&&(t=i.import_account_names.join(", "));var l,c,u,p=Math.ceil((l=r.List([t,e.balance.asset_id]),c=e.owner,(u=s.get(l))||(u=r.Set().asMutable(),s.set(l,u)),u.add(c),u.size/60));return r.List([t,e.balance.asset_id,p])}).map(function(e){return e.reduce(function(e,t){return t.public_key_string=n.get(t.owner),e.balances=e.balances.add(t),void 0!=t.vested_balance?(e.vesting.unclaimed+=Number(t.vested_balance.amount),e.vesting.total+=Number(t.balance.amount)):e.unclaimed+=Number(t.balance.amount),e},{unclaimed:0,vesting:{unclaimed:0,total:0},balances:r.Set()})}).sortBy(function(e){return e})),e}}),n(57)),tt=n(1567),nt=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var at,rt=((at=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.refreshBalances=n.refreshBalances.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["PureComponent"]),nt(t,[{key:"componentWillMount",value:function(){var e=Ve.a.getState().keys.keySeq();try{Ye.a.setPubkeys(e)}catch(t){setTimeout(function(){return Ye.a.setPubkeys(e)},0)}this.existing_keys=e,E.b.subscribe(this.refreshBalances)}},{key:"componentWillUnmount",value:function(){E.b.unsubscribe(this.refreshBalances)}},{key:"componentWillReceiveProps",value:function(e){var t=Ve.a.getState().keys.keySeq();t.equals(this.existing_keys)||(this.existing_keys=t,Ye.a.setPubkeys(t))}},{key:"render",value:function(){var e=this.props.selected_balances.size&&this.props.claim_account_name;e&&this.props.claim_account_name;return a.createElement("div",null,a.createElement("div",{className:"grid-block vertical"},a.createElement(Ze,null)),a.createElement("div",{className:"vest-bottom grid-block"},a.createElement(tt.a,{key:this.props.balances,accounts:r.List(this.props.account_refs),onChange:this.onClaimAccountChange.bind(this),className:"small-12 medium-9"}),a.createElement(i.a,{component:"button",className:Ue()("button success small-12 medium-3",{disabled:!e}),content:"wallet.claim_balance",onClick:this.onClaimBalance.bind(this)})))}},{key:"onBack",value:function(e){e.preventDefault(),window.history.back()}},{key:"refreshBalances",value:function(){Ye.a.refreshBalances()}},{key:"onClaimAccountChange",value:function(e){Ye.a.claimAccountChange(e)}},{key:"onClaimBalance",value:function(){et.a.importBalance(this.props.claim_account_name,this.props.selected_balances,!0).then(function(){Ye.a.setSelectedBalanceClaims(r.Map())}).catch(function(e){console.error("claimBalance",e);var t=e;try{t=e.data.message}catch(e){}throw Ke.b.error("Error claiming balance: "+t),e})}}]),t}()).propTypes={isUpdate:u.bool},at),st=(rt=Object(P.connect)(rt,{listenTo:function(){return[$e.a,Ge.a,Ve.a]},getProps:function(){var e=$e.a.getState(),t=Ge.a.getAccountRefs(),n=pe.a.getCurrentAccountState();return 0===t.size&&n&&(t=new Set([n.get("id")])),e.account_refs=t,e}}),n(1399)),ot=n(1397),it=n(66),lt=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function ct(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ut(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function pt(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var dt=((ht=function(e){function t(e){ct(this,t);var n=ut(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));for(var a in n.priceRefs={},n.valueRefs={},n.changeRefs={},n.sortFunctions={alphabetic:function(e,t,n){return e.key>t.key?this.state.sortDirection||n?1:-1:e.key<t.key?this.state.sortDirection||n?-1:1:0},priceValue:function(e,t){var n=this.priceRefs[e.key],a=this.priceRefs[t.key];if(n&&a){var r=n.getFinalPrice(!0),s=a.getFinalPrice(!0);return!r&&s?1:r&&!s?-1:r||s?this.state.sortDirection?r-s:s-r:this.sortFunctions.alphabetic(e,t,!0)}},totalValue:function(e,t){var n=this.valueRefs[e.key],a=this.valueRefs[t.key];if(n&&a){var r=n.getValue(),s=a.getValue();return!r&&s?1:r&&!s?-1:r||s?this.state.sortDirection?s-r:r-s:this.sortFunctions.alphabetic(e,t,!0)}},changeValue:function(e,t){var n=this.changeRefs[e.key],a=this.changeRefs[t.key];if(n&&a){var r=n.getValue(),s=a.getValue(),o=parseFloat(r)||r,i=parseFloat(s)||s;return void 0===this.state.sortDirection||this.state.sortDirection?o<i:o>i}}},n.state={sortKey:e.viewSettings.get("portfolioSort","totalValue"),sortDirection:e.viewSettings.get("portfolioSortDirection",!0),settleAsset:"1.3.0",showHidden:!1,depositAsset:null,withdrawAsset:null,bridgeAsset:null,alwaysShowAssets:["CYB"]},n.sortFunctions)n.sortFunctions[a]=n.sortFunctions[a].bind(n);return n}return pt(t,a["Component"]),lt(t,[{key:"componentWillMount",value:function(){this._checkMarginStatus()}},{key:"_checkMarginStatus",value:function(){var e,t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;(e=n.account,new Promise(function(t,n){if(!e||e&&!e.get("call_orders",[]).size)return t(null);Object(E.f)("getObject",e.get("call_orders").toArray()).then(function(e){var n=[];e.forEach(function(e){var t=e.getIn(["call_price","base","asset_id"]),a=e.getIn(["call_price","quote","asset_id"]);-1===n.indexOf(t)&&n.push(t),-1===n.indexOf(a)&&n.push(a)}),Object(E.f)("getAsset",n).then(function(n){var a={};n.forEach(function(e){a[e.get("id")]=e.toJS()});var r={};e.forEach(function(e){var t=a[e.getIn(["call_price","quote","asset_id"])],n=a[e.getIn(["call_price","base","asset_id"])],s=t.bitasset.current_feed.settlement_price;if(s.base.asset_id===s.quote.asset_id)r[t.id]={ratio:null};else{var o=new We.a({amount:e.get("collateral"),asset_id:n.id,precision:n.precision}),i=new We.a({amount:e.get("debt"),asset_id:t.id,precision:t.precision}),l=t.bitasset.current_feed.maintenance_collateral_ratio/1e3,c=new We.c({priceObject:t.bitasset.current_feed.settlement_price,market_base:t.bitasset.current_feed.settlement_price.quote.asset_id,sqr:t.bitasset.current_feed.maximum_short_squeeze_ratio,assets:a}),u={ratio:o.getAmount({real:!0})/(i.getAmount({real:!0})/c.toReal())};if(isNaN(u.ratio))return null;u.ratio<l?u.statusClass="danger":u.ratio<l+.5?u.statusClass="warning":u.statusClass=null,r[t.id]=u}}),t(r)})}).catch(n)})).then(function(e){var n=null;for(var a in e)n=e[a].statusClass||n;t.setState({globalMarginStatus:n})})}},{key:"componentWillReceiveProps",value:function(e){e.account!==this.props.account&&(this._checkMarginStatus(e),this.priceRefs={},this.valueRefs={},this.changeRefs={},setTimeout(this.forceUpdate.bind(this),500))}},{key:"shouldComponentUpdate",value:function(e,t){return!(b.a.are_equal_shallow(e.balanceAssets,this.props.balanceAssets)&&b.a.are_equal_shallow(e.backedCoins,this.props.backedCoins)&&b.a.are_equal_shallow(e.balances,this.props.balances)&&e.account===this.props.account&&e.isMyAccount===this.props.isMyAccount&&e.settings===this.props.settings&&e.hiddenAssets===this.props.hiddenAssets&&b.a.are_equal_shallow(t,this.state))}},{key:"_onSettleAsset",value:function(e,t){t.preventDefault(),this.setState({settleAsset:e}),this.refs.settlement_modal.show()}},{key:"_hideAsset",value:function(e,t){Le.a.hideAsset(e,t)}},{key:"_showDepositWithdraw",value:function(e,t,n,a){var r=this.props.account;st.b.showDepositModal(r.get("name"),t)}},{key:"_showWithdrawModal",value:function(e,t,n,a){this.props.account;st.b.showWithdrawModal(t)}},{key:"_getSeparator",value:function(e){return e?a.createElement("span",null," | "):null}},{key:"_onNavigate",value:function(e,t){t.preventDefault(),this.props.router.push(e)}},{key:"_renderBalances",value:function(e,t,n){var r=this,s=this.props.core_asset,o=this.props,i=o.settings,c=o.hiddenAssets,u=o.orders,p=i.get("unit")||s.get("symbol"),d=i.get("showAssetPercent",!1),m=function(e,t){var n=e&&e.has("bitasset_data_id"),s="cp_modal_"+e.get("id");return{isBitAsset:n,borrowModal:n?a.createElement(K.a,{ref:s,quote_asset:e.get("id"),backing_asset:e.getIn(["bitasset","options","short_backing_asset"]),account:t}):null,borrowLink:n?a.createElement("a",{onClick:function(){q.a.hide(),r.refs[s].show()}},a.createElement(V.a,{name:"dollar",className:"icon-14px"})):null}},h=[];return e.forEach(function(e){var t=E.b.getObject(e);if(t){var n,o,i,f=t.get("asset_type"),b=E.b.getObject(f),g="";if(!b)return null;var y=b.get("symbol");console.debug("AssetName: ",y);var _="1.3.0"!==b.get("id"),w=p!==s.get("symbol"),k=Fe.a.parseDescription(b.getIn(["options","description"])).market;-1===(g=b.get("symbol")).indexOf("OPEN.")||k||(k="USD");var O=k||p;_&&O===g&&(O=s.get("symbol")),n=_?a.createElement(G.b,{to:"/market/"+b.get("symbol")+"_"+O},a.createElement(V.a,{name:"trade",className:"icon-14px"})):w?a.createElement(G.b,{to:"/market/"+b.get("symbol")+"_"+p},a.createElement(V.a,{name:"trade",className:"icon-14px"})):"-",i=a.createElement(G.b,{to:"/transfer?asset="+b.get("id")},a.createElement(V.a,{name:"transfer",className:"icon-14px"}));var j=m(b,r.props.account),A=j.isBitAsset,N=j.borrowModal,C=j.borrowLink;o=a.createElement("a",{href:"javascript:;",onClick:r._onSettleAsset.bind(r,b.get("id"))},a.createElement(V.a,{name:"settle",className:"icon-14px"}));var x=!c.includes(f),P=!!t.get("balance"),T=!!u[f],D=!!ot.d.ADDRESS_TYPES[b.get("symbol")],q=D&&P&&0!=t.get("balance"),I=!!r.props.bridgeCoins.get(g);h.push(a.createElement("tr",{key:b.get("symbol"),style:{maxWidth:"100rem"}},a.createElement("td",{style:{textAlign:"left",paddingLeft:10}},a.createElement(Je.a,{asset:b.get("id")})),a.createElement("td",{style:{textAlign:"right"}},P||T?a.createElement(l.a,{balance:e,hide_asset:!0}):null),a.createElement("td",{style:{textAlign:"right"},className:"column-hide-small"},a.createElement(R.b,{refCallback:function(e){e&&e.refs.bound_component&&(r.priceRefs[b.get("symbol")]=e.refs.bound_component)},fromAsset:b.get("id"),hide_symbols:!0})),a.createElement("td",{style:{textAlign:"right"},className:"column-hide-small"},a.createElement(H,{refCallback:function(e){e&&e.refs.bound_component&&(r.changeRefs[b.get("symbol")]=e.refs.bound_component)},fromAsset:b.get("id"),toAsset:p,hide_symbols:!0})),a.createElement("td",{style:{textAlign:"right"},className:"column-hide-small"},P||T?a.createElement(S.a,{balance:e,toAsset:p,hide_asset:!0,refCallback:function(e){e&&e.refs.bound_component&&(r.valueRefs[b.get("symbol")]=e.refs.bound_component)}}):null),d?a.createElement("td",{style:{textAlign:"right"}},P?a.createElement(l.a,{balance:e,asPercentage:!0}):null):null,a.createElement("td",null,i),a.createElement("td",null,I&&r.props.isMyAccount?a.createElement("span",null,a.createElement("a",{onClick:r._showDepositWithdraw.bind(r,"bridge_modal",y,!1)},a.createElement(V.a,{name:"dollar",className:"icon-14px"}))):"-"),a.createElement("td",null,D&&r.props.isMyAccount?a.createElement("span",null,a.createElement("a",{onClick:r._showDepositWithdraw.bind(r,"deposit_modal",y,!1)},a.createElement(V.a,{name:"deposit",className:"icon-14px"}))):"-"),a.createElement("td",null,q&&r.props.isMyAccount?a.createElement("span",null,a.createElement("a",{className:q?"":"disabled",onClick:q?r._showWithdrawModal.bind(r,"withdraw_modal",y,!1):function(){}},a.createElement(V.a,{name:"withdraw",className:"icon-14px"}))):"-"),a.createElement("td",null,n),a.createElement("td",null,A?a.createElement("div",{className:"inline-block","data-place":"bottom","data-tip":v.a.translate("tooltip.borrow",{asset:g})},C,N):"-"),a.createElement("td",null,A?a.createElement("div",{className:"inline-block","data-place":"bottom","data-tip":v.a.translate("tooltip.settle",{asset:g})},o):"-"),a.createElement("td",{style:{textAlign:"center"},className:"column-hide-small","data-place":"bottom","data-tip":v.a.translate("tooltip."+(x?"hide_asset":"show_asset"))},a.createElement("a",{style:{marginRight:0},className:x?"order-cancel":"action-plus",onClick:r._hideAsset.bind(r,f,x)},a.createElement(V.a,{name:x?"cross-circle":"plus-circle",className:"icon-14px"})))))}}),t&&t.filter(function(e){var t=!1;r.props.backedCoins.get("OPEN",[]).forEach(function(n){n&&n.symbol===e&&(t=!0)}),r.props.bridgeCoins.get(e)&&(t=!0);var n=!0;return h.forEach(function(t){t.key===e&&(n=!1)}),n&&t}).forEach(function(e){var t=E.b.getAsset(e);if(t&&r.props.isMyAccount){var o=!c.includes(t.get("id")),i=!!r.props.backedCoins.get("OPEN",[]).find(function(e){return e.symbol===t.get("symbol")}),l=!!r.props.bridgeCoins.get(t.get("symbol")),u="1.3.0"!==t.get("id"),p=Fe.a.parseDescription(t.getIn(["options","description"])).market;-1===t.get("symbol").indexOf("OPEN.")||p||(p="USD");var d=p||(s?s.get("symbol"):"CYB"),f=u?a.createElement(G.b,{to:"/market/"+t.get("symbol")+"_"+d},a.createElement(V.a,{name:"trade",className:"icon-14px"})):"-",b=m(t,r.props.account),g=b.isBitAsset,y=b.borrowModal,_=b.borrowLink;(o&&n||!o&&!n)&&h.push(a.createElement("tr",{key:t.get("symbol"),style:{maxWidth:"100rem"}},a.createElement("td",{style:{textAlign:"left",paddingLeft:10}},a.createElement(Je.a,{asset:t.get("id")})),a.createElement("td",null),a.createElement("td",null),a.createElement("td",{className:"column-hide-small",colSpan:2}),a.createElement("td",{style:{textAlign:"center"}},l&&r.props.isMyAccount?a.createElement("span",null,a.createElement("a",{onClick:r._showDepositWithdraw.bind(r,"bridge_modal",e,!1)},a.createElement(V.a,{name:"dollar",className:"icon-14px"}))):"-"),a.createElement("td",null,i&&r.props.isMyAccount?a.createElement("span",null,a.createElement("a",{onClick:r._showDepositWithdraw.bind(r,"deposit_modal",e,!1)},a.createElement(V.a,{name:"deposit",className:"icon-14px"}))):"-"),a.createElement("td",null,"-"),a.createElement("td",{style:{textAlign:"center"}},f),a.createElement("td",null,g?a.createElement("div",{className:"inline-block","data-place":"bottom","data-tip":v.a.translate("tooltip.borrow",{asset:t.get("symbol")})},_,y):"-"),a.createElement("td",null,"-"),a.createElement("td",{style:{textAlign:"center"},className:"column-hide-small","data-place":"bottom","data-tip":v.a.translate("tooltip."+(o?"hide_asset":"show_asset"))},a.createElement("a",{style:{marginRight:0},className:o?"order-cancel":"action-plus",onClick:r._hideAsset.bind(r,t.get("id"),o)},a.createElement(V.a,{name:o?"cross-circle":"plus-circle",className:"icon-14px"})))))}}),h.sort(this.sortFunctions[this.state.sortKey]),h}},{key:"_toggleHiddenAssets",value:function(){this.setState({showHidden:!this.state.showHidden})}},{key:"_toggleSortOrder",value:function(e){this.state.sortKey===e?(Le.a.changeViewSetting({portfolioSortDirection:!this.state.sortDirection}),this.setState({sortDirection:!this.state.sortDirection})):(Le.a.changeViewSetting({portfolioSort:e}),this.setState({sortKey:e}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.account,s=t.hiddenAssets,o=t.settings,l=t.orders,u=this.state.showHidden;if(!n)return null;var p=[],d={},m={};n.toJS&&n.has("call_orders")&&(p=n.get("call_orders").toJS());var h=void 0,f=void 0,g=n.get("balances"),y=r.List(),_=r.List();(p.forEach(function(e){var t=E.b.getObject(e);if(t){var n=t.getIn(["call_price","base","asset_id"]);d[n]?d[n]+=parseInt(t.get("collateral"),10):d[n]=parseInt(t.get("collateral"),10);var a=t.getIn(["call_price","quote","asset_id"]);m[a]?m[a]+=parseInt(t.get("debt"),10):m[a]=parseInt(t.get("debt"),10)}}),g)&&((g=g.filter(function(e,t){var n=E.b.getObject(e),a=E.b.getAsset(n.get("asset_type"));return!(!a||Object(it.a)(a.get("symbol")))&&!(n&&!n.get("balance")&&!l[t])})).forEach(function(e,t){s.includes(t)?_=_.push(e):y=y.push(e)}),h=this._renderBalances(y,this.state.alwaysShowAssets,!0),f=this._renderBalances(_,this.state.alwaysShowAssets));var v=y.concat(_),w=(a.createElement(c.a,{noTip:!0,balances:v,openOrders:l,debt:m,collateral:d,hide_asset:!0}),a.createElement(c.a,{noTip:!0,balances:v,hide_asset:!0})),k=a.createElement(c.a,{noTip:!0,balances:r.List(),openOrders:l,hide_asset:!0}),O=(a.createElement(c.a,{noTip:!0,balances:r.List(),debt:m,collateral:d,hide_asset:!0}),a.createElement(c.a,{noTip:!0,balances:r.List(),debt:m,hide_asset:!0}),a.createElement(c.a,{noTip:!0,balances:r.List(),collateral:d,hide_asset:!0}),o.get("unit")||this.props.core_asset.get("symbol")),j=a.createElement($.a,{noLink:!0,string:"account.total",keys:[{type:"asset",value:O,arg:"asset"}]});h.push(a.createElement("tr",{key:"portfolio",className:"total-value"},a.createElement("td",{style:{textAlign:"left",paddingLeft:10}},j),a.createElement("td",null),a.createElement("td",{className:"column-hide-small"}),a.createElement("td",null),a.createElement("td",{className:"column-hide-small",style:{textAlign:"right"}},w),a.createElement("td",{colSpan:9})));var A=o.get("showAssetPercent",!1),N=(this.props.backedCoins.get("OPEN",[]).find(function(t){return t.symbol===e.state.depositAsset}),this.props.backedCoins.get("OPEN",[]).find(function(t){return t.symbol===e.state.withdrawAsset}),this.props.bridgeCoins.get(this.state.bridgeAsset),E.b.getAsset(O)),S=N?N.get("symbol"):"";if(N){var x=b.a.replaceName(S,!!N.get("bitasset_data_id")),P=x.prefix,T=x.name;S=(P||"")+T}a.createElement("span",{style:{visibility:"hidden"}},"H");return a.createElement("div",{className:"app-tables with-shadow",ref:"appTables"},a.createElement("div",{className:"content-block small-12"},a.createElement("div",{className:"generic-bordered-box"},a.createElement(Be.b,{defaultActiveTab:1,segmented:!1,setting:"overviewTab",className:"overview-tabs",contentClass:"no-padding",tabsClass:"account-overview no-padding bordered-header content-block"},a.createElement(Be.a,{title:"account.portfolio",subText:w},a.createElement("div",{className:"hide-selector"},a.createElement("div",{className:Ue()("hide-selector-item",{inactive:u&&f.length}),onClick:u?this._toggleHiddenAssets.bind(this):function(){}},a.createElement(i.a,{content:"account.hide_hidden"})),f.length?a.createElement("div",{className:Ue()("hide-selector-item",{inactive:!u}),onClick:u?function(){}:this._toggleHiddenAssets.bind(this)},a.createElement(i.a,{content:"account.show_hidden"})):null),a.createElement("table",{className:"table dashboard-table"},a.createElement("thead",null,a.createElement("tr",null,a.createElement("th",{style:{textAlign:"left",paddingLeft:10},className:"clickable",onClick:this._toggleSortOrder.bind(this,"alphabetic")},a.createElement(i.a,{component:"span",content:"account.asset"})),a.createElement("th",{style:{textAlign:"right"}},a.createElement(i.a,{content:"account.qty"})),a.createElement("th",{onClick:this._toggleSortOrder.bind(this,"priceValue"),className:"column-hide-small clickable",style:{textAlign:"right"}},a.createElement(i.a,{content:"exchange.price"})," (",a.createElement(z.a,{name:O}),")"),a.createElement("th",{onClick:this._toggleSortOrder.bind(this,"changeValue"),className:"column-hide-small clickable",style:{textAlign:"right"}},a.createElement(i.a,{content:"account.hour_24_short"})),a.createElement("th",{onClick:this._toggleSortOrder.bind(this,"totalValue"),style:{textAlign:"right"},className:"column-hide-small clickable"},a.createElement($.a,{noLink:!0,string:"account.eq_value_header",keys:[{type:"asset",value:O,arg:"asset"}]})),A?a.createElement("th",{style:{textAlign:"right"}},a.createElement(i.a,{component:"span",content:"account.percent"})):null,a.createElement("th",null,a.createElement(i.a,{content:"header.payments"})),a.createElement("th",null,a.createElement(i.a,{content:"exchange.buy"})),a.createElement("th",null,a.createElement(i.a,{content:"modal.deposit.submit"})),a.createElement("th",null,a.createElement(i.a,{content:"modal.withdraw.submit"})),a.createElement("th",null,a.createElement(i.a,{content:"account.trade"})),a.createElement("th",null,a.createElement(i.a,{content:"exchange.borrow"})),a.createElement("th",null,a.createElement(i.a,{content:"account.settle"})),a.createElement("th",{className:"column-hide-small"},a.createElement(i.a,{content:u?"account.perm.show":"exchange.hide"})))),a.createElement("tbody",null,u&&f.length?f:h))),a.createElement(Be.a,{title:"account.open_orders",subText:k},a.createElement(He.default,Object.assign({},this.props),a.createElement("tbody",null,a.createElement("tr",{className:"total-value"},a.createElement("td",{style:{textAlign:"center"}},j),a.createElement("td",{colSpan:3}),a.createElement("td",{style:{textAlign:"center"}},k),a.createElement("td",{colSpan:1}),this.props.isMyAccount?a.createElement("td",null):null)))),!1,this.props.isMyAccount&&a.createElement(Be.a,{title:"account.vested"},a.createElement("div",{className:"content-block"},a.createElement("div",{className:"generic-bordered-box"},a.createElement(rt,null)))),a.createElement(Be.a,{title:"account.activity"},a.createElement(le.a,{accountsList:r.fromJS([n.get("id")]),compactView:!1,showMore:!0,fullHeight:!0,limit:15,showFilters:!0,dashboard:!0})),n.get("proposals")&&n.get("proposals").size?a.createElement(Be.a,{title:"explorer.proposals.title",subText:n.get("proposals")?n.get("proposals").size:0},a.createElement(Me,{className:"dashboard-table",account:n.get("id")})):null),a.createElement(C,{ref:"settlement_modal",asset:this.state.settleAsset,account:n.get("name")}))))}}]),t}()).propTypes={balanceAssets:h.a.ChainAssetsList,core_asset:h.a.ChainAsset.isRequired},ht.defaultProps={core_asset:"1.3.0"},ht);dt=Object(f.a)(dt);var mt=function(e){function t(){return ct(this,t),ut(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return pt(t,a["Component"]),lt(t,[{key:"componentWillMount",value:function(){}},{key:"render",value:function(){var e=this.props.balances.map(function(e){return e&&e.get("asset_type")}).filter(function(e){return!!e}),t=this.props.orders.reduce(function(e,t){if(!t)return e;var n=t.getIn(["sell_price","base","asset_id"]);return e[n]||(e[n]=0),e[n]+=parseInt(t.get("for_sale"),10),e},{});for(var n in t)-1===e.indexOf(n)&&e.push(n);return a.createElement(dt,Object.assign({},this.state,this.props,{orders:t,balanceAssets:r.List(e)}))}}]),t}();mt.propTypes={balances:h.a.ChainObjectsList,orders:h.a.ChainObjectsList},mt.defaultProps={balances:r.List(),orders:r.List()};var ht;t.default=Object(f.a)(mt)},287:
/*!**********************************************!*\
  !*** ./components/Account/AccountOrders.tsx ***!
  \**********************************************/
/*! exports provided: default */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is referenced from these modules with unsupported syntax: ./Routes.jsx (referenced with import()) */function(e,t,n){"use strict";n.r(t);var a=n(/*! react */0),r=n(/*! ../Exchange/MyOpenOrders */1591),s=n(/*! counterpart */14),o=n.n(s),i=n(/*! actions/MarketsActions */47),l=n(/*! cybexjs */2),c=n(/*! common/MarketClasses */33),u=n(/*! alt-react */25),p=n(/*! stores/SettingsStore */13),d=n(/*! actions/SettingsActions */22),m=n(/*! common/market_utils */63),h=n(/*! utils/Market */163),f=n(/*! qtb */66),b=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["Component"]),b(t,[{key:"_cancelLimitOrder",value:function(e,t){t.preventDefault(),i.a.cancelLimitOrder(this.props.account.get("id"),e).catch(function(e){console.log("cancel order error:",e)})}},{key:"onFlip",value:function(e){var t={};t[e]=!this.props.marketDirections.get(e),d.a.changeMarketDirection(t)}},{key:"render",value:function(){var e=this,t=this.props,n=t.account,s=(t.marketDirections,o.a.translate("account.perm.cancel")),i={},u={};if(!n.get("orders"))return null;n.get("orders").forEach(function(t){var n=l.b.getObject(t).toJS(),o=l.b.getAsset(n.sell_price.base.asset_id),p=l.b.getAsset(n.sell_price.quote.asset_id);if(!o||!p)return null;if(Object(f.a)(o.get("symbol"))||Object(f.a)(p.get("symbol")))return null;var d=Object(h.b)(o,p),b=d.base,y=d.quote;if(b&&y){var _,v=(g(_={},b.get("id"),{precision:b.get("precision")}),g(_,y.get("id"),{precision:y.get("precision")}),_),E=m.a.getMarketID(b,y).marketID;i[E]||(i[E]={base:{id:b.get("id"),symbol:b.get("symbol"),precision:b.get("precision")},quote:{id:y.get("id"),symbol:y.get("symbol"),precision:y.get("precision")}});var w=new c.d(n,v,i[E].quote.id),k=l.b.getAsset(i[E].base.id),O=l.b.getAsset(i[E].quote.id);u[E]||(u[E]=[]),u[E].push(a.createElement(r.b,{ref:i[E].base.symbol,key:n.id,order:w,base:k,quote:O,cancel_text:s,showSymbols:!1,invert:!0,onCancel:e._cancelLimitOrder.bind(e,n.id),price:w.getPrice(),dashboard:!0,isMyAccount:e.props.isMyAccount,settings:e.props.settings,onFlip:e.onFlip.bind(e,E)}))}});var p=[];for(var d in u)u[d].length&&(p.push(a.createElement("tbody",{key:d},u[d].sort(function(e,t){return e.props.price-t.props.price}))),0);return a.createElement("div",{className:"grid-content no-overflow no-padding",style:{paddingBottom:15}},a.createElement("table",{className:"table table-striped dashboard-table"},a.createElement(r.c,{settings:this.props.settings,dashboard:!0,isMyAccount:this.props.isMyAccount}),p,this.props.children))}}]),t}();y=Object(u.connect)(y,{listenTo:function(){return[p.b]},getProps:function(){return{marketDirections:p.b.getState().marketDirections}}}),t.default=y}}]);