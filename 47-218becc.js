(window.webpackJsonp=window.webpackJsonp||[]).push([[47],{1392:
/*!*************************************************!*\
  !*** ./components/Utility/BalanceComponent.jsx ***!
  \*************************************************/
/*! exports provided: default */
/*! exports used: default */function(e,t,n){"use strict";var r=n(/*! react */0),a=n(/*! prop-types */3),o=n(/*! ./FormattedAsset */19),c=n(/*! ./ChainTypes */21),i=n(/*! ./BindToChainState */24),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),l(t,[{key:"render",value:function(){var e=Number(this.props.balance.get("balance"));console.debug("NUMBER: ",e);var t=this.props.balance.get("asset_type");return r.createElement(o.a,{amount:e,asset:t,asPercentage:this.props.asPercentage,assetInfo:this.props.assetInfo,replace:this.props.replace,hide_asset:this.props.hide_asset})}}]),t}();s.propTypes={balance:c.a.ChainObject.isRequired,assetInfo:a.node,hide_asset:a.bool},s.defaultProps={hide_asset:!1},t.a=Object(i.a)(s,{keep_updating:!0})},1595:
/*!*************************************!*\
  !*** ./assets/cybex_rainbow_lg.png ***!
  \*************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){e.exports=n.p+"ad573565f92bed4d2671f9198c01e127.png"},1610:
/*!********************************************************!*\
  !*** ./components/Account/AccountInfo.tsx + 1 modules ***!
  \********************************************************/
/*! exports provided: default */
/*! exports used: default */
/*! ModuleConcatenation bailout: Cannot concat with ./actions/ModalActions.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./components/Account/AccountImage.tsx */
/*! ModuleConcatenation bailout: Cannot concat with ./components/Modal/BaseModalNew.tsx */
/*! ModuleConcatenation bailout: Cannot concat with ./stores/ModalStore.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./utils/index.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./components/Utility/BindToChainState.jsx */
/*! ModuleConcatenation bailout: Cannot concat with ./components/Utility/ChainTypes.js */
/*! ModuleConcatenation bailout: Cannot concat with ./lib/alt-react/lib/index.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ./lib/counterpart/index.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/prop-types/index.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/qrcode.react/lib/index.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/react-translate-component/index.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/react/index.js (<- Module is not an ECMAScript module) */function(e,t,n){"use strict";var r=n(0),a=n(3),o=n(165),c=n(21),i=n(24),l=n(1576),s=n.n(l),u=n(197),f=n(14),m=n.n(f),p=n(25),h=n(119),d=n(49),b=n(1),v=n.n(b),y=n(168),g=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var _=n(/*! assets/cybex_rainbow_lg.png */1595),E=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleNeverShow=function(e){var t=e.target.checked;return n.setState({neverShow:t}),d.a.neverShow(n.props.modalId,t),e.target.value},n.state={neverShow:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),g(t,[{key:"render",value:function(){var e=this.props,t=(e.modalId,e.open),n=(e.locale,e.accountName);return t&&r.createElement(y.a,{modalId:this.props.modalId},r.createElement(v.a,{className:"text-center",component:"h3",content:"cybex.game.title"}),r.createElement("div",{className:"modal-content game-modal"},r.createElement("section",null,r.createElement("img",{src:_,alt:"The badge of Rainbow Cybex"}))),r.createElement("div",{className:"modal-footer"},r.createElement("p",{className:"text-center"},r.createElement("strong",null,n),r.createElement(v.a,{content:"cybex.game.content"}))))}}]),t}(),w=Object(p.connect)(E,{listenTo:function(){return[h.a]},getProps:function(e){var t=e.modalId;return{open:h.a.getState().showingModals.has(t)}}}),O=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var j=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={hover:!1},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),O(t,[{key:"render",value:function(){var e=this.props,t=e.account,n=e.image_size,a=t.get("lifetime_referrer_name")===t.get("name");r.createElement("div",{className:"account-image"},r.createElement(s.a,{size:n.width,value:t.get("name")})),this.state.hover,this.props.showQR;return r.createElement("div",{style:{maxWidth:n.width},className:"account-info"+(this.props.my_account?" my-account":"")},this.props.title?r.createElement("h4",null,this.props.title):null,r.createElement(o.a,{size:n,account:t.get("name"),custom_image:null}),r.createElement("p",{className:this.props.titleClass},r.createElement("span",{title:m.a.translate("account.member.lifetime"),className:Object(u.b)("",{lifetime:a})},t.get("name"))),r.createElement(w,{modalId:"thanks_"+t.get("name"),accountName:t.get("name")}))}}]),t}();j.propTypes={account:c.a.ChainAccount.isRequired,title:a.string,image_size:a.object.isRequired,my_account:a.bool},j.defaultProps={title:null,image_size:{height:120,width:120},showQR:!1,titleClass:"account-title"};t.a=Object(i.a)(j)},1865:
/*!***************************************!*\
  !*** ../node_modules/base-x/index.js ***!
  \***************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t){e.exports=function(e){for(var t={},n=e.length,r=e.charAt(0),a=0;a<e.length;a++)t[e.charAt(a)]=a;function o(e){if(0===e.length)return[];for(var a=[0],o=0;o<e.length;o++){var c=t[e[o]];if(void 0===c)return;for(var i=0,l=c;i<a.length;++i)l+=a[i]*n,a[i]=255&l,l>>=8;for(;l>0;)a.push(255&l),l>>=8}for(var s=0;e[s]===r&&s<e.length-1;++s)a.push(0);return a.reverse()}return{encode:function(t){if(0===t.length)return"";for(var r=[0],a=0;a<t.length;++a){for(var o=0,c=t[a];o<r.length;++o)c+=r[o]<<8,r[o]=c%n,c=c/n|0;for(;c>0;)r.push(c%n),c=c/n|0}for(var i="",l=0;0===t[l]&&l<t.length-1;++l)i+=e[0];for(var s=r.length-1;s>=0;--s)i+=e[r[s]];return i},decodeUnsafe:o,decode:function(e){var t=o(e);if(t)return t;throw new Error("Non-base"+n+" character")}}}},1866:
/*!*************************************!*\
  !*** ../node_modules/bs58/index.js ***!
  \*************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){var r=n(/*! base-x */1865);e.exports=r("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},1867:
/*!**********************************!*\
  !*** ./lib/common/base58.coffee ***!
  \**********************************/
/*! no static exports found */
/*! exports used: default */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){e.exports=n(/*! bs58 */1866)},2018:
/*!*****************************************!*\
  !*** ./components/Transfer/Invoice.jsx ***!
  \*****************************************/
/*! exports provided: default */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is referenced from these modules with unsupported syntax: ./Routes.jsx (referenced with import()) */function(e,t,n){"use strict";n.r(t);var r=n(/*! react */0),a=(n(/*! prop-types */3),n(/*! classnames */40)),o=n.n(a),c=n(/*! ../Utility/FormattedAsset */19),i=n(/*! actions/AccountActions */56),l=n(/*! ../Account/AccountSelector */298),s=n(/*! ../Account/AccountInfo */1610),u=n(/*! ../Utility/BalanceComponent */1392),f=n(/*! cybexjs */2),m=n(/*! actions/NotificationActions */68),p=n(/*! stores/TransactionConfirmStore */237),h=n(/*! lzma */291),d=n(/*! common/base58 */1867),b=n.n(d),v=n(/*! common/utils */8),y=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var g=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={invoice:null,pay_from_name:null,pay_from_account:null,error:null},n.onBroadcastAndConfirm=n.onBroadcastAndConfirm.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),y(t,[{key:"componentDidMount",value:function(){var e=this,t=b.a.decode(this.props.params.data);try{Object(h.decompress)(t,function(t){var n=JSON.parse(t);Object(f.g)(f.b.getAsset,[n.currency]).then(function(t){e.setState({invoice:n,asset:t[0]})})})}catch(e){console.dir(e),this.setState({error:e.message})}}},{key:"parsePrice",value:function(e){var t=e.match(/([\d\,\.\s]+)/);return!t||t.length,parseFloat(t[1].replace(/[\,\s]/g,""))}},{key:"getTotal",value:function(e){var t=this;return e&&0!==e.length?e.reduce(function(e,n){var r=t.parsePrice(n.price);return r?e+n.quantity*r:e},0):0}},{key:"onBroadcastAndConfirm",value:function(e){if(e.included&&e.broadcasted_transaction&&(p.a.unlisten(this.onBroadcastAndConfirm),p.a.reset(),this.state.invoice.callback)){var t=e.broadcasted_transaction,n=this.state.invoice.callback+"?block="+t.ref_block_num+"&trx="+t.id();window.location.href=n}}},{key:"onPayClick",value:function(e){var t=this;e.preventDefault();var n=this.state.asset,r=v.a.get_asset_precision(n.get("precision")),a=this.getTotal(this.state.invoice.line_items),o=f.b.getAccount(this.state.invoice.to);o?i.a.transfer(this.state.pay_from_account.get("id"),o.get("id"),parseInt(a*r,10),n.get("id"),this.state.invoice.memo).then(function(){p.a.listen(t.onBroadcastAndConfirm)}).catch(function(e){console.log("error: ",e)}):m.b.error("Account "+this.state.invoice.to+" not found")}},{key:"fromChanged",value:function(e){this.setState({pay_from_name:e})}},{key:"onFromAccountChanged",value:function(e){this.setState({pay_from_account:e})}},{key:"render",value:function(){var e=this;if(console.log("-- Invoice.render --\x3e",this.state.invoice),this.state.error)return r.createElement("div",null,r.createElement("br",null),r.createElement("h4",{className:"has-error text-center"},this.state.error));if(!this.state.invoice)return null;if(!this.state.asset)return r.createElement("div",null,r.createElement("br",null),r.createElement("h4",{className:"has-error text-center"},"Asset ",this.state.invoice.currency," is not supported by this blockchain."));var t=this.state.invoice,n=this.getTotal(t.line_items),a=this.state.invoice.currency,i=null;if(this.state.pay_from_account){var f=this.state.pay_from_account.get("balances");console.log("-- Invoice.render balances --\x3e",f.get(this.state.asset.get("id"))),i=f.get(this.state.asset.get("id"))}var m=t.line_items.map(function(t){var n=e.parsePrice(t.price),o=t.quantity*n;return r.createElement("tr",null,r.createElement("td",null,r.createElement("div",{className:"item-name"},t.label),r.createElement("div",{className:"item-description"},t.quantity," x"," ",r.createElement(c.a,{amount:t.price,asset:a,exact_amount:!0}))),r.createElement("td",null,r.createElement(c.a,{amount:o,asset:a,exact_amount:!0})))}),p=o()("button",{disabled:!this.state.pay_from_account});return r.createElement("div",{className:"grid-block vertical"},r.createElement("div",{className:"grid-content"},r.createElement("div",{className:"content-block invoice"},r.createElement("br",null),r.createElement("h3",null,"Pay Invoice"),r.createElement("h4",null,t.memo),r.createElement("br",null),r.createElement("div",null,r.createElement(s.a,{title:t.to_label,account:t.to,image_size:{height:80,width:80}}),r.createElement("br",null),r.createElement("table",{className:"table"},r.createElement("thead",null,r.createElement("tr",null,r.createElement("th",null,"Items"),r.createElement("th",null,"Amount"))),r.createElement("tbody",null,m,r.createElement("tr",null,r.createElement("td",{className:"text-right"},"Total:"),r.createElement("td",null,r.createElement(c.a,{amount:n,asset:a,exact_amount:!0}))))),r.createElement("br",null),r.createElement("br",null),r.createElement("form",null,r.createElement("div",{className:"grid-block"},r.createElement("div",{className:"grid-content medium-4"},r.createElement(l.a,{label:"transfer.pay_from",accountName:this.state.pay_from_name,onChange:this.fromChanged.bind(this),onAccountChanged:this.onFromAccountChanged.bind(this),account:this.state.pay_from_name})),this.state.pay_from_account?r.createElement("div",{className:"grid-content medium-1"},r.createElement("label",null,"Balance"),r.createElement(u.a,{balance:i})):null),r.createElement("br",null),r.createElement("a",{href:!0,className:p,onClick:this.onPayClick.bind(this)},"Pay"," ",r.createElement(c.a,{amount:n,asset:a,exact_amount:!0})," ","to ",t.to))))))}}]),t}();t.default=g}}]);