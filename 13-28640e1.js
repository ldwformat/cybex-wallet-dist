(window.webpackJsonp=window.webpackJsonp||[]).push([[13,31],{1392:
/*!*************************************************!*\
  !*** ./components/Utility/BalanceComponent.jsx ***!
  \*************************************************/
/*! exports provided: default */
/*! exports used: default */function(e,t,n){"use strict";var a=n(/*! react */0),r=n(/*! prop-types */3),o=n(/*! ./FormattedAsset */19),s=n(/*! ./ChainTypes */21),i=n(/*! ./BindToChainState */24),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["Component"]),l(t,[{key:"render",value:function(){var e=Number(this.props.balance.get("balance"));console.debug("NUMBER: ",e);var t=this.props.balance.get("asset_type");return a.createElement(o.a,{amount:e,asset:t,asPercentage:this.props.asPercentage,assetInfo:this.props.assetInfo,replace:this.props.replace,hide_asset:this.props.hide_asset})}}]),t}();c.propTypes={balance:s.a.ChainObject.isRequired,assetInfo:r.node,hide_asset:r.bool},c.defaultProps={hide_asset:!1},t.a=Object(i.a)(c,{keep_updating:!0})},1395:
/*!***********************************************!*\
  !*** ./components/Utility/AmountSelector.jsx ***!
  \***********************************************/
/*! exports provided: default */
/*! exports used: default */function(e,t,n){"use strict";var a=n(/*! react */0),r=n(/*! prop-types */3),o=n(/*! react-translate-component */1),s=n.n(o),i=n(/*! ../Utility/ChainTypes */21),l=n(/*! ../Utility/BindToChainState */24),c=n(/*! ./FormattedAsset */19),u=n(/*! ./FloatingDropdown */295),p=n(/*! immutable */7),d=n.n(p),f=n(/*! counterpart */14),m=n.n(f),h=n(/*! components/Common */109),g=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _=function(e){function t(){return b(this,t),v(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return y(t,a["Component"]),g(t,[{key:"render",value:function(){return 0===this.props.assets.length?null:a.createElement(u.a,{entries:this.props.assets.map(function(e){return e&&e.get("symbol")}).filter(function(e){return!!e}),values:this.props.assets.reduce(function(e,t){return t&&t.get("symbol")&&(e[t.get("symbol")]=t),e},{}),singleEntry:this.props.assets[0]?a.createElement(c.a,{asset:this.props.assets[0].get("id"),amount:0,hide_amount:!0}):null,value:this.props.value,onChange:this.props.onChange})}}]),t}();_.propTypes={assets:i.a.ChainAssetsList,value:r.string,onChange:r.func},_=Object(l.a)(_);var E=function(e){function t(){return b(this,t),v(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return y(t,a["Component"]),g(t,[{key:"componentDidMount",value:function(){this.onAssetChange(this.props.asset)}},{key:"formatAmount",value:function(e){return e||(e=""),"number"==typeof e&&(e=e.toString()),e.trim().replace(/,/g,"")}},{key:"_onChange",value:function(e){var t=e.target.value;this.props.onChange({amount:t,asset:this.props.asset})}},{key:"onAssetChange",value:function(e){this.props.onChange({amount:this.props.amount,asset:e})}},{key:"render",value:function(){var e=this.props.error?m.a.translate(this.props.error):this.formatAmount(this.props.amount),t=this.props.isNumber;return a.createElement("div",{className:"amount-selector",style:this.props.style},a.createElement("label",{className:"right-label"},this.props.display_balance),a.createElement(s.a,{className:"left-label",component:"label",content:this.props.label}),a.createElement("div",{className:"inline-label input-wrapper"},t?a.createElement(h.l,{disabled:this.props.disabled,type:"number",valueFromOuter:!0,value:e||0,size:"small",placeholder:this.props.placeholder,onChange:this._onChange.bind(this),tabIndex:this.props.tabIndex,style:{width:"100%",marginBottom:0}}):a.createElement(h.l,{disabled:this.props.disabled,type:"text",valueFromOuter:!0,size:"small",value:e||"",placeholder:this.props.placeholder,onChange:this._onChange.bind(this),tabIndex:this.props.tabIndex,style:{width:"100%",marginBottom:0}}),a.createElement("div",{className:"form-label select floating-dropdown"},a.createElement(_,{ref:this.props.refCallback,value:this.props.asset.get("symbol"),assets:d.a.List(this.props.assets),onChange:this.onAssetChange.bind(this)}))))}}]),t}();E.propTypes={label:r.string,asset:i.a.ChainAsset.isRequired,assets:r.array,amount:r.any,placeholder:r.string,onChange:r.func.isRequired,tabIndex:r.number,error:r.string},E.defaultProps={disabled:!1},E=Object(l.a)(E),t.a=E},1397:
/*!***********************************!*\
  !*** ./services/GatewayConfig.ts ***!
  \***********************************/
/*! exports provided: JadePool, GATEWAY_URI, GATEWAY_QUERY_URI, GATEWAY_ID, CALLBACK_URL */
/*! exports used: GATEWAY_ID, GATEWAY_QUERY_URI, GATEWAY_URI, JadePool */function(e,t,n){"use strict";n.d(t,"d",function(){return a}),n.d(t,"c",function(){return r}),n.d(t,"b",function(){return o}),n.d(t,"a",function(){return s});var a={GATEWAY_ACCOUNT:"jade-gateway",ADDRESS_TYPES:{"TEST.ETH":"ETH","TEST.BTC":"BTC","TEST.USDT":"USDT","TEST.BAT":"BAT","TEST.VEN":"VEN","TEST.OMG":"OMG","TEST.SNT":"SNT","TEST.NAS":"NAS","TEST.KNC":"KNC","TEST.MT":"MT","TEST.PAY":"PAY","TEST.GET":"GET","TEST.TCT":"TCT","TEST.DPY":"DPY","TEST.MAD":"MAD","TEST.GNX":"GNX","TEST.KEY":"KEY","TEST.ENG":"ENG"},ADDRESS_ASSETS:{ETH:"TEST.ETH",BTC:"TEST.BTC",USDT:"TEST.USDT",BAT:"TEST.BAT",VEN:"TEST.VEN",OMG:"TEST.OMG",SNT:"TEST.SNT",NAS:"TEST.NAS",KNC:"TEST.KNC",PAY:"TEST.PAY",MT:"TEST.MT",GET:"TEST.GET",MAD:"TEST.MAD",TCT:"TEST.TCT",DPY:"TEST.DPY",GNX:"TEST.GNX",KEY:"TEST.KEY",ENG:"TEST.ENG"}},r="https://gatewaytest.cybex.io/gateway",o="https://gateway-query.cybex.io/",s="CybexGatewayDev"},1399:
/*!***********************************************!*\
  !*** ./actions/GatewayActions.ts + 1 modules ***!
  \***********************************************/
/*! exports provided: DEPOSIT_MODAL_ID, WITHDRAW_MODAL_ID, GatewayActions, default */
/*! exports used: DEPOSIT_MODAL_ID, GatewayActions, WITHDRAW_MODAL_ID, default */
/*! ModuleConcatenation bailout: Cannot concat with ./actions/NotificationActions.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./services/GatewayConfig.ts because of ./components/Account/AccountOverview.tsx */
/*! ModuleConcatenation bailout: Cannot concat with ./services/GatewayService.ts because of ./components/Gateway/WithdrawModal.tsx */
/*! ModuleConcatenation bailout: Cannot concat with ./stores/SettingsStore.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./utils/index.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./alt-instance.js */
/*! ModuleConcatenation bailout: Cannot concat with ./cybex/cybexjs/index.js */
/*! ModuleConcatenation bailout: Cannot concat with ./stores/WalletDb.js (<- Module uses injected variables (Buffer)) */function(e,t,n){"use strict";var a=n(11),r=n(15),o=n(13),s=n(201),i=n(1529),l=n(68),c=n(1397),u=n(2),p=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var d=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.op=t,this.signer=""}return p(e,[{key:"addSigner",value:function(e){this.signer=e}}]),e}();n.d(t,"a",function(){return g}),n.d(t,"c",function(){return b}),n.d(t,"b",function(){return _});var f=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var m=function(e,t,n,a){return new(n||(n=Promise))(function(r,o){function s(e){try{l(a.next(e))}catch(e){o(e)}}function i(e){try{l(a.throw(e))}catch(e){o(e)}}function l(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(s,i)}l((a=a.apply(e,t||[])).next())})},h=Object(s.a)("GatewayActions"),g="DEPOSIT_MODAL_ID",b="WITHDRAW_MODAL_ID",v=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=[],a=!0,o=!1,s=void 0;try{for(var i,l=e[Symbol.iterator]();!(a=(i=l.next()).done);a=!0){var c=i.value,u=r.a.getPrivateKey(c);if(u&&(n.push(u),n.length>=t))break}}catch(e){o=!0,s=e}finally{try{!a&&l.return&&l.return()}finally{if(o)throw s}}return n},y=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return f(e,[{key:"showDepositModal",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:g;return m(this,void 0,void 0,regeneratorRuntime.mark(function a(){var r;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(r=c.d.ADDRESS_TYPES[t]){a.next=3;break}return a.abrupt("return",l.a.error("No suitable asset for "+t+" to be deposited"));case 3:return a.next=5,this.updateDepositAddress(e,r);case 5:if(a.sent){a.next=8;break}return a.abrupt("return");case 8:this.openModal(n);case 9:case"end":return a.stop()}},a,this)}))}},{key:"showWithdrawModal",value:function(e){return m(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(h("Withdraw: ",e),n=c.d.ADDRESS_TYPES[e]){t.next=4;break}return t.abrupt("return",l.a.error("No suitable asset for "+e+" to be withdrawn"));case 4:return t.next=6,this.updateWithdrawInfo(e,n);case 6:if(t.sent){t.next=9;break}return t.abrupt("return");case 9:this.openModal(b);case 10:case"end":return t.stop()}},t,this)}))}},{key:"updateDepositAddress",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return m(this,void 0,void 0,regeneratorRuntime.mark(function a(){var r,o,s;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return r=void 0,h("Update Deposit Address: ",e,t,n),a.prev=2,a.next=5,Object(i.a)(e,t,n);case 5:o=r=a.sent,s=o.address,h("Address: ",s),a.next=15;break;case 10:return a.prev=10,a.t0=a.catch(2),h(a.t0),l.a.error(a.t0.message),a.abrupt("return",!1);case 15:return this.afterUpdateDepositInfo(r),a.abrupt("return",r);case 17:case"end":return a.stop()}},a,this,[[2,10]])}))}},{key:"updateWithdrawInfo",value:function(e,t){return m(this,void 0,void 0,regeneratorRuntime.mark(function n(){var a;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return a=void 0,n.prev=1,n.next=4,Object(i.b)(t);case 4:a=n.sent,h("WithdrawLimit: ",a),n.next=13;break;case 8:return n.prev=8,n.t0=n.catch(1),h(n.t0),l.a.error(n.t0.message),n.abrupt("return",!1);case 13:return this.afterUpdateWithdrawInfo(Object.assign({asset:e},a)),n.abrupt("return",!0);case 15:case"end":return n.stop()}},n,this,[[1,8]])}))}},{key:"queryFundRecords",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:20;return m(this,void 0,void 0,regeneratorRuntime.mark(function r(){var o,s,l,c;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return h("[QueryFundRecord]",e),o=new d({accountName:e.get("name"),offset:n,size:a}),t.accountName===e.get("name")&&t.signer&&o.addSigner(t.signer),r.next=5,Object(i.d)(o);case 5:if(s=r.sent){r.next=15;break}return r.next=9,this.loginGatewayQuery(e);case 9:return l=r.sent,c=l.signer,o.addSigner(c),r.next=14,Object(i.d)(o);case 14:s=r.sent;case 15:s&&this.updateFundRecords(s);case 16:case"end":return r.stop()}},r,this)}))}},{key:"updateFundRecords",value:function(e){return e}},{key:"loginGatewayQuery",value:function(e){return m(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n,a,r,s,l,c,p;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(h("[LoginGatewayQuery]",e),h("[LoginGatewayQuery]",o.b.getSetting("walletLockTimeout")),n=new d({accountName:e.get("name"),expiration:Date.now()+1e3*o.b.getSetting("walletLockTimeout")}),a=u.p.fund_query.fromObject(n.op),e.getIn(["active","weight_threshold"]),r=e.getIn(["active","key_auths"]).filter(function(e){return e.get(1)>=1}).map(function(e){return e.get(0)}).toJS(),s=v(r)[0]){t.next=9;break}throw Error("Privkey Not Found");case 9:return h("[LoginGatewayQuery privKey]",e.getIn(["options","memo_key"]),s),l=u.p.fund_query.toBuffer(a),c=u.k.signBuffer(l,s).toHex(),h("[LoginGatewayQuery Signed]",c),n.addSigner(c),t.next=16,Object(i.c)(n);case 16:return p=t.sent,h("[LoginGatewayQuery LoginRes]",p),p&&this.updateLogin(p),t.abrupt("return",p);case 20:case"end":return t.stop()}},t,this)}))}},{key:"updateLogin",value:function(e){return e}},{key:"afterUpdateWithdrawInfo",value:function(e){return e}},{key:"afterUpdateDepositInfo",value:function(e){return e}},{key:"closeModal",value:function(e){return e}},{key:"openModal",value:function(e){return e}}]),e}(),_=a.a.createActions(y);t.d=_},1400:
/*!*************************************!*\
  !*** ./components/Utility/Tabs.jsx ***!
  \*************************************/
/*! exports provided: Tabs, Tab */
/*! exports used: Tab, Tabs */function(e,t,n){"use strict";n.d(t,"b",function(){return b}),n.d(t,"a",function(){return g});var a=n(/*! react */0),r=n(/*! prop-types */3),o=n(/*! react-translate-component */1),s=n.n(o),i=n(/*! classnames */40),l=n.n(i),c=n(/*! alt-react */25),u=n(/*! actions/SettingsActions */22),p=n(/*! stores/SettingsStore */13),d=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g=function(e){function t(){return f(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return h(t,a["Component"]),d(t,[{key:"render",value:function(){var e=this.props,t=e.isActive,n=e.index,r=e.changeTab,o=e.title,i=e.className,c=e.disabled,u=l()({"is-active":t},i);return this.props.collapsed?a.createElement("option",{value:n},"string"==typeof o&&o.indexOf(".")>0?a.createElement(s.a,{className:"tab-title",content:o}):a.createElement("span",{className:"tab-title"},o)):a.createElement("li",{className:u,onClick:c?null:r.bind(this,n)},a.createElement("a",null,"string"==typeof o&&o.indexOf(".")>0?a.createElement(s.a,{className:"tab-title",content:o}):a.createElement("span",{className:"tab-title"},o),this.props.subText?a.createElement("div",{className:"tab-subtext"},this.props.subText):null))}}]),t}();g.propTypes={changeTab:r.func,isActive:r.bool.isRequired,index:r.number.isRequired,className:r.string},g.defaultProps={isActive:!1,index:0,className:""};var b=function(e){function t(e){f(this,t);var n=m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.state={activeTab:e.setting?e.viewSettings.get(e.setting,e.defaultActiveTab):e.defaultActiveTab,width:window.innerWidth},n._setDimensions=n._setDimensions.bind(n),n}return h(t,a["Component"]),d(t,[{key:"componentDidMount",value:function(){this._setDimensions(),window.addEventListener("resize",this._setDimensions,{capture:!1,passive:!0})}},{key:"componentWillReceiveProps",value:function(e){var t=e.viewSettings.get(e.setting);t!==this.props.viewSettings.get(this.props.setting)&&this.setState({activeTab:t})}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._setDimensions)}},{key:"_setDimensions",value:function(){var e=window.innerWidth;e!==this.state.width&&this.setState({width:e})}},{key:"_changeTab",value:function(e){e!==this.state.activeTab&&(this.props.setting&&u.a.changeViewSetting(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},this.props.setting,e)),this.setState({activeTab:e}),this.props.onChangeTab&&this.props.onChangeTab(e))}},{key:"render",value:function(){var e=this,t=this.props,n=t.children,r=t.contentClass,o=t.tabsClass,s=t.style,i=t.segmented,c=this.state.width<900,u=null,p=[],d=a.Children.map(n,function(t,n){if(!t)return null;if(c&&t.props.disabled)return null;var r=n===e.state.activeTab;return r&&(u=t.props.children),a.cloneElement(t,{collapsed:c,isActive:r,changeTab:e._changeTab.bind(e),index:n})}).filter(function(e){return e&&p.push(e.props.index),null!==e});return u||(u=d[0].props.children),a.createElement("div",{className:l()(this.props.actionButtons?"with-buttons":"",this.props.className)},a.createElement("div",{className:"service-selector"},a.createElement("ul",{style:s,className:l()("button-group no-margin",o,{segmented:i})},c?a.createElement("li",{style:{paddingLeft:10,paddingRight:10,minWidth:"15rem"}},a.createElement("select",{value:this.state.activeTab,style:{marginTop:10,marginBottom:10},className:"cyb-select",onChange:function(t){e._changeTab(parseInt(t.target.value,10))}},d)):d,this.props.actionButtons?a.createElement("li",{className:"tabs-action-buttons"},this.props.actionButtons):null)),a.createElement("div",{className:r+" tab-content"},u))}}]),t}();b.propTypes={setting:r.string,defaultActiveTab:r.number,segmented:r.bool},b.defaultProps={active:0,defaultActiveTab:0,segmented:!0,contentClass:"",style:{}},b=Object(c.connect)(b,{listenTo:function(){return[p.b]},getProps:function(){return{viewSettings:p.b.getState().viewSettings}}})},1401:
/*!**************************************************!*\
  !*** ./components/Utility/TransitionWrapper.jsx ***!
  \**************************************************/
/*! exports provided: default */
/*! exports used: default */function(e,t,n){"use strict";var a=n(/*! react */0),r=(n(/*! prop-types */3),n(/*! react-transition-group/CSSTransitionGroup */1550)),o=n.n(r),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var i=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={animateEnter:!1},e.timer=null,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["Component"]),s(t,[{key:"componentDidMount",value:function(){this.enableAnimation()}},{key:"resetAnimation",value:function(){this.setState({animateEnter:!1}),this.enableAnimation()}},{key:"enableAnimation",value:function(){var e=this;this.timer=setTimeout(function(){e.timer&&e.setState({animateEnter:!0})},2e3)}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timer),this.timer=null}},{key:"render",value:function(){return this.props.children?a.createElement(o.a,{className:this.props.className,component:this.props.component,transitionName:this.props.transitionName,transitionEnterTimeout:this.props.enterTimeout,transitionEnter:this.state.animateEnter,transitionLeave:!1},this.props.children):a.createElement(this.props.component)}}]),t}();i.defaultProps={component:"span",enterTimeout:2e3},t.a=i},1527:
/*!***********************************************!*\
  !*** ../node_modules/file-saver/FileSaver.js ***!
  \***********************************************/
/*! no static exports found */
/*! exports used: saveAs */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){var a,r=r||function(e){"use strict";if(!(void 0===e||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var t=function(){return e.URL||e.webkitURL||e},n=e.document.createElementNS("http://www.w3.org/1999/xhtml","a"),a="download"in n,r=/constructor/i.test(e.HTMLElement)||e.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent),s=function(t){(e.setImmediate||e.setTimeout)(function(){throw t},0)},i=function(e){setTimeout(function(){"string"==typeof e?t().revokeObjectURL(e):e.remove()},4e4)},l=function(e){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob([String.fromCharCode(65279),e],{type:e.type}):e},c=function(c,u,p){p||(c=l(c));var d,f=this,m="application/octet-stream"===c.type,h=function(){!function(e,t,n){for(var a=(t=[].concat(t)).length;a--;){var r=e["on"+t[a]];if("function"==typeof r)try{r.call(e,n||e)}catch(e){s(e)}}}(f,"writestart progress write writeend".split(" "))};if(f.readyState=f.INIT,a)return d=t().createObjectURL(c),void setTimeout(function(){var e,t;n.href=d,n.download=u,e=n,t=new MouseEvent("click"),e.dispatchEvent(t),h(),i(d),f.readyState=f.DONE});!function(){if((o||m&&r)&&e.FileReader){var n=new FileReader;return n.onloadend=function(){var t=o?n.result:n.result.replace(/^data:[^;]*;/,"data:attachment/file;");e.open(t,"_blank")||(e.location.href=t),t=void 0,f.readyState=f.DONE,h()},n.readAsDataURL(c),void(f.readyState=f.INIT)}d||(d=t().createObjectURL(c)),m?e.location.href=d:e.open(d,"_blank")||(e.location.href=d);f.readyState=f.DONE,h(),i(d)}()},u=c.prototype;return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(e,t,n){return t=t||e.name||"download",n||(e=l(e)),navigator.msSaveOrOpenBlob(e,t)}:(u.abort=function(){},u.readyState=u.INIT=0,u.WRITING=1,u.DONE=2,u.error=u.onwritestart=u.onprogress=u.onwrite=u.onabort=u.onerror=u.onwriteend=null,function(e,t,n){return new c(e,t||e.name||"download",n)})}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);
/*! @source http://purl.eligrey.com/github/FileSaver.js/blob/master/FileSaver.js */void 0!==e&&e.exports?e.exports.saveAs=r:null!==n(/*! !webpack amd define */825)&&null!==n(/*! !webpack amd options */1533)&&(void 0===(a=function(){return r}.call(t,n,t,e))||(e.exports=a))},1529:
/*!************************************!*\
  !*** ./services/GatewayService.ts ***!
  \************************************/
/*! exports provided: getDepositInfo, getWithdrawInfo, verifyAddress, queryFundRecords, loginQuery, GatewayService */
/*! exports used: getDepositInfo, getWithdrawInfo, loginQuery, queryFundRecords, verifyAddress */function(e,t,n){"use strict";n.d(t,"a",function(){return _}),n.d(t,"b",function(){return E}),n.d(t,"e",function(){return w}),n.d(t,"d",function(){return k}),n.d(t,"c",function(){return O});var a=n(/*! ./GatewayConfig */1397),r=n(/*! utils */201),o=n(/*! graphql-tag */1576),s=n.n(o),i=n(/*! apollo-client */1574),l=n(/*! apollo-link-http */1571),c=n(/*! apollo-cache-inmemory */1573),u=m(["\n    mutation GenNewAddress($accountName: String!, $asset: String!) {\n      newDepositAddress(accountName: $accountName, asset: $asset) {\n        address\n        accountName\n        asset\n        type\n        createAt\n      }\n    }\n  "],["\n    mutation GenNewAddress($accountName: String!, $asset: String!) {\n      newDepositAddress(accountName: $accountName, asset: $asset) {\n        address\n        accountName\n        asset\n        type\n        createAt\n      }\n    }\n  "]),p=m(["\n    query GetAddress($accountName: String!, $asset: String!) {\n      getDepositAddress(accountName: $accountName, asset: $asset) {\n        address\n        accountName\n        asset\n        type\n        createAt\n      }\n    }\n  "],["\n    query GetAddress($accountName: String!, $asset: String!) {\n      getDepositAddress(accountName: $accountName, asset: $asset) {\n        address\n        accountName\n        asset\n        type\n        createAt\n      }\n    }\n  "]),d=m(["\n    query WithdrawInfo($type: String!) {\n      withdrawInfo(type: $type) {\n        fee\n        minValue\n        precision\n        asset\n        type\n        gatewayAccount\n      }\n    }\n  "],["\n    query WithdrawInfo($type: String!) {\n      withdrawInfo(type: $type) {\n        fee\n        minValue\n        precision\n        asset\n        type\n        gatewayAccount\n      }\n    }\n  "]),f=m(["\n    query VerifyAddress(\n      $asset: String!\n      $accountName: String!\n      $address: String!\n    ) {\n      verifyAddress(\n        asset: $asset\n        accountName: $accountName\n        address: $address\n      ) {\n        valid\n        asset\n      }\n    }\n  "],["\n    query VerifyAddress(\n      $asset: String!\n      $accountName: String!\n      $address: String!\n    ) {\n      verifyAddress(\n        asset: $asset\n        accountName: $accountName\n        address: $address\n      ) {\n        valid\n        asset\n      }\n    }\n  "]);function m(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var h=function(e,t,n,a){return new(n||(n=Promise))(function(r,o){function s(e){try{l(a.next(e))}catch(e){o(e)}}function i(e){try{l(a.throw(e))}catch(e){o(e)}}function l(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(s,i)}l((a=a.apply(e,t||[])).next())})},g=Object(r.a)("GatewayService"),b=new Headers;b.append("Content-Type","application/x-www-form-urlencoded");var v=new l.a({uri:a.c}),y=new i.a({link:v,cache:new c.a});function _(e,t,n){return h(this,void 0,void 0,regeneratorRuntime.mark(function a(){var r,o;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(g("Get Deposit: ",e,t,n),r=s()(u),o=s()(p),!n){a.next=9;break}return a.next=6,C("mutate",{mutation:r,variables:{accountName:e,asset:t}},"newDepositAddress");case 6:a.t0=a.sent,a.next=12;break;case 9:return a.next=11,C("query",{query:o,variables:{accountName:e,asset:t}},"getDepositAddress");case 11:a.t0=a.sent;case 12:return a.abrupt("return",a.t0);case 13:case"end":return a.stop()}},a,this)}))}function E(e){return h(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=s()(d),t.next=3,C("query",{query:n,variables:{type:e}},"withdrawInfo");case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}},t,this)}))}function w(e,t,n){return h(this,void 0,void 0,regeneratorRuntime.mark(function a(){var r;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return r=s()(f),a.next=3,C("query",{query:r,variables:{asset:n,accountName:t,address:e}},"verifyAddress");case 3:return a.abrupt("return",a.sent);case 4:case"end":return a.stop()}},a,this)}))}function k(e){return h(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P("records",e).then(function(e){return e.data});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}))}function O(e){return h(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P("login",e).then(function(e){return e.data});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}))}function P(e,t){return h(this,void 0,void 0,regeneratorRuntime.mark(function n(){var r,o;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return(r=new Headers).append("Content-Type","application/json"),o={headers:r,method:"POST",body:JSON.stringify(t)},n.next=5,fetch(""+a.b+e,o).then(function(e){return e.json()}).catch(function(e){return{code:400,error:e.message}});case 5:return n.abrupt("return",n.sent);case 6:case"end":return n.stop()}},n,this)}))}function C(e,t,n){return h(this,void 0,void 0,regeneratorRuntime.mark(function a(){return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,y[e](t);case 3:return a.t0=n,a.abrupt("return",a.sent.data[a.t0]);case 7:throw a.prev=7,a.t1=a.catch(0),console.error("GatewayError: ",a.t1),a.t1;case 11:case"end":return a.stop()}},a,this,[[0,7]])}))}},1530:
/*!*********************************************************!*\
  !*** ./components/Utility/EquivalentValueComponent.jsx ***!
  \*********************************************************/
/*! exports provided: EquivalentValueComponent, BalanceValueComponent */
/*! exports used: BalanceValueComponent, EquivalentValueComponent */function(e,t,n){"use strict";n.d(t,"b",function(){return k}),n.d(t,"a",function(){return O});var a=n(/*! react */0),r=(n(/*! prop-types */3),n(/*! ./FormattedAsset */19)),o=n(/*! ./ChainTypes */21),s=n(/*! ./BindToChainState */24),i=n(/*! common/utils */8),l=n(/*! alt-react */25),c=n(/*! stores/MarketsStore */88),u=n(/*! react-translate-component */1),p=n.n(u),d=n(/*! counterpart */14),f=n.n(d),m=n(/*! react-tooltip */60),h=n.n(m),g=n(/*! ../Utility/EquivalentPrice */301),b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},v=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function E(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var w=function(e){function t(e){return y(this,t),_(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return E(t,g["a"]),v(t,[{key:"componentDidMount",value:function(){h.a.rebuild()}},{key:"shouldComponentUpdate",value:function(e){return function e(t,n,a){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,a)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(a):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"shouldComponentUpdate",this).call(this,e)||e.toAsset!==this.props.toAsset||e.fromAsset!==this.props.fromAsset||e.amount!==this.props.amount}},{key:"getValue",value:function(){var e=this.props,t=e.amount,n=e.toAsset,a=e.fromAsset,r=e.fullPrecision,o=e.marketStats,s=e.coreAsset,l=void 0,c=void 0,u=n.get("id"),p=n.get("symbol"),d=a.get("id"),f=a.get("symbol");if(r||(t=i.a.get_asset_amount(t,a)),s&&o){var m=s.get("symbol");l=o.get(p+"_"+m),c=o.get(f+"_"+m)}var h=i.a.convertPrice(c&&c.close?c.close:"1.3.0"===d||a.has("bitasset")?a:null,l&&l.close?l.close:"1.3.0"===u||n.has("bitasset")?n:null,d,u);return h?i.a.convertValue(h,t,a,n):null}},{key:"render",value:function(){var e=this.props,t=e.amount,n=e.toAsset,o=e.fromAsset,s=e.fullPrecision,l=n.get("id");n.get("symbol");s||(t=i.a.get_asset_amount(t,o));var c=this.getValue();return c||0===c?a.createElement(r.a,{hide_asset:this.props.hide_asset,noPrefix:!0,amount:c,asset:l,decimalOffset:0}):a.createElement("div",{className:"tooltip inline-block","data-place":"bottom","data-tip":f.a.translate("tooltip.no_price"),style:{fontSize:"0.9rem"}},a.createElement(p.a,{content:"account.no_price"}))}}]),t}();w.propTypes={toAsset:o.a.ChainAsset.isRequired,fromAsset:o.a.ChainAsset.isRequired,coreAsset:o.a.ChainAsset.isRequired},w.defaultProps={toAsset:"1.3.0",fullPrecision:!0,noDecimals:!1,hide_asset:!1,coreAsset:"1.3.0"},w=Object(s.a)(w,{keep_updating:!0});var k=function(e){function t(){return y(this,t),_(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return E(t,a["Component"]),v(t,[{key:"render",value:function(){var e=this.props,t=e.refCallback,n=function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}(e,["refCallback"]);return a.createElement(w,b({},n,{ref:t}))}}]),t}();k=Object(l.connect)(k,{listenTo:function(){return[c.a]},getProps:function(){return{marketStats:c.a.getState().allMarketStats}}});var O=function(e){function t(){return y(this,t),_(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return E(t,a["Component"]),v(t,[{key:"render",value:function(){var e=this.props.balance,t=!!e.getIn(["balance","amount"]),n=Number(t?e.getIn(["balance","amount"]):e.get("balance")),r=t?e.getIn(["balance","asset_id"]):e.get("asset_type");return isNaN(n)?a.createElement("span",null,"--"):a.createElement(k,{refCallback:this.props.refCallback,hide_asset:this.props.hide_asset,amount:n,fromAsset:r,noDecimals:!0,toAsset:this.props.toAsset})}}]),t}();O.propTypes={balance:o.a.ChainObject.isRequired},O=Object(s.a)(O,{keep_updating:!0})},1533:
/*!******************************************************!*\
  !*** ../node_modules/webpack/buildin/amd-options.js ***!
  \******************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t){(function(t){e.exports=t}).call(this,{})},1536:
/*!***************************************************!*\
  !*** ./components/Account/RecentTransactions.jsx ***!
  \***************************************************/
/*! exports provided: RecentTransactions, TransactionWrapper */
/*! exports used: RecentTransactions, TransactionWrapper */function(e,t,n){"use strict";n.d(t,"a",function(){return T}),n.d(t,"b",function(){return x});var a=n(/*! react */0),r=n(/*! prop-types */3),o=n(/*! react-translate-component */1),s=n.n(o),i=n(/*! file-saver */1527),l=n(/*! ../Blockchain/Operation */302),c=n(/*! ../Utility/ChainTypes */21),u=n(/*! ../Utility/BindToChainState */24),p=n(/*! common/utils */8),d=n(/*! cybexjs */2),f=n(/*! ../Utility/TransitionWrapper */1401),m=n(/*! perfect-scrollbar */1570),h=n.n(m),g=n(/*! counterpart */14),b=n.n(g),v=n(/*! ../Icon/Icon */50),y=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function w(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var k=d.c.operations,O={textAlign:"left"},P={textAlign:"right"};function C(e,t){return t.block_num===e.block_num?t.virtual_op-e.virtual_op:t.block_num-e.block_num}function j(e){return e?'"'+e.textContent.replace(/[\s\t\r\n]/gi," ")+'"':""}var T=function(e){function t(e){_(this,t);var n=E(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.state={limit:e.limit||20,csvExport:!1,headerHeight:85,filter:"all"},n}return w(t,a["Component"]),y(t,[{key:"componentDidMount",value:function(){if(!this.props.fullHeight){var e=this.refs.transactions;h.a.initialize(e),this._setHeaderHeight()}}},{key:"_setHeaderHeight",value:function(){var e=this.refs.header.offsetHeight;e!==this.state.headerHeight&&this.setState({headerHeight:e})}},{key:"shouldComponentUpdate",value:function(e,t){if(!p.a.are_equal_shallow(this.props.accountsList,e.accountsList))return!0;if(this.props.maxHeight!==e.maxHeight)return!0;if(this.state.headerHeight!==t.headerHeight)return!0;if(this.state.filter!==t.filter)return!0;if(this.props.customFilter&&(!p.a.are_equal_shallow(this.props.customFilter.fields,e.customFilter.fields)||!p.a.are_equal_shallow(this.props.customFilter.values,e.customFilter.values)))return!0;if(this.props.maxHeight!==e.maxHeight)return!0;if(t.limit!==this.state.limit||t.csvExport!==this.state.csvExport)return!0;for(var n=0;n<e.accountsList.length;++n){var a=e.accountsList[n],r=this.props.accountsList[n];if(a&&r&&a.get("history")!==r.get("history"))return!0}return!1}},{key:"componentDidUpdate",value:function(){if(this.state.csvExport){this.state.csvExport=!1;var e=document.getElementById("csv_export_container").childNodes,t="",n=!0,a=!1,r=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var l=o.value.childNodes;""!==t&&(t+="\n"),t+=[j(l[0]),j(l[1]),j(l[2]),j(l[3])].join(",")}}catch(e){a=!0,r=e}finally{try{!n&&s.return&&s.return()}finally{if(a)throw r}}var c=new Blob([t],{type:"text/csv;charset=utf-8"}),u=new Date;Object(i.saveAs)(c,"cybhist-"+u.getFullYear()+"-"+("0"+(u.getMonth()+1)).slice(-2)+"-"+("0"+u.getDate()).slice(-2)+"-"+("0"+u.getHours()).slice(-2)+("0"+u.getMinutes()).slice(-2)+".csv")}if(!this.props.fullHeight){var p=this.refs.transactions;h.a.update(p),this._setHeaderHeight()}}},{key:"_onIncreaseLimit",value:function(){this.setState({limit:this.state.limit+30})}},{key:"_getHistory",value:function(e,t,n){var a=[],r=new Set,o=!0,s=!1,i=void 0;try{for(var l,c=e[Symbol.iterator]();!(o=(l=c.next()).done);o=!0){var u=l.value;if(u){var p=u.get("history");p&&(a=a.concat(p.toJS().filter(function(e){return!r.has(e.id)&&r.add(e.id)})))}}}catch(e){s=!0,i=e}finally{try{!o&&c.return&&c.return()}finally{if(s)throw i}}return t&&(a=a.filter(function(e){return e.op[0]===k[t]})),n&&(a=a.filter(function(e){return n.fields.reduce(function(t,a){switch(a){case"asset_id":return t&&e.op[1].amount[a]===n.values[a];default:return t&&e.op[1][a]===n.values[a]}},!0)})),a}},{key:"_downloadCSV",value:function(){this.setState({csvExport:!0})}},{key:"_onChangeFilter",value:function(e){this.setState({filter:e.target.value})}},{key:"render",value:function(){var e=this.props,t=e.accountsList,n=e.compactView,r=e.filter,o=e.customFilter,i=e.style,c=e.maxHeight,u=this.state,p=u.limit,d=u.headerHeight,m=1===t.length&&t[0]?t[0].get("id"):null,h=this._getHistory(t,this.props.showFilters&&"all"!==this.state.filter?this.state.filter:r,o).sort(C),g=h.length;i=i||{};var y=null;y=["all","transfer","limit_order_create","limit_order_cancel","fill_order","account_create","account_update","asset_create","witness_withdraw_pay","vesting_balance_withdraw"].map(function(e){return a.createElement("option",{value:e,key:e},b.a.translate("transaction.trxTypes."+e))});var _=h.length?h.slice(0,p).map(function(e){return a.createElement(l.a,{style:O,key:e.id,op:e.op,result:e.result,block:e.block_num,current:m,hideFee:!0,inverted:!1,hideOpLabel:n})}):[a.createElement("tr",{key:"no_recent"},a.createElement("td",{colSpan:n?"2":"3"},a.createElement(s.a,{content:"operation.no_recent"})))];return _.push(a.createElement("tr",{className:"total-value",key:"total_value"},a.createElement("td",{className:"column-hide-tiny"}),a.createElement("td",{style:P},g>0?a.createElement("span",null,a.createElement("a",{className:"inline-block",onClick:this._downloadCSV.bind(this),"data-tip":b.a.translate("transaction.csv_tip"),"data-place":"bottom"},a.createElement(v.a,{name:"excel",className:"icon-14px"}))):null),a.createElement("td",{style:{textAlign:"center"}},"Â ",this.props.showMore&&g>this.props.limit||p<g?a.createElement("a",{onClick:this._onIncreaseLimit.bind(this)},a.createElement(v.a,{name:"chevron-down",className:"icon-14px"})):null))),a.createElement("div",{className:"recent-transactions no-overflow",style:i},a.createElement("div",{className:"generic-bordered-box"},this.props.dashboard?null:a.createElement("div",{ref:"header"},a.createElement("div",{className:"block-content-header"},a.createElement("span",null,this.props.title?this.props.title:a.createElement(s.a,{content:"account.recent"})))),a.createElement("div",{className:"box-content grid-block no-margin",style:this.props.fullHeight?null:{maxHeight:c-d},ref:"transactions"},a.createElement("table",{className:"table"+(n?" compact":"")+(this.props.dashboard?" dashboard-table":"")},a.createElement("thead",null,a.createElement("tr",null,n?null:a.createElement("th",{style:O,className:"column-hide-tiny"},this.props.showFilters?a.createElement("select",{"data-place":"left","data-tip":b.a.translate("tooltip.filter_ops"),style:{paddingTop:5,width:"auto"},className:"cyb-select no-margin",value:this.state.filter,onChange:this._onChangeFilter.bind(this)},y):null),a.createElement("th",{style:O},a.createElement(s.a,{content:"account.votes.info"})),a.createElement("th",null))),a.createElement(f.a,{component:"tbody",transitionName:"newrow"},_))),g>0&&this.state.csvExport&&a.createElement("div",{id:"csv_export_container",style:{display:"none"}},a.createElement("div",null,a.createElement("div",null,"DATE"),a.createElement("div",null,"OPERATION"),a.createElement("div",null,"MEMO"),a.createElement("div",null,"AMOUNT")),h.map(function(e){return a.createElement(l.a,{key:e.id,op:e.op,result:e.result,block:e.block_num,inverted:!1,csvExportMode:!0})}))))}}]),t}();T.propTypes={accountsList:c.a.ChainAccountsList.isRequired,compactView:r.bool,limit:r.number,maxHeight:r.number,fullHeight:r.bool,showFilters:r.bool},T.defaultProps={limit:25,maxHeight:500,fullHeight:!1,showFilters:!1},T=Object(u.a)(T,{keep_updating:!0});var x=function(e){function t(){return _(this,t),E(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return w(t,a["Component"]),y(t,[{key:"render",value:function(){return a.createElement("span",{className:"wrapper"},this.props.children(this.props))}}]),t}();x.propTypes={asset:c.a.ChainAsset.isRequired,to:c.a.ChainAccount.isRequired,fromAccount:c.a.ChainAccount.isRequired},x.defaultProps={asset:"1.3.0"},x=Object(u.a)(x)},1546:
/*!******************************************!*\
  !*** ./components/Utility/PriceText.jsx ***!
  \******************************************/
/*! exports provided: default */
/*! exports used: default */function(e,t,n){"use strict";var a=n(/*! react */0),r=n(/*! common/utils */8),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["Component"]),o(t,[{key:"render",value:function(){var e=this.props,t=e.price,n=e.preFormattedPrice,o=e.quote,s=e.base,i=(e.component,e.precision),l=n||r.a.price_to_text(t,o,s,i);return l.full>=1?a.createElement("span",null,a.createElement("span",{className:"price-integer"},l.int,"."),l.dec?a.createElement("span",{className:"price-integer"},l.dec):null,l.trailing?a.createElement("span",{className:"price-decimal"},l.trailing):null):l.full>=.1?a.createElement("span",null,a.createElement("span",{className:"price-decimal"},l.int,"."),l.dec?a.createElement("span",{className:"price-integer"},l.dec):null,l.trailing?a.createElement("span",{className:"price-decimal"},l.trailing):null):a.createElement("span",null,a.createElement("span",{className:"price-decimal"},l.int,"."),l.dec?a.createElement("span",{className:"price-decimal"},l.dec):null,l.trailing?a.createElement("span",{className:"price-integer"},l.trailing):null)}}]),t}();t.a=s},1566:
/*!***************************************************!*\
  !*** ../node_modules/moment/locale sync ^\.\/.*$ ***!
  \***************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){var a={"./af":1521,"./af.js":1521,"./ar":1520,"./ar-dz":1519,"./ar-dz.js":1519,"./ar-kw":1518,"./ar-kw.js":1518,"./ar-ly":1517,"./ar-ly.js":1517,"./ar-ma":1516,"./ar-ma.js":1516,"./ar-sa":1515,"./ar-sa.js":1515,"./ar-tn":1514,"./ar-tn.js":1514,"./ar.js":1520,"./az":1513,"./az.js":1513,"./be":1512,"./be.js":1512,"./bg":1511,"./bg.js":1511,"./bm":1510,"./bm.js":1510,"./bn":1509,"./bn.js":1509,"./bo":1508,"./bo.js":1508,"./br":1507,"./br.js":1507,"./bs":1506,"./bs.js":1506,"./ca":1505,"./ca.js":1505,"./cs":1504,"./cs.js":1504,"./cv":1503,"./cv.js":1503,"./cy":1502,"./cy.js":1502,"./da":1501,"./da.js":1501,"./de":1500,"./de-at":1499,"./de-at.js":1499,"./de-ch":1498,"./de-ch.js":1498,"./de.js":1500,"./dv":1497,"./dv.js":1497,"./el":1496,"./el.js":1496,"./en-au":1495,"./en-au.js":1495,"./en-ca":1494,"./en-ca.js":1494,"./en-gb":1493,"./en-gb.js":1493,"./en-ie":1492,"./en-ie.js":1492,"./en-nz":1491,"./en-nz.js":1491,"./eo":1490,"./eo.js":1490,"./es":1489,"./es-do":1488,"./es-do.js":1488,"./es-us":1487,"./es-us.js":1487,"./es.js":1489,"./et":1486,"./et.js":1486,"./eu":1485,"./eu.js":1485,"./fa":1484,"./fa.js":1484,"./fi":1483,"./fi.js":1483,"./fo":1482,"./fo.js":1482,"./fr":1481,"./fr-ca":1480,"./fr-ca.js":1480,"./fr-ch":1479,"./fr-ch.js":1479,"./fr.js":1481,"./fy":1478,"./fy.js":1478,"./gd":1477,"./gd.js":1477,"./gl":1476,"./gl.js":1476,"./gom-latn":1475,"./gom-latn.js":1475,"./gu":1474,"./gu.js":1474,"./he":1473,"./he.js":1473,"./hi":1472,"./hi.js":1472,"./hr":1471,"./hr.js":1471,"./hu":1470,"./hu.js":1470,"./hy-am":1469,"./hy-am.js":1469,"./id":1468,"./id.js":1468,"./is":1467,"./is.js":1467,"./it":1466,"./it.js":1466,"./ja":1465,"./ja.js":1465,"./jv":1464,"./jv.js":1464,"./ka":1463,"./ka.js":1463,"./kk":1462,"./kk.js":1462,"./km":1461,"./km.js":1461,"./kn":1460,"./kn.js":1460,"./ko":1459,"./ko.js":1459,"./ky":1458,"./ky.js":1458,"./lb":1457,"./lb.js":1457,"./lo":1456,"./lo.js":1456,"./lt":1455,"./lt.js":1455,"./lv":1454,"./lv.js":1454,"./me":1453,"./me.js":1453,"./mi":1452,"./mi.js":1452,"./mk":1451,"./mk.js":1451,"./ml":1450,"./ml.js":1450,"./mr":1449,"./mr.js":1449,"./ms":1448,"./ms-my":1447,"./ms-my.js":1447,"./ms.js":1448,"./my":1446,"./my.js":1446,"./nb":1445,"./nb.js":1445,"./ne":1444,"./ne.js":1444,"./nl":1443,"./nl-be":1442,"./nl-be.js":1442,"./nl.js":1443,"./nn":1441,"./nn.js":1441,"./pa-in":1440,"./pa-in.js":1440,"./pl":1439,"./pl.js":1439,"./pt":1438,"./pt-br":1437,"./pt-br.js":1437,"./pt.js":1438,"./ro":1436,"./ro.js":1436,"./ru":1435,"./ru.js":1435,"./sd":1434,"./sd.js":1434,"./se":1433,"./se.js":1433,"./si":1432,"./si.js":1432,"./sk":1431,"./sk.js":1431,"./sl":1430,"./sl.js":1430,"./sq":1429,"./sq.js":1429,"./sr":1428,"./sr-cyrl":1427,"./sr-cyrl.js":1427,"./sr.js":1428,"./ss":1426,"./ss.js":1426,"./sv":1425,"./sv.js":1425,"./sw":1424,"./sw.js":1424,"./ta":1423,"./ta.js":1423,"./te":1422,"./te.js":1422,"./tet":1421,"./tet.js":1421,"./th":1420,"./th.js":1420,"./tl-ph":1419,"./tl-ph.js":1419,"./tlh":1418,"./tlh.js":1418,"./tr":1417,"./tr.js":1417,"./tzl":1416,"./tzl.js":1416,"./tzm":1415,"./tzm-latn":1414,"./tzm-latn.js":1414,"./tzm.js":1415,"./uk":1413,"./uk.js":1413,"./ur":1412,"./ur.js":1412,"./uz":1411,"./uz-latn":1410,"./uz-latn.js":1410,"./uz.js":1411,"./vi":1409,"./vi.js":1409,"./x-pseudo":1408,"./x-pseudo.js":1408,"./yo":1407,"./yo.js":1407,"./zh-cn":1406,"./zh-cn.js":1406,"./zh-hk":1405,"./zh-hk.js":1405,"./zh-tw":1404,"./zh-tw.js":1404};function r(e){var t=o(e);return n(t)}function o(e){var t=a[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}r.keys=function(){return Object.keys(a)},r.resolve=o,e.exports=r,r.id=1566},1567:
/*!*****************************************!*\
  !*** ./components/Forms/MyAccounts.jsx ***!
  \*****************************************/
/*! exports provided: default */
/*! exports used: default */function(e,t,n){"use strict";var a=n(/*! react */0),r=n(/*! prop-types */3),o=n(/*! stores/AccountStore */28),s=n(/*! components/Utility/ChainTypes */21),i=n(/*! components/Forms/AccountSelect */300),l=n(/*! components/Utility/BindToChainState */24),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["Component"]),c(t,[{key:"render",value:function(){var e=this.props.accounts.filter(function(e){return!!e}).filter(function(e){return o.a.isMyAccount(e)}).map(function(e){return e.get("name")}).sort();this.props.className;return a.createElement(i.a,{className:!0,onChange:this.onAccountSelect.bind(this),account_names:e,center:!0})}},{key:"onAccountSelect",value:function(e){this.props.onChange(e)}}]),t}();u.propTypes={accounts:s.a.ChainAccountsList.isRequired,onChange:r.func.isRequired},t.a=Object(l.a)(u,{keep_updating:!0})},1588:
/*!**********************************************!*\
  !*** ./components/Exchange/MyOpenOrders.tsx ***!
  \**********************************************/
/*! exports provided: OrderRow, TableHeader, MyOpenOrders */
/*! exports used: MyOpenOrders, OrderRow, TableHeader */function(e,t,n){"use strict";n.d(t,"b",function(){return O}),n.d(t,"c",function(){return k}),n.d(t,"a",function(){return P});var a=n(/*! react */0),r=n(/*! prop-types */3),o=n(/*! react-router */5),s=n(/*! react-intl */69),i=n(/*! common/utils */8),l=n(/*! react-translate-component */1),c=n.n(l),u=n(/*! ../Utility/PriceText */1546),p=n(/*! ../Utility/TransitionWrapper */1401),d=n(/*! ../Utility/AssetName */70),f=n(/*! ../Icon/Icon */50),m=n(/*! cybexjs */2),h=n(/*! common/MarketClasses */33),g=n(/*! ../Utility/EquivalentValueComponent */1530),b=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function E(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var w={textAlign:"right"},k=function(e){function t(){return y(this,t),_(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return E(t,a["Component"]),b(t,[{key:"render",value:function(){var e=this.props,t=e.baseSymbol,n=e.quoteSymbol,r=e.dashboard,o=e.isMyAccount,s=e.settings,i=s?s.get("unit"):"1.3.0";return r?a.createElement("thead",null,a.createElement("tr",null,a.createElement("th",null,a.createElement(c.a,{content:"account.cyb_market"})),a.createElement("th",{style:w},a.createElement(c.a,{content:"exchange.price"})),a.createElement("th",{style:w},a.createElement(c.a,{content:"account.qty"})),a.createElement("th",{style:w},a.createElement(c.a,{content:"exchange.total"})),a.createElement("th",{style:w},a.createElement(c.a,{content:"exchange.order_value"})," (",a.createElement(d.a,{name:i}),")"),a.createElement("th",null,a.createElement(c.a,{content:"account.trade"})),o?a.createElement("th",null,a.createElement(c.a,{content:"wallet.cancel"})):null)):a.createElement("thead",null,a.createElement("tr",null,a.createElement("th",{className:"text-right"},a.createElement(c.a,{className:"header-sub-title",content:"exchange.price"})),a.createElement("th",{className:"text-right"},t?a.createElement("span",{className:"header-sub-title"},a.createElement(d.a,{dataPlace:"top",name:n})):null),a.createElement("th",{className:"text-right"},t?a.createElement("span",{className:"header-sub-title"},a.createElement(d.a,{dataPlace:"top",name:t})):null),a.createElement("th",{className:"text-right",style:{width:"28%"}},a.createElement(c.a,{className:"header-sub-title",content:"transaction.expiration"})),a.createElement("th",{style:{whiteSpace:"nowrap"}},a.createElement(c.a,{content:"wallet.cancel"}))))}}]),t}();k.defaultProps={quoteSymbol:null,baseSymbol:null};var O=function(e){function t(){return y(this,t),_(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return E(t,a["Component"]),b(t,[{key:"shouldComponentUpdate",value:function(e){return e.order.for_sale!==this.props.order.for_sale||e.order.id!==this.props.order.id||e.isMyAccount!==this.props.isMyAccount||e.quote!==this.props.quote||e.base!==this.props.base||e.order.market_base!==this.props.order.market_base}},{key:"render",value:function(){var e=this.props,t=e.base,n=e.quote,r=e.order,l=e.showSymbols,c=e.dashboard,p=e.isMyAccount,m=e.settings,h=r.isBid(),b=r.isCall(),v=(b?"orderHistoryCall":h?"orderHistoryBid":"orderHistoryAsk")+" text-right",y=l?a.createElement("span",null," "+t.get("symbol")+"/"+n.get("symbol")):null,_=l?" "+t.get("symbol"):null,E=l?" "+n.get("symbol"):null,k=m?m.get("unit"):"1.3.0";return c?a.createElement("tr",{key:r.id},a.createElement("td",{style:{textAlign:"center",paddingLeft:0,borderRight:"none"}},a.createElement(o.b,{to:"/asset/"+n.get("symbol")},a.createElement(d.a,{noTip:!0,name:n.get("symbol")})),"/",a.createElement(o.b,{to:"/asset/"+t.get("symbol")},a.createElement(d.a,{noTip:!0,name:t.get("symbol")}))),a.createElement("td",{className:v,style:w},a.createElement(u.a,{price:r.getPrice(),base:t,quote:n}),y),a.createElement("td",{style:w},i.a.format_number(r[h?"amountToReceive":"amountForSale"]().getAmount({real:!0}),n.get("precision"))," ",E),a.createElement("td",{style:w},i.a.format_number(r[h?"amountForSale":"amountToReceive"]().getAmount({real:!0}),t.get("precision"))," ",_),a.createElement("td",{className:"text-right"},a.createElement(g.b,{hide_asset:!0,amount:r.amountForSale().getAmount(),fromAsset:r.amountForSale().asset_id,noDecimals:!0,toAsset:k})),a.createElement("td",null,a.createElement(o.b,{to:"/market/"+n.get("symbol")+"_"+t.get("symbol")},a.createElement(f.a,{name:"trade",className:"icon-14px"}))),p?a.createElement("td",{className:"text-center",style:{padding:"2px 5px"}},b?null:a.createElement("a",{style:{marginRight:0},className:"order-cancel",onClick:this.props.onCancel},a.createElement(f.a,{name:"cross-circle",className:"icon-14px"}))):null):a.createElement("tr",{key:r.id},a.createElement("td",{className:v,style:{paddingLeft:10}},a.createElement(u.a,{price:r.getPrice(),base:t,quote:n}),y),a.createElement("td",{className:"text-right"},i.a.format_number(r[h?"amountToReceive":"amountForSale"]().getAmount({real:!0}),n.get("precision"))," ",E),a.createElement("td",{className:"text-right"},i.a.format_number(r[h?"amountForSale":"amountToReceive"]().getAmount({real:!0}),t.get("precision"))," ",_),a.createElement("td",{className:"text-right",style:{width:"28%"}},b?null:a.createElement(s.a,{value:r.expiration,format:"short"})),a.createElement("td",{className:"text-center",style:{padding:"2px 5px"}},b?null:a.createElement("a",{style:{marginRight:0},className:"order-cancel",onClick:this.props.onCancel},a.createElement(f.a,{name:"cross-circle",className:"icon-14px"}))))}}]),t}();O.defaultProps={showSymbols:!1};var P=function(e){function t(e){y(this,t);var n=_(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._getOrders=n._getOrders.bind(n),n}return E(t,a["Component"]),b(t,[{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(){}},{key:"_getOrders",value:function(){var e,t=this,n=this.props,a=n.currentAccount,r=n.base,o=n.quote,s=a.get("orders"),i=a.get("call_orders"),l=r.get("id"),c=o.get("id"),u=(v(e={},r.get("id"),{precision:r.get("precision")}),v(e,o.get("id"),{precision:o.get("precision")}),e),p=s.toArray().map(function(e){var t=m.b.getObject(e);if(!t)return null;var n=t.getIn(["sell_price","base","asset_id"]),a=t.getIn(["sell_price","quote","asset_id"]);return n===l&&a===c||n===c&&a===l?new h.d(t.toJS(),u,o.get("id")):void 0}).filter(function(e){return!!e}),d=i.toArray().map(function(e){var n=m.b.getObject(e);if(!n)return null;var a=n.getIn(["call_price","base","asset_id"]),r=n.getIn(["call_price","quote","asset_id"]);return a===l&&r===c||a===c&&r===l?t.props.feedPrice?new h.b(n.toJS(),u,o.get("id"),t.props.feedPrice):null:void 0}).filter(function(e){return!!e}).filter(function(e){return e.isMarginCalled()});return p.concat(d)}},{key:"render",value:function(){var e=this,t=this.props,n=t.base,r=t.quote,o=t.quoteSymbol,s=t.baseSymbol;if(!n||!r)return null;var i=this._getOrders(),l=a.createElement("tr",null,a.createElement("td",{style:{textAlign:"center"},colSpan:5},a.createElement(c.a,{content:"account.no_orders"}))),u=i.filter(function(e){return e.isBid()}).sort(function(e,t){return t.getPrice()-e.getPrice()}).map(function(t){var o=t.getPrice();return a.createElement(O,{price:o,key:t.id,order:t,base:n,quote:r,onCancel:e.props.onCancel.bind(e,t.id)})}),d=i.filter(function(e){return!e.isBid()}).sort(function(e,t){return e.getPrice()-t.getPrice()}).map(function(t){var o=t.getPrice();return a.createElement(O,{price:o,key:t.id,order:t,base:n,quote:r,onCancel:e.props.onCancel.bind(e,t.id)})}),f=[];return d.length&&(f=f.concat(d)),u.length&&(f=f.concat(u)),f.sort(function(e,t){return e.props.price-t.props.price}),a.createElement(a.Fragment,null,a.createElement("div",{className:"exchange-content-header"},a.createElement(c.a,{content:"exchange.my_orders"})),a.createElement("table",{className:"table order-table table-hover"},a.createElement(k,{type:"sell",baseSymbol:s,quoteSymbol:o})),a.createElement("div",{className:"grid-block no-padding market-right-padding _scroll-bar",ref:"asks",style:{overflow:"auto",maxHeight:720}},a.createElement("table",{style:{paddingBottom:5},className:"table order-table table-hover"},a.createElement(p.a,{component:"tbody",transitionName:"newrow"},f.length?f:l))))}}]),t}();P.defaultProps={base:{},quote:{},orders:{},quoteSymbol:"",baseSymbol:""},P.propTypes={base:r.object.isRequired,quote:r.object.isRequired,orders:r.object.isRequired,quoteSymbol:r.string.isRequired,baseSymbol:r.string.isRequired}},1599:
/*!******************************************!*\
  !*** ./components/Modal/BorrowModal.jsx ***!
  \******************************************/
/*! exports provided: default */
/*! exports used: default */function(e,t,n){"use strict";var a=n(/*! react */0),r=n(/*! prop-types */3),o=n(/*! lodash */27),s=n(/*! react-foundation-apps/src/utils/foundation-api */35),i=n.n(s),l=n(/*! ./BaseModal */110),c=n(/*! react-foundation-apps/src/trigger */81),u=n(/*! react-translate-component */1),p=n.n(u),d=n(/*! ../Utility/ChainTypes */21),f=n(/*! ../Utility/BindToChainState */24),m=n(/*! ../Utility/FormattedAsset */19),h=n(/*! common/utils */8),g=n(/*! classnames */40),b=n.n(g),v=n(/*! ../Utility/AmountSelector */1395),y=n(/*! ../Utility/BalanceComponent */1392),_=n(/*! api/WalletApi */136),E=n(/*! stores/WalletDb */15),w=n(/*! ../Utility/FormattedPrice */76),k=n(/*! counterpart */14),O=n.n(k),P=n(/*! ../Utility/HelpContent */297),C=n(/*! immutable */7),j=n.n(C),T=n(/*! cybexjs */2),x=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function A(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var D=function(e){function t(e){S(this,t);var n=N(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.state=n._initialState(e),n}return A(t,a["Component"]),x(t,[{key:"_initialState",value:function(e){var t=e?this._getCurrentPosition(e):{};if(t.collateral){var n=h.a.get_asset_amount(t.debt,e.quote_asset),a=h.a.get_asset_amount(t.collateral,e.backing_asset);return{short_amount:n?n.toString():null,collateral:a?a.toString():null,collateral_ratio:this._getCollateralRatio(n,a),errors:this._getInitialErrors(),isValid:!1,original_position:{debt:n,collateral:a}}}return{short_amount:0,collateral:0,collateral_ratio:this._getInitialCollateralRatio(e),errors:this._getInitialErrors(),isValid:!1,original_position:{debt:0,collateral:0}}}},{key:"componentDidMount",value:function(){var e=this._initialState(this.props);this.setState(e),this._setUpdatedPosition(e)}},{key:"shouldComponentUpdate",value:function(e,t){return!(h.a.are_equal_shallow(t,this.state)&&j.a.is(e.quote_asset,this.props.quote_asset)&&!e.backing_asset.get("symbol")!==this.props.backing_asset.get("symbol")&&j.a.is(e.account,this.props.account)&&j.a.is(e.call_orders,this.props.call_orders))}},{key:"componentWillReceiveProps",value:function(e){e.account===this.props.account&&e.hasCallOrders===this.props.hasCallOrders&&e.quote_asset.get("id")===this.props.quote_asset.get("id")||this.setState(this._initialState(e))}},{key:"_getInitialErrors",value:function(){return{collateral_balance:null,ratio_too_high:null}}},{key:"confirmClicked",value:function(e){e.preventDefault(),i.a.publish(this.props.modalId,"close")}},{key:"_onBorrowChange",value:function(e){var t=this._getFeedPrice(),n=e.amount.replace(/,/g,""),a={short_amount:n,collateral:(this.state.collateral_ratio*(n/t)).toFixed(this.props.backing_asset.get("precision")),collateral_ratio:this.state.collateral_ratio};this.setState(a),this._validateFields(a),this._setUpdatedPosition(a)}},{key:"_onCollateralChange",value:function(e){var t=e.amount.replace(/,/g,""),n=this._getFeedPrice(),a=t/(this.state.short_amount/n),r=this._isPredictionMarket(this.props)?{short_amount:t,collateral:t,collateral_ratio:1}:{short_amount:this.state.short_amount,collateral:t,collateral_ratio:Object(o.isFinite)(a)?a:this._getInitialCollateralRatio(this.props)};this.setState(r),this._validateFields(r),this._setUpdatedPosition(r)}},{key:"_onRatioChange",value:function(e){var t=this._getFeedPrice(),n=e.target.value,a={short_amount:this.state.short_amount,collateral:(this.state.short_amount/t*n).toFixed(this.props.backing_asset.get("precision")),collateral_ratio:n};this.setState(a),this._validateFields(a),this._setUpdatedPosition(a)}},{key:"_setUpdatedPosition",value:function(e){this.setState({newPosition:parseFloat(e.short_amount)/parseFloat(e.collateral)})}},{key:"_validateFields",value:function(e){var t=this._getInitialErrors(),n=this.state.original_position,a=this.props.backing_balance?this.props.backing_balance.toJS():{balance:0};parseFloat(e.collateral)-n.collateral>h.a.get_asset_amount(a.balance,this.props.backing_asset.toJS())&&(t.collateral_balance=O.a.translate("borrow.errors.collateral"));var r=e.short_amount>=0&&e.collateral>=0&&(e.short_amount!=n.debt||e.collateral!=n.collateral),o=this.props.quote_asset.getIn(["bitasset","current_feed","maintenance_collateral_ratio"])/1e3;parseFloat(e.collateral_ratio)<(this._isPredictionMarket(this.props)?1:o)?(t.below_maintenance=O.a.translate("borrow.errors.below",{mr:o}),r=!1):parseFloat(e.collateral_ratio)<(this._isPredictionMarket(this.props)?1:o+.5)&&(t.close_maintenance=O.a.translate("borrow.errors.close",{mr:o}),r=!0),this.setState({errors:t,isValid:r})}},{key:"_onSubmit",value:function(e){e.preventDefault();var t=h.a.get_asset_precision(this.props.quote_asset.get("precision")),n=h.a.get_asset_precision(this.props.backing_asset.get("precision")),a=this._getCurrentPosition(this.props),r=_.a.new_transaction();r.add_type_operation("call_order_update",{fee:{amount:0,asset_id:0},funding_account:this.props.account.get("id"),delta_collateral:{amount:parseInt(this.state.collateral*n-a.collateral,10),asset_id:this.props.backing_asset.get("id")},delta_debt:{amount:parseInt(this.state.short_amount*t-a.debt,10),asset_id:this.props.quote_asset.get("id")}}),E.a.process_transaction(r,null,!0).catch(function(e){}),i.a.publish(this.props.modalId,"close")}},{key:"_getCurrentPosition",value:function(e){var t={collateral:null,debt:null};if(e&&e.hasCallOrders&&e.call_orders)for(var n in e.call_orders)e.call_orders.hasOwnProperty(n)&&e.call_orders[n]&&e.quote_asset.get("id")===e.call_orders[n].getIn(["call_price","quote","asset_id"])&&(t=e.call_orders[n].toJS());return t}},{key:"_getFeedPrice",value:function(){return this.props?this._isPredictionMarket(this.props)?1:1/h.a.get_asset_price(this.props.quote_asset.getIn(["bitasset","current_feed","settlement_price","quote","amount"]),this.props.backing_asset,this.props.quote_asset.getIn(["bitasset","current_feed","settlement_price","base","amount"]),this.props.quote_asset):1}},{key:"_getInitialCollateralRatio",value:function(e){return this._isPredictionMarket(e)?1:0}},{key:"_getCollateralRatio",value:function(e,t){return t/(e/this._getFeedPrice())}},{key:"_isPredictionMarket",value:function(e){return e.quote_asset.getIn(["bitasset","is_prediction_market"])}},{key:"render",value:function(){var e=this,t=this.props,n=t.quote_asset,r=t.bitasset_balance,o=t.backing_asset,s=t.backing_balance,i=this.state,l=i.short_amount,u=i.collateral,d=i.collateral_ratio,f=i.errors,g=i.isValid,_=h.a.get_asset_precision(this.props.quote_asset.get("precision")),E=h.a.get_asset_precision(this.props.backing_asset.get("precision"));d&&!isNaN(d)&&d>0&&d<1e3||(d=0),r=r?r.toJS():{balance:0,id:null},s=s?s.toJS():{balance:0,id:null};var k=b()("form-group",{"has-error":f.collateral_balance}),O=b()("form-group",{"has-error":f.below_maintenance},{"has-warning":f.close_maintenance}),C=b()("button",{disabled:f.collateral_balance||!g},{success:g}),j=this._getCurrentPosition(this.props),x=s.id?T.b.getObject(s.id):null,S=(x?x.get("balance"):0)-parseInt(this.state.collateral*E-j.collateral,10),N=a.createElement("span",null,a.createElement(p.a,{component:"span",content:"transfer.available"}),":"," ",r.id?a.createElement(y.a,{balance:r.id}):a.createElement(m.a,{amount:0,asset:n.get("id")})),A=a.createElement("span",null,a.createElement(p.a,{component:"span",content:"transfer.available"}),":"," ",s.id?a.createElement(m.a,{amount:S,asset:o.get("id")}):a.createElement(m.a,{amount:0,asset:o.get("id")})),D=this._getFeedPrice(),R=this.props.quote_asset.getIn(["bitasset","current_feed","maintenance_collateral_ratio"])/1e3,q=(this.props.quote_asset.getIn(["bitasset","current_feed","maximum_short_squeeze_ratio"]),this._isPredictionMarket(this.props));return!q&&isNaN(D)?a.createElement("div",null,a.createElement("form",{className:"grid-container text-center no-overflow",noValidate:!0},a.createElement(p.a,{component:"h3",content:"borrow.no_valid",asset_symbol:n.get("symbol")})),a.createElement("div",{className:"grid-content button-group text-center no-overflow"},a.createElement(c.a,{close:this.props.modalId},a.createElement("div",{className:" button warning"},a.createElement(p.a,{content:"account.perm.cancel"}))))):a.createElement("div",null,a.createElement("form",{className:"grid-container small-10 small-offset-1 no-overflow",noValidate:!0},a.createElement(p.a,{component:"h3",content:"borrow.title",asset_symbol:n.get("symbol")}),a.createElement("div",{style:{textAlign:"left"}},this.props.hide_help?null:a.createElement(P.a,{path:"components/"+(q?"BorrowModalPrediction":"BorrowModal"),debt:n.get("symbol"),collateral:o.get("symbol"),borrower:this.props.account.get("name"),mr:R}),q?null:a.createElement("div",{style:{paddingBottom:"1rem"}},a.createElement("div",{className:"borrow-price-feeds"},a.createElement("span",{className:"borrow-price-label"},a.createElement(p.a,{content:"transaction.feed_price"}),":Â "),a.createElement(w.a,{noPopOver:!0,quote_amount:n.getIn(["bitasset","current_feed","settlement_price","base","amount"]),quote_asset:n.getIn(["bitasset","current_feed","settlement_price","base","asset_id"]),base_asset:n.getIn(["bitasset","current_feed","settlement_price","quote","asset_id"]),base_amount:n.getIn(["bitasset","current_feed","settlement_price","quote","amount"])})),a.createElement("b",null),a.createElement("div",{className:"borrow-price-final "+(f.below_maintenance?"has-error":f.close_maintenance?"has-warning":"")},a.createElement("span",{className:"borrow-price-label"},a.createElement(p.a,{content:"exchange.your_price"}),":Â "),this.state.newPosition?a.createElement(w.a,{noPopOver:!0,quote_amount:R*this.state.short_amount*_,quote_asset:n.get("id"),base_asset:o.get("id"),base_amount:this.state.collateral*E}):null)),a.createElement("div",{className:"form-group"},a.createElement(v.a,{label:"transaction.borrow_amount",amount:l.toString(),onChange:this._onBorrowChange.bind(this),asset:n.get("id"),assets:[n.get("id")],display_balance:N,placeholder:"0.0",tabIndex:1})),a.createElement("div",{className:k},a.createElement(v.a,{label:"transaction.collateral",amount:u.toString(),onChange:this._onCollateralChange.bind(this),asset:o.get("id"),assets:[o.get("id")],display_balance:A,placeholder:"0.0",tabIndex:1}),f.collateral_balance?a.createElement("div",{style:{paddingTop:"0.5rem"}},f.collateral_balance):null),q?null:a.createElement("div",{className:O},a.createElement(p.a,{component:"label",content:"borrow.coll_ratio"}),a.createElement("input",{min:"0",max:"6",step:"0.05",onChange:this._onRatioChange.bind(this),value:d,type:"range",disabled:!l}),a.createElement("div",{className:"inline-block"},h.a.format_number(d,2)),f.below_maintenance||f.close_maintenance?a.createElement("div",{style:{maxWidth:"calc(100% - 50px)"},className:"float-right"},f.below_maintenance,f.close_maintenance):null),a.createElement("div",{className:"no-padding grid-content button-group no-overflow"},a.createElement("div",{onClick:this._onSubmit.bind(this),href:!0,className:C},a.createElement(p.a,{content:"borrow.adjust"})),a.createElement("div",{onClick:function(t){t.preventDefault(),e.setState(e._initialState(e.props))},href:!0,className:"button info"},a.createElement(p.a,{content:"wallet.reset"}))))))}}]),t}();D.propTypes={quote_asset:d.a.ChainAsset.isRequired,bitasset_balance:d.a.ChainObject,backing_asset:d.a.ChainAsset.isRequired,backing_balance:d.a.ChainObject,call_orders:d.a.ChainObjectsList,hasCallOrders:r.bool},D=Object(f.a)(D,{keep_updating:!0});var R=function(e){function t(){S(this,t);var e=N(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={smallScreen:!1},e}return A(t,a["Component"]),x(t,[{key:"show",value:function(){var e="borrow_modal_"+this.props.quote_asset;i.a.publish(e,"open")}},{key:"componentWillMount",value:function(){this.setState({smallScreen:window.innerHeight<=800})}},{key:"render",value:function(){var e=this.props,t=e.quote_asset,n=e.backing_asset,r=e.account,o="borrow_modal_"+t,s=r.get("balances").toJS(),i=void 0,c=void 0;if(s)for(var u in s)u===n&&(i=s[u]),u===t&&(c=s[u]);return a.createElement(l.a,{id:o,overlay:!0,ref:o},a.createElement("div",{className:"grid-block vertical"},a.createElement(D,{quote_asset:t,call_orders:r.get("call_orders"),hasCallOrders:r.get("call_orders")&&r.get("call_orders").size>0,modalId:o,bitasset_balance:c,backing_balance:i,backing_asset:n,hide_help:this.state.smallScreen,account:r})))}}]),t}();t.a=R},1613:
/*!*************************************************!*\
  !*** ./components/Common/Table.tsx + 7 modules ***!
  \*************************************************/
/*! exports provided: Table, default */
/*! exports used: Table */
/*! ModuleConcatenation bailout: Cannot concat with ./lib/counterpart/index.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/classnames/index.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/prop-types/index.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/react/index.js (<- Module is not an ECMAScript module) */function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(40),s=n.n(o),i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};function l(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}var c={get:function(e,t,n){if(!t)return e;var a=p(t),r=void 0;try{r=a.reduce(function(e,t){return e[t]},e)}catch(e){}return void 0!==r?r:n},set:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],n=arguments[2],a=p(t),r=void 0,o=e;for(;(r=a.shift())&&a.length;)o[r]||(o[r]={}),o=o[r];return o[r]=n,e},takeRight:function(e,t){var n=t>e.length?0:e.length-t;return e.slice(n)},last:function(e){return e[e.length-1]},orderBy:function(e,t,n,a){return e.sort(function(e,r){for(var o=0;o<t.length;o+=1){var s=t[o],i=!1===n[o]||"desc"===n[o],l=s(e,r);if(l)return i?-l:l}return n[0]?e[a]-r[a]:r[a]-e[a]})},range:function(e){for(var t=[],n=0;n<e;n+=1)t.push(e);return t},remove:function(e,t){return e.filter(function(n,a){var r=t(n);return!!r&&(e.splice(a,1),!0)})},clone:function(e){try{return JSON.parse(JSON.stringify(e,function(e,t){return"function"==typeof t?t.toString():t}))}catch(t){return e}},getFirstDefined:function(){for(var e=0;e<arguments.length;e+=1)if(void 0!==(arguments.length<=e?void 0:arguments[e]))return arguments.length<=e?void 0:arguments[e]},sum:function(e){return e.reduce(function(e,t){return e+t},0)},makeTemplateComponent:function(e,t){if(!t)throw new Error("No displayName found for template component:",e);var n=function(t){var n=t.children,a=t.className,o=l(t,["children","className"]);return r.a.createElement("div",i({className:s()(e,a)},o),n)};return n.displayName=t,n},groupBy:function(e,t){return e.reduce(function(e,n,a){var r="function"==typeof t?t(n,a):n[t];return e[r]=u(e[r])?e[r]:[],e[r].push(n),e},{})},isArray:u,splitProps:function(e){var t=e.className,n=e.style,a=l(e,["className","style"]);return{className:t,style:n,rest:a||{}}},compactObject:function(e){var t={};e&&Object.keys(e).map(function(n){return Object.prototype.hasOwnProperty.call(e,n)&&void 0!==e[n]&&void 0!==e[n]&&(t[n]=e[n]),!0});return t},isSortingDesc:function(e){return!("desc"!==e.sort&&!0!==e.desc&&!1!==e.asc)},normalizeComponent:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e;return"function"==typeof e?Object.getPrototypeOf(e).isReactComponent?r.a.createElement(e,t):e(t):n},asPx:function(e){return e=Number(e),Number.isNaN(e)?null:e+"px"}};function u(e){return Array.isArray(e)}function p(e){return function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(u(t))for(var a=0;a<t.length;a+=1)e(t[a],n);else n.push(t);return n}(e).join(".").replace(/\[/g,".").replace(/\]/g,"").split(".")}var d=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var f=function(e){return function(t){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,e),d(n,[{key:"componentWillMount",value:function(){this.setStateWithData(this.getDataModel(this.getResolvedState(),!0))}},{key:"componentDidMount",value:function(){this.fireFetchData()}},{key:"componentWillReceiveProps",value:function(e,t){var n=this.getResolvedState(),a=this.getResolvedState(e,t);["sorted","filtered","resized","expanded"].forEach(function(e){var t="default"+(e.charAt(0).toUpperCase()+e.slice(1));JSON.stringify(n[t])!==JSON.stringify(a[t])&&(a[e]=a[t])});["sortable","filterable","resizable"].forEach(function(e){if(n[e]!==a[e]){var t=e.replace("able","")+"ed",r="default"+(t.charAt(0).toUpperCase()+t.slice(1));a[t]=a[r]}}),n.data===a.data&&n.columns===a.columns&&n.pivotBy===a.pivotBy&&n.sorted===a.sorted&&n.filtered===a.filtered||this.setStateWithData(this.getDataModel(a,n.data!==a.data))}},{key:"setStateWithData",value:function(e,t){var n=this,a=this.getResolvedState(),r=this.getResolvedState({},e),o=r.freezeWhenExpanded;if(r.frozen=!1,o)for(var s=Object.keys(r.expanded),i=0;i<s.length;i+=1)if(r.expanded[s[i]]){r.frozen=!0;break}return(a.frozen&&!r.frozen||a.sorted!==r.sorted||a.filtered!==r.filtered||a.showFilters!==r.showFilters||!r.frozen&&a.resolvedData!==r.resolvedData)&&((a.sorted!==r.sorted&&this.props.collapseOnSortingChange||a.filtered!==r.filtered||a.showFilters!==r.showFilters||a.sortedData&&!r.frozen&&a.resolvedData!==r.resolvedData&&this.props.collapseOnDataChange)&&(r.expanded={}),Object.assign(r,this.getSortedData(r))),a.filtered!==r.filtered&&(r.page=0),r.sortedData&&(r.pages=r.manual?r.pages:Math.ceil(r.sortedData.length/r.pageSize),r.page=Math.max(r.page>=r.pages?r.pages-1:r.page,0)),this.setState(r,function(){t&&t(),a.page===r.page&&a.pageSize===r.pageSize&&a.sorted===r.sorted&&a.filtered===r.filtered||n.fireFetchData()})}}]),n}()},m=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],a=!0,r=!1,o=void 0;try{for(var s,i=e[Symbol.iterator]();!(a=(s=i.next()).done)&&(n.push(s.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{!a&&i.return&&i.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},g=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var y=function(e){return function(t){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,e),g(n,[{key:"getResolvedState",value:function(e,t){return h({},c.compactObject(this.state),c.compactObject(this.props),c.compactObject(t),c.compactObject(e))}},{key:"getDataModel",value:function(e,t){var n=this,a=e.columns,o=e.pivotBy,s=void 0===o?[]:o,i=e.data,l=e.resolveData,u=e.pivotIDKey,p=e.pivotValKey,d=e.subRowsKey,f=e.aggregatedKey,g=e.nestingLevelKey,y=e.originalKey,_=e.indexKey,E=e.groupedByPivotKey,w=e.SubComponent,k=!1;a.forEach(function(e){e.columns&&(k=!0)});var O=[].concat(v(a)),P=a.find(function(e){return e.expander||e.columns&&e.columns.some(function(e){return e.expander})});P&&!P.expander&&(P=P.columns.find(function(e){return e.expander})),w&&!P&&(O=[P={expander:!0}].concat(v(O)));var C=[],j=function(e,t){var a=function(e,t){var a=void 0;if((a=e.expander?h({},n.props.column,n.props.expanderDefaults,e):h({},n.props.column,e)).maxWidth<a.minWidth&&(a.minWidth=a.maxWidth),t&&(a.parentColumn=t),"string"==typeof a.accessor){a.id=a.id||a.accessor;var r=a.accessor;return a.accessor=function(e){return c.get(e,r)},a}if(a.accessor&&!a.id)throw console.warn(a),new Error("A column id is required if using a non-string accessor for column above.");return a.accessor||(a.accessor=function(){}),a}(e,t);return C.push(a),a},T=O.map(function(e){return e.columns?h({},e,{columns:e.columns.map(function(t){return j(t,e)})}):j(e)}).slice(),x=[],S=(T=(T=T.map(function(e){if(e.columns){var t=e.columns.filter(function(e){return!(s.indexOf(e.id)>-1)&&c.getFirstDefined(e.show,!0)});return h({},e,{columns:t})}return e})).filter(function(e){return e.columns?e.columns.length:!(s.indexOf(e.id)>-1)&&c.getFirstDefined(e.show,!0)})).findIndex(function(e){return e.pivot});if(s.length){var N=[];s.forEach(function(e){var t=C.find(function(t){return t.id===e});t&&N.push(t)});var A=N.reduce(function(e,t){return e&&e===t.parentColumn&&t.parentColumn},N[0].parentColumn),D=k&&A.Header,R={Header:D=D||function(){return r.a.createElement("strong",null,"Pivoted")},columns:N.map(function(e){return h({},n.props.pivotDefaults,e,{pivoted:!0})})};S>=0?(R=h({},T[S],R),T.splice(S,1,R)):T.unshift(R)}var q=[],M=[],z=function(e,t){q.push(h({},n.props.column,t,{columns:e})),M=[]};T.forEach(function(e){if(e.columns)return x=x.concat(e.columns),M.length>0&&z(M),void z(e.columns,e);x.push(e),M.push(e)}),k&&M.length>0&&z(M);var F=this.resolvedData;this.resolvedData&&!t||(F=l(i),this.resolvedData=F),F=F.map(function(e,t){return function e(t,n){var a,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=(b(a={},y,t),b(a,_,n),b(a,d,t[d]),b(a,g,r),a);return C.forEach(function(e){e.expander||(o[e.id]=e.accessor(t))}),o[d]&&(o[d]=o[d].map(function(t,n){return e(t,n,r+1)})),o}(e,t)});var I=x.filter(function(e){return!e.expander&&e.aggregate});if(s.length){F=function e(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(a===n.length)return t;var r=Object.entries(c.groupBy(t,n[a])).map(function(e){var t,r=m(e,2),o=r[0],s=r[1];return b(t={},u,n[a]),b(t,p,o),b(t,n[a],o),b(t,d,s),b(t,g,a),b(t,E,!0),t});return r=r.map(function(t){var r,o,s,i=e(t[d],n,a+1);return h({},t,(b(r={},d,i),b(r,f,!0),r),(o=i,s={},I.forEach(function(e){var t=o.map(function(t){return t[e.id]});s[e.id]=e.aggregate(t,o)}),s))})}(F,s)}return h({},e,{resolvedData:F,allVisibleColumns:x,headerGroups:q,allDecoratedColumns:C,hasHeaderGroups:k})}},{key:"getSortedData",value:function(e){var t=e.manual,n=e.sorted,a=e.filtered,r=e.defaultFilterMethod,o=e.resolvedData,s=e.allVisibleColumns,i={};return e.allDecoratedColumns.filter(function(e){return e.sortMethod}).forEach(function(e){i[e.id]=e.sortMethod}),{sortedData:t?o:this.sortData(this.filterData(o,a,r,s),n,i)}}},{key:"fireFetchData",value:function(){this.props.onFetchData(this.getResolvedState(),this)}},{key:"getPropOrState",value:function(e){return c.getFirstDefined(this.props[e],this.state[e])}},{key:"getStateOrProp",value:function(e){return c.getFirstDefined(this.state[e],this.props[e])}},{key:"filterData",value:function(e,t,n,a){var r=this,o=e;return t.length&&(o=(o=t.reduce(function(e,t){var r=a.find(function(e){return e.id===t.id});if(!r||!1===r.filterable)return e;var o=r.filterMethod||n;return r.filterAll?o(t,e,r):e.filter(function(e){return o(t,e,r)})},o)).map(function(e){return e[r.props.subRowsKey]?h({},e,b({},r.props.subRowsKey,r.filterData(e[r.props.subRowsKey],t,n,a))):e}).filter(function(e){return!e[r.props.subRowsKey]||e[r.props.subRowsKey].length>0})),o}},{key:"sortData",value:function(e,t){var n=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!t.length)return e;var r=(this.props.orderByMethod||c.orderBy)(e,t.map(function(e){return a[e.id]?function(t,n){return a[e.id](t[e.id],n[e.id],e.desc)}:function(t,a){return n.props.defaultSortMethod(t[e.id],a[e.id],e.desc)}}),t.map(function(e){return!e.desc}),this.props.indexKey);return r.forEach(function(e){e[n.props.subRowsKey]&&(e[n.props.subRowsKey]=n.sortData(e[n.props.subRowsKey],t,a))}),r}},{key:"getMinRows",value:function(){return c.getFirstDefined(this.props.minRows,this.getStateOrProp("pageSize"))}},{key:"onPageChange",value:function(e){var t=this.props,n=t.onPageChange,a=t.collapseOnPageChange,r={page:e};a&&(r.expanded={}),this.setStateWithData(r,function(){return n&&n(e)})}},{key:"onPageSizeChange",value:function(e){var t=this.props.onPageSizeChange,n=this.getResolvedState(),a=n.pageSize*n.page,r=Math.floor(a/e);this.setStateWithData({pageSize:e,page:r},function(){return t&&t(e,r)})}},{key:"sortColumn",value:function(e,t){var n=this.getResolvedState(),a=n.sorted,r=n.skipNextSort,o=n.defaultSortDesc,s=Object.prototype.hasOwnProperty.call(e,"defaultSortDesc")?e.defaultSortDesc:o,i=!s;if(r)this.setStateWithData({skipNextSort:!1});else{var l=this.props.onSortedChange,u=c.clone(a||[]).map(function(e){return e.desc=c.isSortingDesc(e),e});if(c.isArray(e)){var p=u.findIndex(function(t){return t.id===e[0].id});if(p>-1)u[p].desc===i?t?u.splice(p,e.length):e.forEach(function(e,t){u[p+t].desc=s}):e.forEach(function(e,t){u[p+t].desc=i}),t||(u=u.slice(p,e.length));else u=t?u.concat(e.map(function(e){return{id:e.id,desc:s}})):e.map(function(e){return{id:e.id,desc:s}})}else{var d=u.findIndex(function(t){return t.id===e.id});if(d>-1){var f=u[d];f.desc===i?t?u.splice(d,1):(f.desc=s,u=[f]):(f.desc=i,t||(u=[f]))}else t?u.push({id:e.id,desc:s}):u=[{id:e.id,desc:s}]}this.setStateWithData({page:!a.length&&u.length||!t?0:this.state.page,sorted:u},function(){return l&&l(u,e,t)})}}},{key:"filterColumn",value:function(e,t){var n=this.getResolvedState().filtered,a=this.props.onFilteredChange,r=(n||[]).filter(function(t){return t.id!==e.id});""!==t&&r.push({id:e.id,value:t}),this.setStateWithData({filtered:r},function(){return a&&a(r,e,t)})}},{key:"resizeColumnStart",value:function(e,t,n){var a=this;e.stopPropagation();var r=e.target.parentElement.getBoundingClientRect().width,o=void 0;o=n?e.changedTouches[0].pageX:e.pageX,this.trapEvents=!0,this.setStateWithData({currentlyResizing:{id:t.id,startX:o,parentWidth:r}},function(){n?(document.addEventListener("touchmove",a.resizeColumnMoving),document.addEventListener("touchcancel",a.resizeColumnEnd),document.addEventListener("touchend",a.resizeColumnEnd)):(document.addEventListener("mousemove",a.resizeColumnMoving),document.addEventListener("mouseup",a.resizeColumnEnd),document.addEventListener("mouseleave",a.resizeColumnEnd))})}},{key:"resizeColumnMoving",value:function(e){e.stopPropagation();var t=this.props.onResizedChange,n=this.getResolvedState(),a=n.resized,r=n.currentlyResizing,o=a.filter(function(e){return e.id!==r.id}),s=void 0;"touchmove"===e.type?s=e.changedTouches[0].pageX:"mousemove"===e.type&&(s=e.pageX);var i=Math.max(r.parentWidth+s-r.startX,11);o.push({id:r.id,value:i}),this.setStateWithData({resized:o},function(){return t&&t(o,e)})}},{key:"resizeColumnEnd",value:function(e){e.stopPropagation();var t="touchend"===e.type||"touchcancel"===e.type;t&&(document.removeEventListener("touchmove",this.resizeColumnMoving),document.removeEventListener("touchcancel",this.resizeColumnEnd),document.removeEventListener("touchend",this.resizeColumnEnd)),document.removeEventListener("mousemove",this.resizeColumnMoving),document.removeEventListener("mouseup",this.resizeColumnEnd),document.removeEventListener("mouseleave",this.resizeColumnEnd),t||this.setStateWithData({skipNextSort:!0,currentlyResizing:!1})}}]),n}()},_=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};var w=function(e){return r.a.createElement("button",E({type:"button"},e,{className:"-btn"}),e.children)},k=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.getSafePage=n.getSafePage.bind(n),n.changePage=n.changePage.bind(n),n.applyPage=n.applyPage.bind(n),n.state={page:e.page},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["Component"]),_(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({page:e.page})}},{key:"getSafePage",value:function(e){return Number.isNaN(e)&&(e=this.props.page),Math.min(Math.max(e,0),this.props.pages-1)}},{key:"changePage",value:function(e){e=this.getSafePage(e),this.setState({page:e}),this.props.page!==e&&this.props.onPageChange(e)}},{key:"applyPage",value:function(e){e&&e.preventDefault();var t=this.state.page;this.changePage(""===t?this.props.page:t)}},{key:"render",value:function(){var e=this,t=this.props,n=t.pages,a=t.page,o=t.showPageSizeOptions,i=t.pageSizeOptions,l=t.pageSize,c=t.showPageJump,u=t.canPrevious,p=t.canNext,d=t.onPageSizeChange,f=t.className,m=t.PreviousComponent,h=void 0===m?w:m,g=t.NextComponent,b=void 0===g?w:g;return r.a.createElement("div",{className:s()(f,"-pagination"),style:this.props.style},r.a.createElement("div",{className:"-previous"},r.a.createElement(h,{onClick:function(){u&&e.changePage(a-1)},disabled:!u},this.props.previousText)),r.a.createElement("div",{className:"-center"},r.a.createElement("span",{className:"-pageInfo"},this.props.pageText," ",c?r.a.createElement("div",{className:"-pageJump"},r.a.createElement("input",{type:""===this.state.page?"text":"number",onChange:function(t){var n=t.target.value,a=n-1;if(""===n)return e.setState({page:n});e.setState({page:e.getSafePage(a)})},value:""===this.state.page?"":this.state.page+1,onBlur:this.applyPage,onKeyPress:function(t){13!==t.which&&13!==t.keyCode||e.applyPage()}})):r.a.createElement("span",{className:"-currentPage"},a+1)," ",this.props.ofText," ",r.a.createElement("span",{className:"-totalPages"},n||1)),o&&r.a.createElement("span",{className:"select-wrap -pageSizeOptions"},r.a.createElement("select",{onChange:function(e){return d(Number(e.target.value))},value:l},i.map(function(t,n){return r.a.createElement("option",{key:n,value:t},t," ",e.props.rowsText)})))),r.a.createElement("div",{className:"-next"},r.a.createElement(b,{onClick:function(){p&&e.changePage(a+1)},disabled:!p},this.props.nextText)))}}]),t}(),O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};function P(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}var C=function(){return{}},j={data:[],resolveData:function(e){return e},loading:!1,showPagination:!0,showPaginationTop:!1,showPaginationBottom:!0,showPageSizeOptions:!0,pageSizeOptions:[5,10,20,25,50,100],defaultPageSize:20,showPageJump:!0,collapseOnSortingChange:!0,collapseOnPageChange:!0,collapseOnDataChange:!0,freezeWhenExpanded:!1,sortable:!0,multiSort:!0,resizable:!0,filterable:!1,defaultSortDesc:!1,defaultSorted:[],defaultFiltered:[],defaultResized:[],defaultExpanded:{},defaultFilterMethod:function(e,t,n){var a=e.pivotId||e.id;return void 0===t[a]||String(t[a]).startsWith(e.value)},defaultSortMethod:function(e,t,n){return e=null===e||void 0===e?"":e,t=null===t||void 0===t?"":t,(e="string"==typeof e?e.toLowerCase():e)>(t="string"==typeof t?t.toLowerCase():t)?1:e<t?-1:0},onPageChange:void 0,onPageSizeChange:void 0,onSortedChange:void 0,onFilteredChange:void 0,onResizedChange:void 0,onExpandedChange:void 0,pivotBy:void 0,pivotValKey:"_pivotVal",pivotIDKey:"_pivotID",subRowsKey:"_subRows",aggregatedKey:"_aggregated",nestingLevelKey:"_nestingLevel",originalKey:"_original",indexKey:"_index",groupedByPivotKey:"_groupedByPivot",onFetchData:function(){return null},className:"",style:{},getProps:C,getTableProps:C,getTheadGroupProps:C,getTheadGroupTrProps:C,getTheadGroupThProps:C,getTheadProps:C,getTheadTrProps:C,getTheadThProps:C,getTheadFilterProps:C,getTheadFilterTrProps:C,getTheadFilterThProps:C,getTbodyProps:C,getTrGroupProps:C,getTrProps:C,getTdProps:C,getTfootProps:C,getTfootTrProps:C,getTfootTdProps:C,getPaginationProps:C,getLoadingProps:C,getNoDataProps:C,getResizerProps:C,column:{Cell:void 0,Header:void 0,Footer:void 0,Aggregated:void 0,Pivot:void 0,PivotValue:void 0,Expander:void 0,Filter:void 0,sortable:void 0,resizable:void 0,filterable:void 0,show:!0,minWidth:100,className:"",style:{},getProps:C,aggregate:void 0,headerClassName:"",headerStyle:{},getHeaderProps:C,footerClassName:"",footerStyle:{},getFooterProps:C,filterMethod:void 0,filterAll:!1,sortMethod:void 0},expanderDefaults:{sortable:!1,resizable:!1,filterable:!1,width:35},pivotDefaults:{},previousText:"Previous",nextText:"Next",loadingText:"Loading...",noDataText:"No rows found",pageText:"Page",ofText:"of",rowsText:"rows",TableComponent:function(e){var t=e.children,n=e.className,a=P(e,["children","className"]);return r.a.createElement("div",O({className:s()("rt-table",n),role:"grid"},a),t)},TheadComponent:c.makeTemplateComponent("rt-thead","Thead"),TbodyComponent:c.makeTemplateComponent("rt-tbody","Tbody"),TrGroupComponent:function(e){var t=e.children,n=e.className,a=P(e,["children","className"]);return r.a.createElement("div",O({className:s()("rt-tr-group",n),role:"rowgroup"},a),t)},TrComponent:function(e){var t=e.children,n=e.className,a=P(e,["children","className"]);return r.a.createElement("div",O({className:s()("rt-tr",n),role:"row"},a),t)},ThComponent:function(e){var t=e.toggleSort,n=e.className,a=e.children,o=P(e,["toggleSort","className","children"]);return r.a.createElement("div",O({className:s()("rt-th",n),onClick:function(e){return t&&t(e)},role:"columnheader",tabIndex:"-1"},o),a)},TdComponent:function(e){e.toggleSort;var t=e.className,n=e.children,a=P(e,["toggleSort","className","children"]);return r.a.createElement("div",O({className:s()("rt-td",t),role:"gridcell"},a),n)},TfootComponent:c.makeTemplateComponent("rt-tfoot","Tfoot"),FilterComponent:function(e){var t=e.filter,n=e.onChange;return r.a.createElement("input",{type:"text",style:{width:"100%"},value:t?t.value:"",onChange:function(e){return n(e.target.value)}})},ExpanderComponent:function(e){var t=e.isExpanded;return r.a.createElement("div",{className:s()("rt-expander",t&&"-open")},"â¢")},PivotValueComponent:function(e){var t=e.subRows,n=e.value;return r.a.createElement("span",null,n," ",t&&"("+t.length+")")},AggregatedComponent:function(e){var t=e.subRows,n=e.column,a=t.filter(function(e){return void 0!==e[n.id]}).map(function(e,a){return r.a.createElement("span",{key:a},e[n.id],a<t.length-1?", ":"")});return r.a.createElement("span",null,a)},PivotComponent:void 0,PaginationComponent:k,PreviousComponent:void 0,NextComponent:void 0,LoadingComponent:function(e){var t=e.className,n=e.loading,a=e.loadingText,o=P(e,["className","loading","loadingText"]);return r.a.createElement("div",O({className:s()("-loading",{"-active":n},t)},o),r.a.createElement("div",{className:"-loading-inner"},a))},NoDataComponent:c.makeTemplateComponent("rt-noData","NoData"),ResizerComponent:c.makeTemplateComponent("rt-resizer","Resizer"),PadRowComponent:function(){return r.a.createElement("span",null,"Â ")}},T=n(3),x=n.n(T),S={data:x.a.any,loading:x.a.bool,showPagination:x.a.bool,showPaginationTop:x.a.bool,showPaginationBottom:x.a.bool,showPageSizeOptions:x.a.bool,pageSizeOptions:x.a.array,defaultPageSize:x.a.number,showPageJump:x.a.bool,collapseOnSortingChange:x.a.bool,collapseOnPageChange:x.a.bool,collapseOnDataChange:x.a.bool,freezeWhenExpanded:x.a.bool,sortable:x.a.bool,resizable:x.a.bool,filterable:x.a.bool,defaultSortDesc:x.a.bool,defaultSorted:x.a.array,defaultFiltered:x.a.array,defaultResized:x.a.array,defaultExpanded:x.a.object,defaultFilterMethod:x.a.func,defaultSortMethod:x.a.func,onPageChange:x.a.func,onPageSizeChange:x.a.func,onSortedChange:x.a.func,onFilteredChange:x.a.func,onResizedChange:x.a.func,onExpandedChange:x.a.func,pivotBy:x.a.array,pivotValKey:x.a.string,pivotIDKey:x.a.string,subRowsKey:x.a.string,aggregatedKey:x.a.string,nestingLevelKey:x.a.string,originalKey:x.a.string,indexKey:x.a.string,groupedByPivotKey:x.a.string,onFetchData:x.a.func,className:x.a.string,style:x.a.object,getProps:x.a.func,getTableProps:x.a.func,getTheadGroupProps:x.a.func,getTheadGroupTrProps:x.a.func,getTheadGroupThProps:x.a.func,getTheadProps:x.a.func,getTheadTrProps:x.a.func,getTheadThProps:x.a.func,getTheadFilterProps:x.a.func,getTheadFilterTrProps:x.a.func,getTheadFilterThProps:x.a.func,getTbodyProps:x.a.func,getTrGroupProps:x.a.func,getTrProps:x.a.func,getTdProps:x.a.func,getTfootProps:x.a.func,getTfootTrProps:x.a.func,getTfootTdProps:x.a.func,getPaginationProps:x.a.func,getLoadingProps:x.a.func,getNoDataProps:x.a.func,getResizerProps:x.a.func,columns:x.a.arrayOf(x.a.shape({Cell:x.a.oneOfType([x.a.element,x.a.string,x.a.func]),Header:x.a.oneOfType([x.a.element,x.a.string,x.a.func]),Footer:x.a.oneOfType([x.a.element,x.a.string,x.a.func]),Aggregated:x.a.oneOfType([x.a.element,x.a.string,x.a.func]),Pivot:x.a.oneOfType([x.a.element,x.a.string,x.a.func]),PivotValue:x.a.oneOfType([x.a.element,x.a.string,x.a.func]),Expander:x.a.oneOfType([x.a.element,x.a.string,x.a.func]),Filter:x.a.oneOfType([x.a.element,x.a.func]),sortable:x.a.bool,resizable:x.a.bool,filterable:x.a.bool,show:x.a.bool,minWidth:x.a.number,className:x.a.string,style:x.a.object,getProps:x.a.func,aggregate:x.a.func,headerClassName:x.a.string,headerStyle:x.a.object,getHeaderProps:x.a.func,footerClassName:x.a.string,footerStyle:x.a.object,getFooterProps:x.a.object,filterMethod:x.a.func,filterAll:x.a.bool,sortMethod:x.a.func})),expanderDefaults:x.a.shape({sortable:x.a.bool,resizable:x.a.bool,filterable:x.a.bool,width:x.a.number}),pivotDefaults:x.a.object,previousText:x.a.node,nextText:x.a.node,loadingText:x.a.node,noDataText:x.a.node,pageText:x.a.node,ofText:x.a.node,rowsText:x.a.node,TableComponent:x.a.oneOfType([x.a.func,x.a.element]),TheadComponent:x.a.oneOfType([x.a.func,x.a.element]),TbodyComponent:x.a.oneOfType([x.a.func,x.a.element]),TrGroupComponent:x.a.oneOfType([x.a.func,x.a.element]),TrComponent:x.a.oneOfType([x.a.func,x.a.element]),ThComponent:x.a.oneOfType([x.a.func,x.a.element]),TdComponent:x.a.oneOfType([x.a.func,x.a.element]),TfootComponent:x.a.oneOfType([x.a.func,x.a.element]),FilterComponent:x.a.oneOfType([x.a.func,x.a.element]),ExpanderComponent:x.a.oneOfType([x.a.func,x.a.element]),PivotValueComponent:x.a.oneOfType([x.a.func,x.a.element]),AggregatedComponent:x.a.oneOfType([x.a.func,x.a.element]),PivotComponent:x.a.oneOfType([x.a.func,x.a.element]),PaginationComponent:x.a.oneOfType([x.a.func,x.a.element]),PreviousComponent:x.a.oneOfType([x.a.func,x.a.element]),NextComponent:x.a.oneOfType([x.a.func,x.a.element]),LoadingComponent:x.a.oneOfType([x.a.func,x.a.element]),NoDataComponent:x.a.oneOfType([x.a.func,x.a.element]),ResizerComponent:x.a.oneOfType([x.a.func,x.a.element]),PadRowComponent:x.a.oneOfType([x.a.func,x.a.element])},N=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],a=!0,r=!1,o=void 0;try{for(var s,i=e[Symbol.iterator]();!(a=(s=i.next()).done)&&(n.push(s.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{!a&&i.return&&i.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},D=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var R=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.getResolvedState=n.getResolvedState.bind(n),n.getDataModel=n.getDataModel.bind(n),n.getSortedData=n.getSortedData.bind(n),n.fireFetchData=n.fireFetchData.bind(n),n.getPropOrState=n.getPropOrState.bind(n),n.getStateOrProp=n.getStateOrProp.bind(n),n.filterData=n.filterData.bind(n),n.sortData=n.sortData.bind(n),n.getMinRows=n.getMinRows.bind(n),n.onPageChange=n.onPageChange.bind(n),n.onPageSizeChange=n.onPageSizeChange.bind(n),n.sortColumn=n.sortColumn.bind(n),n.filterColumn=n.filterColumn.bind(n),n.resizeColumnStart=n.resizeColumnStart.bind(n),n.resizeColumnEnd=n.resizeColumnEnd.bind(n),n.resizeColumnMoving=n.resizeColumnMoving.bind(n),n.state={page:0,pageSize:e.defaultPageSize,sorted:e.defaultSorted,expanded:e.defaultExpanded,filtered:e.defaultFiltered,resized:e.defaultResized,currentlyResizing:!1,skipNextSort:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,y(f(a["Component"]))),D(t,[{key:"render",value:function(){var e=this,t=this.getResolvedState(),n=t.children,a=t.className,o=t.style,i=t.getProps,l=t.getTableProps,u=t.getTheadGroupProps,p=t.getTheadGroupTrProps,d=t.getTheadGroupThProps,f=t.getTheadProps,m=t.getTheadTrProps,h=t.getTheadThProps,g=t.getTheadFilterProps,b=t.getTheadFilterTrProps,v=t.getTheadFilterThProps,y=t.getTbodyProps,_=t.getTrGroupProps,E=t.getTrProps,w=t.getTdProps,k=t.getTfootProps,O=t.getTfootTrProps,P=t.getTfootTdProps,C=t.getPaginationProps,T=t.getLoadingProps,x=t.getNoDataProps,S=t.getResizerProps,D=t.showPagination,R=t.showPaginationTop,q=t.showPaginationBottom,M=t.manual,z=t.loadingText,F=t.noDataText,I=t.sortable,L=t.multiSort,W=t.resizable,B=t.filterable,H=t.pivotIDKey,K=t.pivotValKey,G=t.pivotBy,U=t.subRowsKey,V=t.aggregatedKey,J=t.originalKey,$=t.indexKey,Y=t.groupedByPivotKey,X=t.loading,Q=t.pageSize,Z=t.page,ee=t.sorted,te=t.filtered,ne=t.resized,ae=t.expanded,re=t.pages,oe=t.onExpandedChange,se=t.TableComponent,ie=t.TheadComponent,le=t.TbodyComponent,ce=t.TrGroupComponent,ue=t.TrComponent,pe=t.ThComponent,de=t.TdComponent,fe=t.TfootComponent,me=t.PaginationComponent,he=t.LoadingComponent,ge=t.SubComponent,be=t.NoDataComponent,ve=t.ResizerComponent,ye=t.ExpanderComponent,_e=t.PivotValueComponent,Ee=t.PivotComponent,we=t.AggregatedComponent,ke=t.FilterComponent,Oe=t.PadRowComponent,Pe=t.resolvedData,Ce=t.allVisibleColumns,je=t.headerGroups,Te=t.hasHeaderGroups,xe=t.sortedData,Se=t.currentlyResizing,Ne=Q*Z,Ae=Ne+Q,De=M?Pe:xe.slice(Ne,Ae),Re=this.getMinRows(),qe=c.range(Math.max(Re-De.length,0)),Me=Ce.some(function(e){return e.Footer}),ze=B||Ce.some(function(e){return e.filterable}),Fe=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;return[t.map(function(t,r){var o=A({},t,{_viewIndex:a+=1}),s=n.concat([r]);if(o[U]&&c.get(ae,s)){var i=e(o[U],s,a),l=N(i,2);o[U]=l[0],a=l[1]}return o}),a]}(De),Ie=N(Fe,1);De=Ie[0];var Le=Z>0,We=Z+1<re,Be=c.sum(Ce.map(function(e){var t=ne.find(function(t){return t.id===e.id})||{};return c.getFirstDefined(t.value,e.width,e.minWidth)})),He=-1,Ke=A({},t,{startRow:Ne,endRow:Ae,pageRows:De,minRows:Re,padRows:qe,hasColumnFooter:Me,canPrevious:Le,canNext:We,rowMinWidth:Be}),Ge=c.splitProps(i(Ke,void 0,void 0,this)),Ue=c.splitProps(l(Ke,void 0,void 0,this)),Ve=c.splitProps(y(Ke,void 0,void 0,this)),Je=T(Ke,void 0,void 0,this),$e=x(Ke,void 0,void 0,this),Ye=function(t,n){var a=function(e){return(ne.find(function(t){return t.id===e.id})||{}).value},o=c.sum(t.columns.map(function(e){return e.width||a(e)?0:e.minWidth})),i=c.sum(t.columns.map(function(e){return c.getFirstDefined(a(e),e.width,e.minWidth)})),l=c.sum(t.columns.map(function(e){return c.getFirstDefined(a(e),e.width,e.maxWidth)})),u=c.splitProps(d(Ke,void 0,t,e)),p=c.splitProps(t.getHeaderProps(Ke,void 0,t,e)),f=[t.headerClassName,u.className,p.className],m=A({},t.headerStyle,u.style,p.style),h=A({},u.rest,p.rest),g={flex:o+" 0 auto",width:c.asPx(i),maxWidth:c.asPx(l)};return r.a.createElement(pe,A({key:n+"-"+t.id,className:s()(f),style:A({},m,g)},h),c.normalizeComponent(t.Header,{data:xe,column:t}))},Xe=function(t,n){var a=ne.find(function(e){return e.id===t.id})||{},o=ee.find(function(e){return e.id===t.id}),i="function"==typeof t.show?t.show():t.show,l=c.getFirstDefined(a.value,t.width,t.minWidth),u=c.getFirstDefined(a.value,t.width,t.maxWidth),p=c.splitProps(h(Ke,void 0,t,e)),d=c.splitProps(t.getHeaderProps(Ke,void 0,t,e)),f=[t.headerClassName,p.className,d.className],m=A({},t.headerStyle,p.style,d.style),g=A({},p.rest,d.rest),b=c.getFirstDefined(t.resizable,W,!1),v=b?r.a.createElement(ve,A({onMouseDown:function(n){return e.resizeColumnStart(n,t,!1)},onTouchStart:function(n){return e.resizeColumnStart(n,t,!0)}},S("finalState",void 0,t,e))):null,y=c.getFirstDefined(t.sortable,I,!1);return r.a.createElement(pe,A({key:n+"-"+t.id,className:s()(f,b&&"rt-resizable-header",o?o.desc?"-sort-desc":"-sort-asc":"",y&&"-cursor-pointer",!i&&"-hidden",G&&G.slice(0,-1).includes(t.id)&&"rt-header-pivot"),style:A({},m,{flex:l+" 0 auto",width:c.asPx(l),maxWidth:c.asPx(u)}),toggleSort:function(n){y&&e.sortColumn(t,!!L&&n.shiftKey)}},g),r.a.createElement("div",{className:s()(b&&"rt-resizable-header-content")},c.normalizeComponent(t.Header,{data:xe,column:t})),v)},Qe=function(t,n){var a=ne.find(function(e){return e.id===t.id})||{},o=c.getFirstDefined(a.value,t.width,t.minWidth),i=c.getFirstDefined(a.value,t.width,t.maxWidth),l=c.splitProps(v(Ke,void 0,t,e)),u=c.splitProps(t.getHeaderProps(Ke,void 0,t,e)),p=[t.headerClassName,l.className,u.className],d=A({},t.headerStyle,l.style,u.style),f=A({},l.rest,u.rest),m=te.find(function(e){return e.id===t.id}),h=t.Filter||ke,g=c.getFirstDefined(t.filterable,B,!1);return r.a.createElement(pe,A({key:n+"-"+t.id,className:s()(p),style:A({},d,{flex:o+" 0 auto",width:c.asPx(o),maxWidth:c.asPx(i)})},f),g?c.normalizeComponent(h,{column:t,filter:m,onChange:function(n){return e.filterColumn(t,n)}},j.column.Filter):null)},Ze=function(t,n){var a=ne.find(function(e){return e.id===t.id})||{},o="function"==typeof t.show?t.show():t.show,i=c.getFirstDefined(a.value,t.width,t.minWidth),l=i,u=c.getFirstDefined(a.value,t.width,t.maxWidth),p=c.splitProps(w(Ke,void 0,t,e)),d=c.splitProps(t.getProps(Ke,void 0,t,e)),f=[p.className,t.className,d.className],m=A({},p.style,t.style,d.style);return r.a.createElement(de,A({key:n+"-"+t.id,className:s()(f,!o&&"hidden"),style:A({},m,{flex:l+" 0 auto",width:c.asPx(i),maxWidth:c.asPx(u)})},p.rest),c.normalizeComponent(Oe))},et=function(t,n){var a=_(Ke,void 0,void 0,e),o=c.splitProps(E(Ke,void 0,void 0,e));return r.a.createElement(ce,A({key:n},a),r.a.createElement(ue,{className:s()("-padRow",(De.length+n)%2?"-even":"-odd",o.className),style:o.style||{}},Ce.map(Ze)))},tt=function(t,n){var a=ne.find(function(e){return e.id===t.id})||{},o="function"==typeof t.show?t.show():t.show,i=c.getFirstDefined(a.value,t.width,t.minWidth),l=c.getFirstDefined(a.value,t.width,t.maxWidth),u=c.splitProps(P(Ke,void 0,void 0,e)),p=c.splitProps(t.getProps(Ke,void 0,t,e)),d=c.splitProps(t.getFooterProps(Ke,void 0,t,e)),f=[u.className,t.className,p.className,d.className],m=A({},u.style,t.style,p.style,d.style);return r.a.createElement(de,A({key:n+"-"+t.id,className:s()(f,!o&&"hidden"),style:A({},m,{flex:i+" 0 auto",width:c.asPx(i),maxWidth:c.asPx(l)})},p.rest,u.rest,d.rest),c.normalizeComponent(t.Footer,{data:xe,column:t}))},nt=function(){var n,i,l,d,h,v,y,P,j,T=(n=c.splitProps(C(Ke,void 0,void 0,e)),r.a.createElement(me,A({},t,{pages:re,canPrevious:Le,canNext:We,onPageChange:e.onPageChange,onPageSizeChange:e.onPageSizeChange,className:n.className,style:n.style},n.rest)));return r.a.createElement("div",A({className:s()("ReactTable",a,Ge.className),style:A({},o,Ge.style)},Ge.rest),D&&R?r.a.createElement("div",{className:"pagination-top"},T):null,r.a.createElement(se,A({className:s()(Ue.className,Se?"rt-resizing":""),style:Ue.style},Ue.rest),Te?(P=c.splitProps(u(Ke,void 0,void 0,e)),j=c.splitProps(p(Ke,void 0,void 0,e)),r.a.createElement(ie,A({className:s()("-headerGroups",P.className),style:A({},P.style,{minWidth:Be+"px"})},P.rest),r.a.createElement(ue,A({className:j.className,style:j.style},j.rest),je.map(Ye)))):null,(v=c.splitProps(f(Ke,void 0,void 0,e)),y=c.splitProps(m(Ke,void 0,void 0,e)),r.a.createElement(ie,A({className:s()("-header",v.className),style:A({},v.style,{minWidth:Be+"px"})},v.rest),r.a.createElement(ue,A({className:y.className,style:y.style},y.rest),Ce.map(Xe)))),ze?(d=c.splitProps(g(Ke,void 0,void 0,e)),h=c.splitProps(b(Ke,void 0,void 0,e)),r.a.createElement(ie,A({className:s()("-filters",d.className),style:A({},d.style,{minWidth:Be+"px"})},d.rest),r.a.createElement(ue,A({className:h.className,style:h.style},h.rest),Ce.map(Qe)))):null,r.a.createElement(le,A({className:s()(Ve.className),style:A({},Ve.style,{minWidth:Be+"px"})},Ve.rest),De.map(function(t,n){return function t(n,a){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i={original:n[J],row:n,index:n[$],viewIndex:He+=1,pageSize:Q,page:Z,level:o.length,nestingPath:o.concat([a]),aggregated:n[V],groupedByPivot:n[Y],subRows:n[U]},l=c.get(ae,i.nestingPath),u=_(Ke,i,void 0,e),p=c.splitProps(E(Ke,i,void 0,e));return r.a.createElement(ce,A({key:i.nestingPath.join("_")},u),r.a.createElement(ue,A({className:s()(p.className,n._viewIndex%2?"-even":"-odd"),style:p.style},p.rest),Ce.map(function(t,a){var o=ne.find(function(e){return e.id===t.id})||{},u="function"==typeof t.show?t.show():t.show,p=c.getFirstDefined(o.value,t.width,t.minWidth),d=c.getFirstDefined(o.value,t.width,t.maxWidth),f=c.splitProps(w(Ke,i,t,e)),m=c.splitProps(t.getProps(Ke,i,t,e)),h=[f.className,t.className,m.className],g=A({},f.style,t.style,m.style),b=A({},i,{isExpanded:l,column:A({},t),value:i.row[t.id],pivoted:t.pivoted,expander:t.expander,resized:ne,show:u,width:p,maxWidth:d,tdProps:f,columnProps:m,classes:h,styles:g}),v=b.value,y=void 0,_=void 0,E=void 0,k=c.normalizeComponent(t.Cell,b,v),O=t.Aggregated||(t.aggregate?t.Cell:we),P=t.Expander||ye,C=t.PivotValue||_e,j=Ee||function(e){return r.a.createElement("div",null,r.a.createElement(P,e),r.a.createElement(C,e))},T=t.Pivot||j;(b.pivoted||b.expander)&&(b.expandable=!0,y=!0,!b.pivoted||b.subRows||ge||(b.expandable=!1)),b.pivoted?(_=i.row[H]===t.id&&b.subRows,E=G.indexOf(t.id)>G.indexOf(i.row[H])&&b.subRows,k=_?c.normalizeComponent(T,A({},b,{value:n[K]}),n[K]):E?c.normalizeComponent(O,b,v):null):b.aggregated&&(k=c.normalizeComponent(O,b,v)),b.expander&&(k=c.normalizeComponent(P,b,n[K]),G&&(b.groupedByPivot&&(k=null),b.subRows||ge||(k=null)));var x=y?function(t){var n=c.clone(ae);return n=l?c.set(n,b.nestingPath,!1):c.set(n,b.nestingPath,{}),e.setStateWithData({expanded:n},function(){return oe&&oe(n,b.nestingPath,t)})}:function(){},S={onClick:x};return f.rest.onClick&&(S.onClick=function(e){f.rest.onClick(e,function(){return x(e)})}),m.rest.onClick&&(S.onClick=function(e){m.rest.onClick(e,function(){return x(e)})}),r.a.createElement(de,A({key:a+"-"+t.id,className:s()(h,!u&&"hidden",b.expandable&&"rt-expandable",(_||E)&&"rt-pivot"),style:A({},g,{flex:p+" 0 auto",width:c.asPx(p),maxWidth:c.asPx(d)})},f.rest,m.rest,S),k)})),i.subRows&&l&&i.subRows.map(function(e,n){return t(e,n,i.nestingPath)}),ge&&!i.subRows&&l&&ge(i))}(t,n)}),qe.map(et)),Me?(i=k(Ke,void 0,void 0,e),l=c.splitProps(O(Ke,void 0,void 0,e)),r.a.createElement(fe,A({className:i.className,style:A({},i.style,{minWidth:Be+"px"})},i.rest),r.a.createElement(ue,A({className:s()(l.className),style:l.style},l.rest),Ce.map(tt)))):null),D&&q?r.a.createElement("div",{className:"pagination-bottom"},T):null,!De.length&&r.a.createElement(be,$e,c.normalizeComponent(F)),r.a.createElement(he,A({loading:X,loadingText:z},Je)))};return n?n(Ke,nt,this):nt()}}]),t}();R.propTypes=S,R.defaultProps=j;var q=R,M=n(14),z=n.n(M);n.d(t,"a",function(){return I});var F=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var I=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["Component"]),F(t,[{key:"render",value:function(){return a.createElement(q,Object.assign({previousText:z.a.translate("table.previousText"),nextText:z.a.translate("table.nextText"),loadingText:z.a.translate("table.loadingText"),pageText:z.a.translate("table.pageText"),ofText:z.a.translate("table.ofText")+" ",rowsText:z.a.translate("table.rowsText"),defaultPageSize:10},this.props,{data:this.props.data,columns:this.props.columns,className:s()("-striped -highlight",this.props.className)}))}}]),t}()},1650:
/*!*****************************************************************!*\
  !*** ../node_modules/react-fetch-component/dist/SimpleCache.js ***!
  \*****************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.cache={}}return a(e,[{key:"get",value:function(e){return this.cache[e]}},{key:"set",value:function(e,t){var n=this;this.cache[e]=t,t.then(function(t){t.error&&n.remove(e)})}},{key:"remove",value:function(e){delete this.cache[e]}},{key:"clear",value:function(){this.cache={}}}]),e}();t.default=r},1651:
/*!***********************************************************!*\
  !*** ../node_modules/react-fetch-component/dist/utils.js ***!
  \***********************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseBody=void 0;var a,r=n(/*! react */0);(a=r)&&a.__esModule;t.parseBody=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.headers.get("Content-Type");if(null===n)return Promise.resolve(null);var a=n.split(";")[0].trim();return a in t?t[a](e):"application/json"===a||"text/json"===a||/\+json$/.test(a)?"json"in t?t.json(e):e.json():"text/html"===a?"html"in t?t.html(e):e.text():"application/xml"===a||"text/xml"===a||/\+xml$/.test(a)?"xml"in t?t.xml(e):e.text():"other"in t?t.other(e):e.arrayBuffer()}},1796:
/*!***********************************************************!*\
  !*** ../node_modules/react-fetch-component/dist/Fetch.js ***!
  \***********************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(/*! react */0),i=u(s),l=n(/*! ./utils */1651),c=u(n(/*! ./SimpleCache */1650));function u(e){return e&&e.__esModule?e:{default:e}}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var f=i.default.createContext({}),m=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=Array(r),s=0;s<r;s++)o[s]=arguments[s];return n=a=d(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),a.state={request:{url:a.props.url,options:a.props.options},fetch:a.fetch.bind(a),clearData:a.clearData.bind(a),loading:null},a.cache=null,a.promises=[],d(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.Component),o(t,[{key:"getOptions",value:function(e){return"function"==typeof e?e():e}},{key:"setCache",value:function(e){this.cache=!0===this.props.cache?new c.default:"object"===r(this.props.cache)?this.props.cache:null}},{key:"componentDidMount",value:function(){var e=this.props,t=e.url,n=e.options,a=e.manual,r=e.onChange,o=e.cache;this.mounted=!0,this.setCache(o),"function"==typeof r&&r(this.state),t&&!a&&this.fetch(t,n)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.url,a=t.options,r=t.manual,o=t.cache;n===e.url||r||this.fetch(n,a),o!==e.cache&&this.setCache(o)}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"fetch",value:function(e,t,n){var a=this,o=this.props,s=o.as;o.cache;null==e&&(e=this.props.url);var i={url:e,options:t=this.getOptions(t||this.props.options)};if(!this.cache||!this.cache.get(e)){this.update({request:i,loading:!0},null,n);var c=this.props.fetchFunction(e,t).then(function(e){return("function"==typeof s?s(e):"object"===(void 0===s?"undefined":r(s))?(0,l.parseBody)(e,s):"auto"===s?(0,l.parseBody)(e):e[s]()).then(function(t){return{response:e,data:t}}).catch(function(t){return{response:e,data:t}})}).then(function(e){var t,r=e.response,o=e.data,s=(p(t={request:i,loading:!1},r.ok?"error":"data",void 0),p(t,r.ok?"data":"error",o),p(t,"response",r),t);return a.update(s,c,n),s}).catch(function(e){var t={request:i,data:void 0,error:e,loading:!1};throw a.update(t,c,n),e});return this.promises.push(c),this.cache&&this.cache.set(e,c),c}var u=this.cache.get(e);u.then(function(e){return a.update(e,u,n)}),this.promises.push(u)}},{key:"clearData",value:function(){this.setState({data:void 0})}},{key:"update",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(t){var r=this.promises.indexOf(t);if(-1===r)return;this.promises.splice(0,r+1)}var o=this.props,s=o.onChange,i=o.onDataChange,l=void 0;e.data&&e.data!==this.state.data&&"function"==typeof i&&(l=i(e.data,n.ignorePreviousData?void 0:this.state.data)),"function"==typeof s&&s(a({},this.state,e,void 0!==l&&{data:l})),this.mounted&&this.setState(a({},e,void 0!==l&&{data:l}))}},{key:"render",value:function(){var e=this.props.children;return i.default.createElement(f.Provider,{value:this.state},"function"==typeof e?i.default.createElement(f.Consumer,null,e):e)}}]),t}();m.defaultProps={as:"auto",fetchFunction:function(e,t){return fetch(e,t)}},m.Consumer=f.Consumer,t.default=m},1797:
/*!***********************************************************!*\
  !*** ../node_modules/react-fetch-component/dist/index.js ***!
  \***********************************************************/
/*! no static exports found */
/*! exports used: default */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(/*! ./Fetch */1796);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return s(a).default}});var r=n(/*! ./SimpleCache */1650);Object.defineProperty(t,"SimpleCache",{enumerable:!0,get:function(){return s(r).default}});var o=n(/*! ./utils */1651);function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"parseBody",{enumerable:!0,get:function(){return o.parseBody}})},190:
/*!**********************************************!*\
  !*** ./components/Account/AccountOrders.tsx ***!
  \**********************************************/
/*! exports provided: default */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is referenced from these modules with unsupported syntax: ./Routes.jsx (referenced with import()) */function(e,t,n){"use strict";n.r(t);var a=n(/*! react */0),r=n(/*! ../Exchange/MyOpenOrders */1588),o=n(/*! counterpart */14),s=n.n(o),i=n(/*! actions/MarketsActions */47),l=n(/*! cybexjs */2),c=n(/*! common/MarketClasses */33),u=n(/*! alt-react */25),p=n(/*! stores/SettingsStore */13),d=n(/*! actions/SettingsActions */22),f=n(/*! common/market_utils */63),m=n(/*! utils/Market */157),h=n(/*! qtb */66),g=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["Component"]),g(t,[{key:"_cancelLimitOrder",value:function(e,t){t.preventDefault(),i.a.cancelLimitOrder(this.props.account.get("id"),e).catch(function(e){console.log("cancel order error:",e)})}},{key:"onFlip",value:function(e){var t={};t[e]=!this.props.marketDirections.get(e),d.a.changeMarketDirection(t)}},{key:"render",value:function(){var e=this,t=this.props,n=t.account,o=(t.marketDirections,s.a.translate("account.perm.cancel")),i={},u={};if(!n.get("orders"))return null;n.get("orders").forEach(function(t){var n=l.b.getObject(t).toJS(),s=l.b.getAsset(n.sell_price.base.asset_id),p=l.b.getAsset(n.sell_price.quote.asset_id);if(!s||!p)return null;if(Object(h.a)(s.get("symbol"))||Object(h.a)(p.get("symbol")))return null;var d=Object(m.b)(s,p),g=d.base,v=d.quote;if(g&&v){var y,_=(b(y={},g.get("id"),{precision:g.get("precision")}),b(y,v.get("id"),{precision:v.get("precision")}),y),E=f.a.getMarketID(g,v).marketID;i[E]||(i[E]={base:{id:g.get("id"),symbol:g.get("symbol"),precision:g.get("precision")},quote:{id:v.get("id"),symbol:v.get("symbol"),precision:v.get("precision")}});var w=new c.d(n,_,i[E].quote.id),k=l.b.getAsset(i[E].base.id),O=l.b.getAsset(i[E].quote.id);u[E]||(u[E]=[]),u[E].push(a.createElement(r.b,{ref:i[E].base.symbol,key:n.id,order:w,base:k,quote:O,cancel_text:o,showSymbols:!1,invert:!0,onCancel:e._cancelLimitOrder.bind(e,n.id),price:w.getPrice(),dashboard:!0,isMyAccount:e.props.isMyAccount,settings:e.props.settings,onFlip:e.onFlip.bind(e,E)}))}});var p=[];for(var d in u)u[d].length&&(p.push(a.createElement("tbody",{key:d},u[d].sort(function(e,t){return e.props.price-t.props.price}))),0);return a.createElement("div",{className:"grid-content no-overflow no-padding",style:{paddingBottom:15}},a.createElement("table",{className:"table table-striped dashboard-table"},a.createElement(r.c,{settings:this.props.settings,dashboard:!0,isMyAccount:this.props.isMyAccount}),p,this.props.children))}}]),t}();v=Object(u.connect)(v,{listenTo:function(){return[p.b]},getProps:function(){return{marketDirections:p.b.getState().marketDirections}}}),t.default=v},2024:
/*!*************************************************************!*\
  !*** ./components/Account/AccountOverview.tsx + 13 modules ***!
  \*************************************************************/
/*! exports provided: default */
/*! all exports used */
/*! ModuleConcatenation bailout: Cannot concat with ./actions/GatewayActions.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./actions/NotificationActions.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./components/Account/AccountOrders.tsx (<- Module is referenced from these modules with unsupported syntax: ./Routes.jsx (referenced with import())) */
/*! ModuleConcatenation bailout: Cannot concat with ./components/Common/Table.tsx */
/*! ModuleConcatenation bailout: Cannot concat with ./components/LoadingIndicator.tsx */
/*! ModuleConcatenation bailout: Cannot concat with ./components/Modal/BaseModal.tsx */
/*! ModuleConcatenation bailout: Cannot concat with ./components/Utility/EquivalentPrice.tsx */
/*! ModuleConcatenation bailout: Cannot concat with ./components/Utility/TotalBalanceValue.tsx */
/*! ModuleConcatenation bailout: Cannot concat with ./lib/common/MarketClasses.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./lib/common/utils.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./lib/qtb/index.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./services/GatewayConfig.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./actions/BalanceClaimActiveActions.js */
/*! ModuleConcatenation bailout: Cannot concat with ./actions/SettingsActions.js */
/*! ModuleConcatenation bailout: Cannot concat with ./actions/WalletActions.js */
/*! ModuleConcatenation bailout: Cannot concat with ./api/WalletApi.js */
/*! ModuleConcatenation bailout: Cannot concat with ./components/Account/RecentTransactions.jsx */
/*! ModuleConcatenation bailout: Cannot concat with ./components/Blockchain/ProposedOperation.jsx */
/*! ModuleConcatenation bailout: Cannot concat with ./components/Forms/AccountSelect.jsx */
/*! ModuleConcatenation bailout: Cannot concat with ./components/Forms/MyAccounts.jsx */
/*! ModuleConcatenation bailout: Cannot concat with ./components/Icon/Icon.jsx */
/*! ModuleConcatenation bailout: Cannot concat with ./components/Modal/BorrowModal.jsx */
/*! ModuleConcatenation bailout: Cannot concat with ./components/Utility/AmountSelector.jsx */
/*! ModuleConcatenation bailout: Cannot concat with ./components/Utility/AssetName.jsx */
/*! ModuleConcatenation bailout: Cannot concat with ./components/Utility/BalanceComponent.jsx */
/*! ModuleConcatenation bailout: Cannot concat with ./components/Utility/BindToChainState.jsx */
/*! ModuleConcatenation bailout: Cannot concat with ./components/Utility/ChainTypes.js */
/*! ModuleConcatenation bailout: Cannot concat with ./components/Utility/EquivalentValueComponent.jsx */
/*! ModuleConcatenation bailout: Cannot concat with ./components/Utility/FormattedAsset.jsx */
/*! ModuleConcatenation bailout: Cannot concat with ./components/Utility/FormattedPrice.jsx */
/*! ModuleConcatenation bailout: Cannot concat with ./components/Utility/LinkToAccountById.jsx */
/*! ModuleConcatenation bailout: Cannot concat with ./components/Utility/LinkToAssetById.jsx */
/*! ModuleConcatenation bailout: Cannot concat with ./components/Utility/Tabs.jsx */
/*! ModuleConcatenation bailout: Cannot concat with ./components/Utility/TranslateWithLinks.jsx */
/*! ModuleConcatenation bailout: Cannot concat with ./cybex/cybexjs/index.js */
/*! ModuleConcatenation bailout: Cannot concat with ./lib/alt-react/lib/index.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ./lib/common/asset_utils.js */
/*! ModuleConcatenation bailout: Cannot concat with ./lib/counterpart/index.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ./lib/react-foundation-apps/src/utils/foundation-api.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ./stores/AccountRefsStore.js */
/*! ModuleConcatenation bailout: Cannot concat with ./stores/AccountStore.js */
/*! ModuleConcatenation bailout: Cannot concat with ./stores/BalanceClaimActiveStore.js */
/*! ModuleConcatenation bailout: Cannot concat with ./stores/MarketsStore.js */
/*! ModuleConcatenation bailout: Cannot concat with ./stores/PrivateKeyStore.js */
/*! ModuleConcatenation bailout: Cannot concat with ./stores/WalletDb.js (<- Module uses injected variables (Buffer)) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/classnames/index.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/immutable/dist/immutable.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/lodash/index.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/moment/moment.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/prop-types/index.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/react-fetch-component/dist/index.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/react-intl/lib/index.es.js */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/react-router/es/index.js */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/react-tooltip/dist/index.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/react-translate-component/index.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/react/index.js (<- Module is not an ECMAScript module) */function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(7),o=n.n(r),s=n(1),i=n.n(s),l=n(1392),c=n(306),u=n(3),p=n(35),d=n.n(p),f=n(110),m=n(21),h=n(24),g=n(8),b=n(136),v=n(15),y=n(14),_=n.n(y),E=n(2),w=n(1395),k=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function O(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function P(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function C(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var j=function(e){function t(){O(this,t);var e=P(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={amount:0},e}return C(t,a["Component"]),k(t,[{key:"onAmountChanged",value:function(e){var t=e.amount;e.asset;this.setState({amount:t})}},{key:"onSubmit",value:function(e){e.preventDefault(),d.a.publish("settlement_modal","close");var t=g.a.get_asset_precision(this.props.asset.get("precision")),n=this.state.amount.replace(/,/g,"");n*=t;var a=b.a.new_transaction();return a.add_type_operation("asset_settle",{fee:{amount:0,asset_id:0},account:this.props.account.get("id"),amount:{amount:n,asset_id:this.props.asset.get("id")}}),v.a.process_transaction(a,null,!0).then(function(e){return!0}).catch(function(e){return console.error("asset settle error: ",e),!1})}},{key:"render",value:function(){var e=this.props,t=e.asset,n=e.account,r=this.state.amount;if(!t)return null;var o=t.get("id"),s=n.get("balances"),c=null,u=0;s&&s.forEach(function(e){var t=E.b.getObject(e);if(!t.get("balance"))return null;t.get("asset_type")===o&&(c=e,u=t.get("balance"))});var p=g.a.get_asset_precision(t.get("precision")),d=r?r.replace(/,/g,""):0,f=parseFloat(d)>0&&parseFloat(d)*p<=parseFloat(u)?"button success":"button disabled",m=c?a.createElement("span",null,a.createElement(i.a,{content:"exchange.balance"}),":Â ",a.createElement(l.a,{balance:c})):null;return a.createElement("form",{className:"grid-block vertical full-width-content"},a.createElement(i.a,{component:"h3",content:"modal.settle.title",asset:t.get("symbol")}),a.createElement("div",{className:"grid-container ",style:{paddingTop:"2rem"}},a.createElement("div",{className:"content-block",style:{maxWidth:"25rem"}},a.createElement(w.a,{label:"modal.settle.amount",amount:r,onChange:this.onAmountChanged.bind(this),display_balance:m,asset:o,assets:[o],tabIndex:1})),a.createElement("div",{className:"content-block"},a.createElement("input",{type:"submit",className:f,onClick:this.onSubmit.bind(this),value:_.a.translate("modal.settle.submit")}))))}}]),t}();j.propTypes={asset:m.a.ChainAsset.isRequired,account:m.a.ChainAccount.isRequired},j=Object(h.a)(j,{keep_updating:!0});var T=function(e){function t(){return O(this,t),P(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return C(t,a["Component"]),k(t,[{key:"show",value:function(){d.a.publish("settlement_modal","open")}},{key:"render",value:function(){return a.createElement(f.a,{id:"settlement_modal",overlay:!0,ref:"settlement_modal"},a.createElement("div",{className:"grid-block vertical"},a.createElement(j,this.props)))}}]),t}(),x=n(1530),S=n(69),N=n(25),A=n(88),D=n(60),R=n.n(D),q=n(301),M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},z=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function F(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function I(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function L(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var W=function(e){function t(e){return F(this,t),I(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return L(t,q["a"]),z(t,[{key:"componentDidMount",value:function(){R.a.rebuild()}},{key:"shouldComponentUpdate",value:function(e){return function e(t,n,a){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,a)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(a):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"shouldComponentUpdate",this).call(this,e)||e.fromAsset!==this.props.fromAsset}},{key:"getValue",value:function(){var e=this.props,t=e.fromAsset,n=e.marketStats,a=e.toAsset,r=void 0,o=t.get("symbol");if(a&&n){var s=a.get("symbol");r=n.get(o+"_"+s)}return r&&r.change?r.change:0}},{key:"render",value:function(){var e=this.getValue(),t=0===parseFloat(e)?"":parseFloat(e)<0?"change-down":"change-up",n=a.createElement(S.b,{style:"decimal",value:e,minimumFractionDigits:2,maximumFractionDigits:2});return a.createElement("span",{className:"value "+t},n,"%")}}]),t}();W.propTypes={toAsset:m.a.ChainAsset.isRequired,fromAsset:m.a.ChainAsset.isRequired,coreAsset:m.a.ChainAsset.isRequired},W.defaultProps={toAsset:"1.3.0",fullPrecision:!1,noDecimals:!1,hide_asset:!1,coreAsset:"1.3.0"},W=Object(h.a)(W,{keep_updating:!0});var B=function(e){function t(){return F(this,t),I(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return L(t,a["Component"]),z(t,[{key:"render",value:function(){var e=this.props,t=e.refCallback,n=function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}(e,["refCallback"]);return a.createElement(W,M({},n,{ref:t}))}}]),t}();B=Object(N.connect)(B,{listenTo:function(){return[A.a]},getProps:function(){return{marketStats:A.a.getState().allMarketStats}}});var H=n(70),K=n(19),G=n(76),U=n(1599),V=n(50),J=n(5),$=n(20),Y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},X=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function Q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Z(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ee(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function te(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var ne={textAlign:"right"},ae={textAlign:"left"},re=function(e){function t(){return Z(this,t),ee(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return te(t,a["Component"]),X(t,[{key:"_onUpdatePosition",value:function(e){e.preventDefault();var t="cp_modal_"+this.props.object.getIn(["call_price","quote","asset_id"]);this.refs[t].show()}},{key:"_onClosePosition",value:function(e){e.preventDefault();var t=b.a.new_transaction();t.add_type_operation("call_order_update",{fee:{amount:0,asset_id:0},funding_account:this.props.object.get("borrower"),delta_collateral:{amount:-this.props.object.get("collateral"),asset_id:this.props.object.getIn(["call_price","base","asset_id"])},delta_debt:{amount:-this.props.object.get("debt"),asset_id:this.props.object.getIn(["call_price","quote","asset_id"])}}),v.a.process_transaction(t,null,!0)}},{key:"_getFeedPrice",value:function(){return this.props?1/g.a.get_asset_price(this.props.debtAsset.getIn(["bitasset","current_feed","settlement_price","quote","amount"]),this.props.collateralAsset,this.props.debtAsset.getIn(["bitasset","current_feed","settlement_price","base","amount"]),this.props.debtAsset):1}},{key:"_getCollateralRatio",value:function(){var e=this.props.object.toJS();return g.a.get_asset_amount(e.collateral,this.props.collateralAsset)/(g.a.get_asset_amount(e.debt,this.props.debtAsset)/this._getFeedPrice())}},{key:"_getMR",value:function(){return this.props.debtAsset.getIn(["bitasset","current_feed","maintenance_collateral_ratio"])/1e3}},{key:"_getStatusClass",value:function(){var e=this._getCollateralRatio(),t=this._getMR();return isNaN(e)?null:e<t?"danger":e<t+.5?"warning":""}},{key:"_getCRTip",value:function(){var e=this._getStatusClass(),t=this._getMR();return e&&""!==e?"danger"===e?_.a.translate("tooltip.cr_danger",{mr:t}):"warning"===e?_.a.translate("tooltip.cr_warning",{mr:t}):null:null}},{key:"_onNavigate",value:function(e,t){t.preventDefault(),this.context.router.push(e)}},{key:"render",value:function(){var e=this.props,t=e.debtAsset,n=e.collateralAsset,o=e.object.toJS(),s=this._getCollateralRatio(),l=g.a.get_asset_amount(o.debt,this.props.debtAsset),u=this._getStatusClass(),p="/asset/"+t.get("symbol"),d="/market/"+t.get("symbol")+"_"+n.get("symbol"),f=a.createElement("ul",null,a.createElement("li",null,a.createElement("a",{href:p,onClick:this._onNavigate.bind(this,p)},a.createElement(i.a,{content:"account.asset_details"}))),a.createElement("li",null,a.createElement("a",{href:d,onClick:this._onNavigate.bind(this,d)},a.createElement(H.a,{name:t.get("symbol")})," :"," ",a.createElement(H.a,{name:n.get("symbol")}))));return a.createElement("tr",{className:"margin-row"},a.createElement("td",{style:ae},a.createElement(J.b,{to:"/asset/"+t.get("symbol")},a.createElement(H.a,{noTip:!0,name:t.get("symbol")}))),a.createElement("td",{style:ne},a.createElement(K.a,{amount:o.debt,asset:o.call_price.quote.asset_id,assetInfo:f,hide_asset:!0})),a.createElement("td",{style:ne,className:"column-hide-medium"},a.createElement(K.a,{decimalOffset:5,amount:o.collateral,asset:o.call_price.base.asset_id})),a.createElement("td",{"data-place":"bottom","data-tip":this._getCRTip(),className:"center-content "+u},g.a.format_number(s,2)),a.createElement("td",{style:ne},a.createElement(c.a,{noTip:!0,balances:Object(r.List)(),debt:Q({},t.get("id"),o.debt),collateral:Q({},n.get("id"),parseInt(o.collateral,10)),hide_asset:!0})),a.createElement("td",{style:ne,className:"column-hide-small"},a.createElement(G.a,{base_amount:o.call_price.base.amount,base_asset:o.call_price.base.asset_id,quote_amount:o.call_price.quote.amount,quote_asset:o.call_price.quote.asset_id,hide_symbols:!0})),a.createElement("td",{style:ne,className:"column-hide-small"},a.createElement(q.b,{forceDirection:!1,fromAsset:o.call_price.base.asset_id,toAsset:o.call_price.quote.asset_id,hide_symbols:!0})),a.createElement("td",{className:"center-content column-hide-small",style:ae},a.createElement(G.a,{base_amount:o.call_price.base.amount,base_asset:o.call_price.base.asset_id,quote_amount:o.call_price.quote.amount,quote_asset:o.call_price.quote.asset_id,hide_value:!0})),a.createElement("td",null,a.createElement("div",{"data-place":"left","data-tip":_.a.translate("tooltip.update_position"),style:{paddingBottom:5}},a.createElement("a",{onClick:this._onUpdatePosition.bind(this)},a.createElement(V.a,{name:"adjust",className:"icon-14px rotate90"})))),a.createElement("td",null,a.createElement("div",{"data-place":"left","data-tip":_.a.translate("tooltip.close_position",{amount:l,asset:t.get("symbol")}),style:{paddingBottom:5}},a.createElement("a",{onClick:this._onClosePosition.bind(this)},a.createElement(V.a,{name:"cross-circle",className:"icon-14px"}))),t?a.createElement(U.a,{ref:"cp_modal_"+o.call_price.quote.asset_id,quote_asset:o.call_price.quote.asset_id,backing_asset:t.getIn(["bitasset","options","short_backing_asset"]),account:this.props.account}):null))}}]),t}();re.propTypes={debtAsset:m.a.ChainAsset.isRequired,collateralAsset:m.a.ChainAsset.isRequired},re.defaultProps={tempComponent:"tr"},re.contextTypes={router:u.object},re=Object(h.a)(re,{keep_updating:!0});var oe=function(e){function t(){return Z(this,t),ee(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return te(t,a["Component"]),X(t,[{key:"render",value:function(){var e=this.props.object,t=e.getIn(["call_price","quote","asset_id"]),n=e.getIn(["call_price","base","asset_id"]);return a.createElement(re,Y({debtAsset:t,collateralAsset:n},this.props))}}]),t}();oe.propTypes={object:m.a.ChainObject.isRequired},oe=Object(h.a)(oe,{keep_updating:!0});var se=function(e){function t(){return Z(this,t),ee(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return te(t,a["Component"]),X(t,[{key:"_onUpdatePosition",value:function(e){e.preventDefault();var t="cp_modal_"+this.props.debtAsset.get("id");this.refs[t].show()}},{key:"_getFeedPrice",value:function(){return this.props?1/g.a.get_asset_price(this.props.debtAsset.getIn(["bitasset","current_feed","settlement_price","quote","amount"]),this.props.collateralAsset,this.props.debtAsset.getIn(["bitasset","current_feed","settlement_price","base","amount"]),this.props.debtAsset):1}},{key:"_onNavigate",value:function(e,t){t.preventDefault(),this.context.router.push(e)}},{key:"render",value:function(){var e=this.props,t=e.debtAsset,n=e.collateralAsset,r="/asset/"+t.get("symbol"),o="/market/"+t.get("symbol")+"_"+n.get("symbol"),s=a.createElement("ul",null,a.createElement("li",null,a.createElement("a",{href:r,onClick:this._onNavigate.bind(this,r)},a.createElement(i.a,{content:"account.asset_details"}))),a.createElement("li",null,a.createElement("a",{href:o,onClick:this._onNavigate.bind(this,o)},a.createElement(H.a,{name:t.get("symbol")})," :"," ",a.createElement(H.a,{name:n.get("symbol")}))));return a.createElement("tr",{className:"margin-row"},a.createElement("td",{style:ae},a.createElement(J.b,{to:"/asset/"+t.get("symbol")},a.createElement(H.a,{noTip:!0,name:t.get("symbol")}))),a.createElement("td",{style:ne},a.createElement(K.a,{amount:0,asset:t.get("id"),assetInfo:s,hide_asset:!0})),a.createElement("td",{style:ne,className:"column-hide-medium"},a.createElement(K.a,{decimalOffset:5,amount:0,asset:n.get("id")})),a.createElement("td",null),a.createElement("td",{style:ne}),a.createElement("td",{style:ne,className:"column-hide-small"}),a.createElement("td",{style:ne,className:"column-hide-small"}),a.createElement("td",{className:"center-content column-hide-small",style:ae}),a.createElement("td",null,a.createElement("div",{"data-place":"left","data-tip":_.a.translate("tooltip.update_position"),style:{paddingBottom:5}},a.createElement("a",{onClick:this._onUpdatePosition.bind(this)},a.createElement(V.a,{name:"adjust",className:"icon-14px rotate90"})))),a.createElement("td",null,t?a.createElement(U.a,{ref:"cp_modal_"+t.get("id"),quote_asset:t.get("id"),backing_asset:t.getIn(["bitasset","options","short_backing_asset"]),account:this.props.account}):null))}}]),t}();se.propTypes={debtAsset:m.a.ChainAsset.isRequired,collateralAsset:m.a.ChainAsset.isRequired},se.defaultProps={tempComponent:"tr"},se.contextTypes={router:u.object},se=Object(h.a)(se);var ie=function(e){function t(){return Z(this,t),ee(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return te(t,a["Component"]),X(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.objects,r=t.optionals;if(n=n.filter(function(e){return!!e}),!(r=r.filter(function(e){return!!e})).length)return null;if(n.forEach(function(e){if(e){var t=r.findIndex(function(t){return t&&t.get("id")===e.getIn(["call_price","quote","asset_id"])});-1!==t&&r.splice(t,1)}}),!r.length)return null;var o=r.map(function(t){return a.createElement(se,Y({key:t.get("id"),debtAsset:t.get("id"),collateralAsset:t.getIn(["bitasset","options","short_backing_asset"])},e.props))});return a.createElement("tbody",null,o)}}]),t}();ie.propTypes={objects:m.a.ChainObjectsList,optionals:m.a.ChainAssetsList},ie.defaultProps={optionals:o.a.List(["1.3.103","1.3.113","1.3.120","1.3.121","1.3.958","1.3.1325","1.3.1362"])},ie=Object(h.a)(ie,{keep_updating:!0});var le=n(1536),ce=n(229),ue=n(300),pe=n(28),de=n(125),fe={AccountPermission:function(e,t,n){var a=this;this.id=e.get("id"),this.weight=t,this.threshold=e.getIn([n,"weight_threshold"]),this.accounts=[],this.keys=e.getIn([n,"key_auths"]).map(function(e){return new function(e){var t=this;this.id=e.toJS?e.get(0):e[0],this.weight=e.toJS?e.get(1):e[1],this.isAvailable=function(e){return e.includes?e.includes(t.id):-1!==e.indexOf(t)}}(e)}).toArray(),this.isAvailable=function(e){return e.includes?e.includes(a.id):-1!==e.indexOf(a)},this._sumWeights=function(e){if(a.isNested()||a.isMultiSig()){var t=a.accounts.reduce(function(t,n){return t+(n._sumWeights(e)?n.weight:0)},0);return Math.floor(t/a.threshold)}return a.isAvailable(e)?a.weight:0},this.getStatus=function(e,t){if(a.isNested()){var n=a.accounts.reduce(function(t,n){return t+n._sumWeights(e)},0);return a.keys.length&&(n+=a.sumKeys(t)),n}var r=a._sumWeights(e);return a.isMultiSig()&&(r+=a.sumKeys(t)),r},this.sumKeys=function(e){return a.keys.reduce(function(t,n){return t+(n.isAvailable(e)?n.weight:0)},0)},this.isNested=function(){return a.accounts.length>0},this.isMultiSig=function(){return a.keys.reduce(function(e,t){return e||t.weight<a.threshold},!1)},this.getMissingSigs=function(e){var t=[],n=[];return a.isNested()?n=a.accounts.reduce(function(t,n){return t.concat(n.getMissingSigs(e))},[]):a.isAvailable(e)||t.push(a.id),t.concat(n)},this.getMissingKeys=function(e){var t=[],n=[];return a.keys.length&&(a.isNested()||a.isMultiSig())&&a.keys.forEach(function(n){n.isAvailable(e)||t.push(n.id)}),a.isNested()&&(n=a.accounts.reduce(function(t,n){return t.concat(n.getMissingKeys(e))},[])),t.concat(n)}},listToIDs:function(e){var t=[];return e.forEach(function(e){e&&t.push(e.get?e.get("id"):e)}),t},unravel:function(e,t){var n=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(a<3){var r=E.b.getAccount(e.id);r&&r.getIn([t,"account_auths"]).size&&r.getIn([t,"account_auths"]).forEach(function(r){var o=E.b.getAccount(r.get(0));o&&e.accounts.push(n.unravel(new n.AccountPermission(o,r.get(1),t),t,a+1))})}return e},unnest:function(e,t){var n=this,a=[];return e.forEach(function(e){var r=E.b.getAccount(e),o=n.unravel(new n.AccountPermission(r,null,t),t);a.push(o)}),a},flatten_auths:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.a.List();return e.size?(e.forEach(function(e){t.includes(e.get(0))||(t=t.push(e.get(0)))}),t):t}},me=n(27),he=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},ge=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function be(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ve(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function ye(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _e=function(e){function t(){return be(this,t),ve(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return ye(t,a["Component"]),ge(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.account,r=t.available,o=t.availableKeys,s=t.permission,i=t.threshold,l=s.isAvailable(r),c=s.isNested(),u=s.isMultiSig(),p=[],d=i&&i>10?g.a.get_percentage(s.weight,this.props.threshold):s.weight,f=s&&s.threshold>10?g.a.get_percentage(s.getStatus(r,o),s.threshold)+" / 100%":s.getStatus(r,o)+" / "+s.threshold;return p.push(a.createElement("div",{key:n.get("id"),style:{textAlign:"left",width:"100%",clear:"both",paddingBottom:5}},a.createElement("div",{className:"inline-block",style:{paddingLeft:5*this.props.indent+"%"}},a.createElement(de.a,{subpage:"permissions",account:n.get("id")}),!c&&d?(d&&2===d.length?"Â Â ":"")+"("+d+") ":null),a.createElement("div",{className:"float-right",style:{paddingLeft:20,marginRight:10}},c||u?a.createElement("span",{className:l?"success-text":""},f):a.createElement("span",null,l?a.createElement(V.a,{name:"checkmark-circle",size:"1x",className:"success"}):a.createElement(V.a,{name:"cross-circle",size:"1x",className:"error"}))))),(c||u)&&(s.accounts.forEach(function(t){p.push(a.createElement(Ee,{key:t.id,indent:e.props.indent+1,account:t.id,accounts:t.accounts,permission:t,available:r,availableKeys:o,threshold:s.threshold}))}),s.keys.length&&s.keys.forEach(function(t){p.push(a.createElement(we,{key:t.id,permission:t,available:o,indent:e.props.indent+1}))})),a.createElement("div",null,p)}}]),t}();_e.propTypes={account:m.a.ChainAccount.isRequired,accounts:m.a.ChainAccountsList,indent:u.number.isRequired},_e.defaultProps={indent:0};var Ee=Object(h.a)(_e),we=function(e){function t(){return be(this,t),ve(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return ye(t,a["Component"]),ge(t,[{key:"render",value:function(){var e=this.props,t=e.available,n=e.permission,r=n.isAvailable(t),o=[];return o.push(a.createElement("div",{key:n.id,style:{textAlign:"left",width:"100%",paddingBottom:5}},a.createElement("div",{className:"inline-block",style:{paddingLeft:5*this.props.indent+"%"}},a.createElement("span",null,n.id.substr(0,20-4*this.props.indent),"... (",n.weight,")")),a.createElement("div",{className:"float-right",style:{paddingLeft:20,marginRight:10}},a.createElement("span",null,r?a.createElement(V.a,{name:"checkmark-circle",size:"1x",className:"success"}):a.createElement(V.a,{name:"cross-circle",size:"1x",className:"error"}))))),a.createElement("div",null,o)}}]),t}();we.propTypes={indent:u.number.isRequired},we.defaultProps={indent:0};var ke=function(e){function t(){return be(this,t),ve(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return ye(t,a["Component"]),ge(t,[{key:"render",value:function(){var e=this.props,t=e.requiredPermissions,n=e.available,r=e.availableKeys,o=(e.type,[]);return t.forEach(function(e){o.push(a.createElement(Ee,{key:e.id,account:e.id,accounts:e.accounts,permission:e,available:n,availableKeys:r}))}),a.createElement("div",null,o)}}]),t}(),Oe=function(e){function t(){be(this,t);var e=ve(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={requiredPermissions:[]},e._updateState=e._updateState.bind(e),e}return ye(t,a["Component"]),ge(t,[{key:"componentWillMount",value:function(){this._updateState(),E.b.subscribe(this._updateState)}},{key:"componentWillUnmount",value:function(){E.b.unsubscribe(this._updateState)}},{key:"_updateState",value:function(){var e=fe.listToIDs(this.props.required),t=fe.listToIDs(this.props.available);this.setState({requiredPermissions:fe.unnest(e,this.props.type),required:e,available:t})}},{key:"render",value:function(){var e=this.props,t=e.type,n=(e.proposal,e.added),r=e.removed,o=e.availableKeys,s=this.state,i=s.requiredPermissions,l=s.required,c=s.available;return c=Object(me.cloneDeep)(c),o=o.toJS(),n&&(c.push(n),o.push(n)),r&&(-1!==c.indexOf(r)&&c.splice(c.indexOf(r),1),-1!==o.indexOf(r)&&o.splice(o.indexOf(r),1)),a.createElement(ke,{type:t,added:n,removed:r,required:l,available:c,availableKeys:o,requiredPermissions:i})}}]),t}();Oe.propTypes={required:m.a.ChainAccountsList,available:m.a.ChainAccountsList},Oe.defaultProps={type:"active",added:null,removed:null},Oe=Object(h.a)(Oe,{keep_updating:!0});var Pe=function(e){function t(){return be(this,t),ve(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return ye(t,a["Component"]),ge(t,[{key:"render",value:function(){var e=this.props,t=e.proposal,n=e.type,r=t.get("available_"+n+"_approvals"),o=t.get("available_key_approvals"),s=t.get("required_"+n+"_approvals");return a.createElement(Oe,he({},this.props,{required:s,available:r,availableKeys:o}))}}]),t}();Pe.propTypes={proposal:m.a.ChainObject.isRequired,type:u.string.isRequired},Pe.defaultProps={type:"active",added:null};var Ce=Object(h.a)(Pe,{keep_updating:!0}),je=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Te=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function xe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Se(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Ne(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Ae=function(e){function t(e){xe(this,t);var n=Se(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.state={active:null,key:null,owner:null,payee:null},n}return Ne(t,a["Component"]),Te(t,[{key:"onActiveAccount",value:function(e,t,n,a){var r={};t[a]?(r.key=a,r[n]=null):a?(r[n]=e[a],r.key=null):(r[n]=null,r.key=null),this.setState(r)}},{key:"_onProposalAction",value:function(e){var t=this,n=e.toJS(),a=this.state,r=a.active,o=(a.key,a.owner,{fee_paying_account:a.payee||r,proposal:n.id,active_approvals_to_add:[],active_approvals_to_remove:[],owner_approvals_to_add:[],owner_approvals_to_remove:[],key_approvals_to_add:[],key_approvals_to_remove:[]}),s="approve"===this.props.action,i=[];["active","owner","key"].forEach(function(e){var a=t.state[e];if(a){var r=-1!==n["available_"+e+"_approvals"].indexOf(a);(s&&!r||!s&&r)&&("approve"===t.props.action?(o[e+"_approvals_to_add"]=[a],"key"===e&&i.push(a)):"reject"===t.props.action&&(o[e+"_approvals_to_remove"]=[a],"key"===e&&i.push(a)))}});var l=b.a.new_transaction();l.add_type_operation("proposal_update",o),v.a.process_transaction(l,null,!0,i),d.a.publish(this.props.modalId,"close")}},{key:"onChangePayee",value:function(e){var t=E.b.getAccount(e);t&&this.setState({payee:t.get("id")})}},{key:"onCancel",value:function(){d.a.publish(this.props.modalId,"close")}},{key:"render",value:function(){var e=this.props,t=e.proposal,n=e.type,r=[],o={},s="approve"===this.props.action;this.props.accounts.length&&this.props.accounts.forEach(function(e){(s?e&&!t.get("available_"+n+"_approvals").includes(e.get("id")):e&&t.get("available_"+n+"_approvals").includes(e.get("id")))&&(o[e.get("name")]=e.get("id"),r.push(e.get("name")))});var l=[],c={};this.props.keys.length&&this.props.keys.forEach(function(e){pe.a.isMyKey(e)&&!t.get("available_key_approvals").includes(e)&&(c[e]=!0,l.push(e))});var u=pe.a.getMyAccounts();return a.createElement("form",{className:"grid-block vertical full-width-content"},a.createElement("div",{className:"grid-container"},a.createElement("div",{className:"content-block"},a.createElement("h4",null,s?"Add approval":"Remove approval")),a.createElement("div",{className:"content-block",style:{paddingRight:"20%"}},a.createElement(Ce,{proposal:t.get("id"),type:n,added:s?this.state.key?this.state.key:this.state[n]||null:null,removed:s?null:this.state.key?this.state.key:this.state[n]||null})),a.createElement("div",{className:"content-block full-width-content"},a.createElement("div",{className:"full-width-content form-group"},a.createElement(i.a,{content:"modal.proposals.pay_with",component:"label"}),a.createElement(ue.a,{account_names:u,onChange:this.onChangePayee.bind(this)})),r.length||l.length?a.createElement("div",{className:"full-width-content form-group"},a.createElement(i.a,{content:"modal.proposals.approval_"+(s?"add":"remove"),component:"label"}),a.createElement(ue.a,{account_names:r.concat(l),onChange:this.onActiveAccount.bind(this,o,c,n)})):null,null),a.createElement("div",{className:"content-block"},a.createElement("button",{type:"submit",className:"button",onClick:this._onProposalAction.bind(this,t)},a.createElement(i.a,{content:s?"account.perm.approve":"account.perm.remove"})),a.createElement("div",{onClick:this.onCancel.bind(this),className:" button"},a.createElement(i.a,{content:"account.perm.cancel"})))))}}]),t}();Ae.propTypes={accounts:m.a.ChainAccountsList},Ae=Object(h.a)(Ae);var De=function(e){function t(){xe(this,t);var e=Se(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._updateState=e._updateState.bind(e),e}return Ne(t,a["Component"]),Te(t,[{key:"componentWillMount",value:function(){this._updateState(),E.b.subscribe(this._updateState)}},{key:"componentWillUnmount",value:function(){E.b.unsubscribe(this._updateState)}},{key:"_updateState",value:function(){var e=this.props,t=e.proposal,n=(e.account,t.get("required_active_approvals").size?"active":"owner"),a=fe.listToIDs(t.get("required_"+n+"_approvals")),r=fe.listToIDs(t.get("available_"+n+"_approvals")),o=fe.listToIDs(t.get("available_key_approvals"));this.setState({requiredPermissions:fe.unnest(a,n),available:r,availableKeys:o,type:n})}},{key:"render",value:function(){var e=this.props.action,t=this.state,n=t.requiredPermissions,r=t.available,o=t.availableKeys,s=t.type,i=[];n.forEach(function(e){i=i.concat(e.getMissingSigs(r))});var l=[];return n.forEach(function(e){l=l.concat(e.getMissingKeys(o))}),a.createElement(Ae,je({},this.props,{type:s,accounts:"approve"===e?i:r,keys:"approve"===e?l:o}))}}]),t}();De.propTypes={account:m.a.ChainAccount.isRequired,proposal:m.a.ChainObject.isRequired},De=Object(h.a)(De);var Re=function(e){function t(){xe(this,t);var e=Se(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={open:!1},e}return Ne(t,a["Component"]),Te(t,[{key:"componentDidMount",value:function(){var e=this;d.a.subscribe(this.props.modalId,function(t,n){e.setState({open:"open"===n})})}},{key:"show",value:function(){d.a.publish(this.props.modalId,"open")}},{key:"render",value:function(){var e=this.props,t=e.modalId;e.proposal;return a.createElement(f.a,{id:t,overlay:!0,ref:t},this.state.open?a.createElement("div",{className:"grid-block vertical"},a.createElement(De,this.props)):null)}}]),t}(),qe=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var Me=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["Component"]),qe(t,[{key:"_onApproveModal",value:function(e,t){this.refs[e+"_"+t]&&this.refs[e+"_"+t].show()}},{key:"_canApprove",value:function(e,t){return-1!==e.required_active_approvals.indexOf(t)&&-1===e.available_active_approvals.indexOf(t)||-1!==e.required_owner_approvals.indexOf(t)&&-1===e.available_owner_approvals.indexOf(t)}},{key:"_canReject",value:function(e){return e.available_active_approvals.length||e.available_owner_approvals.length}},{key:"render",value:function(){var e=this,t=this.props.account;if(!t)return null;var n=[];t.get("proposals").size&&t.get("proposals").forEach(function(e){var a=E.b.getObject(e);if(a){var r=a.get("proposed_transaction").get("operations");n.push({operations:r,account:t,proposal:a})}});var r=n.sort(function(e,t){return g.a.sortID(e.proposal.get("id"),t.proposal.get("id"),!0)}).map(function(t){var n=!1,r=t.operations.map(function(e,r){return"1.2.153124"===e.getIn([1,"to"])&&(n=!0),a.createElement(ce.a,{key:t.proposal.get("id")+"_"+r,expiration:t.proposal.get("expiration_time"),index:r,op:e.toJS(),inverted:!1,hideFee:!1,hideOpLabel:!0,hideDate:!0,proposal:!0,id:t.proposal.get("id")})}).toArray(),o=e._canReject(t.proposal.toJS()),s=t.proposal.get("id"),l=t.proposal.get("required_active_approvals").size?"active":"owner";return a.createElement("tr",{key:s},a.createElement("td",null,r),a.createElement("td",null,a.createElement(Ce,{proposal:t.proposal.get("id"),type:l})),a.createElement("td",null,o?a.createElement("button",{onClick:e._onApproveModal.bind(e,s,"reject"),className:"button outline"},a.createElement(i.a,{content:"proposal.reject"})):null,a.createElement(Re,{ref:s+"_reject",modalId:s+"_reject",account:t.account.get("id"),proposal:s,action:"reject"}),n?a.createElement("div",{"data-tip":_.a.translate("tooltip.propose_scam"),className:" tooltip has-error"},"SCAM"):a.createElement("button",{onClick:e._onApproveModal.bind(e,s,"approve"),className:"button outline"},a.createElement("span",null,a.createElement(i.a,{content:"proposal.approve"}))),a.createElement(Re,{ref:s+"_approve",modalId:s+"_approve",account:t.account.get("id"),proposal:s,action:"approve"})))});return a.createElement("table",{className:"table compact "+this.props.className},a.createElement("thead",null,a.createElement("tr",null,a.createElement("th",null,a.createElement(i.a,{content:"account.votes.info"})),a.createElement("th",null,a.createElement(i.a,{content:"proposal.status"})),a.createElement("th",null,a.createElement(i.a,{content:"proposal.action"})))),a.createElement("tbody",null,r))}}]),t}();Me.propTypes={account:m.a.ChainAccount.isRequired};var ze=Object(h.a)(Me,{keep_updating:!0}),Fe=n(22),Ie=n(202),Le=n(133),We=n(1400),Be=n(190),He=n(40),Ke=n.n(He),Ge=n(33);var Ue=n(68),Ve=n(52),Je=n(138),$e=n(299),Ye=n(171),Xe=n(1387),Qe=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var Ze=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["PureComponent"]),Qe(t,[{key:"componentWillReceiveProps",value:function(e){e.claim_account_name!==this.props.claim_account_name&&this.onClaimAccount(e.claim_account_name,e.checked)}},{key:"render",value:function(){var e=this,t=this.props.total_by_account_asset&&this.props.total_by_account_asset.toArray()[0],n=t&&t.balances.sort(function(e,t){return e.id<t.id?-1:1});return a.createElement("div",null,a.createElement("table",{className:"table dashboard-table vest-table"},a.createElement("thead",null,a.createElement("tr",null,a.createElement("th",null),a.createElement("th",{style:{textAlign:"center"}},a.createElement(i.a,{content:"account.asset"})),a.createElement("th",{style:{textAlign:"center"}},a.createElement(i.a,{content:"exchange.amount"})),a.createElement("th",{style:{textAlign:"center"}},a.createElement(i.a,{content:"vesting.end_time"})),a.createElement("th",{style:{textAlign:"center"}},a.createElement(i.a,{content:"vesting.progress"})),a.createElement("th",{style:{textAlign:"center"},title:_.a.translate("vesting.pubkey_tip"),className:"tooltip with-tooltip","data-place":"bottom","data-tip":_.a.translate("vesting.pubkey_tip")},a.createElement(i.a,{content:"vesting.pubkey"})))),a.createElement("tbody",null,n&&n.map(function(t){var n=t.id,r=t.vesting_policy,o=t.public_key_string,s=Xe.utc(r.begin_timestamp).add(r.vesting_cliff_seconds,"s"),i=Xe.utc(),l=r.vesting_cliff_seconds-(s.valueOf()-i.valueOf())/1e3;return a.createElement("tr",{key:n},a.createElement("td",null,a.createElement("input",{type:"checkbox",onChange:function(a){return e.onCheckbox(n,t,a)},disabled:i.isBefore(s)})),a.createElement("td",{style:{textAlign:"center"}},r.begin_balance?a.createElement(K.a,{amount:t.balance.amount,asset:t.balance.asset_id,hide_amount:!0}):null),a.createElement("td",{style:{textAlign:"center"}},r.begin_balance?a.createElement("div",null,a.createElement(K.a,{amount:t.balance.amount,asset:t.balance.asset_id,hide_asset:!0})):null),a.createElement("td",{style:{textAlign:"center"}},s.format("YYYY-MM-DD HH:mm:ss zZ")),a.createElement("td",null,r.begin_timestamp&&a.createElement("progress",{value:l,max:r.vesting_cliff_seconds})),a.createElement("td",null,o))}).toArray(),!this.props.total_by_account_asset||0===this.props.total_by_account_asset.size&&a.createElement("tr",null,a.createElement("td",null,"-"),a.createElement("td",null,"-"),a.createElement("td",null,"-"),a.createElement("td",null,"-"),a.createElement("td",null,"-"),a.createElement("td",null,"-")))))}},{key:"onCheckbox",value:function(e,t,n){var a=n.target.checked,r=this.props.checked;r=a?r.set(e,t):r.delete(e),Ye.a.setSelectedBalanceClaims(r)}},{key:"onClaimAccount",value:function(e,t){if(!t.size){var n=-1;this.props.total_by_account_asset.forEach(function(a,r){n++,r.get(0)===e&&(a.unclaimed||a.vesting.unclaimed)&&(t=t.set(n,a.balances))}),t.size&&Ye.a.setSelectedBalanceClaims(t)}}}]),t}(),et=(Ze=Object(N.connect)(Ze,{listenTo:function(){return[$e.a]},getProps:function(){var e=$e.a.getState(),t=e.balances,n=e.address_to_pubkey,a=Ve.a.getState().keys,o=r.Map().asMutable();return t&&(e.total_by_account_asset=t.groupBy(function(e){var t="",s=n.get(e.owner),i=a.get(s);i&&i.import_account_names&&(t=i.import_account_names.join(", "));var l,c,u,p=Math.ceil((l=r.List([t,e.balance.asset_id]),c=e.owner,(u=o.get(l))||(u=r.Set().asMutable(),o.set(l,u)),u.add(c),u.size/60));return r.List([t,e.balance.asset_id,p])}).map(function(e){return e.reduce(function(e,t){return t.public_key_string=n.get(t.owner),e.balances=e.balances.add(t),void 0!=t.vested_balance?(e.vesting.unclaimed+=Number(t.vested_balance.amount),e.vesting.total+=Number(t.balance.amount)):e.unclaimed+=Number(t.balance.amount),e},{unclaimed:0,vesting:{unclaimed:0,total:0},balances:r.Set()})}).sortBy(function(e){return e})),e}}),n(57)),tt=n(1567),nt=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var at,rt=((at=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.refreshBalances=n.refreshBalances.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["PureComponent"]),nt(t,[{key:"componentWillMount",value:function(){var e=Ve.a.getState().keys.keySeq();try{Ye.a.setPubkeys(e)}catch(t){setTimeout(function(){return Ye.a.setPubkeys(e)},0)}this.existing_keys=e,E.b.subscribe(this.refreshBalances)}},{key:"componentWillUnmount",value:function(){E.b.unsubscribe(this.refreshBalances)}},{key:"componentWillReceiveProps",value:function(e){var t=Ve.a.getState().keys.keySeq();t.equals(this.existing_keys)||(this.existing_keys=t,Ye.a.setPubkeys(t))}},{key:"render",value:function(){var e=this.props.selected_balances.size&&this.props.claim_account_name;e&&this.props.claim_account_name;return a.createElement("div",null,a.createElement("div",{className:"grid-block vertical"},a.createElement(Ze,null)),a.createElement("div",{className:"vest-bottom grid-block"},a.createElement(tt.a,{key:this.props.balances,accounts:r.List(this.props.account_refs),onChange:this.onClaimAccountChange.bind(this),className:"small-12 medium-9"}),a.createElement(i.a,{component:"button",className:Ke()("button success small-12 medium-3",{disabled:!e}),content:"wallet.claim_balance",onClick:this.onClaimBalance.bind(this)})))}},{key:"onBack",value:function(e){e.preventDefault(),window.history.back()}},{key:"refreshBalances",value:function(){Ye.a.refreshBalances()}},{key:"onClaimAccountChange",value:function(e){Ye.a.claimAccountChange(e)}},{key:"onClaimBalance",value:function(){et.a.importBalance(this.props.claim_account_name,this.props.selected_balances,!0).then(function(){Ye.a.setSelectedBalanceClaims(r.Map())}).catch(function(e){console.error("claimBalance",e);var t=e;try{t=e.data.message}catch(e){}throw Ue.b.error("Error claiming balance: "+t),e})}}]),t}()).propTypes={isUpdate:u.bool},at),ot=(rt=Object(N.connect)(rt,{listenTo:function(){return[$e.a,Je.a,Ve.a]},getProps:function(){var e=$e.a.getState(),t=Je.a.getAccountRefs(),n=pe.a.getCurrentAccountState();return 0===t.size&&n&&(t=new Set([n.get("id")])),e.account_refs=t,e}}),n(1399)),st=n(1397),it=n(66),lt=n(1797),ct=n.n(lt),ut="https://ieo-apitest.nbltrust.com/api/cybex/",pt=n(155),dt=n(1613),ft=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var mt=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["Component"]),ft(t,[{key:"render",value:function(){var e=this.props.account;return a.createElement(a.Fragment,null,a.createElement(ct.a,{url:function(e){return ut+"trade/list?cybex_name="+e+"&page=1&limit=1000"}(e.get("name"))},function(e){var t=e.loading,n=e.error,r=e.data;return a.createElement("div",{className:"cybex-records"},r&&a.createElement(dt.a,{data:r.result.data,loading:t,noDataText:y.translate("ieo.records.no_data"),columns:[{Header:y.translate("ieo.records.project_id"),accessor:function(e){return e.project_id},id:"project_id"},{Header:y.translate("ieo.records.ieo_type"),accessor:function(e){return e.ieo_type},id:"ieo_type"},{Header:y.translate("ieo.records.token_count"),accessor:function(e){return e.token_count},id:"token_count"},{Header:y.translate("ieo.records.ieo_status"),accessor:function(e){return e.ieo_status},id:"ieo_status"},{Header:y.translate("ieo.records.update_at"),accessor:function(e){return e.update_at},id:"update_at"},{Header:y.translate("ieo.records.block_num"),accessor:function(e){return e.block_num},id:"block_num"}]}),n&&JSON.stringify(n),t&&a.createElement("div",{className:"text-center"},a.createElement("span",null,a.createElement(pt.a,{type:"circle",style:{display:"inline-block"}}))))}))}}]),t}(),ht=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function gt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bt(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function vt(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var yt=((Et=function(e){function t(e){gt(this,t);var n=bt(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));for(var a in n.priceRefs={},n.valueRefs={},n.changeRefs={},n.sortFunctions={alphabetic:function(e,t,n){return e.key>t.key?this.state.sortDirection||n?1:-1:e.key<t.key?this.state.sortDirection||n?-1:1:0},priceValue:function(e,t){var n=this.priceRefs[e.key],a=this.priceRefs[t.key];if(n&&a){var r=n.getFinalPrice(!0),o=a.getFinalPrice(!0);return!r&&o?1:r&&!o?-1:r||o?this.state.sortDirection?r-o:o-r:this.sortFunctions.alphabetic(e,t,!0)}},totalValue:function(e,t){var n=this.valueRefs[e.key],a=this.valueRefs[t.key];if(n&&a){var r=n.getValue(),o=a.getValue();return!r&&o?1:r&&!o?-1:r||o?this.state.sortDirection?o-r:r-o:this.sortFunctions.alphabetic(e,t,!0)}},changeValue:function(e,t){var n=this.changeRefs[e.key],a=this.changeRefs[t.key];if(n&&a){var r=n.getValue(),o=a.getValue(),s=parseFloat(r)||r,i=parseFloat(o)||o;return void 0===this.state.sortDirection||this.state.sortDirection?s<i:s>i}}},n.state={sortKey:e.viewSettings.get("portfolioSort","totalValue"),sortDirection:e.viewSettings.get("portfolioSortDirection",!0),settleAsset:"1.3.0",showHidden:!1,depositAsset:null,withdrawAsset:null,bridgeAsset:null,alwaysShowAssets:["CYB"]},n.sortFunctions)n.sortFunctions[a]=n.sortFunctions[a].bind(n);return n}return vt(t,a["Component"]),ht(t,[{key:"componentWillMount",value:function(){this._checkMarginStatus()}},{key:"_checkMarginStatus",value:function(){var e,t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;(e=n.account,new Promise(function(t,n){if(!e||e&&!e.get("call_orders",[]).size)return t(null);Object(E.f)("getObject",e.get("call_orders").toArray()).then(function(e){var n=[];e.forEach(function(e){var t=e.getIn(["call_price","base","asset_id"]),a=e.getIn(["call_price","quote","asset_id"]);-1===n.indexOf(t)&&n.push(t),-1===n.indexOf(a)&&n.push(a)}),Object(E.f)("getAsset",n).then(function(n){var a={};n.forEach(function(e){a[e.get("id")]=e.toJS()});var r={};e.forEach(function(e){var t=a[e.getIn(["call_price","quote","asset_id"])],n=a[e.getIn(["call_price","base","asset_id"])],o=t.bitasset.current_feed.settlement_price;if(o.base.asset_id===o.quote.asset_id)r[t.id]={ratio:null};else{var s=new Ge.a({amount:e.get("collateral"),asset_id:n.id,precision:n.precision}),i=new Ge.a({amount:e.get("debt"),asset_id:t.id,precision:t.precision}),l=t.bitasset.current_feed.maintenance_collateral_ratio/1e3,c=new Ge.c({priceObject:t.bitasset.current_feed.settlement_price,market_base:t.bitasset.current_feed.settlement_price.quote.asset_id,sqr:t.bitasset.current_feed.maximum_short_squeeze_ratio,assets:a}),u={ratio:s.getAmount({real:!0})/(i.getAmount({real:!0})/c.toReal())};if(isNaN(u.ratio))return null;u.ratio<l?u.statusClass="danger":u.ratio<l+.5?u.statusClass="warning":u.statusClass=null,r[t.id]=u}}),t(r)})}).catch(n)})).then(function(e){var n=null;for(var a in e)n=e[a].statusClass||n;t.setState({globalMarginStatus:n})})}},{key:"componentWillReceiveProps",value:function(e){e.account!==this.props.account&&(this._checkMarginStatus(e),this.priceRefs={},this.valueRefs={},this.changeRefs={},setTimeout(this.forceUpdate.bind(this),500))}},{key:"shouldComponentUpdate",value:function(e,t){return!(g.a.are_equal_shallow(e.balanceAssets,this.props.balanceAssets)&&g.a.are_equal_shallow(e.backedCoins,this.props.backedCoins)&&g.a.are_equal_shallow(e.balances,this.props.balances)&&e.account===this.props.account&&e.isMyAccount===this.props.isMyAccount&&e.settings===this.props.settings&&e.hiddenAssets===this.props.hiddenAssets&&g.a.are_equal_shallow(t,this.state))}},{key:"_onSettleAsset",value:function(e,t){t.preventDefault(),this.setState({settleAsset:e}),this.refs.settlement_modal.show()}},{key:"_hideAsset",value:function(e,t){Fe.a.hideAsset(e,t)}},{key:"_showDepositWithdraw",value:function(e,t,n,a){var r=this.props.account;ot.b.showDepositModal(r.get("name"),t)}},{key:"_showWithdrawModal",value:function(e,t,n,a){this.props.account;ot.b.showWithdrawModal(t)}},{key:"_getSeparator",value:function(e){return e?a.createElement("span",null,"Â |Â "):null}},{key:"_onNavigate",value:function(e,t){t.preventDefault(),this.props.router.push(e)}},{key:"_renderBalances",value:function(e,t,n){var r=this,o=this.props.core_asset,s=this.props,i=s.settings,c=s.hiddenAssets,u=s.orders,p=i.get("unit")||o.get("symbol"),d=i.get("showAssetPercent",!1),f=function(e,t){var n=e&&e.has("bitasset_data_id"),o="cp_modal_"+e.get("id");return{isBitAsset:n,borrowModal:n?a.createElement(U.a,{ref:o,quote_asset:e.get("id"),backing_asset:e.getIn(["bitasset","options","short_backing_asset"]),account:t}):null,borrowLink:n?a.createElement("a",{onClick:function(){R.a.hide(),r.refs[o].show()}},a.createElement(V.a,{name:"dollar",className:"icon-14px"})):null}},m=[];return e.forEach(function(e){var t=E.b.getObject(e);if(t){var n,s,i,h=t.get("asset_type"),g=E.b.getObject(h),b="";if(!g)return null;var v=g.get("symbol");console.debug("AssetName: ",v);var y="1.3.0"!==g.get("id"),w=p!==o.get("symbol"),k=Ie.a.parseDescription(g.getIn(["options","description"])).market;-1===(b=g.get("symbol")).indexOf("OPEN.")||k||(k="USD");var O=k||p;y&&O===b&&(O=o.get("symbol")),n=y?a.createElement(J.b,{to:"/market/"+g.get("symbol")+"_"+O},a.createElement(V.a,{name:"trade",className:"icon-14px"})):w?a.createElement(J.b,{to:"/market/"+g.get("symbol")+"_"+p},a.createElement(V.a,{name:"trade",className:"icon-14px"})):"-",i=a.createElement(J.b,{to:"/transfer?asset="+g.get("id")},a.createElement(V.a,{name:"transfer",className:"icon-14px"}));var P=f(g,r.props.account),C=P.isBitAsset,j=P.borrowModal,T=P.borrowLink;s=a.createElement("a",{href:"javascript:;",onClick:r._onSettleAsset.bind(r,g.get("id"))},a.createElement(V.a,{name:"settle",className:"icon-14px"}));var S=!c.includes(h),N=!!t.get("balance"),A=!!u[h],D=!!st.d.ADDRESS_TYPES[g.get("symbol")],R=D&&N&&0!=t.get("balance"),M=!!r.props.bridgeCoins.get(b);m.push(a.createElement("tr",{key:g.get("symbol"),style:{maxWidth:"100rem"}},a.createElement("td",{style:{textAlign:"left",paddingLeft:10}},a.createElement(Le.a,{asset:g.get("id")})),a.createElement("td",{style:{textAlign:"right"}},N||A?a.createElement(l.a,{balance:e,hide_asset:!0}):null),a.createElement("td",{style:{textAlign:"right"},className:"column-hide-small"},a.createElement(q.b,{refCallback:function(e){e&&e.refs.bound_component&&(r.priceRefs[g.get("symbol")]=e.refs.bound_component)},fromAsset:g.get("id"),hide_symbols:!0})),a.createElement("td",{style:{textAlign:"right"},className:"column-hide-small"},a.createElement(B,{refCallback:function(e){e&&e.refs.bound_component&&(r.changeRefs[g.get("symbol")]=e.refs.bound_component)},fromAsset:g.get("id"),toAsset:p,hide_symbols:!0})),a.createElement("td",{style:{textAlign:"right"},className:"column-hide-small"},N||A?a.createElement(x.a,{balance:e,toAsset:p,hide_asset:!0,refCallback:function(e){e&&e.refs.bound_component&&(r.valueRefs[g.get("symbol")]=e.refs.bound_component)}}):null),d?a.createElement("td",{style:{textAlign:"right"}},N?a.createElement(l.a,{balance:e,asPercentage:!0}):null):null,a.createElement("td",null,i),a.createElement("td",null,M&&r.props.isMyAccount?a.createElement("span",null,a.createElement("a",{onClick:r._showDepositWithdraw.bind(r,"bridge_modal",v,!1)},a.createElement(V.a,{name:"dollar",className:"icon-14px"}))):"-"),a.createElement("td",null,D&&r.props.isMyAccount?a.createElement("span",null,a.createElement("a",{onClick:r._showDepositWithdraw.bind(r,"deposit_modal",v,!1)},a.createElement(V.a,{name:"deposit",className:"icon-14px"}))):"-"),a.createElement("td",null,R&&r.props.isMyAccount?a.createElement("span",null,a.createElement("a",{className:R?"":"disabled",onClick:R?r._showWithdrawModal.bind(r,"withdraw_modal",v,!1):function(){}},a.createElement(V.a,{name:"withdraw",className:"icon-14px"}))):"-"),a.createElement("td",null,n),a.createElement("td",null,C?a.createElement("div",{className:"inline-block","data-place":"bottom","data-tip":_.a.translate("tooltip.borrow",{asset:b})},T,j):"-"),a.createElement("td",null,C?a.createElement("div",{className:"inline-block","data-place":"bottom","data-tip":_.a.translate("tooltip.settle",{asset:b})},s):"-"),a.createElement("td",{style:{textAlign:"center"},className:"column-hide-small","data-place":"bottom","data-tip":_.a.translate("tooltip."+(S?"hide_asset":"show_asset"))},a.createElement("a",{style:{marginRight:0},className:S?"order-cancel":"action-plus",onClick:r._hideAsset.bind(r,h,S)},a.createElement(V.a,{name:S?"cross-circle":"plus-circle",className:"icon-14px"})))))}}),t&&t.filter(function(e){var t=!1;r.props.backedCoins.get("OPEN",[]).forEach(function(n){n&&n.symbol===e&&(t=!0)}),r.props.bridgeCoins.get(e)&&(t=!0);var n=!0;return m.forEach(function(t){t.key===e&&(n=!1)}),n&&t}).forEach(function(e){var t=E.b.getAsset(e);if(t&&r.props.isMyAccount){var s=!c.includes(t.get("id")),i=!!r.props.backedCoins.get("OPEN",[]).find(function(e){return e.symbol===t.get("symbol")}),l=!!r.props.bridgeCoins.get(t.get("symbol")),u="1.3.0"!==t.get("id"),p=Ie.a.parseDescription(t.getIn(["options","description"])).market;-1===t.get("symbol").indexOf("OPEN.")||p||(p="USD");var d=p||(o?o.get("symbol"):"CYB"),h=u?a.createElement(J.b,{to:"/market/"+t.get("symbol")+"_"+d},a.createElement(V.a,{name:"trade",className:"icon-14px"})):"-",g=f(t,r.props.account),b=g.isBitAsset,v=g.borrowModal,y=g.borrowLink;(s&&n||!s&&!n)&&m.push(a.createElement("tr",{key:t.get("symbol"),style:{maxWidth:"100rem"}},a.createElement("td",{style:{textAlign:"left",paddingLeft:10}},a.createElement(Le.a,{asset:t.get("id")})),a.createElement("td",null),a.createElement("td",null),a.createElement("td",{className:"column-hide-small",colSpan:2}),a.createElement("td",{style:{textAlign:"center"}},l&&r.props.isMyAccount?a.createElement("span",null,a.createElement("a",{onClick:r._showDepositWithdraw.bind(r,"bridge_modal",e,!1)},a.createElement(V.a,{name:"dollar",className:"icon-14px"}))):"-"),a.createElement("td",null,i&&r.props.isMyAccount?a.createElement("span",null,a.createElement("a",{onClick:r._showDepositWithdraw.bind(r,"deposit_modal",e,!1)},a.createElement(V.a,{name:"deposit",className:"icon-14px"}))):"-"),a.createElement("td",null,"-"),a.createElement("td",{style:{textAlign:"center"}},h),a.createElement("td",null,b?a.createElement("div",{className:"inline-block","data-place":"bottom","data-tip":_.a.translate("tooltip.borrow",{asset:t.get("symbol")})},y,v):"-"),a.createElement("td",null,"-"),a.createElement("td",{style:{textAlign:"center"},className:"column-hide-small","data-place":"bottom","data-tip":_.a.translate("tooltip."+(s?"hide_asset":"show_asset"))},a.createElement("a",{style:{marginRight:0},className:s?"order-cancel":"action-plus",onClick:r._hideAsset.bind(r,t.get("id"),s)},a.createElement(V.a,{name:s?"cross-circle":"plus-circle",className:"icon-14px"})))))}}),m.sort(this.sortFunctions[this.state.sortKey]),m}},{key:"_toggleHiddenAssets",value:function(){this.setState({showHidden:!this.state.showHidden})}},{key:"_toggleSortOrder",value:function(e){this.state.sortKey===e?(Fe.a.changeViewSetting({portfolioSortDirection:!this.state.sortDirection}),this.setState({sortDirection:!this.state.sortDirection})):(Fe.a.changeViewSetting({portfolioSort:e}),this.setState({sortKey:e}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.account,o=t.hiddenAssets,s=t.settings,l=t.orders,u=this.state.showHidden;if(!n)return null;var p=[],d={},f={};n.toJS&&n.has("call_orders")&&(p=n.get("call_orders").toJS());var m=void 0,h=void 0,b=n.get("balances"),v=r.List(),y=r.List();(p.forEach(function(e){var t=E.b.getObject(e);if(t){var n=t.getIn(["call_price","base","asset_id"]);d[n]?d[n]+=parseInt(t.get("collateral"),10):d[n]=parseInt(t.get("collateral"),10);var a=t.getIn(["call_price","quote","asset_id"]);f[a]?f[a]+=parseInt(t.get("debt"),10):f[a]=parseInt(t.get("debt"),10)}}),b)&&((b=b.filter(function(e,t){var n=E.b.getObject(e),a=E.b.getAsset(n.get("asset_type"));return!(!a||Object(it.a)(a.get("symbol")))&&!(n&&!n.get("balance")&&!l[t])})).forEach(function(e,t){o.includes(t)?y=y.push(e):v=v.push(e)}),m=this._renderBalances(v,this.state.alwaysShowAssets,!0),h=this._renderBalances(y,this.state.alwaysShowAssets));var _=v.concat(y),w=(a.createElement(c.a,{noTip:!0,balances:_,openOrders:l,debt:f,collateral:d,hide_asset:!0}),a.createElement(c.a,{noTip:!0,balances:_,hide_asset:!0})),k=a.createElement(c.a,{noTip:!0,balances:r.List(),openOrders:l,hide_asset:!0}),O=(a.createElement(c.a,{noTip:!0,balances:r.List(),debt:f,collateral:d,hide_asset:!0}),a.createElement(c.a,{noTip:!0,balances:r.List(),debt:f,hide_asset:!0}),a.createElement(c.a,{noTip:!0,balances:r.List(),collateral:d,hide_asset:!0}),s.get("unit")||this.props.core_asset.get("symbol")),P=a.createElement($.a,{noLink:!0,string:"account.total",keys:[{type:"asset",value:O,arg:"asset"}]});m.push(a.createElement("tr",{key:"portfolio",className:"total-value"},a.createElement("td",{style:{textAlign:"left",paddingLeft:10}},P),a.createElement("td",null),a.createElement("td",{className:"column-hide-small"}),a.createElement("td",null),a.createElement("td",{className:"column-hide-small",style:{textAlign:"right"}},w),a.createElement("td",{colSpan:9})));var C=s.get("showAssetPercent",!1),j=(this.props.backedCoins.get("OPEN",[]).find(function(t){return t.symbol===e.state.depositAsset}),this.props.backedCoins.get("OPEN",[]).find(function(t){return t.symbol===e.state.withdrawAsset}),this.props.bridgeCoins.get(this.state.bridgeAsset),E.b.getAsset(O)),x=j?j.get("symbol"):"";if(j){var S=g.a.replaceName(x,!!j.get("bitasset_data_id")),N=S.prefix,A=S.name;x=(N||"")+A}a.createElement("span",{style:{visibility:"hidden"}},"H");return a.createElement("div",{className:"app-tables with-shadow",ref:"appTables"},a.createElement("div",{className:"content-block small-12"},a.createElement("div",{className:"generic-bordered-box"},a.createElement(We.b,{defaultActiveTab:1,segmented:!1,setting:"overviewTab",className:"overview-tabs",contentClass:"no-padding",tabsClass:"account-overview no-padding bordered-header content-block"},a.createElement(We.a,{title:"account.portfolio",subText:w},a.createElement("div",{className:"hide-selector"},a.createElement("div",{className:Ke()("hide-selector-item",{inactive:u&&h.length}),onClick:u?this._toggleHiddenAssets.bind(this):function(){}},a.createElement(i.a,{content:"account.hide_hidden"})),h.length?a.createElement("div",{className:Ke()("hide-selector-item",{inactive:!u}),onClick:u?function(){}:this._toggleHiddenAssets.bind(this)},a.createElement(i.a,{content:"account.show_hidden"})):null),a.createElement("table",{className:"table dashboard-table"},a.createElement("thead",null,a.createElement("tr",null,a.createElement("th",{style:{textAlign:"left",paddingLeft:10},className:"clickable",onClick:this._toggleSortOrder.bind(this,"alphabetic")},a.createElement(i.a,{component:"span",content:"account.asset"})),a.createElement("th",{style:{textAlign:"right"}},a.createElement(i.a,{content:"account.qty"})),a.createElement("th",{onClick:this._toggleSortOrder.bind(this,"priceValue"),className:"column-hide-small clickable",style:{textAlign:"right"}},a.createElement(i.a,{content:"exchange.price"})," (",a.createElement(H.a,{name:O}),")"),a.createElement("th",{onClick:this._toggleSortOrder.bind(this,"changeValue"),className:"column-hide-small clickable",style:{textAlign:"right"}},a.createElement(i.a,{content:"account.hour_24_short"})),a.createElement("th",{onClick:this._toggleSortOrder.bind(this,"totalValue"),style:{textAlign:"right"},className:"column-hide-small clickable"},a.createElement($.a,{noLink:!0,string:"account.eq_value_header",keys:[{type:"asset",value:O,arg:"asset"}]})),C?a.createElement("th",{style:{textAlign:"right"}},a.createElement(i.a,{component:"span",content:"account.percent"})):null,a.createElement("th",null,a.createElement(i.a,{content:"header.payments"})),a.createElement("th",null,a.createElement(i.a,{content:"exchange.buy"})),a.createElement("th",null,a.createElement(i.a,{content:"modal.deposit.submit"})),a.createElement("th",null,a.createElement(i.a,{content:"modal.withdraw.submit"})),a.createElement("th",null,a.createElement(i.a,{content:"account.trade"})),a.createElement("th",null,a.createElement(i.a,{content:"exchange.borrow"})),a.createElement("th",null,a.createElement(i.a,{content:"account.settle"})),a.createElement("th",{className:"column-hide-small"},a.createElement(i.a,{content:u?"account.perm.show":"exchange.hide"})))),a.createElement("tbody",null,u&&h.length?h:m))),a.createElement(We.a,{title:"account.open_orders",subText:k},a.createElement(Be.default,Object.assign({},this.props),a.createElement("tbody",null,a.createElement("tr",{className:"total-value"},a.createElement("td",{style:{textAlign:"center"}},P),a.createElement("td",{colSpan:3}),a.createElement("td",{style:{textAlign:"center"}},k),a.createElement("td",{colSpan:1}),this.props.isMyAccount?a.createElement("td",null):null)))),!1,this.props.isMyAccount&&a.createElement(We.a,{title:"account.vested"},a.createElement("div",{className:"content-block"},a.createElement("div",{className:"generic-bordered-box"},a.createElement(rt,null)))),a.createElement(We.a,{title:"account.crowdfund"},a.createElement("div",{className:"content-block"},a.createElement("div",{className:"generic-bordered-box"},a.createElement(mt,{account:n})))),a.createElement(We.a,{title:"account.activity"},a.createElement(le.a,{accountsList:r.fromJS([n.get("id")]),compactView:!1,showMore:!0,fullHeight:!0,limit:15,showFilters:!0,dashboard:!0})),n.get("proposals")&&n.get("proposals").size?a.createElement(We.a,{title:"explorer.proposals.title",subText:n.get("proposals")?n.get("proposals").size:0},a.createElement(ze,{className:"dashboard-table",account:n.get("id")})):null),a.createElement(T,{ref:"settlement_modal",asset:this.state.settleAsset,account:n.get("name")}))))}}]),t}()).propTypes={balanceAssets:m.a.ChainAssetsList,core_asset:m.a.ChainAsset.isRequired},Et.defaultProps={core_asset:"1.3.0"},Et);yt=Object(h.a)(yt);var _t=function(e){function t(){return gt(this,t),bt(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return vt(t,a["Component"]),ht(t,[{key:"componentWillMount",value:function(){}},{key:"render",value:function(){var e=this.props.balances.map(function(e){return e&&e.get("asset_type")}).filter(function(e){return!!e}),t=this.props.orders.reduce(function(e,t){if(!t)return e;var n=t.getIn(["sell_price","base","asset_id"]);return e[n]||(e[n]=0),e[n]+=parseInt(t.get("for_sale"),10),e},{});for(var n in t)-1===e.indexOf(n)&&e.push(n);return a.createElement(yt,Object.assign({},this.state,this.props,{orders:t,balanceAssets:r.List(e)}))}}]),t}();_t.propTypes={balances:m.a.ChainObjectsList,orders:m.a.ChainObjectsList},_t.defaultProps={balances:r.List(),orders:r.List()};var Et;t.default=Object(h.a)(_t)}}]);