(window.webpackJsonp=window.webpackJsonp||[]).push([[41],{1529:
/*!*******************************************!*\
  !*** ./components/Utility/CopyButton.jsx ***!
  \*******************************************/
/*! exports provided: default */
/*! exports used: default */function(e,t,n){"use strict";var a=n(/*! react */0),l=(n(/*! prop-types */2),n(/*! counterpart */13)),c=n.n(l),r=n(/*! react-clipboard.js */1544),o=n.n(r),s=n(/*! ../Icon/Icon */50);t.a=function(e){var t=e.className,n=void 0===t?"button":t,l=e.text,r=void 0===l?"":l,i=e.tip,u=void 0===i?"tooltip.copy_tip":i,d=e.dataPlace,m=void 0===d?"right":d,p=e.buttonIcon,h=void 0===p?"clippy":p,f=e.buttonText,E=void 0===f?"":f;return a.createElement(o.a,{"data-clipboard-text":r,className:n,"data-place":m,"data-tip":c.a.translate(u)},E||a.createElement(s.a,{name:h}))}},1889:
/*!******************************************************!*\
  !*** ./components/Account/CreateAccountPassword.tsx ***!
  \******************************************************/
/*! exports provided: CreateAccountPassword, default */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is referenced from these modules with unsupported syntax: ./Routes.jsx (referenced with import()) */function(e,t,n){"use strict";n.r(t),n.d(t,"CreateAccountPassword",function(){return L});var a,l=n(/*! react */0),c=n(/*! prop-types */2),r=n(/*! alt-react */24),o=n(/*! classnames */37),s=n.n(o),i=n(/*! actions/AccountActions */54),u=n(/*! stores/AccountStore */28),d=n(/*! ./../Forms/AccountNameInput */1638),m=n(/*! stores/WalletDb */14),p=n(/*! actions/NotificationActions */65),h=n(/*! react-router */5),f=n(/*! ../Forms/AccountSelect */291),E=n(/*! stores/TransactionConfirmStore */234),g=n(/*! ../LoadingIndicator */159),v=n(/*! react-translate-component */1),w=n.n(v),b=n(/*! counterpart */13),_=n.n(b),y=n(/*! cybexjs */3),k=n(/*! react-tooltip */58),N=n.n(k),A=n(/*! common/utils */8),C=n(/*! actions/SettingsActions */21),S=n(/*! actions/WalletUnlockActions */46),x=n(/*! ../Icon/Icon */50),P=n(/*! ../Utility/CopyButton */1529),O=n(/*! ../Utility/Captcha */1637),j=n(/*! ./../Forms/PasswordInput */296),T=n(/*! components/Login/LoginSelector */1569),W=n(/*! components/Login/CreateSelector */173),I=n(/*! components/Common */119),F=n(/*! components/Common/Styles */198),R=n(/*! radium */41),B=n(/*! services/Gtag */1635),z=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function D(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var L=((a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.accountNameInput=null,n.isValid=function(){var e=0===u.a.getMyAccounts().length,t=n.state.validAccountName;return m.a.getWallet()||(t=t&&n.state.validPassword),e||(t=t&&n.state.registrar_account),t=t&&!!n.state.cap&&!!n.state.cap.captcha,console.debug("THis. cap: ",t,n.state.cap,n.state.cap.captcha),t&&n.state.understand_1&&n.state.understand_2&&n.state.understand_3},n.setCaptcha=function(e){console.debug("Set Cap:",e),n.setState({cap:e})},n._onBackupDownload=function(){n.setState({step:3})},n.state={validAccountName:!1,accountName:"",validPassword:!1,registrar_account:null,loading:!1,hide_refcode:!0,show_identicon:!1,step:1,showPass:!1,generatedPassword:("P"+y.o.get_random_key().toWif()).substr(0,45),confirm_password:"",cap:{id:null,captcha:null},understand_1:!1,understand_2:!1,understand_3:!1},n.onFinishConfirm=n.onFinishConfirm.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l["Component"]),z(t,[{key:"componentWillMount",value:function(){C.a.changeSetting({setting:"passwordLogin",value:!0})}},{key:"componentDidMount",value:function(){N.a.rebuild()}},{key:"shouldComponentUpdate",value:function(e,t){return!A.a.are_equal_shallow(t,this.state)}},{key:"onAccountNameChange",value:function(e){var t={};void 0!==e.valid&&(t.validAccountName=e.valid),void 0!==e.value&&(t.accountName=e.value),this.state.show_identicon||(t.show_identicon=!0),this.setState(t)}},{key:"onFinishConfirm",value:function(e){var t=this;e.included&&e.broadcasted_transaction&&(E.a.unlisten(this.onFinishConfirm),E.a.reset(),Object(y.f)("getAccount",this.state.accountName,void 0,D({},this.state.accountName,!0)).then(function(){t.props.router.push("/wallet/backup/create?newAccount=true")}))}},{key:"_unlockAccount",value:function(e,t){m.a.validatePassword(t,!0,e),S.a.checkLock.defer()}},{key:"createAccount",value:function(e,t){var n=this,a=this.refs.refcode?this.refs.refcode.value():null,l=u.a.getState().referralAccount;this.setState({loading:!0});var c=this.state.cap;i.a.createAccountWithPassword(e,t,this.state.registrar_account,l||this.state.registrar_account,0,a,c).then(function(){i.a.setPasswordAccount(e),n.state.registrar_account?(Object(y.f)("getAccount",e,void 0,D({},e,!0)).then(function(){n.setState({step:2,loading:!1}),n._unlockAccount(e,t)}),E.a.listen(n.onFinishConfirm)):Object(y.f)("getAccount",e,void 0,D({},e,!0)).then(function(){n.setState({step:2}),n._unlockAccount(e,t)}),B.a.eventRegisterDone(e)}).catch(function(t){console.log("ERROR AccountActions.createAccount",t);var a=t||"unknown error";p.b.addNotification({message:"Failed to create account: "+e+" - "+a,level:"error",autoDismiss:5}),n.cap&&n.cap.updateCaptcha(),n.setState({loading:!1}),B.a.eventRegisterFailed(e)})}},{key:"onSubmit",value:function(e){if(e.preventDefault(),this.isValid()){var t=this.accountNameInput.getValue(),n=this.state.password;this.createAccount(t,n)}}},{key:"onPasswordChange",value:function(e){this.setState({password:e.value,validPassword:e.valid})}},{key:"onRegistrarAccountChange",value:function(e){this.setState({registrar_account:e})}},{key:"_onInput",value:function(e,t){this.setState(D({},e,"password"===e?t.target.value:!this.state[e]))}},{key:"_renderAccountCreateForm",value:function(){var e=this,t=this.state.registrar_account,n=u.a.getMyAccounts(),a=0===n.length,c=this.isValid(),r=!1,o=t?y.b.getAccount(t):null;o&&o.get("lifetime_referrer")==o.get("id")&&(r=!0);s()("submit-button button no-margin",{disabled:!c||t&&!r});return l.createElement("div",{className:"create-form",style:[Object(F.b)(),F.a]},l.createElement("div",{style:[{textAlign:"left",width:"60%"},Object(F.c)(1,1,"60%")]},l.createElement("form",{style:{maxWidth:"60rem"},onSubmit:this.onSubmit.bind(this),noValidate:!0},l.createElement(d.a,{ref:function(t){t&&(e.accountNameInput=t.refs.nameInput)},cheapNameOnly:!!a,onChange:this.onAccountNameChange.bind(this),accountShouldNotExist:!0,placeholder:_.a.translate("wallet.account_public"),noLabel:!0}),l.createElement("div",{className:"form-field"},l.createElement("label",{className:"left-label"},l.createElement(w.a,{content:"wallet.generated"}),"  ",l.createElement("span",{className:"tooltip","data-html":!0,"data-tip":_.a.translate("tooltip.generate")},l.createElement(x.a,{name:"question-circle"}))),l.createElement("div",{style:{paddingBottom:"0.5rem"}},l.createElement("span",{className:"inline-label"},l.createElement("input",{style:{maxWidth:"calc(100% - 48px)",fontSize:"80%"},disabled:!0,value:this.state.generatedPassword,type:"text"}),l.createElement(P.a,{text:this.state.generatedPassword,tip:"tooltip.copy_password",dataPlace:"top"})))),l.createElement("div",{className:"form-field"},l.createElement(j.a,{ref:"password",confirmation:!0,passwordLength:12,onChange:this.onPasswordChange.bind(this),noLabel:!0,checkStrength:!0})),l.createElement("div",{className:"confirm-checks"},l.createElement(I.h,{onChange:this._onInput.bind(this,"understand_3"),size:"large",active:this.state.understand_3},l.createElement(w.a,{style:{fontSize:"0.8em",userSelect:"none"},content:"wallet.understand_3"}))),l.createElement("br",null),l.createElement("div",{className:"confirm-checks"},l.createElement(I.h,{onChange:this._onInput.bind(this,"understand_1"),size:"large",active:this.state.understand_1},l.createElement(w.a,{style:{fontSize:"0.8em",userSelect:"none"},content:"wallet.understand_1"}))),l.createElement("br",null),l.createElement("div",{className:"confirm-checks",style:{paddingBottom:"1.5rem"}},l.createElement(I.h,{onChange:this._onInput.bind(this,"understand_2"),size:"large",active:this.state.understand_2},l.createElement(w.a,{style:{fontSize:"0.8em",userSelect:"none"},content:"wallet.understand_2"}))),l.createElement("div",{className:"form-field"},l.createElement("label",null,l.createElement(w.a,{content:"captcha.label"})),l.createElement(O.a,{onCapthaChange:this.setCaptcha})),a?null:l.createElement("div",{className:"full-width-content form-group no-overflow",style:{paddingTop:30}},l.createElement("label",null,l.createElement(w.a,{content:"account.pay_from"})),l.createElement(f.a,{account_names:n,onChange:this.onRegistrarAccountChange.bind(this)}),t&&!r?l.createElement("div",{style:{textAlign:"left"},className:"facolor-error"},l.createElement(w.a,{content:"wallet.must_be_ltm"})):null),l.createElement("div",{style:{marginTop:"1em"}}),this.state.loading?l.createElement(g.a,{type:"three-bounce"}):l.createElement(I.g,{style:{width:"100%"},type:"primary",disabled:!c||t&&!r},l.createElement(w.a,{content:"account.create_account"})))),l.createElement(W.WalletInfo,{withSwitcher:!0,mode:0,style:{justifyContent:"flex-start"}}))}},{key:"_renderAccountCreateText",value:function(){var e=0===u.a.getMyAccounts().length;return l.createElement("div",null,l.createElement("h4",{style:{fontWeight:"bold",paddingBottom:15}},l.createElement(w.a,{content:"wallet.wallet_password"})),l.createElement(w.a,{style:{textAlign:"left"},unsafe:!0,component:"p",content:"wallet.create_account_password_text"}),l.createElement(w.a,{style:{textAlign:"left"},component:"p",content:"wallet.create_account_text"}),e?null:l.createElement(w.a,{style:{textAlign:"left"},component:"p",content:"wallet.not_first_account"}))}},{key:"_renderBackup",value:function(){var e=this;return l.createElement("div",{className:"backup-submit"},l.createElement("p",null,l.createElement(w.a,{unsafe:!0,content:"wallet.password_crucial"})),l.createElement("div",null,this.state.showPass?l.createElement("div",null,l.createElement("h5",null,l.createElement(w.a,{content:"settings.password"}),":"),l.createElement("div",{style:{fontWeight:"bold",wordWrap:"break-word"},className:"no-overflow"},this.state.password)):l.createElement("div",{onClick:function(){e.setState({showPass:!0})},className:"button"},l.createElement(w.a,{content:"wallet.password_show"}))),l.createElement("div",{className:"divider"}),l.createElement("p",{className:"txtlabel warning"},l.createElement(w.a,{unsafe:!0,content:"wallet.password_lose_warning"})),l.createElement("button",{className:"button",onClick:function(){return e.setState({step:3})}},"OK"))}},{key:"_renderBackupText",value:function(){return l.createElement("div",null,l.createElement("p",{style:{fontWeight:"bold"}},l.createElement(w.a,{content:"footer.backup"})),l.createElement("p",{className:"txtlabel warning"},l.createElement(w.a,{unsafe:!0,content:"wallet.password_lose_warning"})))}},{key:"_renderGetStarted",value:function(){return l.createElement("table",{className:"table"},l.createElement("tbody",null,l.createElement("tr",null,l.createElement("td",null,l.createElement(w.a,{content:"wallet.tips_dashboard"}),":"),l.createElement("td",null,l.createElement(h.b,{to:"/dashboard"},l.createElement(w.a,{content:"header.dashboard"})))),l.createElement("tr",null,l.createElement("td",null,l.createElement(w.a,{content:"wallet.tips_account"}),":"),l.createElement("td",null,l.createElement(h.b,{to:"/account/"+this.state.accountName+"/overview"},l.createElement(w.a,{content:"wallet.link_account"})))),l.createElement("tr",null,l.createElement("td",null,l.createElement(w.a,{content:"wallet.tips_transfer"}),":"),l.createElement("td",null,l.createElement(h.b,{to:"/transfer"},l.createElement(w.a,{content:"wallet.link_transfer"})))),l.createElement("tr",null,l.createElement("td",null,l.createElement(w.a,{content:"wallet.tips_settings"}),":"),l.createElement("td",null,l.createElement(h.b,{to:"/settings"},l.createElement(w.a,{content:"header.settings"}))))))}},{key:"_renderGetStartedText",value:function(){return l.createElement("div",null,l.createElement("p",{style:{fontWeight:"bold"}},l.createElement(w.a,{content:"wallet.congrat"})),l.createElement("p",null,l.createElement(w.a,{content:"wallet.tips_explore_pass"})),l.createElement("p",null,l.createElement(w.a,{content:"wallet.tips_header"})),l.createElement("p",{className:"txtlabel warning"},l.createElement(w.a,{content:"wallet.tips_login"})))}},{key:"render",value:function(){var e=this.state.step;return l.createElement("div",{className:"create-wrapper readable anim-fade",style:[{margin:"1em auto auto auto"}]},l.createElement("div",null,l.createElement(w.a,{component:"h2",className:"text-center",content:"wallet.use_password_create"})),l.createElement("div",{className:"create-password"},2===e?l.createElement("p",{style:{fontWeight:"bold"}},l.createElement(w.a,{content:"wallet.step_"+e})):null,3===e?this._renderGetStartedText():null,1===e?this._renderAccountCreateForm():2===e?this._renderBackup():this._renderGetStarted()),1===e&&l.createElement(T.a,{style:{marginTop:"1em",marginBottom:"2em"}}))}}]),t}()).contextTypes={router:c.object.isRequired},a);L=Object(R.a)(L),L=Object(r.connect)(L,{listenTo:function(){return[u.a]},getProps:function(){return{}}}),t.default=L}}]);