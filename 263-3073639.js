(window.webpackJsonp=window.webpackJsonp||[]).push([[263,3],{2262:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(99),i=n(27),s=n(10),u=n(2292),l=n(138),c=n.n(l),f=n(2),p=n.n(f),d=n(56),h=n(2372),y=n(8),m=n(1),b=n.n(m),v=n(26),g=n.n(v),w=n(2312),k=n(80),E=n(276),S=n(69),O=n.n(S),_=n(16),C=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var x=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={change:null},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),C(t,[{key:"shouldComponentUpdate",value:function(e){return!(!e.volume2||e.volume2===this.props.volume2)||(e.price!==this.props.price||e.ready!==this.props.ready)}},{key:"componentWillReceiveProps",value:function(e){e.ready&&this.props.ready?this.setState({change:parseFloat(e.price)-parseFloat(this.props.price)}):this.setState({change:0})}},{key:"componentDidUpdate",value:function(){O.a.rebuild()}},{key:"render",value:function(){var e=this.props,t=e.base,n=e.quote,o=e.hideQuote,a=e.hideBase,i=(e.price,e.content),s=e.ready,u=e.value,l=e.valueByYuan,c=e.volume,f=e.volume2,p=e.withYuan,d=e.toolTip,h=this.state.change,m=null;h&&null!==h&&(m=h>0?"change-up":"change-down");var v=f?y.a.format_volume(f):null,w=h&&null!==h?r.createElement("span",{className:m}," ","change-up"===m?r.createElement("span",null,"↑"):r.createElement("span",null,"↓")):null;return r.createElement("li",{className:g()("stat",this.props.className),"data-place":"bottom","data-tip":d},r.createElement("span",null,i&&r.createElement(b.a,{content:i}),i&&r.createElement("br",null),r.createElement("b",{className:"value stat-primary "+(a?m:"")},s?u:0," ",!a&&w),r.createElement("span",{className:"symbol-text"},!a&&r.createElement(k.a,{name:t.get("symbol")}),o||!n||c?null:r.createElement("span",null,"/",r.createElement(k.a,{name:n.get("symbol")})))),"number"==typeof f?r.createElement("span",null,r.createElement("span",null),r.createElement("b",{className:"value stat-primary"},s?r.createElement("span",null," / ",v):0," ",w),r.createElement("span",{className:"symbol-text"},r.createElement(k.a,{name:n.get("symbol")}))):null,p&&!isNaN(l)&&r.createElement("span",null,r.createElement("span",null),!a&&" / ",r.createElement("b",{className:"value stat-primary"},r.createElement("span",{className:"symbol-text"},"¥"),s?r.createElement("span",null," ",l):0," ")))}}]),t}(),P=x=Object(_.connect)(x,{listenTo:function(){return[E.a]},getProps:function(e){var t=e.volume,n=e.price,r=e.quote,o=e.base,a=t?y.a.format_volume(n):y.a.price_text(n,r,o),i=y.a.replaceName(o.get("symbol"),!1).name,s=E.a.getState().priceState[i];return{value:a,valueByYuan:s?parseFloat((a*s).toFixed(2)):NaN}}}),D=n(49),T=n(58),A=n(9),j=n.n(A),R=n(2534),F=n(97),N=n(2532),M=n.n(N),I=n(2530),q=n.n(I),L=n(2526),B=n.n(L),V=[{base:"A",letters:/[\u0041\u24B6\uFF21\u00C0\u00C1\u00C2\u1EA6\u1EA4\u1EAA\u1EA8\u00C3\u0100\u0102\u1EB0\u1EAE\u1EB4\u1EB2\u0226\u01E0\u00C4\u01DE\u1EA2\u00C5\u01FA\u01CD\u0200\u0202\u1EA0\u1EAC\u1EB6\u1E00\u0104\u023A\u2C6F]/g},{base:"AA",letters:/[\uA732]/g},{base:"AE",letters:/[\u00C6\u01FC\u01E2]/g},{base:"AO",letters:/[\uA734]/g},{base:"AU",letters:/[\uA736]/g},{base:"AV",letters:/[\uA738\uA73A]/g},{base:"AY",letters:/[\uA73C]/g},{base:"B",letters:/[\u0042\u24B7\uFF22\u1E02\u1E04\u1E06\u0243\u0182\u0181]/g},{base:"C",letters:/[\u0043\u24B8\uFF23\u0106\u0108\u010A\u010C\u00C7\u1E08\u0187\u023B\uA73E]/g},{base:"D",letters:/[\u0044\u24B9\uFF24\u1E0A\u010E\u1E0C\u1E10\u1E12\u1E0E\u0110\u018B\u018A\u0189\uA779]/g},{base:"DZ",letters:/[\u01F1\u01C4]/g},{base:"Dz",letters:/[\u01F2\u01C5]/g},{base:"E",letters:/[\u0045\u24BA\uFF25\u00C8\u00C9\u00CA\u1EC0\u1EBE\u1EC4\u1EC2\u1EBC\u0112\u1E14\u1E16\u0114\u0116\u00CB\u1EBA\u011A\u0204\u0206\u1EB8\u1EC6\u0228\u1E1C\u0118\u1E18\u1E1A\u0190\u018E]/g},{base:"F",letters:/[\u0046\u24BB\uFF26\u1E1E\u0191\uA77B]/g},{base:"G",letters:/[\u0047\u24BC\uFF27\u01F4\u011C\u1E20\u011E\u0120\u01E6\u0122\u01E4\u0193\uA7A0\uA77D\uA77E]/g},{base:"H",letters:/[\u0048\u24BD\uFF28\u0124\u1E22\u1E26\u021E\u1E24\u1E28\u1E2A\u0126\u2C67\u2C75\uA78D]/g},{base:"I",letters:/[\u0049\u24BE\uFF29\u00CC\u00CD\u00CE\u0128\u012A\u012C\u0130\u00CF\u1E2E\u1EC8\u01CF\u0208\u020A\u1ECA\u012E\u1E2C\u0197]/g},{base:"J",letters:/[\u004A\u24BF\uFF2A\u0134\u0248]/g},{base:"K",letters:/[\u004B\u24C0\uFF2B\u1E30\u01E8\u1E32\u0136\u1E34\u0198\u2C69\uA740\uA742\uA744\uA7A2]/g},{base:"L",letters:/[\u004C\u24C1\uFF2C\u013F\u0139\u013D\u1E36\u1E38\u013B\u1E3C\u1E3A\u0141\u023D\u2C62\u2C60\uA748\uA746\uA780]/g},{base:"LJ",letters:/[\u01C7]/g},{base:"Lj",letters:/[\u01C8]/g},{base:"M",letters:/[\u004D\u24C2\uFF2D\u1E3E\u1E40\u1E42\u2C6E\u019C]/g},{base:"N",letters:/[\u004E\u24C3\uFF2E\u01F8\u0143\u00D1\u1E44\u0147\u1E46\u0145\u1E4A\u1E48\u0220\u019D\uA790\uA7A4]/g},{base:"NJ",letters:/[\u01CA]/g},{base:"Nj",letters:/[\u01CB]/g},{base:"O",letters:/[\u004F\u24C4\uFF2F\u00D2\u00D3\u00D4\u1ED2\u1ED0\u1ED6\u1ED4\u00D5\u1E4C\u022C\u1E4E\u014C\u1E50\u1E52\u014E\u022E\u0230\u00D6\u022A\u1ECE\u0150\u01D1\u020C\u020E\u01A0\u1EDC\u1EDA\u1EE0\u1EDE\u1EE2\u1ECC\u1ED8\u01EA\u01EC\u00D8\u01FE\u0186\u019F\uA74A\uA74C]/g},{base:"OI",letters:/[\u01A2]/g},{base:"OO",letters:/[\uA74E]/g},{base:"OU",letters:/[\u0222]/g},{base:"P",letters:/[\u0050\u24C5\uFF30\u1E54\u1E56\u01A4\u2C63\uA750\uA752\uA754]/g},{base:"Q",letters:/[\u0051\u24C6\uFF31\uA756\uA758\u024A]/g},{base:"R",letters:/[\u0052\u24C7\uFF32\u0154\u1E58\u0158\u0210\u0212\u1E5A\u1E5C\u0156\u1E5E\u024C\u2C64\uA75A\uA7A6\uA782]/g},{base:"S",letters:/[\u0053\u24C8\uFF33\u1E9E\u015A\u1E64\u015C\u1E60\u0160\u1E66\u1E62\u1E68\u0218\u015E\u2C7E\uA7A8\uA784]/g},{base:"T",letters:/[\u0054\u24C9\uFF34\u1E6A\u0164\u1E6C\u021A\u0162\u1E70\u1E6E\u0166\u01AC\u01AE\u023E\uA786]/g},{base:"TZ",letters:/[\uA728]/g},{base:"U",letters:/[\u0055\u24CA\uFF35\u00D9\u00DA\u00DB\u0168\u1E78\u016A\u1E7A\u016C\u00DC\u01DB\u01D7\u01D5\u01D9\u1EE6\u016E\u0170\u01D3\u0214\u0216\u01AF\u1EEA\u1EE8\u1EEE\u1EEC\u1EF0\u1EE4\u1E72\u0172\u1E76\u1E74\u0244]/g},{base:"V",letters:/[\u0056\u24CB\uFF36\u1E7C\u1E7E\u01B2\uA75E\u0245]/g},{base:"VY",letters:/[\uA760]/g},{base:"W",letters:/[\u0057\u24CC\uFF37\u1E80\u1E82\u0174\u1E86\u1E84\u1E88\u2C72]/g},{base:"X",letters:/[\u0058\u24CD\uFF38\u1E8A\u1E8C]/g},{base:"Y",letters:/[\u0059\u24CE\uFF39\u1EF2\u00DD\u0176\u1EF8\u0232\u1E8E\u0178\u1EF6\u1EF4\u01B3\u024E\u1EFE]/g},{base:"Z",letters:/[\u005A\u24CF\uFF3A\u0179\u1E90\u017B\u017D\u1E92\u1E94\u01B5\u0224\u2C7F\u2C6B\uA762]/g},{base:"a",letters:/[\u0061\u24D0\uFF41\u1E9A\u00E0\u00E1\u00E2\u1EA7\u1EA5\u1EAB\u1EA9\u00E3\u0101\u0103\u1EB1\u1EAF\u1EB5\u1EB3\u0227\u01E1\u00E4\u01DF\u1EA3\u00E5\u01FB\u01CE\u0201\u0203\u1EA1\u1EAD\u1EB7\u1E01\u0105\u2C65\u0250]/g},{base:"aa",letters:/[\uA733]/g},{base:"ae",letters:/[\u00E6\u01FD\u01E3]/g},{base:"ao",letters:/[\uA735]/g},{base:"au",letters:/[\uA737]/g},{base:"av",letters:/[\uA739\uA73B]/g},{base:"ay",letters:/[\uA73D]/g},{base:"b",letters:/[\u0062\u24D1\uFF42\u1E03\u1E05\u1E07\u0180\u0183\u0253]/g},{base:"c",letters:/[\u0063\u24D2\uFF43\u0107\u0109\u010B\u010D\u00E7\u1E09\u0188\u023C\uA73F\u2184]/g},{base:"d",letters:/[\u0064\u24D3\uFF44\u1E0B\u010F\u1E0D\u1E11\u1E13\u1E0F\u0111\u018C\u0256\u0257\uA77A]/g},{base:"dz",letters:/[\u01F3\u01C6]/g},{base:"e",letters:/[\u0065\u24D4\uFF45\u00E8\u00E9\u00EA\u1EC1\u1EBF\u1EC5\u1EC3\u1EBD\u0113\u1E15\u1E17\u0115\u0117\u00EB\u1EBB\u011B\u0205\u0207\u1EB9\u1EC7\u0229\u1E1D\u0119\u1E19\u1E1B\u0247\u025B\u01DD]/g},{base:"f",letters:/[\u0066\u24D5\uFF46\u1E1F\u0192\uA77C]/g},{base:"g",letters:/[\u0067\u24D6\uFF47\u01F5\u011D\u1E21\u011F\u0121\u01E7\u0123\u01E5\u0260\uA7A1\u1D79\uA77F]/g},{base:"h",letters:/[\u0068\u24D7\uFF48\u0125\u1E23\u1E27\u021F\u1E25\u1E29\u1E2B\u1E96\u0127\u2C68\u2C76\u0265]/g},{base:"hv",letters:/[\u0195]/g},{base:"i",letters:/[\u0069\u24D8\uFF49\u00EC\u00ED\u00EE\u0129\u012B\u012D\u00EF\u1E2F\u1EC9\u01D0\u0209\u020B\u1ECB\u012F\u1E2D\u0268\u0131]/g},{base:"j",letters:/[\u006A\u24D9\uFF4A\u0135\u01F0\u0249]/g},{base:"k",letters:/[\u006B\u24DA\uFF4B\u1E31\u01E9\u1E33\u0137\u1E35\u0199\u2C6A\uA741\uA743\uA745\uA7A3]/g},{base:"l",letters:/[\u006C\u24DB\uFF4C\u0140\u013A\u013E\u1E37\u1E39\u013C\u1E3D\u1E3B\u017F\u0142\u019A\u026B\u2C61\uA749\uA781\uA747]/g},{base:"lj",letters:/[\u01C9]/g},{base:"m",letters:/[\u006D\u24DC\uFF4D\u1E3F\u1E41\u1E43\u0271\u026F]/g},{base:"n",letters:/[\u006E\u24DD\uFF4E\u01F9\u0144\u00F1\u1E45\u0148\u1E47\u0146\u1E4B\u1E49\u019E\u0272\u0149\uA791\uA7A5]/g},{base:"nj",letters:/[\u01CC]/g},{base:"o",letters:/[\u006F\u24DE\uFF4F\u00F2\u00F3\u00F4\u1ED3\u1ED1\u1ED7\u1ED5\u00F5\u1E4D\u022D\u1E4F\u014D\u1E51\u1E53\u014F\u022F\u0231\u00F6\u022B\u1ECF\u0151\u01D2\u020D\u020F\u01A1\u1EDD\u1EDB\u1EE1\u1EDF\u1EE3\u1ECD\u1ED9\u01EB\u01ED\u00F8\u01FF\u0254\uA74B\uA74D\u0275]/g},{base:"oi",letters:/[\u01A3]/g},{base:"ou",letters:/[\u0223]/g},{base:"oo",letters:/[\uA74F]/g},{base:"p",letters:/[\u0070\u24DF\uFF50\u1E55\u1E57\u01A5\u1D7D\uA751\uA753\uA755]/g},{base:"q",letters:/[\u0071\u24E0\uFF51\u024B\uA757\uA759]/g},{base:"r",letters:/[\u0072\u24E1\uFF52\u0155\u1E59\u0159\u0211\u0213\u1E5B\u1E5D\u0157\u1E5F\u024D\u027D\uA75B\uA7A7\uA783]/g},{base:"s",letters:/[\u0073\u24E2\uFF53\u00DF\u015B\u1E65\u015D\u1E61\u0161\u1E67\u1E63\u1E69\u0219\u015F\u023F\uA7A9\uA785\u1E9B]/g},{base:"t",letters:/[\u0074\u24E3\uFF54\u1E6B\u1E97\u0165\u1E6D\u021B\u0163\u1E71\u1E6F\u0167\u01AD\u0288\u2C66\uA787]/g},{base:"tz",letters:/[\uA729]/g},{base:"u",letters:/[\u0075\u24E4\uFF55\u00F9\u00FA\u00FB\u0169\u1E79\u016B\u1E7B\u016D\u00FC\u01DC\u01D8\u01D6\u01DA\u1EE7\u016F\u0171\u01D4\u0215\u0217\u01B0\u1EEB\u1EE9\u1EEF\u1EED\u1EF1\u1EE5\u1E73\u0173\u1E77\u1E75\u0289]/g},{base:"v",letters:/[\u0076\u24E5\uFF56\u1E7D\u1E7F\u028B\uA75F\u028C]/g},{base:"vy",letters:/[\uA761]/g},{base:"w",letters:/[\u0077\u24E6\uFF57\u1E81\u1E83\u0175\u1E87\u1E85\u1E98\u1E89\u2C73]/g},{base:"x",letters:/[\u0078\u24E7\uFF58\u1E8B\u1E8D]/g},{base:"y",letters:/[\u0079\u24E8\uFF59\u1EF3\u00FD\u0177\u1EF9\u0233\u1E8F\u00FF\u1EF7\u1E99\u1EF5\u01B4\u024F\u1EFF]/g},{base:"z",letters:/[\u007A\u24E9\uFF5A\u017A\u1E91\u017C\u017E\u1E93\u1E95\u01B6\u0225\u0240\u2C6C\uA763]/g}],W=function(e){for(var t=0;t<V.length;t++)e=e.replace(V[t].letters,V[t].base);return e},H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},z=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},U=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Y=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},G=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Q=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},X=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},J=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},K=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},Z=function(e){return e.replace(/^\s+|\s+$/g,"")},$=function(e){return e.label+" "+e.value},ee=function(e){function t(){return z(this,t),J(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Q(t,e),U(t,[{key:"render",value:function(){var e=this.props,t=(e.in,e.out,e.onExited,e.appear,e.enter,e.exit,e.innerRef),n=X(e,["in","out","onExited","appear","enter","exit","innerRef"]);return o.a.createElement("input",G({ref:t},n,{className:Object(R.a)({background:0,border:0,fontSize:"inherit",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(0)"})}))}}]),t}(r.Component),te=function(e){function t(){return z(this,t),J(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Q(t,e),U(t,[{key:"componentDidMount",value:function(){this.props.innerRef(Object(F.findDOMNode)(this))}},{key:"componentWillUnmount",value:function(){this.props.innerRef(null)}},{key:"render",value:function(){return this.props.children}}]),t}(r.Component),ne=["boxSizing","height","overflow","paddingRight","position"],re={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function oe(e){e.preventDefault()}function ae(e){e.stopPropagation()}function ie(){var e=this.scrollTop,t=this.scrollHeight,n=e+this.offsetHeight;0===e?this.scrollTop=1:n===t&&(this.scrollTop=e-1)}function se(){return"ontouchstart"in window||navigator.maxTouchPoints}var ue=!("undefined"==typeof window||!window.document||!window.document.createElement),le=0,ce=function(e){function t(){var e,n,r;z(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=J(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.originalStyles={},r.listenerOptions={capture:!1,passive:!1},J(r,n)}return Q(t,e),U(t,[{key:"componentDidMount",value:function(){var e=this;if(ue){var t=this.props,n=t.accountForScrollbars,r=t.touchScrollTarget,o=document.body,a=o&&o.style;if(n&&ne.forEach(function(t){var n=a&&a[t];e.originalStyles[t]=n}),n&&le<1){var i=parseInt(this.originalStyles.paddingRight,10)||0,s=document.body?document.body.clientWidth:0,u=window.innerWidth-s+i||0;Object.keys(re).forEach(function(e){var t=re[e];a&&(a[e]=t)}),a&&(a.paddingRight=u+"px")}o&&se()&&(o.addEventListener("touchmove",oe,this.listenerOptions),r&&(r.addEventListener("touchstart",ie,this.listenerOptions),r.addEventListener("touchmove",ae,this.listenerOptions))),le+=1}}},{key:"componentWillUnmount",value:function(){var e=this;if(ue){var t=this.props,n=t.accountForScrollbars,r=t.touchScrollTarget,o=document.body,a=o&&o.style;le=Math.max(le-1,0),n&&le<1&&ne.forEach(function(t){var n=e.originalStyles[t];a&&(a[t]=n)}),o&&se()&&(o.removeEventListener("touchmove",oe,this.listenerOptions),r&&(r.removeEventListener("touchstart",ie,this.listenerOptions),r.removeEventListener("touchmove",ae,this.listenerOptions)))}}},{key:"render",value:function(){return null}}]),t}(r.Component);ce.defaultProps={accountForScrollbars:!0};var fe=function(e){return function(t){var n=t.css,r=t.innerRef,a=X(t,["css","innerRef"]);return o.a.createElement(e,G({ref:r,className:Object(R.a)(n)},a))}}("div"),pe=function(e){return o.a.createElement("span",G({className:Object(R.a)({border:0,clip:"rect(1px, 1px, 1px, 1px)",height:1,overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:1})},e))};function de(){return o.a.createElement(fe,{className:Object(R.a)({position:"fixed",left:0,bottom:0,right:0,top:0})},o.a.createElement(ce,null))}var he=function(e){function t(){var e,n,r;z(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=J(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.isBottom=!1,r.isTop=!1,r.cancelScroll=function(e){e.preventDefault(),e.stopPropagation()},r.handleEventDelta=function(e,t){var n=r.props,o=n.onBottomArrive,a=n.onBottomLeave,i=n.onTopArrive,s=n.onTopLeave,u=r.scrollTarget,l=u.scrollTop,c=u.scrollHeight,f=u.clientHeight,p=r.scrollTarget,d=t>0,h=c-f-l,y=!1;h>t&&r.isBottom&&(a&&a(e),r.isBottom=!1),d&&r.isTop&&(s&&s(e),r.isTop=!1),d&&t>h?(o&&!r.isBottom&&o(e),p.scrollTop=c,y=!0,r.isBottom=!0):!d&&-t>l&&(i&&!r.isTop&&i(e),p.scrollTop=0,y=!0,r.isTop=!0),y&&r.cancelScroll(e)},r.onWheel=function(e){r.handleEventDelta(e,e.deltaY)},r.onTouchStart=function(e){r.touchStart=e.changedTouches[0].clientY},r.onTouchMove=function(e){var t=r.touchStart-e.changedTouches[0].clientY;r.handleEventDelta(e,t)},r.getScrollTarget=function(e){r.scrollTarget=e},J(r,n)}return Q(t,e),U(t,[{key:"componentDidMount",value:function(){this.startListening(this.scrollTarget)}},{key:"componentWillUnmount",value:function(){this.stopListening(this.scrollTarget)}},{key:"startListening",value:function(e){e.scrollHeight<=e.clientHeight||("function"==typeof e.addEventListener&&e.addEventListener("wheel",this.onWheel,!1),"function"==typeof e.addEventListener&&e.addEventListener("touchstart",this.onTouchStart,!1),"function"==typeof e.addEventListener&&e.addEventListener("touchmove",this.onTouchMove,!1))}},{key:"stopListening",value:function(e){e.scrollHeight<=e.clientHeight||("function"==typeof e.removeEventListener&&e.removeEventListener("wheel",this.onWheel,!1),"function"==typeof e.removeEventListener&&e.removeEventListener("touchstart",this.onTouchStart,!1),"function"==typeof e.removeEventListener&&e.removeEventListener("touchmove",this.onTouchMove,!1))}},{key:"render",value:function(){return o.a.createElement(te,{innerRef:this.getScrollTarget},this.props.children)}}]),t}(r.Component),ye=function(e){function t(){return z(this,t),J(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Q(t,e),U(t,[{key:"render",value:function(){var e=this.props,t=e.isEnabled,n=X(e,["isEnabled"]);return t?o.a.createElement(he,n):this.props.children}}]),t}(r.Component);ye.defaultProps={isEnabled:!0};var me=function(){};function be(e,t){return t?e+"__"+t:e}var ve=function(e){return Array.isArray(e)?e.filter(Boolean):"object"===(void 0===e?"undefined":H(e))&&null!==e?[e]:[]};function ge(e){return[document.documentElement,document.body,window].includes(e)}function we(e){return ge(e)?window.pageYOffset:e.scrollTop}function ke(e,t){ge(e)?window.scrollTo(0,t):e.scrollTop=t}function Ee(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:200,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:me,o=we(e),a=t-o,i=10,s=0;!function t(){var u=function(e,t,n,r){return n*((e=e/r-1)*e*e+1)+t}(s+=i,o,a,n);ke(e,u),s<n?M()(t):r(e)}()}function Se(){try{return document.createEvent("TouchEvent"),!0}catch(e){return!1}}var Oe="#222",_e="#2684FF",Ce="#B2D4FF",xe="#DEEBFF",Pe="#DE350B",De="#FFBDAD",Te="hsl(0, 0%, 100%)",Ae="hsl(0, 0%, 98%)",je="hsl(0, 0%, 95%)",Re="hsl(0, 0%, 90%)",Fe="hsl(0, 0%, 80%)",Ne="hsl(0, 0%, 70%)",Me="hsl(0, 0%, 60%)",Ie="hsl(0, 0%, 50%)",qe="hsl(0, 0%, 40%)",Le="hsl(0, 0%, 0%)",Be="hsla(0, 0%, 0%, 0.1)",Ve={baseUnit:4,controlHeight:38,menuGutter:8},We=function(e){function t(){return z(this,t),J(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Q(t,e),U(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.className,r=e.cx,a=e.isMulti,i=e.getStyles,s=e.hasValue;return o.a.createElement("div",{className:r(Object(R.a)(i("valueContainer",this.props)),{"value-container":!0,"value-container--is-multi":a,"value-container--has-value":s},n)},t)}}]),t}(r.Component),He=function(e){var t=e.size,n=X(e,["size"]);return o.a.createElement("svg",G({height:t,width:t,viewBox:"0 0 20 20",className:Object(R.a)({display:"inline-block",fill:"currentColor",lineHeight:1,stroke:"currentColor",strokeWidth:0})},n))},ze=function(e){return o.a.createElement(He,G({size:20,focusable:"false",role:"presentation"},e),o.a.createElement("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},Ue=function(e){return o.a.createElement(He,G({size:20,focusable:"false",role:"presentation"},e),o.a.createElement("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},Ye=function(e){var t=e.isFocused;return{color:t?qe:Fe,display:"flex",padding:2*Ve.baseUnit,transition:"color 150ms",":hover":{color:t?Le:Me}}},Ge=Ye,Qe=Ye,Xe=function(e){var t=e.color,n=e.delay,r=e.offset;return o.a.createElement("span",{css:{animationDuration:"1s",animationDelay:n+"ms",animationIterationCount:"infinite",animationName:"react-select-loading-indicator",animationTimingFunction:"ease-in-out",backgroundColor:t,borderRadius:"1em",display:"inline-block",marginLeft:r?"1em":null,height:"1em",verticalAlign:"top",width:"1em"}})};Object(R.b)("@keyframes ","react-select-loading-indicator","{0%,80%,100%{opacity:0;}40%{opacity:1;}};");var Je=function(e){var t=e.className,n=e.cx,r=e.getStyles,a=e.innerProps,i=e.isFocused,s=e.isRtl,u=i?Oe:Fe;return o.a.createElement("div",G({},a,{className:n(Object(R.a)(r("loadingIndicator",e)),{indicator:!0,"loading-indicator":!0},t)}),o.a.createElement(Xe,{color:u,delay:0,offset:s}),o.a.createElement(Xe,{color:u,delay:160,offset:!0}),o.a.createElement(Xe,{color:u,delay:320,offset:!s}),o.a.createElement(pe,null,"Loading"))};Je.defaultProps={size:4};function Ke(e){var t=e.maxHeight,n=e.menuEl,r=e.minHeight,o=e.placement,a=e.shouldScroll,i=e.isFixedPosition,s=function(e){var t=getComputedStyle(e),n="absolute"===t.position,r=/(auto|scroll)/,o=document.documentElement;if("fixed"===t.position)return o;for(var a=e;a=a.parentElement;)if(t=getComputedStyle(a),(!n||"static"!==t.position)&&r.test(t.overflow+t.overflowY+t.overflowX))return a;return o}(n),u={placement:"bottom",maxHeight:t};if(!n||!n.offsetParent)return u;var l=s.getBoundingClientRect().height,c=n.getBoundingClientRect(),f=c.bottom,p=c.height,d=c.top,h=n.offsetParent.getBoundingClientRect().top,y=window.innerHeight,m=we(s),b=Ve.menuGutter,v=h-b,g=y-d,w=v+m,k=l-m-d,E=f-y+m+b,S=m+d-b;switch(o){case"auto":case"bottom":if(g>=p)return{placement:"bottom",maxHeight:t};if(k>=p&&!i)return a&&Ee(s,E,160),{placement:"bottom",maxHeight:t};if(!i&&k>=r||i&&g>=r)return a&&Ee(s,E,160),{placement:"bottom",maxHeight:i?g-b:k-b};if("auto"===o||i){var O=t;return(!i&&w>=r||i&&v>=r)&&(O=i?v-b-Ve.controlHeight:w-b-Ve.controlHeight),{placement:"top",maxHeight:O}}if("bottom"===o)return ke(s,E),{placement:"bottom",maxHeight:t};break;case"top":if(v>=p)return{placement:"top",maxHeight:t};if(w>=p&&!i)return a&&Ee(s,S,160),{placement:"top",maxHeight:t};if(!i&&w>=r||i&&v>=r){var _=t;return(!i&&w>=r||i&&v>=r)&&(_=i?v-b:w-b),a&&Ee(s,S,160),{placement:"top",maxHeight:_}}return{placement:"bottom",maxHeight:t};default:throw new Error('Invalid placement provided "'+o+'".')}return u}var Ze=function(e){return"auto"===e?"bottom":e},$e=function(e){function t(){var e,n,r;z(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=J(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.state={maxHeight:r.props.maxMenuHeight,placement:null},r.getPlacement=function(e){var t=r.props,n=t.minMenuHeight,o=t.maxMenuHeight,a=t.menuPlacement,i=t.menuPosition,s=t.menuShouldScrollIntoView,u=r.context.getPortalPlacement;if(e){var l="fixed"===i,c=Ke({maxHeight:o,menuEl:e,minHeight:n,placement:a,shouldScroll:s&&!l,isFixedPosition:l});u&&u(c),r.setState(c)}},r.getState=function(){var e=r.props.menuPlacement,t=r.state.placement||Ze(e);return G({},r.props,{placement:t,maxHeight:r.state.maxHeight})},J(r,n)}return Q(t,e),U(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.className,r=e.cx,a=e.getStyles,i=e.innerProps;return o.a.createElement("div",G({className:r(Object(R.a)(a("menu",this.getState())),{menu:!0},n),ref:this.getPlacement},i),t)}}]),t}(r.Component);$e.contextTypes={getPortalPlacement:B.a.func};var et=function(){return{color:Me,padding:2*Ve.baseUnit+"px "+3*Ve.baseUnit+"px",textAlign:"center"}},tt=et,nt=et,rt=function(e){var t=e.children,n=e.className,r=e.cx,a=e.getStyles,i=e.innerProps;return o.a.createElement("div",G({className:r(Object(R.a)(a("noOptionsMessage",e)),{"menu-notice":!0,"menu-notice--no-options":!0},n)},i),t)};rt.defaultProps={children:"No options"};var ot=function(e){var t=e.children,n=e.className,r=e.cx,a=e.getStyles,i=e.innerProps;return o.a.createElement("div",G({className:r(Object(R.a)(a("loadingMessage",e)),{"menu-notice":!0,"menu-notice--loading":!0},n)},i),t)};ot.defaultProps={children:"Loading..."};var at=function(e){function t(){var e,n,r;z(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=J(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.state={placement:null},r.getPortalPlacement=function(e){var t=e.placement;t!==Ze(r.props.menuPlacement)&&r.setState({placement:t})},J(r,n)}return Q(t,e),U(t,[{key:"getChildContext",value:function(){return{getPortalPlacement:this.getPortalPlacement}}},{key:"render",value:function(){var e=this.props,t=e.appendTo,n=e.children,r=e.controlElement,a=e.menuPlacement,i=e.menuPosition,s=e.getStyles,u="fixed"===i;if(!t&&!u||!r)return null;var l=this.state.placement||Ze(a),c=function(e){var t=e.getBoundingClientRect();return{bottom:t.bottom,height:t.height,left:t.left,right:t.right,top:t.top,width:t.width}}(r),f=u?0:window.pageYOffset,p={offset:c[l]+f,position:i,rect:c},d=o.a.createElement("div",{className:Object(R.a)(s("menuPortal",p))},n);return t?Object(F.createPortal)(d,t):d}}]),t}(r.Component);at.childContextTypes={getPortalPlacement:B.a.func};var it=fe,st=fe,ut=function(e){function t(){return z(this,t),J(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Q(t,e),U(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=X(e,["children"]);return o.a.createElement(fe,n,t)}}]),t}(r.Component);ut.defaultProps={children:o.a.createElement(ze,{size:14})};var lt=function(e){function t(){return z(this,t),J(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Q(t,e),U(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.className,r=e.components,a=e.cx,i=e.getStyles,s=e.innerProps,u=e.isDisabled,l=e.removeProps,c={container:a(Object(R.a)(i("multiValue",this.props)),{"multi-value":!0,"multi-value--is-disabled":u},n),label:a(Object(R.a)(i("multiValueLabel",this.props)),{"multi-value__label":!0},n),remove:a(Object(R.a)(i("multiValueRemove",this.props)),{"multi-value__remove":!0},n)},f=r.Container,p=r.Label,d=r.Remove;return o.a.createElement(f,G({className:c.container},s),o.a.createElement(p,{className:c.label},t),o.a.createElement(d,G({className:c.remove},l)))}}]),t}(r.Component);lt.defaultProps={cropWithEllipsis:!0};var ct={ClearIndicator:function(e){var t=e.children,n=void 0===t?o.a.createElement(ze,null):t,r=e.className,a=e.cx,i=e.getStyles,s=e.innerProps;return o.a.createElement("div",G({},s,{className:a(Object(R.a)(i("clearIndicator",e)),{indicator:!0,"clear-indicator":!0},r)}),n)},Control:function(e){var t=e.children,n=e.cx,r=e.getStyles,a=e.className,i=e.isDisabled,s=e.isFocused,u=e.innerProps;return o.a.createElement("div",G({className:n(Object(R.a)(r("control",e)),{control:!0,"control-is-disabled":i,"control-is-focused":s},a)},u),t)},DropdownIndicator:function(e){var t=e.children,n=void 0===t?o.a.createElement(Ue,null):t,r=e.className,a=e.cx,i=e.getStyles,s=e.innerProps;return o.a.createElement("div",G({},s,{className:a(Object(R.a)(i("dropdownIndicator",e)),{indicator:!0,"dropdown-indicator":!0},r)}),n)},DownChevron:Ue,CrossIcon:ze,Group:function(e){var t=e.children,n=e.className,r=e.cx,a=e.getStyles,i=e.Heading,s=e.headingProps,u=e.label,l=e.innerProps;return o.a.createElement("div",G({className:r(Object(R.a)(a("group",e)),{group:!0},n)},l),o.a.createElement(i,G({getStyles:a,cx:r},s),u),o.a.createElement("div",null,t))},GroupHeading:function(e){var t=e.className,n=e.cx,r=e.getStyles,a=X(e,["className","cx","getStyles"]);return o.a.createElement("div",G({className:n(Object(R.a)(r("groupHeading",e)),{"group-heading":!0},t)},a))},IndicatorsContainer:function(e){var t=e.children,n=e.className,r=e.cx,a=e.getStyles;return o.a.createElement("div",{className:r(Object(R.a)(a("indicatorsContainer",e)),{indicators:!0},n)},t)},IndicatorSeparator:function(e){var t=e.className,n=e.cx,r=e.getStyles,a=e.innerProps;return o.a.createElement("span",G({},a,{className:n(Object(R.a)(r("indicatorSeparator",e)),{"indicator-separator":!0},t)}))},Input:function(e){var t=e.className,n=e.cx,r=e.getStyles,a=e.innerRef,i=e.isHidden,s=e.isDisabled,u=X(e,["className","cx","getStyles","innerRef","isHidden","isDisabled"]);return o.a.createElement("div",{className:Object(R.a)(r("input",u))},o.a.createElement(q.a,G({className:n(null,{input:!0},t),inputRef:a,inputStyle:function(e){return{background:0,border:0,fontSize:"inherit",opacity:e?0:1,outline:0,padding:0,color:"inherit"}}(i),disabled:s},u)))},LoadingIndicator:Je,Menu:$e,MenuList:function(e){var t=e.children,n=e.className,r=e.cx,a=e.getStyles,i=e.isMulti,s=e.innerProps;return o.a.createElement("div",G({className:r(Object(R.a)(a("menuList",e)),{"menu-list":!0,"menu-list--is-multi":i},n)},s),t)},MenuPortal:at,LoadingMessage:ot,NoOptionsMessage:rt,MultiValue:lt,MultiValueContainer:it,MultiValueLabel:st,MultiValueRemove:ut,Option:function(e){var t=e.children,n=e.className,r=e.cx,a=e.getStyles,i=e.isDisabled,s=e.isFocused,u=e.isSelected,l=e.innerProps;return o.a.createElement("div",G({className:r(Object(R.a)(a("option",e)),{option:!0,"option--is-disabled":i,"option--is-focused":s,"option--is-selected":u},n)},l),t)},Placeholder:function(e){var t=e.children,n=e.className,r=e.cx,a=e.getStyles,i=e.innerProps;return o.a.createElement("div",G({className:r(Object(R.a)(a("placeholder",e)),{placeholder:!0},n)},i),t)},SelectContainer:function(e){var t=e.children,n=e.className,r=e.cx,a=e.getStyles,i=e.innerProps,s=e.isDisabled,u=e.isRtl;return o.a.createElement("div",G({className:r(Object(R.a)(a("container",e)),{"--is-disabled":s,"--is-rtl":u},n)},i),t)},SingleValue:function(e){var t=e.children,n=e.className,r=e.cx,a=e.getStyles,i=e.isDisabled,s=e.innerProps;return o.a.createElement("div",G({className:r(Object(R.a)(a("singleValue",e)),{"single-value":!0,"single-value--is-disabled":i},n),css:a("singleValue",e)},s),t)},ValueContainer:We},ft=function(e){return G({},ct,e.components)},pt={clearIndicator:Qe,container:function(e){var t=e.isDisabled;return{direction:e.isRtl?"rtl":null,pointerEvents:t?"none":null,position:"relative"}},control:function(e){var t=e.isDisabled,n=e.isFocused;return{alignItems:"center",backgroundColor:t?je:n?Te:Ae,borderColor:t?Re:n?_e:Fe,borderRadius:4,borderStyle:"solid",borderWidth:1,boxShadow:n?"0 0 0 1px "+_e:null,cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:Ve.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms","&:hover":{borderColor:n?_e:Ne}}},dropdownIndicator:Ge,group:function(){return{paddingBottom:2*Ve.baseUnit,paddingTop:2*Ve.baseUnit}},groupHeading:function(){return{color:"#999",cursor:"default",display:"block",fontSize:"75%",fontWeight:"500",marginBottom:"0.25em",paddingLeft:3*Ve.baseUnit,paddingRight:3*Ve.baseUnit,textTransform:"uppercase"}},indicatorsContainer:function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},indicatorSeparator:function(e){return{alignSelf:"stretch",backgroundColor:e.isDisabled?Re:Fe,marginBottom:2*Ve.baseUnit,marginTop:2*Ve.baseUnit,width:1}},input:function(e){var t=e.isDisabled;return{margin:Ve.baseUnit/2,paddingBottom:Ve.baseUnit/2,paddingTop:Ve.baseUnit/2,visibility:t?"hidden":"visible",color:Oe}},loadingIndicator:function(e){var t=e.isFocused,n=e.size;return{color:t?qe:Fe,display:"flex",padding:2*Ve.baseUnit,transition:"color 150ms",alignSelf:"center",fontSize:n,lineHeight:1,marginRight:n,textAlign:"center",verticalAlign:"middle"}},loadingMessage:nt,menu:function(e){var t,n=e.placement;return Y(t={},function(e){return e?{bottom:"top",top:"bottom"}[e]:"bottom"}(n),"100%"),Y(t,"backgroundColor",Te),Y(t,"borderRadius",4),Y(t,"boxShadow","0 0 0 1px "+Be+", 0 4px 11px "+Be),Y(t,"marginBottom",Ve.menuGutter),Y(t,"marginTop",Ve.menuGutter),Y(t,"position","absolute"),Y(t,"width","100%"),Y(t,"zIndex",1),t},menuList:function(e){return{maxHeight:e.maxHeight,overflowY:"auto",paddingBottom:Ve.baseUnit,paddingTop:Ve.baseUnit,position:"relative",WebkitOverflowScrolling:"touch"}},menuPortal:function(e){var t=e.rect,n=e.offset,r=e.position;return{left:t.left,position:r,top:n,width:t.width,zIndex:1}},multiValue:function(){return{backgroundColor:Re,borderRadius:2,display:"flex",margin:Ve.baseUnit/2,minWidth:0}},multiValueLabel:function(e){var t=e.cropWithEllipsis;return{color:Oe,fontSize:"85%",overflow:"hidden",padding:3,paddingLeft:6,textOverflow:t?"ellipsis":null,whiteSpace:"nowrap"}},multiValueRemove:function(e){return{alignItems:"center",borderRadius:2,backgroundColor:e.isFocused&&De,display:"flex",paddingLeft:Ve.baseUnit,paddingRight:Ve.baseUnit,":hover":{backgroundColor:De,color:Pe}}},noOptionsMessage:tt,option:function(e){var t=e.isDisabled,n=e.isFocused,r=e.isSelected;return{backgroundColor:r?_e:n?xe:"transparent",color:t?Fe:r?Te:"inherit",cursor:"default",display:"block",fontSize:"inherit",padding:2*Ve.baseUnit+"px "+3*Ve.baseUnit+"px",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)",":active":{backgroundColor:r?_e:Ce}}},placeholder:function(){return{color:Ie,marginLeft:Ve.baseUnit/2,marginRight:Ve.baseUnit/2,position:"absolute",top:"50%",transform:"translateY(-50%)"}},singleValue:function(e){return{color:e.isDisabled?Me:Oe,marginLeft:Ve.baseUnit/2,marginRight:Ve.baseUnit/2,maxWidth:"calc(100% - "+2*Ve.baseUnit+"px)",overflow:"hidden",position:"absolute",textOverflow:"ellipsis",whiteSpace:"nowrap",top:"50%",transform:"translateY(-50%)"}},valueContainer:function(){return{alignItems:"center",display:"flex",flex:1,flexWrap:"wrap",padding:Ve.baseUnit/2+"px "+2*Ve.baseUnit+"px",WebkitOverflowScrolling:"touch",position:"relative"}}};var dt={backspaceRemovesValue:!0,blurInputOnSelect:Se(),captureMenuScroll:!Se(),closeMenuOnSelect:!0,components:{},escapeClearsValue:!1,filterOption:function(e){return function(t,n){var r=G({ignoreCase:!0,ignoreAccents:!0,stringify:$,trim:!0,matchFrom:"any"},e),o=r.ignoreCase,a=r.ignoreAccents,i=r.stringify,s=r.trim,u=r.matchFrom,l=s?Z(n):n,c=s?Z(i(t)):i(t);return o&&(l=l.toLowerCase(),c=c.toLowerCase()),a&&(l=W(l),c=W(c)),"start"===u?c.substr(0,l.length)===l:c.indexOf(l)>-1}}(),formatGroupLabel:function(e){return e.label},getOptionLabel:function(e){return e.label},getOptionValue:function(e){return e.value},hideSelectedOptions:!0,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:function(e){return!!e.isDisabled},loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!function(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch(e){return!1}}(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var t=e.count;return t+" result"+(1!==t?"s":"")+" available."},styles:{},tabIndex:"0",tabSelectsValue:!0},ht=1,yt=function(e){function t(e){z(this,t);var n=J(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));vt.call(n);var r=e.value;n.components=ft(e),n.instancePrefix="react-select-"+(n.props.instanceId||++ht);var o=ve(r),a=n.buildMenuOptions(e,o);return n.state.menuOptions=a,n.state.selectValue=o,n}return Q(t,e),U(t,[{key:"componentDidMount",value:function(){this.props.autoFocus&&this.focusInput()}},{key:"componentWillReceiveProps",value:function(e){var t=this.props,n=t.components,r=t.options,o=t.value,a=t.inputValue;if(e.components!==n&&(this.components=ft(e)),e.value!==o||e.options!==r||e.inputValue!==a){var i=ve(e.value),s=this.buildMenuOptions(e,i),u=this.getNextFocusedValue(i),l=this.getNextFocusedOption(s.focusable);this.setState({menuOptions:s,selectValue:i,focusedOption:l,focusedValue:u})}null!=this.inputIsHiddenAfterUpdate&&(this.setState({inputIsHidden:this.inputIsHiddenAfterUpdate}),delete this.inputIsHiddenAfterUpdate),e.menuIsOpen&&!this.props.menuIsOpen?this.startListeningToTouch():!e.menuIsOpen&&this.props.menuIsOpen&&this.stopListeningToTouch()}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.isDisabled,r=t.menuIsOpen,o=this.state.isFocused;(o&&!n&&e.isDisabled||o&&r&&!e.menuIsOpen)&&this.focusInput(),this.menuRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&function(e,t){var n=e.getBoundingClientRect(),r=t.getBoundingClientRect(),o=t.offsetHeight/3;r.bottom+o>n.bottom?ke(e,Math.min(t.offsetTop+t.clientHeight-e.offsetHeight+o,e.scrollHeight)):r.top-o<n.top&&ke(e,Math.max(t.offsetTop-o,0))}(this.menuRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close"}),this.props.onMenuClose()}},{key:"onInputChange",value:function(e,t){this.props.onInputChange(e,t)}},{key:"focusInput",value:function(){this.input&&this.input.focus()}},{key:"blurInput",value:function(){this.input&&this.input.blur()}},{key:"openMenu",value:function(e){var t=this.state,n=t.menuOptions,r=t.selectValue,o=this.props.isMulti,a="first"===e?0:n.focusable.length-1;if(!o){var i=n.focusable.indexOf(r[0]);i>-1&&(a=i)}this.scrollToFocusedOptionOnUpdate=!0,this.inputIsHiddenAfterUpdate=!1,this.onMenuOpen(),this.setState({focusedValue:null,focusedOption:n.focusable[a]})}},{key:"focusValue",value:function(e){var t=this.props.isMulti,n=this.state,r=n.selectValue,o=n.focusedValue;if(t){this.setState({focusedOption:null});var a=o?r.indexOf(o):-1,i=r.length-1,s=-1;if(r.length){switch(e){case"previous":s=0===a?0:-1===a?i:a-1;break;case"next":a>-1&&a<i&&(s=a+1)}this.setState({inputIsHidden:-1!==s,focusedValue:r[s]})}}}},{key:"focusOption",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"first",t=this.props.pageSize,n=this.state,r=n.focusedOption,o=n.menuOptions.focusable;if(o.length){var a=0,i=r?o.indexOf(r):-1;"up"===e?a=i>0?i-1:o.length-1:"down"===e?a=(i+1)%o.length:"pageup"===e?(a=i-t)<0&&(a=0):"pagedown"===e?(a=i+t)>o.length-1&&(a=o.length-1):"last"===e&&(a=o.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:o[a],focusedValue:null})}}},{key:"getCommonProps",value:function(){var e=this.clearValue,t=this.getStyles,n=this.setValue,r=this.selectOption,o=this.props,a=o.className,i=o.classNamePrefix,s=o.isMulti,u=o.isRtl,l=o.options,c=this.state.selectValue,f=this.hasValue(),p=i;return a&&void 0===i&&(console.warn("\n        Warning: the behaviour of 'className' has changed between 2.0.0-beta.2 and 2.0.0-beta.3.\n        You can now use className to specify the class name of the outer container, and classNamePrefix to enable our provided BEM class names for internal elements.\n        The className prop will have no effect on internal elements when 2.0.0 is released.\n      "),p=a),{cx:function(e,t,n,r){var o=[t,r];if(n&&e)for(var a in n)n.hasOwnProperty(a)&&n[a]&&o.push(""+be(e,a));return o.filter(function(e){return e}).map(function(e){return String(e).trim()}).join(" ")}.bind(null,p),clearValue:e,getStyles:t,getValue:function(){return c},hasValue:f,isMulti:s,isRtl:u,options:l,selectOption:r,setValue:n,selectProps:o}}},{key:"getNextFocusedValue",value:function(e){if(this.clearFocusValueOnUpdate)return this.clearFocusValueOnUpdate=!1,null;var t=this.state,n=t.focusedValue,r=t.selectValue.indexOf(n);if(r>-1){if(e.indexOf(n)>-1)return n;if(r<e.length)return e[r]}return null}},{key:"getNextFocusedOption",value:function(e){var t=this.state.focusedOption;return t&&e.indexOf(t)>-1?t:e[0]}},{key:"getOptionLabel",value:function(e){return this.props.getOptionLabel(e)}},{key:"getOptionValue",value:function(e){return this.props.getOptionValue(e)}},{key:"hasValue",value:function(){return this.state.selectValue.length>0}},{key:"hasOptions",value:function(){return!!this.state.menuOptions.render.length}},{key:"countOptions",value:function(){return this.state.menuOptions.focusable.length}},{key:"isClearable",value:function(){var e=this.props,t=e.isClearable,n=e.isMulti;return void 0===t?n:t}},{key:"isOptionDisabled",value:function(e){return"function"==typeof this.props.isOptionDisabled&&this.props.isOptionDisabled(e)}},{key:"isOptionSelected",value:function(e,t){var n=this;if(t.indexOf(e)>-1)return!0;if("function"==typeof this.props.isOptionSelected)return this.props.isOptionSelected(e,t);var r=this.getOptionValue(e);return t.some(function(e){return n.getOptionValue(e)===r})}},{key:"filterOption",value:function(e,t){return!this.props.filterOption||this.props.filterOption(e,t)}},{key:"formatOptionLabel",value:function(e,t){if("function"==typeof this.props.formatOptionLabel){var n=this.props.inputValue,r=this.state.selectValue;return this.props.formatOptionLabel(e,{context:t,inputValue:n,selectValue:r})}return this.getOptionLabel(e)}},{key:"formatGroupLabel",value:function(e){return this.props.formatGroupLabel(e)}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"buildMenuOptions",value:function(e,t){var n=this,r=e.hideSelectedOptions,o=e.isMulti,a=e.inputValue,i=void 0===a?"":a,s=function(e,a){var s=n.isOptionDisabled(e),u=n.isOptionSelected(e,t),l=n.getOptionLabel(e),c=n.getOptionValue(e);if(!(o&&r&&u)&&n.filterOption({label:l,value:c,data:e},i)){var f=s?void 0:function(){return n.onOptionHover(e)},p=s?void 0:function(){return n.selectOption(e)},d=n.getElementId("option")+"-"+a;return{innerProps:{"aria-selected":u,id:d,onClick:p,onMouseMove:f,onMouseOver:f,role:"option",tabIndex:-1},data:e,isDisabled:s,isSelected:u,key:d,label:l,type:"option",value:c}}};return e.options.reduce(function(e,t,r){if(t.options){n.hasGroups||(n.hasGroups=!0);var o=t.options.map(function(t,n){var o=s(t,r+"-"+n);return o&&!o.isDisabled&&e.focusable.push(t),o}).filter(Boolean);if(o.length){var a=n.getElementId("group")+"-"+r;e.render.push({type:"group",key:a,data:t,options:o})}}else{var i=s(t,""+r);i&&(e.render.push(i),i.isDisabled||e.focusable.push(t))}return e},{render:[],focusable:[]})}},{key:"renderScreenReaderStatus",value:function(){var e=this.props.screenReaderStatus;return o.a.createElement(pe,{"aria-atomic":"true","aria-live":"polite",role:"status"},e({count:this.countOptions()}))}},{key:"renderInput",value:function(){var e=this.props,t=e.isDisabled,n=e.isLoading,r=e.isSearchable,a=e.inputId,i=e.inputValue,s=e.menuIsOpen,u=e.tabIndex,l=this.components.Input,c=this.state.inputIsHidden,f=a||this.getElementId("input");if(!r)return o.a.createElement(ee,{id:f,innerRef:this.onInputRef,onBlur:this.onInputBlur,onChange:me,onFocus:this.onInputFocus,readOnly:!0,tabIndex:u,value:""});var p={"aria-activedescendant":this.getActiveDescendentId(),"aria-autocomplete":"list","aria-busy":n,"aria-describedby":this.props["aria-describedby"],"aria-expanded":s,"aria-haspopup":s,"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-owns":s?this.getElementId("listbox"):void 0,role:"combobox"},d=this.commonProps.cx;return o.a.createElement(l,G({autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",cx:d,getStyles:this.getStyles,id:f,innerRef:this.onInputRef,isDisabled:t,isHidden:c,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:u,type:"text",value:i},p))}},{key:"renderPlaceholderOrValue",value:function(){var e=this,t=this.components,n=t.MultiValue,r=t.MultiValueContainer,a=t.MultiValueLabel,i=t.MultiValueRemove,s=t.SingleValue,u=t.Placeholder,l=this.commonProps,c=this.props,f=c.isDisabled,p=c.isMulti,d=c.inputValue,h=c.placeholder,y=this.state,m=y.selectValue,b=y.focusedValue;if(!this.hasValue())return d?null:o.a.createElement(u,G({},l,{key:"placeholder",isDisabled:f}),h);if(p)return m.map(function(t){var s=t===b;return o.a.createElement(n,G({},l,{components:{Container:r,Label:a,Remove:i},isFocused:s,isDisabled:f,key:e.getOptionValue(t),removeProps:{onClick:function(){return e.removeValue(t)},onMouseDown:function(e){e.preventDefault(),e.stopPropagation()}},data:t}),e.formatOptionLabel(t,"value"))});if(d)return null;var v=m[0];return o.a.createElement(s,G({},l,{data:v,isDisabled:f}),this.formatOptionLabel(v,"value"))}},{key:"renderClearIndicator",value:function(){var e=this.components.ClearIndicator,t=this.commonProps,n=this.props,r=n.isDisabled,a=n.isLoading,i=this.state.isFocused;if(!this.isClearable()||!e||r||!this.hasValue()||a)return null;var s={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,role:"button"};return o.a.createElement(e,G({},t,{innerProps:s,isFocused:i}))}},{key:"renderLoadingIndicator",value:function(){var e=this.components.LoadingIndicator,t=this.commonProps,n=this.props,r=n.isDisabled,a=n.isLoading,i=this.state.isFocused;if(!e||!a)return null;return o.a.createElement(e,G({},t,{innerProps:{role:"presentation"},isDisabled:r,isFocused:i}))}},{key:"renderIndicatorSeparator",value:function(){var e=this.components,t=e.DropdownIndicator,n=e.IndicatorSeparator;if(!t||!n)return null;var r=this.commonProps,a=this.props.isDisabled,i=this.state.isFocused;return o.a.createElement(n,G({},r,{innerProps:{role:"presentation"},isDisabled:a,isFocused:i}))}},{key:"renderDropdownIndicator",value:function(){var e=this.components.DropdownIndicator;if(!e)return null;var t=this.commonProps,n=this.props.isDisabled,r=this.state.isFocused,a={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,role:"button"};return o.a.createElement(e,G({},t,{innerProps:a,isDisabled:n,isFocused:r}))}},{key:"renderMenu",value:function(){var e=this,t=this.components,n=t.Group,r=t.GroupHeading,a=t.Menu,i=t.MenuList,s=t.MenuPortal,u=t.LoadingMessage,l=t.NoOptionsMessage,c=t.Option,f=this.commonProps,p=this.state,d=p.focusedOption,h=p.menuOptions,y=this.props,m=y.captureMenuScroll,b=y.inputValue,v=y.isLoading,g=y.isMulti,w=y.loadingMessage,k=y.minMenuHeight,E=y.maxMenuHeight,S=y.menuIsOpen,O=y.menuPlacement,_=y.menuPosition,C=y.menuPortalTarget,x=y.menuShouldBlockScroll,P=y.menuShouldScrollIntoView,D=y.noOptionsMessage,T=y.onMenuScrollToTop,A=y.onMenuScrollToBottom;if(!S)return null;var j=function(t){var n=d===t.data;return t.innerProps.ref=n?e.onFocusedOptionRef:void 0,o.a.createElement(c,G({},f,t,{isFocused:n}),e.formatOptionLabel(t.data,"menu"))},R=void 0;R=this.hasOptions()?h.render.map(function(t){if("group"===t.type){t.type;var a=X(t,["type"]),i=t.key+"-heading";return o.a.createElement(n,G({},f,a,{Heading:r,innerProps:{"aria-expanded":!0,"aria-labelledby":i,role:"group"},headingProps:{id:i},label:e.formatGroupLabel(t.data)}),t.options.map(function(e){return j(e)}))}if("option"===t.type)return j(t)}):v?o.a.createElement(u,f,w({inputValue:b})):o.a.createElement(l,f,D({inputValue:b}));var F=o.a.createElement("div",null,x?o.a.createElement(de,null):null,o.a.createElement(a,G({},f,{innerProps:{onMouseDown:this.onMenuMouseDown,onMouseMove:this.onMenuMouseMove},isLoading:v,minMenuHeight:k,maxMenuHeight:E,menuPlacement:O,menuPosition:_,menuShouldScrollIntoView:P}),o.a.createElement(ye,{isEnabled:m,onTopArrive:T,onBottomArrive:A},o.a.createElement(i,G({},f,{innerProps:{"aria-multiselectable":g,id:this.getElementId("listbox"),ref:this.onMenuRef,role:"listbox"},isLoading:v,maxHeight:E}),R))));return C||"fixed"===_?o.a.createElement(s,G({},f,{appendTo:C,controlElement:this.controlRef,menuPlacement:O,menuPosition:_}),F):F}},{key:"renderFormField",value:function(){var e=this,t=this.props,n=t.delimiter,r=t.isDisabled,a=t.isMulti,i=t.name,s=this.state.selectValue;if(i&&!r){if(a){if(n){var u=s.map(function(t){return e.getOptionValue(t)}).join(n);return o.a.createElement("input",{name:i,type:"hidden",value:u})}return o.a.createElement("div",null,s.map(function(t,n){return o.a.createElement("input",{key:"i-"+n,name:i,type:"hidden",value:e.getOptionValue(t)})}))}var l=s[0]?this.getOptionValue(s[0]):"";return o.a.createElement("input",{name:i,type:"hidden",value:l})}}},{key:"render",value:function(){var e=this.components,t=e.Control,n=e.IndicatorsContainer,r=e.SelectContainer,a=e.ValueContainer,i=this.props,s=i.className,u=i.id,l=i.isDisabled,c=this.state.isFocused,f=this.commonProps=this.getCommonProps();return o.a.createElement(r,G({},f,{className:s,innerProps:{id:u,onKeyDown:this.onKeyDown},isDisabled:l,isFocused:c}),this.renderScreenReaderStatus(),o.a.createElement(t,G({},f,{innerProps:{ref:this.onControlRef,onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:l,isFocused:c}),o.a.createElement(a,G({},f,{isDisabled:l}),this.renderPlaceholderOrValue(),this.renderInput()),o.a.createElement(n,G({},f,{isDisabled:l}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}]),t}(r.Component);yt.defaultProps=dt;var mt,bt,vt=function(){var e=this;this.blockOptionHover=!1,this.clearFocusValueOnUpdate=!1,this.hasGroups=!1,this.instancePrefix="",this.openAfterFocus=!1,this.scrollToFocusedOptionOnUpdate=!1,this.state={focusedOption:null,focusedValue:null,inputIsHidden:!1,isFocused:!1,menuOptions:{render:[],focusable:[]},selectValue:[]},this.onInputRef=function(t){e.input=t},this.onControlRef=function(t){e.controlRef=t},this.onMenuRef=function(t){e.menuRef=t},this.onFocusedOptionRef=function(t){e.focusedOptionRef=t},this.focus=this.focusInput,this.blur=this.blurInput,this.setValue=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"set-value",r=e.props,o=r.closeMenuOnSelect,a=r.isMulti,i=r.onChange;e.onInputChange("",{action:"set-value"}),o&&(e.inputIsHiddenAfterUpdate=!a,e.onMenuClose()),e.clearFocusValueOnUpdate=!0,i(t,{action:n})},this.selectOption=function(t){var n=e.props,r=n.blurInputOnSelect;if(n.isMulti){var o=e.state.selectValue;e.isOptionSelected(t,o)?e.setValue(o.filter(function(e){return e!==t}),"deselect-option"):e.setValue([].concat(K(o),[t]),"select-option")}else e.setValue(t,"select-option");r&&e.blurInput()},this.removeValue=function(t){(0,e.props.onChange)(e.state.selectValue.filter(function(e){return e!==t}),{action:"remove-value"}),e.focusInput()},this.clearValue=function(){var t=e.props,n=t.isMulti;(0,t.onChange)(n?[]:null,{action:"clear"})},this.popValue=function(){var t=e.props.onChange,n=e.state.selectValue;t(n.slice(0,n.length-1),{action:"pop-value"})},this.getStyles=function(t,n){var r=pt[t](n);r.boxSizing="border-box";var o=e.props.styles[t];return o?o(r,n):r},this.getElementId=function(t){return e.instancePrefix+"-"+t},this.getActiveDescendentId=function(){var t=e.props.menuIsOpen,n=e.state,r=n.menuOptions,o=n.focusedOption;if(o&&t){var a=r.focusable.indexOf(o),i=r.render[a];return i&&i.key}},this.onMenuMouseDown=function(t){0===t.button&&(t.stopPropagation(),t.preventDefault(),e.focusInput())},this.onMenuMouseMove=function(t){e.blockOptionHover=!1},this.onControlMouseDown=function(t){var n=e.props.openMenuOnClick;e.state.isFocused?e.props.menuIsOpen?e.onMenuClose():e.openMenu("first"):(n&&(e.openAfterFocus=!0),e.focusInput()),"INPUT"!==t.target.tagName&&t.preventDefault()},this.onDropdownIndicatorMouseDown=function(t){if(!(t&&"mousedown"===t.type&&0!==t.button||e.props.isDisabled)){var n=e.props,r=n.isMulti,o=n.menuIsOpen;e.focusInput(),o?(e.inputIsHiddenAfterUpdate=!r,e.onMenuClose()):e.openMenu("first"),t.preventDefault(),t.stopPropagation()}},this.onClearIndicatorMouseDown=function(t){t&&"mousedown"===t.type&&0!==t.button||(e.clearValue(),t.stopPropagation(),e.openAfterFocus=!1,setTimeout(function(){return e.focusInput()}))},this.onTouchStart=function(){e.userIsDragging=!1},this.onTouchMove=function(){e.userIsDragging=!0},this.onTouchEnd=function(t){e.userIsDragging||e.controlRef&&!e.controlRef.contains(t.target)&&e.menuRef&&!e.menuRef.contains(t.target)&&e.blurInput()},this.onControlTouchEnd=function(t){e.userIsDragging||e.onControlMouseDown(t)},this.onClearIndicatorTouchEnd=function(t){e.userIsDragging||e.onClearIndicatorMouseDown(t)},this.onDropdownIndicatorTouchEnd=function(t){e.userIsDragging||e.onDropdownIndicatorMouseDown(t)},this.handleInputChange=function(t){var n=t.currentTarget.value;e.inputIsHiddenAfterUpdate=!1,e.onInputChange(n,{action:"input-change"}),e.onMenuOpen()},this.onInputFocus=function(t){e.props.onFocus&&e.props.onFocus(t),e.inputIsHiddenAfterUpdate=!1,e.setState({isFocused:!0}),(e.openAfterFocus||e.props.openMenuOnFocus)&&e.openMenu("first"),e.openAfterFocus=!1},this.onInputBlur=function(t){e.props.onBlur&&e.props.onBlur(t),e.onInputChange("",{action:"input-blur"}),e.onMenuClose(),e.setState({focusedValue:null,isFocused:!1})},this.onOptionHover=function(t){e.blockOptionHover||e.state.focusedOption===t||e.setState({focusedOption:t})},this.onKeyDown=function(t){var n=e.props,r=n.isMulti,o=n.backspaceRemovesValue,a=n.escapeClearsValue,i=n.inputValue,s=n.isClearable,u=n.isDisabled,l=n.menuIsOpen,c=n.onKeyDown,f=n.tabSelectsValue,p=n.openMenuOnFocus,d=e.state,h=d.focusedOption,y=d.focusedValue,m=d.selectValue;if(!(u||"function"==typeof c&&(c(t),t.defaultPrevented))){switch(e.blockOptionHover=!0,t.key){case"ArrowLeft":if(!r||i)return;e.focusValue("previous");break;case"ArrowRight":if(!r||i)return;e.focusValue("next");break;case"Backspace":if(i)return;if(y)e.removeValue(y);else{if(!o)return;e.popValue()}break;case"Tab":if(t.shiftKey||!l||!f||!h||p&&e.isOptionSelected(h,m))return;e.selectOption(h);break;case"Enter":if(l){if(!h)return;e.selectOption(h)}else e.focusOption("first");break;case"Escape":l?(e.inputIsHiddenAfterUpdate=!1,e.onInputChange("",{action:"menu-close"}),e.onMenuClose()):s&&a&&e.clearValue();break;case" ":if(i)return;if(!l){e.openMenu("first");break}if(!h)return;e.selectOption(h);break;case"ArrowUp":l?e.focusOption("up"):e.openMenu("last");break;case"ArrowDown":l?e.focusOption("down"):e.openMenu("first");break;case"PageUp":if(!l)return;e.focusOption("pageup");break;case"PageDown":if(!l)return;e.focusOption("pagedown");break;case"Home":if(!l)return;e.focusOption("first");break;case"End":if(!l)return;e.focusOption("last");break;default:return}t.preventDefault()}}},gt=function(e){var t,n;return n=t=function(t){function n(){var e,t,r;z(this,n);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return t=r=J(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(a))),r.state={inputValue:void 0!==r.props.inputValue?r.props.inputValue:r.props.defaultInputValue,menuIsOpen:void 0!==r.props.menuIsOpen?r.props.menuIsOpen:r.props.defaultMenuIsOpen,value:void 0!==r.props.value?r.props.value:r.props.defaultValue},r.onChange=function(e,t){r.callProp("onChange",e,t),r.setState({value:e})},r.onInputChange=function(e,t){var n=r.callProp("onInputChange",e,t);r.setState({inputValue:void 0!==n?n:e})},r.onMenuOpen=function(){r.callProp("onMenuOpen"),r.setState({menuIsOpen:!0})},r.onMenuClose=function(){r.callProp("onMenuClose"),r.setState({menuIsOpen:!1})},J(r,t)}return Q(n,t),U(n,[{key:"focus",value:function(){this.select.focus()}},{key:"blur",value:function(){this.select.blur()}},{key:"getProp",value:function(e){return void 0!==this.props[e]?this.props[e]:this.state[e]}},{key:"callProp",value:function(e){if("function"==typeof this.props[e]){for(var t,n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return(t=this.props)[e].apply(t,K(r))}}},{key:"render",value:function(){var t=this;return o.a.createElement(e,G({},this.props,{ref:function(e){t.select=e},inputValue:this.getProp("inputValue"),menuIsOpen:this.getProp("menuIsOpen"),onChange:this.onChange,onInputChange:this.onInputChange,onMenuClose:this.onMenuClose,onMenuOpen:this.onMenuOpen,value:this.getProp("value")}))}}]),n}(r.Component),t.defaultProps={defaultInputValue:"",defaultMenuIsOpen:!1,defaultValue:null},n},wt={cacheOptions:!1,defaultOptions:!1},kt=function(e){var t,n;return n=t=function(t){function n(e){z(this,n);var t=J(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return t.mounted=!1,t.optionsCache={},t.handleInputChange=function(e,n){var r=t.props,o=r.cacheOptions,a=function(e,t,n){if(n){var r=n(e,t);if("string"==typeof r)return r}return e}(e,n,r.onInputChange);if(!a)return delete t.lastRequest,void t.setState({inputValue:"",loadedInputValue:"",loadedOptions:[],isLoading:!1,passEmptyOptions:!1});if(o&&t.optionsCache[a])t.setState({inputValue:a,loadedInputValue:a,loadedOptions:t.optionsCache[a],isLoading:!1,passEmptyOptions:!1});else{var i=t.lastRequest={};t.setState({inputValue:a,isLoading:!0,passEmptyOptions:!t.state.loadedInputValue},function(){t.loadOptions(a,function(e){t.mounted&&(e&&(t.optionsCache[a]=e),i===t.lastRequest&&(delete t.lastRequest,t.setState({isLoading:!1,loadedInputValue:a,loadedOptions:e||[],passEmptyOptions:!1})))})})}return a},t.state={defaultOptions:Array.isArray(e.defaultOptions)?e.defaultOptions:void 0,inputValue:"",isLoading:!0===e.defaultOptions,loadedOptions:[],passEmptyOptions:!1},t}return Q(n,t),U(n,[{key:"componentDidMount",value:function(){var e=this;this.mounted=!0,!0===this.props.defaultOptions&&this.loadOptions("",function(t){if(e.mounted){var n=!!e.lastRequest;e.setState({defaultOptions:t||[],isLoading:n})}})}},{key:"componentWillReceiveProps",value:function(e){e.cacheOptions!==this.props.cacheOptions&&(this.optionsCache={})}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"focus",value:function(){this.select.focus()}},{key:"blur",value:function(){this.select.blur()}},{key:"loadOptions",value:function(e,t){var n=this.props.loadOptions;if(!n)return t();var r=n(e,t);r&&"function"==typeof r.then&&r.then(t,function(){return t()})}},{key:"render",value:function(){var t=this,n=this.props,r=(n.loadOptions,X(n,["loadOptions"])),a=this.state,i=a.defaultOptions,s=a.inputValue,u=a.isLoading,l=a.loadedInputValue,c=a.loadedOptions,f=a.passEmptyOptions?[]:s&&l?c:i||[];return o.a.createElement(e,G({},r,{ref:function(e){t.select=e},options:f,filterOption:null,isLoading:u,onInputChange:this.handleInputChange}))}}]),n}(r.Component),t.defaultProps=wt,n},Et=(kt(gt(yt)),function(e,t){var n=e.toLowerCase();return t.value.toLowerCase()===n||t.label.toLowerCase()===n}),St=G({allowCreateWhileLoading:!1},{formatCreateLabel:function(e){return'Create "'+e+'"'},isValidNewOption:function(e,t,n){return!(!e||t.some(function(t){return Et(e,t)})||n.some(function(t){return Et(e,t)}))},getNewOptionData:function(e,t){return{label:t,value:e,__isNew__:!0}}}),Ot=function(e){var t,n;return n=t=function(t){function n(e){z(this,n);var t=J(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));t.onChange=function(e,n){var r=t.props,o=r.getNewOptionData,a=r.inputValue,i=r.isMulti,s=r.onChange,u=r.onCreateOption,l=r.value;if("select-option"!==n.action)return s(e,n);var c=t.state.newOption,f=Array.isArray(e)?e:[e];if(f[f.length-1]!==c)s(e,n);else if(u)u(a);else{var p=o(a,a),d={action:"create-option"};s(i?[].concat(K(ve(l)),[p]):p,d)}};var r=e.options||[];return t.state={newOption:void 0,options:r},t}return Q(n,t),U(n,[{key:"componentWillReceiveProps",value:function(e){var t=e.allowCreateWhileLoading,n=e.formatCreateLabel,r=e.getNewOptionData,o=e.inputValue,a=e.isLoading,i=e.isValidNewOption,s=e.value,u=e.options||[],l=this.state.newOption;l=i(o,ve(s),u)?r(o,n(o)):void 0,this.setState({newOption:l,options:!t&&a||!l?u:[].concat(K(u),[l])})}},{key:"focus",value:function(){this.select.focus()}},{key:"blur",value:function(){this.select.blur()}},{key:"render",value:function(){var t=this,n=X(this.props,[]),r=this.state.options;return o.a.createElement(e,G({},n,{ref:function(e){t.select=e},options:r,onChange:this.onChange}))}}]),n}(r.Component),t.defaultProps=St,n},_t=(gt(Ot(yt)),kt(gt(Ot(yt))),gt(yt)),Ct=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),xt=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function Pt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Dt(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Tt(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function At(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}!function(e){e[e.Ask=0]="Ask",e[e.Bid=1]="Bid",e[e.All=2]="All"}(mt||(mt={})),function(e){e[e.Accum=0]="Accum",e[e.Interval=1]="Interval"}(bt||(bt={}));var jt={base:{display:"flex",flexShrink:0,position:"relative",padding:"0 0.5rem",margin:"0 -0.5em"}},Rt={base:Object.assign({},jt.base,{flexGrow:1,flexFlow:"column",transition:"all 0.4s ease-in-out",overflowY:"hidden",justifyContent:"space-between",flex:"1"}),expand:{flex:"1"},hidden:{flex:"0"},scroll:{overflowY:"auto",height:"calc(100% - 32px)"}},Ft={height:"calc(100% - 32px)"},Nt=Object.assign({},Ft,Rt,{display:"flex",padding:"0 0.5rem",flexFlow:"column"}),Mt={flexBasis:"24px",lineHeight:"24px"},It={height:"32px",display:"flex",alignItems:"center"},qt=function(e,t,n,r){return t&&e&&Array.isArray(e)&&n?e.length>n?e.slice(0,n):[].concat(At(e),At(new Array(n-e.length).fill(r))):e},Lt=function(e){return{zIndex:2,lineHeight:"24px",width:e}},Bt=((Vt=function(e){function t(){return Pt(this,t),Dt(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Tt(t,r["Component"]),xt(t,[{key:"shouldComponentUpdate",value:function(e){return e.order.ne(this.props.order)||e.index!==this.props.index||e.digits!==this.props.digits||e.depthType!==this.props.depthType||e.currentAccount!==this.props.currentAccount}},{key:"render",value:function(){var e=this.props,t=e.order,n=e.quote,o=e.base,a=(e.final,e.digits),i=e.depthType,s=e.total,u=e.withYuan,l=e.unitYuan,c=e.max,f=t.isBid(),p=(t.isCall(),r.createElement(w.a,{price:t.getPrice(t.sell_price,a),quote:n,base:o,precision:a})),d=u?parseFloat((l*t.getPrice(t.sell_price,a)).toFixed(a-3)):NaN,h=(t?i===bt.Interval?100*((f?t.amountToReceive().amount:t.amountForSale().amount)/c).toFixed(4):100*(t.accum/s).toFixed(4):0)+"%";return r.createElement("div",{onClick:this.props.onClick,className:g()("link","order-row",{"my-order":t.isMine(this.props.currentAccount)}),style:[jt.base,Mt],"data-tip":u&&!isNaN(d)?"¥ "+d:null,"data-place":"left"},r.createElement("i",{className:"bg",style:{position:"absolute",zIndex:1,width:h,height:"100%",margin:"0 -0.5em",backgroundColor:f?T.i.$colorGrass:T.i.$colorFlame,opacity:.25}}),r.createElement("span",{className:"text-left",style:[Lt("30%"),{color:f?T.i.$colorGrass:T.i.$colorFlame}]},p),r.createElement("span",{className:"text-right",style:Lt("30%")},y.a.format_number(t[f?"amountToReceive":"amountForSale"]().getAmount({real:!0}),n.get("precision"))),r.createElement("span",{className:"text-right",style:Lt("40%")},y.a.format_number(t[f?"amountForSale":"amountToReceive"]().getAmount({real:!0}),o.get("precision"))))}}]),t}()).defaultProps={depthType:bt.Interval},Vt);Bt=Object(D.a)(Bt),Bt=Object(_.connect)(Bt,{listenTo:function(){return[E.a]},getProps:function(e){var t=e.base,n=y.a.replaceName(t.get("symbol"),!1).name;return{unitYuan:E.a.getState().priceState[n]||NaN}}});var Vt,Wt,Ht=function(e){function t(e){Pt(this,t);var n=Dt(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.combineOptions=[],n.handleDepthChange=function(e){n.setState({depth:e});var t=n.props.onDepthChange;t&&t(e)};var r=Math.max(e.basePrecision,Gt.PRECISION_SIZE),o=n.combineOptions=new Array(Gt.PRECISION_SIZE).fill(1).map(function(e,t){return{label:j.a.translate("exchange.depth",{depth:r-t}),value:r-t}});return n.state={depth:o[0]},n}return Tt(t,r["PureComponent"]),xt(t,[{key:"render",value:function(){var e=this.props,t=e.type,n=e.depthType,o=e.onTypeChange,a=e.onDepthTypeChange;e.onDepthChange,e.basePrecision;return r.createElement(r.Fragment,null,r.createElement(T.r,{active:t===mt.All,onClick:o.bind(this,mt.All),style:Gt.Styles.tab},r.createElement(b.a,{content:"exchange.orderbook.all"})),r.createElement(T.r,{active:t===mt.Ask,onClick:o.bind(this,mt.Ask),style:Gt.Styles.tab},r.createElement(b.a,{content:"exchange.orderbook.ask"})),r.createElement(T.r,{active:t===mt.Bid,onClick:o.bind(this,mt.Bid),style:Gt.Styles.tab},r.createElement(b.a,{content:"exchange.orderbook.bid"})),r.createElement("i",{style:{flexGrow:1}}),r.createElement(T.r,{type:"secondary",active:n===bt.Interval,onClick:a.bind(this,bt.Interval),style:Gt.Styles.tab},r.createElement(b.a,{content:"exchange.orderbook.compare_depth"})),r.createElement(T.r,{type:"secondary",active:n===bt.Accum,onClick:a.bind(this,bt.Accum),style:Gt.Styles.tab},r.createElement(b.a,{content:"exchange.orderbook.accum_depth"})),r.createElement("i",{style:{flexGrow:1}}),r.createElement(_t,{onChange:this.handleDepthChange,styles:Object(T.e)("orderbook"),options:this.combineOptions,value:this.state.depth}))}}]),t}(),zt=function(e){function t(){return Pt(this,t),Dt(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Tt(t,r["PureComponent"]),xt(t,[{key:"render",value:function(){return r.createElement("div",{style:jt.base},r.createElement("span",{className:"text-left",style:Lt("30%")},"---"),r.createElement("span",{className:"text-right",style:Lt("30%")},"---"),r.createElement("span",{className:"text-right",style:Lt("40%")},"---"))}}]),t}(),Ut=function(e){function t(){return Pt(this,t),Dt(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Tt(t,r["PureComponent"]),xt(t,[{key:"render",value:function(){var e=this.props,t=e.baseSymbol,n=e.quoteSymbol;return r.createElement("div",{key:"top-header",style:It,className:"top-header"},r.createElement("span",{className:"header-sub-title text-left",style:{width:"30%"}},j.a.translate("exchange.price"),"(",r.createElement(k.a,{dataPlace:"top",name:t}),")"),r.createElement("span",{className:"header-sub-title text-right",style:{width:"30%"}},j.a.translate("exchange.quantity"),"(",r.createElement(k.a,{dataPlace:"top",name:n}),")"),r.createElement("span",{className:"header-sub-title text-right",style:{width:"40%"}},j.a.translate("exchange.total_bidask"),"(",r.createElement(k.a,{dataPlace:"top",name:t}),")"))}}]),t}(),Yt=function(e){function t(){return Pt(this,t),Dt(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Tt(t,r["Component"]),xt(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.orders,o=(t.displayType,t.type),a=(t.countOfRow,t.base),i=t.quote,s=t.onOrderClick,u=t.currentAccount,l=t.depthType,c=t.total,f=t.digits,p=t.max;return(o===mt.Ask?n.reverse():n).map(function(t,n){return null===t?r.createElement(zt,{key:"$nullOrder"+n}):r.createElement(Bt,{index:n,key:t.getPrice()+(t.isCall()?"_call":""),order:t,onClick:s.bind(e,t),digits:f,withYuan:!0,base:a,quote:i,final:0===n,depthType:l,max:p,total:c,currentAccount:u})})}}]),t}(),Gt=((Wt=function(e){function t(e){Pt(this,t);var n=Dt(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.setType=function(e){n.setState({type:e}),n.fixPos()},n.setDepthType=function(e){n.setState({depthType:e})},n.fixPos=function(){setTimeout(function(){n.askWrapper&&(n.askWrapper.scrollTop=n.askWrapper.scrollHeight+1e3),n.state.type!==mt.Ask&&setTimeout(function(){n.askWrapper.scrollTop=n.askWrapper.scrollHeight+1e3},200)},200)},n.onDepthChange=function(e){var t=e.value;n.setState({digits:t})},n.onDepthTypeChange={},n.state={scrollToBottom:!0,flip:e.flipOrderBook,showAllBids:!0,showAllAsks:!0,rowCount:20,digits:8,depthType:bt.Interval,type:mt.All},n}return Tt(t,r["Component"]),xt(t,[{key:"componentDidUpdate",value:function(){}},{key:"componentDidMount",value:function(){this.fixPos()}},{key:"componentDidCatch",value:function(){return r.createElement("h1",null,"Opps")}},{key:"render",value:function(){var e=this,t=this.props,n=t.combinedBids,o=t.combinedAsks,a=(t.highestBid,t.lowestAsk,t.quote),i=t.base,s=(t.totalAsks,t.totalBids,t.quoteSymbol,t.baseSymbol,t.horizontal,t.marketReady),u=t.latest,l=this.state,c=(l.showAllAsks,l.showAllBids,l.rowCount,l.type),f=l.digits,p=l.depthType,d=document.getElementById("orderBook")?Math.floor((document.getElementById("orderBook").offsetHeight/24-3)/2):24;if(!i||!a)return null;var h=[n,o].map(function(e){return Array.from(e.reduce(function(e,t){var n=t.getPrice(t.sell_price,f);e[n];if(e.has(n)){var r=e.get(n).sum(t);e.set(n,r)}else e.set(n,t);return e},new Map).values())}),y=Ct(h,2),m=y[0],b=y[1];Array.prototype.lastOne=function(){return this.length?this.filter(function(e){return e}).slice(-1)[0]:null},b=mt.Ask===c?qt(b,b.length<2*d,2*d,null):qt(b,!0,d,null);var v=0,g=0,w=0;(m=mt.Bid===c?qt(m,m.length<2*d,2*d,null):qt(m,!0,d,null)).filter(function(e){return e}).forEach(function(e){var t=e.isBid()?e.amountToReceive().amount:e.amountForSale().amount;g=Math.max(g,t),v+=t,e.accum=v}),v=0,b.filter(function(e){return e}).forEach(function(e){var t=e.isBid()?e.amountToReceive().amount:e.amountForSale().amount;w=Math.max(w,t),v+=t,e.accum=v});var k=Math.max(m.lastOne()&&m.lastOne().accum||0,b.lastOne()&&b.lastOne().accum||0),E=r.createElement("div",{style:[Mt,{backgroundColor:T.i.$colorAnchor,margin:"0 -0.5rem"}],className:"text-center"},r.createElement(P,{ready:s,price:u&&u.full||{},quote:a,withYuan:!0,base:i,hideQuote:!0}));return r.createElement(r.Fragment,null,r.createElement("div",{className:"order-book-title",style:It},r.createElement(Ht,{type:this.state.type,onTypeChange:this.setType,basePrecision:8,depthType:this.state.depthType,onDepthTypeChange:this.setDepthType,onDepthChange:this.onDepthChange})),r.createElement("div",{className:"order-book-wrapper",style:Ft},r.createElement(Ut,{baseSymbol:i.get("symbol"),quoteSymbol:a.get("symbol")}),r.createElement("div",{className:"order-book-body _scroll-bar",style:[Nt]},r.createElement("div",{ref:function(t){return e.askWrapper=t},className:"ask-wrapper",style:[Rt.base,c===mt.All&&Rt.expand,c===mt.Ask&&Rt.scroll,c===mt.Bid&&Rt.hidden]},r.createElement(Yt,{displayType:this.state.type,type:mt.Ask,currentAccount:this.props.currentAccount,countOfRow:d,total:k,digits:f,base:i,quote:a,orders:b,max:w,depthType:p,onOrderClick:this.props.onClick.bind(this)})),E,r.createElement("div",{className:"bid-wrapper",style:[Rt.base,c===mt.All&&Rt.expand,c===mt.Bid&&Rt.scroll,c===mt.Ask&&Rt.hidden]},r.createElement(Yt,{displayType:this.state.type,type:mt.Bid,currentAccount:this.props.currentAccount,countOfRow:d,digits:f,base:i,total:k,quote:a,depthType:p,max:g,orders:m,onOrderClick:this.props.onClick.bind(this)})))))}}]),t}()).PRECISION_SIZE=4,Wt.defaultProps={bids:[],asks:[],orders:{}},Wt.propTypes={bids:f.array.isRequired,asks:f.array.isRequired,orders:f.object.isRequired},Wt.Styles={tab:{marginRight:"0.5rem",lineHeight:"24px",height:"24px"}},Wt),Qt=Gt=Object(D.a)(Gt),Xt=n(5),Jt=n.n(Xt),Kt=n(2330),Zt=n.n(Kt),$t=n(72),en=n(21),tn=n(2288),nn=n(3),rn=n(130),on=n(221),an=n(2398),sn=n.n(an),un=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var ln=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),un(t,[{key:"componentWillMount",value:function(){on.a.getBlock.defer(this.props.block_number)}},{key:"shouldComponentUpdate",value:function(e){return e.block&&!this.props.block&&setTimeout(O.a.rebuild,1e3),e.block!==this.props.block}},{key:"render",value:function(){var e=this.props,t=e.block,n=e.tooltip,o=e.component,a=e.format;return t?r.createElement(o,{className:n?"tooltip":"","data-tip":n?t.timestamp:""},r.createElement("span",null,j.a.localize(t.timestamp,{type:"date",format:a}))):r.createElement(o)}}]),t}();ln.defaultProps={format:-1!==sn()().toLowerCase().indexOf("en-us")?"market_history_us":"market_history",tooltip:!1,component:"span"};var cn=ln=Object(_.connect)(ln,{listenTo:function(){return[rn.a]},getProps:function(e){return{block:rn.a.getState().blocks.get(e.block_number)}}}),fn=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var pn=nn.c.operations,dn=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.state={activeTab:e.viewSettings.get("historyTab","history")},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),fn(t,[{key:"shouldComponentUpdate",value:function(e,t){return!Jt.a.is(e.history,this.props.history)||e.baseSymbol!==this.props.baseSymbol||e.quoteSymbol!==this.props.quoteSymbol||e.className!==this.props.className||t.activeTab!==this.state.activeTab||e.currentAccount!==this.props.currentAccount}},{key:"_changeTab",value:function(e){en.a.changeViewSetting({historyTab:e}),this.setState({activeTab:e}),this.refs.history.scrollTop=0,setTimeout(O.a.rebuild,1e3)}},{key:"render",value:function(){var e=this.props,t=e.history,n=e.myHistory,o=e.base,a=e.quote,i=e.baseSymbol,s=e.quoteSymbol,u=e.isNullAccount,l=this.state.activeTab,c=null;if(u&&(l="history"),"my_history"===l&&n&&n.size){var f=-1,p=o.get("id").split(".")[2]>a.get("id").split(".")[2];c=n.filter(function(e){return e.getIn(["op",0])===pn.fill_order}).filter(function(e){var t=a.get("id"),n=o.get("id"),r=e.getIn(["op",1,"pays","asset_id"]),i=e.getIn(["op",1,"receives","asset_id"]);return(t===r||t===i)&&(n===r||n===i)}).sort(function(e,t){return t.get("block_num")-e.get("block_num")}).map(function(e){var t=e.toJS().op[1];f++;var n=void 0,i=void 0,s=!1;t.pays.asset_id===o.get("id")?(n=o,i=a,s=!0):(n=a,i=o);var u=$t.a.parse_order_history(t,n,i,s,p),l=e.get("block_num");return r.createElement("tr",{key:"my_history_"+f},r.createElement("td",{className:u.className},r.createElement(w.a,{preFormattedPrice:u})),r.createElement("td",null,u.receives),r.createElement("td",null,u.pays),r.createElement(cn,{component:"td",block_number:l,tooltip:!0}))}).toArray()}else if(t&&t.size){var d=0,h=-1,y=o.get("id").split(".")[2]>a.get("id").split(".")[2];c=this.props.history.filter(function(){return++d%2==0}).take(100).map(function(e){h++;var t=void 0,n=void 0,i=!1;e.pays.asset_id===o.get("id")?(t=o,n=a,i=!0):(t=a,n=o);var s=$t.a.parse_order_history(e,t,n,i,y);return r.createElement("tr",{key:"history_"+h},r.createElement("td",{className:s.className},r.createElement(w.a,{preFormattedPrice:s})),r.createElement("td",null,s.receives),r.createElement("td",null,s.pays),r.createElement("td",{className:"tooltip","data-tip":new Date(e.time)},j.a.localize(new Date(e.time),{type:"date",format:-1!==sn()().toLowerCase().indexOf("en-us")?"market_history_us":"market_history"})))}).toArray()}var m="mymarkets-header clickable",v=g()(m,{inactive:"my_history"===l}),E=g()(m,{inactive:"history"===l});return r.createElement("div",{className:this.props.className},r.createElement("div",{className:"flex-wrapper flex-wrapper-main flex-column small-12 ",style:{height:"100%"}},r.createElement("div",{style:this.props.headerStyle,className:"grid-block shrink left-orderbook-header bottom-header"},r.createElement("div",{className:g()(E,{disabled:u}),onClick:this._changeTab.bind(this,"my_history")},r.createElement(b.a,{content:"exchange.my_history"})),r.createElement("div",{className:v,onClick:this._changeTab.bind(this,"history")},r.createElement(b.a,{content:"exchange.history"}))),r.createElement("div",{className:"grid-block shrink left-orderbook-header "},r.createElement("table",{className:"table table-4 order-table fixed-table market-right-padding"},r.createElement("thead",null,r.createElement("tr",null,r.createElement("th",{className:"text-center"},r.createElement(b.a,{className:"header-sub-title",content:"exchange.price"})),r.createElement("th",{className:"text-center"},r.createElement("span",{className:"header-sub-title"},r.createElement(k.a,{dataPlace:"top",name:s}))),r.createElement("th",{className:"text-center"},r.createElement("span",{className:"header-sub-title"},r.createElement(k.a,{dataPlace:"top",name:i}))),r.createElement("th",{className:"text-center"},r.createElement(b.a,{className:"header-sub-title",content:"explorer.block.date"})))))),r.createElement("div",{className:"table-container flex-wrapper flex-column grid-block _scroll-bar",ref:"history",style:{maxHeight:420}},r.createElement("table",{className:"table table-4 flex-wrapper-main order-table text-right fixed-table market-right-padding"},r.createElement(tn.a,{component:"tbody",transitionName:"newrow"},c)))))}}]),t}();dn.defaultProps={history:[]},dn.propTypes={history:f.object.isRequired};var hn=Object(_.connect)(dn,{listenTo:function(){return[s.b]},getProps:function(){return{viewSettings:s.b.getState().viewSettings}}}),yn=n(19),mn=n(22),bn=n(24),vn=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var gn=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),vn(t,[{key:"render",value:function(){return this.props.account?r.createElement("span",null,this.props.account.get("name")):null}}]),t}();gn.propTypes={account:mn.a.ChainObject.isRequired},gn.defaultProps={autosubscribe:!1};var wn=Object(bn.a)(gn),kn=n(51),En=n(2250),Sn=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var On={row:{base:{width:"100%"},active:{backgroundColor:T.i.$colorGreyLightWhite,opacity:.8}},cell:{active:{color:T.i.$colorOrange}}},_n=((Cn=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.statsInterval=null,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),Sn(t,[{key:"_onClick",value:function(e){"/market/"+e!==this.props.location.pathname&&(d.a.switchMarket(),this.props.history.push("/market/"+e))}},{key:"componentDidMount",value:function(){d.a.getMarketStats.defer(this.props.base,this.props.quote),this.statsChecked=new Date,this.statsInterval=setInterval(d.a.getMarketStats.bind(this,this.props.base,this.props.quote),3e4)}},{key:"componentWillUnmount",value:function(){clearInterval(this.statsInterval)}},{key:"shouldComponentUpdate",value:function(e){return!y.a.are_equal_shallow(e,this.props)}},{key:"_onStar",value:function(e,t,n){n.preventDefault(),this.props.starred?en.a.removeStarMarket(e,t):en.a.addStarMarket(e,t)}},{key:"render",value:function(){var e=this,t=this.props,n=t.quote,o=t.base,a=(t.noSymbols,t.stats),i=t.starred,s=t.unitYuan,u=t.tooltipPosition,l=t.withYuan;if(!n||!o)return null;var c=n.get("symbol")+"_"+o.get("symbol"),f=n.get("symbol")+":"+o.get("symbol"),p=n.get("dynamic"),d=o.get("dynamic"),h=y.a.convertPrice(n,o),m=a&&a.price?a.price.toReal():a&&a.close&&a.close.quote.amount&&a.close.base.amount?y.a.get_asset_price(a.close.quote.amount,n,a.close.base.amount,o,!0):y.a.get_asset_price(h.quote.amount,n,h.base.amount,o,!0),b=parseFloat((s*m).toFixed(2)),v="button outline",g=null;this.props.compact&&(v+=" no-margin",g={marginBottom:0,fontSize:"0.75rem",padding:"4px 10px",borderRadius:"0px",letterSpacing:"0.05rem"});var w=this.props.columns.map(function(t){switch(t.name){case"star":var s=i?"gold-star":"grey-star";return r.createElement("span",{onClick:e._onStar.bind(e,n.get("symbol"),o.get("symbol")),key:t.index},r.createElement(kn.a,{className:s,name:"fi-star"}));case"vol":var u=a?a.volumeBase:0;return r.createElement("span",{onClick:e._onClick.bind(e,c),className:"text-right",key:t.index},y.a.format_volume(u));case"change":var l=y.a.format_number(a&&a.change?a.change:0,2),h="0.00"===l?"":parseFloat(l)>0?"change-up":"change-down";return r.createElement("span",{onClick:e._onClick.bind(e,c),className:"text-right "+h,key:t.index},l+"%");case"marketName":return r.createElement("span",{onClick:e._onClick.bind(e,c),key:t.index},r.createElement("div",{className:v,style:g},f));case"market":return r.createElement("span",{onClick:e._onClick.bind(e,c),key:t.index,style:[e.props.current&&On.cell.active]},e.props.name);case"price":var b=6;return-1!==["BTC","OPEN.BTC","TRADE.BTC","GOLD","SILVER"].indexOf(o.get("symbol"))&&(b=8),r.createElement("span",{onClick:e._onClick.bind(e,c),className:"text-right",key:t.index},y.a.format_number(m,m>1e3?0:m>10?2:b));case"quoteSupply":return r.createElement("span",{onClick:e._onClick.bind(e,c),key:t.index},p?r.createElement(yn.a,{style:{fontWeight:"bold"},amount:parseInt(p.get("current_supply"),10),asset:n.get("id")}):null);case"baseSupply":return r.createElement("span",{onClick:e._onClick.bind(e,c),key:t.index},d?r.createElement(yn.a,{style:{fontWeight:"bold"},amount:parseInt(d.get("current_supply"),10),asset:o.get("id")}):null);case"issuer":return r.createElement("span",{onClick:e._onClick.bind(e,c),key:t.index},r.createElement(wn,{account:n.get("issuer")}));case"add":return r.createElement("span",{style:{textAlign:"right"},key:t.index,onClick:e.props.onCheckMarket.bind(e,c)},r.createElement("input",{type:"checkbox",checked:!!e.props.isChecked||e.props.isDefault,disabled:e.props.isDefault,"data-tip":e.props.isDefault?"This market is a default market and cannot be removed":null}));case"remove":return r.createElement("span",{key:t.index,className:"clickable",onClick:e.props.removeMarket},r.createElement("span",{style:{marginBottom:"6px",marginRight:"6px",zIndex:999},className:"text float-right remove"},"–"))}}).sort(function(e,t){return e.key>t.key});return this.props.current&&" activeMarket",r.createElement(r.Fragment,null,r.createElement("div",{className:"table-row clickable",style:[On.row.base,this.props.current&&On.row.active],"data-tip":l&&!isNaN(b)?"¥ "+b:null,"data-place":u,"data-offset":"{'right': 6}"},w))}}]),t}()).propTypes={quote:mn.a.ChainAsset.isRequired,base:mn.a.ChainAsset.isRequired},Cn.defaultProps={noSymbols:!1,withYuan:!1,tempComponent:"tr",tooltipPosition:"right"},Cn.contextTypes={router:f.object.isRequired},Cn);_n=Object(D.a)(_n),_n=Object(bn.a)(_n),_n=Object(_.connect)(_n,{listenTo:function(){return[E.a]},getProps:function(e){var t=e.base,n=y.a.replaceName(t,!1).name;return{unitYuan:E.a.getState().priceState[n]||NaN}}});var Cn,xn=_n=Object(En.a)(_n),Pn=n(2329),Dn=n(2284),Tn=n(30),An=n(2328),jn=n(31),Rn=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Fn=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function Nn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Mn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function In(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var qn=new Date,Ln={"JADE.USDT":{CYB:0,"JADE.ETH":1,"JADE.BTC":2,"JADE.EOS":3,"JADE.LTC":4}},Bn={CYB:new Set(["JADE.JCT"]),"JADE.ETH":new Set(["JADE.LTC"]),"JADE.EOS":new Set(["JADE.LTC"]),"JADE.BTC":new Set(["JADE.MT","JADE.ETH","JADE.BTC","JADE.EOS","JADE.INK","JADE.BAT","JADE.VET","JADE.OMG","JADE.SNT","JADE.NAS","JADE.KNC","JADE.PAY","JADE.GET","JADE.MAD","JADE.GNX","JADE.KEY","JADE.TCT","JADE.JCT","JADE.MCO","JADE.CTXC","JADE.NES","JADE.RHOC","JADE.PPT","JADE.MKR","JADE.FUN","JADE.GNT","JADE.MVP","JADE.DPY","JADE.ENG"])},Vn={"JADE.ETH":{"JADE.JCT":-1}},Wn=function(e){function t(e){Nn(this,t);var n=Mn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state=n._getInitialState(e),n}return In(t,r["Component"]),Fn(t,[{key:"_getInitialState",value:function(e){var t=!!e.findMarketTab||e.viewSettings.get("myMarketsBase_"+e.index);return{open:void 0===t||t,inverseSort:e.viewSettings.get("myMarketsInvert",!0),sortBy:e.viewSettings.get("myMarketsSort","volume")}}},{key:"componentWillReceiveProps",value:function(e){e.findMarketTab!==this.props.findMarketTab&&this.setState(this._getInitialState(e))}},{key:"shouldComponentUpdate",value:function(e,t){return!e.markets||!this.props.markets||(!y.a.are_equal_shallow(t,this.state)||!y.a.are_equal_shallow(e.markets,this.props.markets)||e.starredMarkets!==this.props.starredMarkets||e.marketStats!==this.props.marketStats||e.userMarkets!==this.props.userMarkets)}},{key:"_inverseSort",value:function(){en.a.changeViewSetting({myMarketsInvert:!this.state.myMarketsInvert}),this.setState({inverseSort:!this.state.inverseSort})}},{key:"_changeSort",value:function(e){e!==this.state.sortBy?(en.a.changeViewSetting({myMarketsSort:e}),this.setState({sortBy:e})):this._inverseSort()}},{key:"_onToggle",value:function(e){if(!this.props.findMarketTab){var t=!this.state.open;this.setState({open:t});var n={};n["myMarketsBase_"+this.props.index]=t,en.a.changeViewSetting(n)}}},{key:"_onToggleUserMarket",value:function(e){var t=e.split("_"),n=Rn(t,2),r=n[0],o=n[1],a=!this.props.userMarkets.get(e);en.a.setUserMarket(r,o,a)}},{key:"render",value:function(){var e=this,t=this.props,n=t.columns,o=t.markets,a=t.base,i=t.marketStats,s=t.starredMarkets,u=t.current,l=(t.findMarketTab,this.state),c=l.sortBy,f=l.inverseSort,p=l.open;if(!o||!o.length)return null;var d=n.map(function(t){switch(t.name){case"market":return r.createElement("span",{key:t.name,className:"clickable",onClick:e._changeSort.bind(e,"name")},r.createElement(b.a,{content:"exchange.market"}));case"vol":return r.createElement("span",{key:t.name,className:"clickable",onClick:e._changeSort.bind(e,"volume"),style:{textAlign:"right"}},r.createElement(b.a,{content:"exchange.vol_short"}));case"price":return r.createElement("span",{key:t.name,style:{textAlign:"right"}},r.createElement(b.a,{content:"exchange.price"}));case"quoteSupply":return r.createElement("span",{key:t.name},r.createElement(b.a,{content:"exchange.quote_supply"}));case"baseSupply":return r.createElement("span",{key:t.name},r.createElement(b.a,{content:"exchange.base_supply"}));case"change":return r.createElement("span",{key:t.name,className:"clickable",onClick:e._changeSort.bind(e,"change"),style:{textAlign:"right"}},r.createElement(b.a,{content:"exchange.change"}));case"issuer":return r.createElement("span",{key:t.name},r.createElement(b.a,{content:"explorer.assets.issuer"}));case"add":default:return r.createElement("span",{key:t.name})}}),h=o.map(function(t){return r.createElement(xn,{key:t.id,withYuan:!0,name:"others"===a?r.createElement("span",null,r.createElement(k.a,{name:t.quote}),":",r.createElement(k.a,{name:t.base})):r.createElement(k.a,{dataPlace:"left",name:t.quote}),quote:t.quote,base:t.base,columns:n,compact:!0,noSymbols:!0,stats:i.get(t.id),starred:s.has(t.id),current:u===t.id,isChecked:e.props.userMarkets.has(t.id),isDefault:e.props.defaultMarkets&&e.props.defaultMarkets.has(t.id),onCheckMarket:e._onToggleUserMarket.bind(e)})}).filter(function(e){return null!==e}).filter(function(e){return e.props.base in Bn?!Bn[e.props.base].has(e.props.quote):e}).filter(function(e){return e.props.base in Ln?e.props.quote in Ln[e.props.base]:e}).sort(function(e,t){if(e.props.base in Ln)return Ln[e.props.base][e.props.quote]-Ln[e.props.base][t.props.quote];if(e.props.base in Vn&&(e.props.quote in Vn[e.props.base]||t.props.quote in Vn[e.props.base]))return e.props.quote in Vn[e.props.base]?-1:1;var n=e.key.split("_"),r=t.key.split("_"),o=i.get(n[0]+"_"+n[1]),a=i.get(r[0]+"_"+r[1]);switch(c){case"name":return y.a.replaceName(n[0]).name>y.a.replaceName(r[0]).name?f?-1:1:n[0]<r[0]?f?1:-1:y.a.replaceName(n[1]).name>y.a.replaceName(r[1]).name?f?-1:1:y.a.replaceName(n[1]).name<y.a.replaceName(r[1]).name?f?1:-1:0;case"volume":return o&&a?f?a.volumeBase-o.volumeBase:o.volumeBase-a.volumeBase:0;case"change":return o&&a?f?a.change-o.change:o.change-a.change:0}});p?r.createElement("span",null,"▼"):r.createElement("span",null,"▲");return p?r.createElement(r.Fragment,null,r.createElement("div",{className:"table table-hover"},r.createElement("div",{className:"table-row",style:{paddingRight:"10px"}},d)),r.createElement("div",{className:"table table-hover _scroll-bar",style:{overflowY:"auto",paddingRight:"4px"}},h&&h.length&&r.createElement(r.Fragment,null,h))):null}}]),t}();Wn.defaultProps={maxRows:20};var Hn=((zn=function(e){function t(e){Nn(this,t);var n=Mn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.getAssetList=Object(Tn.debounce)(Dn.a.getAssetList.defer,150),n._renderFindMarkets=function(){var e=[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(n.props.preferredBases));return r.createElement("div",{className:"grid-block",style:{overflow:"visible",width:"100%",textAlign:"left",padding:"0.75rem 0.5rem"}},r.createElement(An.a,{onAssetSelect:n._onFoundBaseAsset.bind(n),assets:e,className:"small-12 medium-6",onChange:n._onInputBaseAsset.bind(n),asset:n.state.findBaseInput,assetInput:n.state.findBaseInput,tabIndex:1,onFound:n._onFoundBaseAsset.bind(n),label:"exchange.base",noLabel:!0,inputStyle:{fontSize:"0.9rem"},style:{padding:2}}),r.createElement("div",{className:"market-more small-12 medium-6",style:{padding:2,marginTop:"-1px"}},r.createElement("label",null,r.createElement(b.a,{content:"account.user_issued_assets.name"}),":"),r.createElement("input",{style:{fontSize:"0.9rem",position:"relative",top:1},type:"text",value:n.state.inputValue,onChange:n._onInputName.bind(n),placeholder:j.a.translate("exchange.search")})))};var o=[null],a=o[0],i=2===o.length?o[1]:null;return n.state={inverseSort:e.viewSettings.get("myMarketsInvert",!0),sortBy:e.viewSettings.get("myMarketsSort","volume"),activeTab:e.viewSettings.get("favMarketTab","my-market"),activeMarketTab:e.viewSettings.get("activeMarketTab",0),lookupQuote:a,lookupBase:i,inputValue:null,minWidth:"100%",findBaseInput:"USD",activeFindBase:"USD"},n}return In(t,r["Component"]),Fn(t,[{key:"shouldComponentUpdate",value:function(e,t){return"find-market"===this.state.activeTab||"find-market"!==t.activeTab||e.searchAssets.size||this._lookupAssets("OPEN.",!0),!(Xt.is(e.searchAssets,this.props.searchAssets)&&Xt.is(e.markets,this.props.markets)&&Xt.is(e.starredMarkets,this.props.starredMarkets)&&Xt.is(e.defaultMarkets,this.props.defaultMarkets)&&Xt.is(e.marketStats,this.props.marketStats)&&y.a.are_equal_shallow(t,this.state)&&e.current===this.props.current&&e.minWidth===this.props.minWidth&&e.listHeight===this.props.listHeight&&e.preferredBases===this.props.preferredBases&&e.onlyStars===this.props.onlyStars&&e.assetsLoading===this.props.assetsLoading&&e.userMarkets===this.props.userMarkets)}},{key:"componentDidMount",value:function(){this.refs.favorites;"find-market"===this.state.activeTab&&this._lookupAssets("OPEN.",!0)}},{key:"_inverseSort",value:function(){en.a.changeViewSetting({myMarketsInvert:!this.state.myMarketsInvert}),this.setState({inverseSort:!this.state.inverseSort})}},{key:"_changeSort",value:function(e){e!==this.state.sortBy?(en.a.changeViewSetting({myMarketsSort:e}),this.setState({sortBy:e})):this._inverseSort()}},{key:"_goMarkets",value:function(){this.context.router.history.push("/markets")}},{key:"_changeTab",value:function(e){en.a.changeViewSetting({favMarketTab:e}),this.setState({activeTab:e})}},{key:"_onInputName",value:function(e){var t=e.target.value.toUpperCase();this.setState({inputValue:t}),this._lookupAssets(t)}},{key:"_lookupAssets",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(console.log("__lookupAssets",e,t),e||""===e){var n=new Date,r=e.toUpperCase().split(":"),o=r[0],a=2===r.length?r[1]:null;if(this.setState({lookupQuote:o,lookupBase:a}),en.a.changeViewSetting.defer({marketLookupInput:e.toUpperCase()}),this.state.lookupQuote!==o||t){if(o.length<1||n-qn<=250)return!1}else if(a&&this.state.lookupBase!==a){if(a.length<1||n-qn<=250)return!1;this.getAssetList(a,50)}}}},{key:"toggleActiveMarketTab",value:function(e){en.a.changeViewSetting({activeMarketTab:e}),this.setState({activeMarketTab:e})}},{key:"_onInputBaseAsset",value:function(e){this.setState({findBaseInput:e.toUpperCase(),error:null})}},{key:"_onFoundBaseAsset",value:function(e){e&&this.setState({activeFindBase:e.get("symbol")})}},{key:"render",value:function(){var e=this,t=this.props,n=t.starredMarkets,o=t.defaultMarkets,a=t.marketStats,i=t.columns,s=t.searchAssets,u=t.assetsLoading,l=t.preferredBases,c=(t.core,t.current),f=t.viewSettings,p=t.listHeight,h=t.onlyStars,y=t.userMarkets,m=this.state,v=m.activeMarketTab,w=m.activeTab,E=m.lookupQuote,S=m.lookupBase,O=r.createElement("div",null),_="my-market"===w;l.map(function(e){return e});_||(l=(l=l.clear()).push(this.state.activeFindBase));var C={},x=[];E||(E="OPEN."),_||(v=0),s.filter(function(e){return S&&S.length?0===e.symbol.indexOf(S):-1!==e.symbol.indexOf(E)}).forEach(function(e){S&&S.length?0===e.symbol.indexOf(S)&&x.push(e.symbol):l.includes(e.symbol)&&e.symbol.length>=E.length&&e.symbol.length<E.length+3&&x.push(e.symbol)}),x=(x=x.concat(l.filter(function(e){return!S||!S.length||0===e.indexOf(S)}).toArray())).filter(function(e){return!(S&&S.length>1)||0===e.indexOf(S)});var P=[];s.size&&s.filter(function(e){return-1!==e.symbol.indexOf(E)&&e.symbol.length>=E.length}).forEach(function(e){x.forEach(function(t){var n=e.symbol+"_"+t;t!==e.symbol&&P.push([n,{quote:e.symbol,base:t}])})}),P=P.filter(function(e){return!S||e[1].quote===E}),P=Xt.Map(P);var D=_?o:P;_&&y.size&&y.forEach(function(e,t){D=D.set(t,e)}),D.size>0&&(O=D.filter(function(t){if(_){var r=t.quote+"_"+t.base;return e.state.myMarketFilter?-1!==r.indexOf(e.state.myMarketFilter):!(h&&!n.has(r))}return!(E.length<1)&&-1!==t.quote.indexOf(E)}).map(function(e){var t=e.quote+"_"+e.base;return l.includes(e.base)?(C[e.base]||(C[e.base]=[]),C[e.base].push({id:t,quote:e.quote,base:e.base}),null):{id:t,quote:e.quote,base:e.base}}).filter(function(e){return null!==e}).take(_?100:20).toArray());var A=O&&O.length,j="mymarkets-header clickable",R=g()(j,{inactive:!_}),F=(g()(j,{inactive:_}),{minWidth:this.state.minWidth,minHeight:"6rem"});return p&&(F.height=p),r.createElement(r.Fragment,null,r.createElement("div",{className:"grid-block shrink left-orderbook-header"},r.createElement("div",{ref:"myMarkets",className:R,onClick:this._changeTab.bind(this,"my-market")},r.createElement(b.a,{content:"exchange.market_name"}))),this.props.controls?r.createElement("div",{className:"small-12 medium-6",style:{padding:"1rem 0"}},this.props.controls?r.createElement("div",{style:{paddingBottom:"0.5rem"}},this.props.controls):null):null,r.createElement("ul",{className:"mymarkets-tabs",style:{padding:"0 0.5em"}},l.map(function(t,n){return t?r.createElement(T.r,{style:{lineHeight:"1.8",marginRight:"1rem",display:"inline-block",height:"1.8em",fontWeight:"bold",borderBottomWidth:"2px"},key:t,active:v===n,onClick:e.toggleActiveMarketTab.bind(e,n)},r.createElement(k.a,{name:t,dataPlace:"left"})):null}),_&&A?r.createElement("li",{key:"others",style:{textTransform:"uppercase"},onClick:this.toggleActiveMarketTab.bind(this,l.size+1),className:g()("mymarkets-tab",{active:v===l.size+1})},r.createElement(b.a,{content:"exchange.others"})):null),_?r.createElement("div",{className:"grid-block shrink",style:{width:"100%",textAlign:"left",padding:"0.75rem 0.5rem"}},r.createElement(T.h,{active:this.props.onlyStars,onChange:function(){d.a.toggleStars()}},r.createElement(b.a,{content:"exchange.show_star_2"}),r.createElement(b.a,{content:"exchange.show_star_1"}),r.createElement(T.k,{icon:"star"})),r.createElement(T.j,null),r.createElement("div",{className:"float-right",style:{paddingLeft:20}},r.createElement("input",{style:{fontSize:"0.9rem",height:"inherit",padding:2},className:"no-margin",type:"text",placeholder:"Filter",value:this.state.myMarketFilter,onChange:function(t){e.setState({myMarketFilter:t.target.value&&t.target.value.toUpperCase()})}}))):this._renderFindMarkets(),r.createElement("div",{style:F,className:"table-container grid-block vertical mymarkets-list",ref:"favorites"},u?r.createElement("div",{style:{position:"absolute",paddingTop:"3rem",textAlign:"center",width:"100%"}},r.createElement(jn.a,{type:"three-bounce"})):null,l.filter(function(e){return e===l.get(v)}).map(function(t,o){return r.createElement(Wn,{userMarkets:e.props.userMarkets,defaultMarkets:e.props.defaultMarkets,index:o,allowChange:!1,key:t,current:c,starredMarkets:n,marketStats:a,viewSettings:f,columns:_?i:e.props.findColumns||i,markets:C[t],base:t,maxRows:_?20:10,findMarketTab:!_})}),v===l.size+1&&_&&A?r.createElement(Wn,{userMarkets:this.props.userMarkets,index:l.size,current:c,starredMarkets:n,marketStats:a,viewSettings:f,columns:i,markets:O,base:"others",maxRows:_?20:10,findMarketTab:!_}):null))}}]),t}()).propTypes={core:mn.a.ChainAsset.isRequired},zn.defaultProps={activeTab:"my-market",core:"1.3.0",setMinWidth:!1},zn.contextTypes={router:f.object.isRequired},zn);Hn=Object(bn.a)(Hn,{keep_updating:!0});var zn,Un=function(e){function t(){return Nn(this,t),Mn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return In(t,r["Component"]),Fn(t,[{key:"render",value:function(){return r.createElement(Hn,Object.assign({},this.props))}}]),t}(),Yn=Object(_.connect)(Un,{listenTo:function(){return[s.b,a.a,Pn.a]},getProps:function(){return{starredMarkets:s.b.getState().starredMarkets,defaultMarkets:s.b.getState().defaultMarkets,viewSettings:s.b.getState().viewSettings,preferredBases:s.b.getState().preferredBases,marketStats:a.a.getState().allMarketStats,userMarkets:s.b.getState().userMarkets,searchAssets:Pn.a.getState().assets,onlyStars:a.a.getState().onlyStars,assetsLoading:Pn.a.getState().assetsLoading}}}),Gn=n(2509),Qn=n(39),Xn=n.n(Qn),Jn=n(124),Kn=n(37),Zn=n(2397),$n=n(2396),er=n(345),tr=n(104),nr=n(339),rr=n(2306),or=n.n(rr),ar=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ir=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function sr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ur(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function lr(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var cr=function(e){function t(e){sr(this,t);var n=ur(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.state={toAddress:Zn.a.getLast(e.walletType),withdrawValue:"",amountError:null,inputAmount:0,receiveLoading:!1,limitLoading:!0,apiError:!1},n._validateAddress(n.state.toAddress,e),n.deposit_address_cache=new $n.a,n}return lr(t,r["Component"]),ir(t,[{key:"onClose",value:function(){Xn.a.publish(this.props.modalId,"close")}},{key:"componentWillMount",value:function(){this._getDepositAddress()}},{key:"componentDidMount",value:function(){this._getDepositLimit(),this._estimateOutput()}},{key:"componentWillReceiveProps",value:function(e){e.inputCoinType===this.props.inputCoinType&&e.outputCoinType===this.props.outputCoinType||(this._getDepositLimit(e),this._estimateOutput(e),this._getDepositAddress(e))}},{key:"shouldComponentUpdate",value:function(e,t){return e.inputCoinType!==this.props.inputCoinType||e.outputCoinType!==this.props.outputCoinType||e.sender!==this.props.sender||e.asset!==this.props.asset||e.isAvailable!==this.props.isAvailable||e.isDown!==this.props.isDown||!y.a.are_equal_shallow(t,this.state)}},{key:"_getDepositLimit",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;this.setState({limitLoading:!0}),Object(Zn.d)(t.inputCoinType,t.outputCoinType).then(function(t){e.setState({depositLimit:t.depositLimit,limitLoading:!1})}).catch(function(t){console.log("deposit limit error:",t),e.setState({depositLimit:null,limitLoading:!1})})}},{key:"_onAmountChange",value:function(e,t){var n=new RegExp(/[[:digit:]]/),r=t.target;switch(n.test(r.value)||(r.value=r.value.replace(/[^0-9.]/g,"")),"."==r.value.charAt(0)&&(r.value="0."),r.value.charAt(r.value.length)!=r.value.search(".")&&r.value.substr(1),r.value=y.a.limitByPrecision(r.value,8),e){case"input":this.setState({inputAmount:r.value},this._estimateOutput.bind(this));break;case"output":this.setState({outputAmount:r.value},this._estimateInput.bind(this))}}},{key:"_estimateOutput",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;this.setState({receiveAmount:0,sendAmount:this.state.inputAmount}),this.state.inputAmount&&(this.setState({receiveLoading:!0}),Object(Zn.c)(this.state.inputAmount,t.inputCoinType,t.outputCoinType).then(function(t){e.setState({inputAmount:t.inputAmount,receiveAmount:t.outputAmount,receiveLoading:!1})}).catch(function(t){console.log("receive amount err:",t),e.setState({receiveLoading:!1,apiError:!0})}))}},{key:"_estimateInput",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;this.setState({receiveAmount:this.state.outputAmount,sendAmount:0}),this.state.outputAmount&&(this.setState({receiveLoading:!0}),Object(Zn.b)(this.state.outputAmount,t.inputCoinType,t.outputCoinType).then(function(t){e.setState({inputAmount:t.inputAmount,sendAmount:y.a.limitByPrecision(t.inputAmount,8),receiveLoading:!1})}).catch(function(t){console.log("send amount err:",t),e.setState({receiveLoading:!1,apiError:!0})}))}},{key:"_getDepositAddress",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;if(e.inputCoinType){this.setState({receive_address:null}),Object(Zn.e)(this._getDepositObject(e))}}},{key:"_getDepositObject",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;return{inputCoinType:t.inputCoinType.toLowerCase(),outputCoinType:t.outputCoinType.toLowerCase(),outputAddress:t.sender.get("name"),url:tr.c.BASE,stateCallback:function(n){e.addDepositAddress(t.inputCoinType.toLowerCase(),t.outputCoinType.toLowerCase(),t.sender.get("name"),n)}}}},{key:"addDepositAddress",value:function(e,t,n,r){this.deposit_address_cache.cacheInputAddress("blocktrades",n,e,t,r.address,r.memo),this.setState({receive_address:r})}},{key:"componentDidUpdate",value:function(){O.a.rebuild()}},{key:"_validateAddress",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.props;Object(Zn.f)({walletType:n.walletType,newAddress:e}).then(function(n){t.state.toAddress===e&&t.setState({withdraw_address_check_in_progress:!1,validAddress:n})}).catch(function(e){console.error("Error when validating address:",e)})}},{key:"_openRegistrarSite",value:function(e){e.preventDefault(),window.open(s.b.site_registr,"_blank").opener=null}},{key:"_onDropDownSelect",value:function(e){en.a.changeViewSetting({preferredBridge:e})}},{key:"onBlockTradesContact",value:function(){console.log("Open New Tab"),window.open("https://www.blocktrades.us/contact","_blank").focus()}},{key:"_renderDeposit",value:function(){var e=y.a.replaceName(this.props.asset.get("symbol"),!!this.props.asset.get("bitasset")),t=e.name,n=e.prefix,o=this.state,a=o.receive_address,i=o.apiError,s=a&&"memo"in a&&a.memo,u=a&&a.address||"",l=r.createElement("div",{className:"SimpleTrade__QR"},r.createElement(or.a,{size:140,value:u})),c=Object.keys(this.props.bridges.toJS()),f=this.props.inputCoinType.toUpperCase(),p=(n||"")+t,d=(this.state.receiveAmount/this.state.inputAmount).toFixed(4),h=p+"/"+f,m=this.state.inputAmount>parseFloat(this.state.depositLimit)||this.state.sendAmount>parseFloat(this.state.depositLimit),v=m?{border:"1px solid #a94442"}:null;return r.createElement("div",{className:u?"":"no-overflow"},r.createElement("div",{className:"SimpleTrade__withdraw-row"},r.createElement("label",{className:"left-label"},"ASSET"),r.createElement("div",{className:"inline-label input-wrapper"},r.createElement("input",{disabled:!0,type:"text",defaultValue:p}))),r.createElement("div",{className:"SimpleTrade__withdraw-row"},r.createElement("div",{className:"grid-block"},r.createElement("label",{className:"left-label"},"BRIDGE"),r.createElement("span",{"data-tip":j.a.translate("tooltip.bridge_TRADE"),className:"inline-block tooltip",onClick:this.onBlockTradesContact.bind(this)}," ",r.createElement(kn.a,{style:{position:"relative",top:0},name:"question-circle"}))),r.createElement("div",{className:"inline-label input-wrapper"},r.createElement("input",{disabled:!0,type:"text",defaultValue:"BLOCKTRADES"})," ")),r.createElement("span",{style:i?{display:"none"}:{display:""}},r.createElement("div",{className:"SimpleTrade__withdraw-row"},r.createElement("div",{className:"no-margin no-padding"},r.createElement("div",{className:"small-6",style:{paddingRight:10}},r.createElement("div",{className:"grid-block"},r.createElement("label",{className:"left-label"},r.createElement(b.a,{content:"transfer.send"})),m?r.createElement("div",{className:"error-msg inline-block tooltip","data-tip":j.a.translate("tooltip.over_limit")},r.createElement(b.a,{content:"gateway.over_limit"})," ",r.createElement(kn.a,{name:"question-circle"})):null),r.createElement("div",{className:"inline-label input-wrapper"},r.createElement("input",{style:v,type:"text",value:this.state.sendAmount,onInput:this._onAmountChange.bind(this,"input")}),r.createElement("div",{className:"form-label select floating-dropdown"},r.createElement(nr.a,{entries:c,values:c.reduce(function(e,t){return t&&(e[t]=t),e},{}),singleEntry:c[0],value:this.props.preferredBridge||c[0],onChange:this._onDropDownSelect,upperCase:!0})))),r.createElement("div",{className:"small-6",style:{paddingLeft:10}},r.createElement("label",{className:"left-label"},r.createElement(b.a,{content:"gateway.deposit_limit"})),r.createElement("div",{className:"inline-label input-wrapper"},r.createElement("input",{disabled:!0,type:"number",value:this.state.depositLimit&&parseFloat(this.state.depositLimit).toFixed(4)||0}),r.createElement("div",{className:"input-right-symbol"},f))))),r.createElement("div",{className:"SimpleTrade__withdraw-row"},r.createElement("div",{className:"no-margin no-padding"},r.createElement("div",{className:"small-6",style:{paddingRight:10}},r.createElement("label",{className:"left-label"},r.createElement(b.a,{content:"exchange.receive"})),r.createElement("div",{className:"inline-label input-wrapper"},r.createElement("input",{style:v,type:"text",value:this.state.receiveAmount,onInput:this._onAmountChange.bind(this,"output")}),r.createElement("div",{className:"input-right-symbol"},p))),r.createElement("div",{className:"small-6",style:{paddingLeft:10}},r.createElement("div",{className:"grid-block"},r.createElement("label",{className:"left-label"},r.createElement(b.a,{content:"exchange.price"}),"  ",this.state.receiveLoading?r.createElement(b.a,{content:"footer.loading"}):"")),r.createElement("div",{className:"inline-label input-wrapper"},r.createElement("input",{disabled:!0,type:"number",value:m?0:d}),r.createElement("div",{className:"input-right-symbol"},h))))),u?r.createElement("div",{className:"SimpleTrade__withdraw-row",style:{textAlign:"center"}},s?null:l,r.createElement("div",{className:"grid-block SimpleTrade__deposit-info"},r.createElement("div",{className:"copyIcon"},r.createElement(er.a,{text:u,className:"SimpleTrade__copyIcon"})),r.createElement("div",{className:"deposit-details"},r.createElement("div",null,r.createElement(b.a,{unsafe:!0,content:"gateway.purchase_notice",inputAsset:f,outputAsset:p})),r.createElement("div",null,u))),s?r.createElement("div",{className:"grid-block SimpleTrade__deposit-info",style:{marginTop:"10px"}},r.createElement("div",{className:"copyIcon"},r.createElement(er.a,{text:a.memo,className:"SimpleTrade__copyIcon"})),r.createElement("div",{className:"deposit-details"},r.createElement("div",null,r.createElement(b.a,{unsafe:!0,content:"gateway.purchase_notice_memo"})),r.createElement("div",null,a.memo))):null):r.createElement("div",{style:{textAlign:"center"}},r.createElement(jn.a,{type:"three-bounce"})),r.createElement("div",{className:"SimpleTrade__withdraw-row",style:{textAlign:"center",paddingBottom:"2rem"}},r.createElement("div",{className:"no-margin no-padding"},r.createElement("button",{className:"ActionButton_Close",onClick:this.onClose.bind(this)},r.createElement(b.a,{content:"transfer.close"}))))),r.createElement("span",{style:i?{display:""}:{display:"none"}},r.createElement("div",{className:"SimpleTrade__withdraw-row",style:{textAlign:"center",paddingBottom:"2rem",color:"#bb2926"}},r.createElement(b.a,{className:"txtlabel cancel",content:"gateway.unavailable_TRADE",component:"p"}),r.createElement("button",{className:"ActionButton_Close",onClick:this.onClose.bind(this)},r.createElement(b.a,{content:"transfer.close"})))))}},{key:"_renderCurrentBalance",value:function(){var e=this,t=y.a.replaceName(this.props.asset.get("symbol"),!!this.props.asset.get("bitasset")).name,n="deposit"===this.props.action,o=this.props.balances.find(function(t){return t&&t.get("asset_type")===e.props.asset.get("id")}),a=o?new Kn.a({asset_id:o.get("asset_type"),precision:this.props.asset.get("precision"),amount:o.get("balance")}):null,i=n?r.createElement("span",{style:{border:"2px solid black",borderLeft:"none"},className:"form-label"},t):r.createElement("button",{"data-place":"right","data-tip":j.a.translate("tooltip.withdraw_full"),className:"button",style:{border:"2px solid black",borderLeft:"none"},onClick:this._updateAmount.bind(this,o?parseInt(o.get("balance"),10):0)},r.createElement(kn.a,{name:"clippy"}));return r.createElement("div",{className:"SimpleTrade__withdraw-row",style:{fontSize:"1rem"}},r.createElement("label",{style:{fontSize:"1rem"}},j.a.translate("gateway.balance_asset",{asset:t}),":",r.createElement("span",{className:"inline-label"},r.createElement("input",{disabled:!0,style:{color:"black",border:"2px solid black",padding:10,width:"100%"},value:a?a.getAmount({real:!0}):0}),i)))}},{key:"render",value:function(){if(!this.props.asset)return null;var e=n(720);return r.createElement("div",{className:"SimpleTrade__modal"},r.createElement("div",{className:"Modal__header",style:{background:"none"}}),r.createElement("div",{className:"grid-block vertical no-overflow",style:{zIndex:1002,paddingLeft:"2rem",paddingRight:"2rem"}},r.createElement("div",{style:{textAlign:"center"}},r.createElement("img",{style:{margin:0,height:80},src:e}),r.createElement("br",null),r.createElement("p",{style:{fontSize:"1.8rem",fontWeight:"bold",marginBottom:0}},"Buy")),this.props.isDown?r.createElement("div",{style:{textAlign:"center"}},r.createElement(b.a,{className:"txtlabel cancel",content:"gateway.unavailable_TRADE",component:"p"})):this.props.isAvailable?this._renderDeposit():r.createElement("div",{style:{textAlign:"center"}},r.createElement(b.a,{className:"txtlabel cancel",content:"gateway.unavailable",component:"p"}))))}}]),t}();cr.propTypes={sender:mn.a.ChainAccount.isRequired,asset:mn.a.ChainAsset.isRequired},cr=Object(bn.a)(cr);var fr=function(e){function t(){return sr(this,t),ur(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return lr(t,r["Component"]),ir(t,[{key:"render",value:function(){var e=this.props,t=e.preferredBridge,n=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["preferredBridge"]),o=this.props.bridges.get(this.props.preferredBridge);return o||(t=(o=this.props.bridges.first()).inputCoinType),r.createElement(cr,ar({},n,{preferredBridge:t},o.toJS()))}}]),t}();fr=Object(_.connect)(fr,{listenTo:function(){return[s.b]},getProps:function(){return{preferredBridge:s.b.getState().viewSettings.get("preferredBridge","btc")}}});var pr=function(e){function t(){sr(this,t);var e=ur(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={open:!1},e}return lr(t,r["Component"]),ir(t,[{key:"show",value:function(){var e=this;this.setState({open:!0},function(){Xn.a.publish(e.props.modalId,"open")})}},{key:"onClose",value:function(){this.setState({open:!1})}},{key:"render",value:function(){return this.props.bridges?r.createElement(Jn.a,{className:"test",onClose:this.onClose.bind(this),id:this.props.modalId,overlay:!0},this.state.open?r.createElement(fr,ar({},this.props,{open:this.state.open})):null):null}}]),t}(),dr=n(2395),hr=n(215),yr=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var mr=((br=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),yr(t,[{key:"shouldComponentUpdate",value:function(e){return e.amount!==this.props.amount||e.onBorrow!==this.props.onBorrow||e.total!==this.props.total||e.currentPrice!==this.props.currentPrice||e.price!==this.props.price||e.balance!==this.props.balance||e.account!==this.props.account||e.className!==this.props.className||!(!e.fee||!this.props.fee)&&e.fee.ne(this.props.fee)||e.isPredictionMarket!==this.props.isPredictionMarket||e.feeAsset!==this.props.feeAsset||e.isOpen!==this.props.isOpen||e.hasFeeBalance!==this.props.hasFeeBalance}},{key:"_addBalance",value:function(e){"bid"===this.props.type?this.props.totalChange({target:{value:e.getAmount({real:!0}).toString()}}):this.props.amountChange({target:{value:e.getAmount({real:!0}).toString()}})}},{key:"_setPrice",value:function(e){this.props.priceChange({target:{value:e.toString()}})}},{key:"_onDeposit",value:function(e){e.preventDefault(),this.refs.deposit_modal.show()}},{key:"_onBuy",value:function(e){e.preventDefault(),this.refs.bridge_modal.show()}},{key:"render",value:function(){var e=this.props,t=e.type,n=e.quote,o=e.base,a=e.amountChange,i=e.fee,s=e.isPredictionMarket,u=e.priceChange,l=e.onSubmit,c=e.balance,f=e.totalChange,p=e.balancePrecision,d=e.currentPrice,h=e.currentPriceObject,m=e.feeAsset,v=e.feeAssets,E=e.hasFeeBalance,S=e.backedCoin,O=void 0,_=void 0,C=void 0;this.props.isOpen?r.createElement("span",null,"▼"):r.createElement("span",null,"▲");this.props.amount&&(O=this.props.amount),this.props.price&&(_=this.props.price),this.props.total&&(C=this.props.total);var x=new Kn.a({amount:c?c.get("balance"):0,precision:p,asset_id:this.props.balanceId}),P=new Kn.a({amount:o.getIn(["options","max_market_fee"]),asset_id:o.get("asset_id"),precision:o.get("precision")}),D=new Kn.a({amount:n.getIn(["options","max_market_fee"]),asset_id:n.get("asset_id"),precision:n.get("precision")}),A=O?Math.min(D.getAmount({real:!0}),O*n.getIn(["options","market_fee_percent"])/1e4):0,R=O?Math.min(P.getAmount({real:!0}),C*o.getIn(["options","market_fee_percent"])/1e4):0,F=hr.a.getFlagBooleans(o.getIn(["options","flags"]),o.has("bitasset_data_id")),N=hr.a.getFlagBooleans(n.getIn(["options","flags"]),n.has("bitasset_data_id")),M=F.charge_market_fee||N.charge_market_fee,I=F.charge_market_fee?r.createElement("div",{className:"grid-block no-padding buy-sell-row"},r.createElement("div",{className:"grid-block small-3 no-margin no-overflow buy-sell-label"},r.createElement(b.a,{content:"explorer.asset.summary.market_fee"}),":"),r.createElement("div",{className:"grid-block small-5 no-margin no-overflow buy-sell-input"},r.createElement("input",{disabled:!0,type:"text",id:"baseMarketFee",value:R,autoComplete:"off"})),r.createElement("div",{className:"grid-block small-4 no-margin no-overflow buy-sell-box"},r.createElement(k.a,{noTip:!0,name:o.get("symbol")}),r.createElement("span",{"data-tip":j.a.translate("tooltip.market_fee",{percent:o.getIn(["options","market_fee_percent"])/100,asset:o.get("symbol")}),className:"inline-block tooltip"}," ",r.createElement(kn.a,{style:{position:"relative",top:3},name:"question-circle"})))):M?r.createElement("div",{className:"grid-block no-padding buy-sell-row"},r.createElement("div",{style:{visibility:"hidden"},className:"grid-block small-3 no-margin no-overflow buy-sell-label"},r.createElement(b.a,{content:"explorer.asset.summary.market_fee"}),":")):null,q=N.charge_market_fee?r.createElement("div",{className:"grid-block no-padding buy-sell-row"},r.createElement("div",{className:"grid-block small-3 no-margin no-overflow buy-sell-label"},r.createElement(b.a,{content:"explorer.asset.summary.market_fee"}),":"),r.createElement("div",{className:"grid-block small-5 no-margin no-overflow buy-sell-input"},r.createElement("input",{disabled:!0,type:"text",id:"baseMarketFee",value:A,autoComplete:"off"})),r.createElement("div",{className:"grid-block small-4 no-margin no-overflow buy-sell-box"},r.createElement(k.a,{noTip:!0,name:n.get("symbol")}),r.createElement("span",{"data-tip":j.a.translate("tooltip.market_fee",{percent:n.getIn(["options","market_fee_percent"])/100,asset:n.get("symbol")}),className:"inline-block tooltip"}," ",r.createElement(kn.a,{style:{position:"relative",top:3},name:"question-circle"})))):M?r.createElement("div",{className:"grid-block no-padding buy-sell-row"},r.createElement("div",{style:{visibility:"hidden"},className:"grid-block small-3 no-margin no-overflow buy-sell-label"},r.createElement(b.a,{content:"explorer.asset.summary.market_fee"}),":")):null,L="bid"===t,B=L&&q?q:!L&&I?I:null,V=L?x.getAmount({real:!0})>=parseFloat(C):x.getAmount({real:!0})>=parseFloat(O),W=s?j.a.translate("exchange.short"):L?j.a.translate("exchange.buy"):j.a.translate("exchange.sell"),H=L?j.a.translate("exchange.buy"):j.a.translate("exchange.sell"),z=!s&&!(x.getAmount()>0&&V),U=!(_>0),Y=!(O>0),G=z||U||Y,Q=g()({disabled:G}),X=L?o.get("symbol"):n.get("symbol"),J=U?j.a.translate("exchange.invalid_price"):Y?j.a.translate("exchange.invalid_amount"):z?j.a.translate("exchange.no_balance"):null;v[1]&&"1.3.0"===v[1].getIn(["options","core_exchange_rate","quote","asset_id"])&&"1.3.0"===v[1].getIn(["options","core_exchange_rate","base","asset_id"])&&(m=v[0],v.splice(1,1));var K=0,Z=v.map(function(e){var t=y.a.replaceName(e.get("symbol"),e.get("bitasset")&&!e.getIn(["bitasset","is_prediction_market"])&&"1.2.0"===e.get("issuer")),n=t.name,o=t.prefix;return r.createElement("option",{key:e.get("id"),value:K++},o,n)}),$=void 0;$=m.get("symbol")===X?x.clone(x.getAmount()-i.getAmount()):x;var ee=y.a.replaceName(this.props[L?"base":"quote"].get("symbol"),!!this.props[L?"base":"quote"].get("bitasset")),te=ee.name,ne=ee.prefix,re=(ne||"")+te;return r.createElement("div",{className:this.props.className},r.createElement("div",{className:"buy-sell-container"},r.createElement("div",{className:"exchange-content-header "+t},r.createElement("span",null,W," ",r.createElement(k.a,{dataPlace:"top",name:n.get("symbol")})),this.props.onBorrow&&r.createElement("div",{className:"float-right buy-sell-deposit"},r.createElement("a",{onClick:this.props.onBorrow},r.createElement(b.a,{content:"exchange.borrow"})," ",r.createElement("span",{className:"asset-name"},re)))),r.createElement("form",{className:(this.props.isOpen?"":"hide-container ")+"order-form",noValidate:!0},r.createElement("div",{className:"grid-block vertical no-overflow no-padding"},r.createElement("div",{className:"grid-block no-padding buy-sell-row"},r.createElement("div",{className:"grid-block small-3 no-margin no-overflow buy-sell-label"},r.createElement(b.a,{content:"exchange.price"}),":"),r.createElement("div",{className:"grid-block small-5 no-margin no-overflow buy-sell-input"},r.createElement(dr.b,{id:te+"_buyPrice",value:_,onChange:u,autoComplete:"off",placeholder:"0.0"})),r.createElement("div",{className:"grid-block small-4 no-margin no-overflow buy-sell-box"},r.createElement(k.a,{dataPlace:"right",name:o.get("symbol")}))),r.createElement("div",{className:"grid-block no-padding buy-sell-row"},r.createElement("div",{className:"grid-block small-3 no-margin no-overflow buy-sell-label"},r.createElement(b.a,{content:"exchange.amount"}),":"),r.createElement("div",{className:"grid-block small-5 no-margin no-overflow buy-sell-input"},r.createElement(dr.b,{id:te+"_amount_buyAmount",value:O,onChange:a,autoComplete:"off",placeholder:"0.0"})),r.createElement("div",{className:"grid-block small-4 no-margin no-overflow buy-sell-box"},r.createElement(k.a,{dataPlace:"right",name:n.get("symbol")}))),r.createElement("div",{className:"grid-block buy-sell-row bottom-row"},r.createElement("div",{className:"grid-block small-3 no-margin no-overflow buy-sell-label"},r.createElement(b.a,{content:"exchange.total"}),":"),r.createElement("div",{className:"grid-block small-5 no-margin no-overflow buy-sell-input"},r.createElement(dr.b,{id:te+"_total_buyAmount",value:C,onChange:f,autoComplete:"off",placeholder:"0.0"})),r.createElement("div",{className:"grid-block small-4 no-margin no-overflow buy-sell-box"},r.createElement(k.a,{dataPlace:"right",name:o.get("symbol")}))),r.createElement("div",{className:"grid-block no-padding buy-sell-row"},r.createElement("div",{className:"grid-block small-3 no-margin no-overflow buy-sell-label"},r.createElement(b.a,{content:"transfer.fee"}),":"),r.createElement("div",{className:"grid-block small-5 no-margin no-overflow buy-sell-input"},r.createElement("input",{className:E?"":"no-balance",disabled:!0,type:"text",id:te+"_fee",value:E?i.getAmount({real:!0}):j.a.translate("transfer.errors.insufficient"),autoComplete:"off"})),r.createElement("div",{className:"grid-block small-4 no-margin no-overflow buy-sell-box",style:{paddingLeft:1!==v.length?0:5}},r.createElement("select",{style:1===v.length?{background:"none"}:null,disabled:1===v.length,value:v.indexOf(this.props.feeAsset),className:"form-control"+(1!==v.length?" buysell-select":""),onChange:this.props.onChangeFeeAsset},Z)),B)),r.createElement("div",null,r.createElement("div",{className:"grid-content clear-fix no-padding"},r.createElement("table",{style:{width:"100%"}},r.createElement("tbody",null,r.createElement("tr",{className:"buy-sell-info"},r.createElement("td",null,r.createElement(b.a,{content:"exchange.balance"}),":"),r.createElement("td",{style:{paddingLeft:5,textAlign:"right"}},r.createElement("span",{style:{borderBottom:"#A09F9F 1px dotted",cursor:"pointer"},onClick:this._addBalance.bind(this,$)},y.a.format_number(x.getAmount({real:!0}),p)," ",r.createElement(k.a,{name:X})))),r.createElement("tr",{className:"buy-sell-info"},r.createElement("td",{style:{paddingTop:5}},L?r.createElement(b.a,{content:"exchange.lowest_ask"}):r.createElement(b.a,{content:"exchange.highest_bid"}),": "),d?r.createElement("td",{style:{paddingLeft:5,textAlign:"right",paddingTop:5,verticalAlign:"bottom"}},r.createElement("span",{style:{borderBottom:"#A09F9F 1px dotted",cursor:"pointer"},onClick:this.props.setPrice.bind(this,t,h.sellPrice())},r.createElement(w.a,{price:d,quote:n,base:o})," ",r.createElement(k.a,{name:o.get("symbol")}),"/",r.createElement(k.a,{name:n.get("symbol")}))):null))),r.createElement("div",{className:"buysell-buttons-wrapper"},r.createElement("div",{className:"full-width-content","data-tip":J&&""},r.createElement(T.g,{className:Q,onClick:l.bind(this,!0),type:t,disabled:G},W,"（",r.createElement(k.a,{name:L?o.get("symbol"):n.get("symbol")})," "," => ",r.createElement(k.a,{name:L?n.get("symbol"):o.get("symbol")}),"）")),J&&s?r.createElement("div",{style:{paddingLeft:10},className:"float-right","data-tip":J,"data-place":"right"},r.createElement("input",{style:{margin:0},className:Q,type:"submit",onClick:l.bind(this,!1),value:H})):s?r.createElement("div",{style:{paddingLeft:10},className:"float-right","data-tip":""},r.createElement("input",{style:{margin:0},className:Q,type:"submit",onClick:l.bind(this,!1),value:H})):null))))),r.createElement(Gn.a,Object.assign({ref:"deposit_modal",action:"deposit",fiatModal:!1,account:this.props.currentAccount.get("name"),sender:this.props.currentAccount.get("id"),asset:this.props[L?"base":"quote"].get("id"),modalId:"simple_deposit_modal"+("bid"===t?"":"_ask"),balances:[this.props.balance]},S)),r.createElement(pr,{ref:"bridge_modal",action:"deposit",account:this.props.currentAccount.get("name"),sender:this.props.currentAccount.get("id"),asset:this.props.balanceId,modalId:"simple_bridge_modal"+("bid"===t?"":"_ask"),balances:[this.props.balance],bridges:this.props.currentBridges}))}}]),t}()).propTypes={balance:mn.a.ChainObject,type:f.string,amountChange:f.func.isRequired,priceChange:f.func.isRequired,onSubmit:f.func.isRequired},br.defaultProps={type:"bid"},br);mr=Object(D.a)(mr);var br,vr=Object(bn.a)(mr,{keep_updating:!0}),gr=n(2286),wr=n(2355),kr=n(2273),Er=n(2317),Sr=function(){},Or=function(e){return e};function _r(e,t,n){var r=t[n];if("function"!=typeof r)throw new Error("Attempt to rebind "+n+" which isn't a function on the source object");return function(){for(var n=arguments.length,o=Array(n),a=0;a<n;a++)o[a]=arguments[a];var i=r.apply(t,o);return i===t?e:i}}function Cr(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];var a=!0,i=!1,s=void 0;try{for(var u,l=r[Symbol.iterator]();!(a=(u=l.next()).done);a=!0){var c=u.value;e[c]=_r(e,t,c)}}catch(e){i=!0,s=e}finally{try{!a&&l.return&&l.return()}finally{if(i)throw s}}return e}function xr(){var e=Or;function t(){var t=arguments.length;if(!t)return[];var r=Object(kr.min)(arguments,n),o=void 0,a=new Array(r);for(o=-1;++o<r;){for(var i=-1,s=a[o]=new Array(t);++i<t;)s[i]=arguments[i][o];a[o]=e.apply(this,a[o])}return a}function n(e){return e.length}return t.combine=function(n){return arguments.length?(e=n,t):e},t}var Pr=function(){var e=Or,t=!0,n=Sr;function r(r){return xr().combine(function(e,r){var o=t&&ao(r)?e:n(e,r);return ao(o)?e:o})(r,e(r))}return r.algorithm=function(t){return arguments.length?(e=t,r):e},r.merge=function(e){return arguments.length?(n=e,r):n},r.skipUndefined=function(e){return arguments.length?(t=e,r):t},r},Dr=function(){var e=void 0,t=10,n=Sr,r=void 0,o=void 0,a=0,i=void 0,s=function(s){var u=o||zr(r),l=Ur(t).apply(this,arguments),c=s.slice(a,l+a).map(u),f=0,p=Ur(e);return s.map(function(e,t){return t<a+l-1?p(u(e),t,i):(t>=a+l&&(c.shift(),c.push(u(e,t))),n(c,t,f++,i))})};return s.undefinedValue=function(t){return arguments.length?(e=t,s):e},s.windowSize=function(e){return arguments.length?(t=e,s):t},s.misc=function(e){return arguments.length?(i=e,s):i},s.accumulator=function(e){return arguments.length?(n=e,s):n},s.skipInitial=function(e){return arguments.length?(a=e,s):a},s.sourcePath=function(e){return arguments.length?(r=e,s):r},s.source=function(e){return arguments.length?(o=e,s):o},s};function Tr(e){return"[object Date]"===Object.prototype.toString.call(e)}function Ar(e,t){return Tr(e)&&Tr(t)?e.getTime()===t.getTime():e===t}function jr(e,t){if(!e&&!t)return!0;if(!e&&t||e&&!t)return!1;var n=0,r=0,o=void 0;for(o in t)if(r++,t.hasOwnProperty(o)&&!e.hasOwnProperty(o)||!Ar(e[o],t[o]))return!1;for(o in e)n++;return n===r}var Rr=function(){var e=Ur(!1),t=Sr,n=Or,r=!1,o=!1,a=function(a){var i=r?void 0:[],s=[],u=0,l=0;for(l=0;l<a.length;l++){var c=a[l];e(c,l,i||[])?(i&&i.length>0&&s.push(t(i,l,u++)),i=[n(c)]):i&&i.push(n(c))}return o||s.push(t(i,l,u)),s};return a.accumulateTill=function(t){return arguments.length?(e=Ur(t),a):e},a.accumulator=function(e){return arguments.length?(t=e,a):t},a.value=function(e){return arguments.length?(n=e,a):n},a.discardTillStart=function(e){return arguments.length?(r=e,a):r},a.discardTillEnd=function(e){return arguments.length?(o=e,a):o},a},Fr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nr=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Mr=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":Fr(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":Fr(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.a.Component),Nr(t,[{key:"shouldComponentUpdate",value:function(e,t,n){return!jr(this.props,e)||!jr(this.state,t)||!jr(this.context,n)}}]),t}(),Ir=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();function qr(e,t){var n=e.widthRatio,r=t.xScale,o=r.range(),a=Ir(o,2),i=a[0],s=a[1],u=Math.abs(s-i),l=r.domain(),c=Ir(l,2),f=c[0],p=c[1];return u/Math.abs(f-p)*n}var Lr=["Solid","ShortDash","ShortDash2","ShortDot","ShortDashDot","ShortDashDotDot","Dot","Dash","LongDash","DashDot","LongDashDot","LongDashDotDot"];var Br=function(e){switch(e){default:case"Solid":return"none";case"ShortDash":return"6, 2";case"ShortDash2":return"6, 3";case"ShortDot":return"2, 2";case"ShortDashDot":return"6, 2, 2, 2";case"ShortDashDotDot":return"6, 2, 2, 2, 2, 2";case"Dot":return"2, 6";case"Dash":return"8, 6";case"LongDash":return"16, 6";case"DashDot":return"8, 6, 2, 6";case"LongDashDot":return"16, 6, 2, 6";case"LongDashDotDot":return"16, 6, 2, 6, 2, 6"}},Vr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wr=(Object.assign,function(){}(),"function"==typeof Symbol&&"symbol"===Vr(Symbol.iterator)?function(e){return void 0===e?"undefined":Vr(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":Vr(e)});function Hr(e){return Sr}function zr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=Array.isArray(e)?e:[e],n=t.length;return function(e,r){if(0===n)return oo(e)?e:r;for(var o=0;null!=e&&o<n;)e=e[t[o++]];return o===n?e:r}}function Ur(e){return"function"==typeof e?e:function(){return e}}function Yr(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this,r=0;r<e.length;++r)if(t.call(n,e[r],r,e))return e[r]}function Gr(e){return e&&(e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView)}var Qr="mousemove.pan",Xr="mouseup.pan",Jr="touchend.pan touchcancel.pan";function Kr(e){return e?{pageX:e.pageX,pageY:e.pageY,clientX:e.clientX,clientY:e.clientY}:{}}function Zr(e,t,n,r){for(var o=0,a=e.length-1;a-o>1;){var i=Math.round((o+a)/2);n(e[i])<=t?o=i:a=i}return n(e[o]).valueOf()===t.valueOf()&&(a=o),n(e[a]).valueOf()===t.valueOf()&&(o=a),n(e[o])<t&&n(e[a])<t&&(o=a),n(e[o])>t&&n(e[a])>t&&(a=o),{left:o,right:a}}function $r(e,t,n,r){var o=Zr(e,t,n),a=o.left,i=o.right;if(a===i)return e[a];var s=Math.abs(n(e[a])-t)<Math.abs(n(e[i])-t)?e[a]:e[i];return r&&console.log(e[a],e[i],s,a,i),s}var eo=Object(Er.scaleOrdinal)(Er.schemeCategory10);function to(e,t){if(!t||!e)return e?e[0]:void 0;for(var n=void 0,r=0;r<e.length;r++)if(oo(t(n=e[r])))return n}var no=to;function ro(e,t){if(!t||!e){var n=e?e.length:0;return n?e[n-1]:void 0}for(var r=void 0,o=e.length-1;o>=0;o--)if(oo(t(r=e[o])))return r}function oo(e){return null!==e&&void 0!==e}function ao(e){return!oo(e)}var io=Array.isArray;function so(e,t){var n=t.target,r=n.getBoundingClientRect(),o=e.clientX-r.left-n.clientLeft,a=e.clientY-r.top-n.clientTop;return[Math.round(o),Math.round(a)]}function uo(e,t){var n=e.currentTarget,r=t||n.getBoundingClientRect(),o=e.clientX-r.left-n.clientLeft,a=e.clientY-r.top-n.clientTop;return[Math.round(o),Math.round(a)]}function lo(e,t){e.forEach(function(e){e.setTransform(1,0,0,1,0,0),e.clearRect(-1,-1,e.canvas.width+2,e.canvas.height+2),e.scale(t,t)})}function co(e,t){var n=e.replace("#","");if(e.indexOf("#")>-1&&(3===n.length||6===n.length)){var r=3===n.length?1:2;return"rgba("+parseInt(n.substring(0,1*r),16)+", "+parseInt(n.substring(1*r,2*r),16)+", "+parseInt(n.substring(2*r,3*r),16)+", "+t+")"}return e}function fo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Or,n=Object.keys(e),r=new Array(n.length);return n.forEach(function(n,o){r[o]=t(e[n],n,e)}),r}var po=n(2290),ho=n(2508),yo=n.n(ho),mo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bo=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),vo=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var go=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":mo(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.yScale=r.yScale.bind(r),r.listener=r.listener.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":mo(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,Mr),vo(t,[{key:"componentWillMount",value:function(){var e=this.props.id;(0,this.context.subscribe)("chart_"+e,{listener:this.listener})}},{key:"componentWillUnmount",value:function(){var e=this.props.id;(0,this.context.unsubscribe)("chart_"+e)}},{key:"listener",value:function(e,t,n,r){var o=this.props,a=o.id,i=o.onContextMenu;"contextmenu"===e&&(t.currentCharts.indexOf(a)>-1&&i(t,r))}},{key:"yScale",value:function(){var e=this;return Yr(this.context.chartConfig,function(t){return t.id===e.props.id}).yScale.copy()}},{key:"getChildContext",value:function(){var e=this.props.id,t=Yr(this.context.chartConfig,function(t){return t.id===e});return{chartId:e,chartConfig:t}}},{key:"render",value:function(){var e=this,t=Yr(this.context.chartConfig,function(t){return t.id===e.props.id}).origin,n=bo(t,2),r=n[0],a=n[1];return o.a.createElement("g",{transform:"translate("+r+", "+a+")"},this.props.children)}}]),t}();go.propTypes={height:p.a.number,origin:p.a.oneOfType([p.a.array,p.a.func]),id:p.a.oneOfType([p.a.number,p.a.string]).isRequired,yExtents:p.a.oneOfType([p.a.array,p.a.func]),yExtentsCalculator:function(e,t,n){if(ao(e.yExtents)&&"function"!=typeof e.yExtentsCalculator)return new Error("yExtents or yExtentsCalculator must be present on "+n+". Validation failed.")},onContextMenu:p.a.func,yScale:p.a.func,flipYScale:p.a.bool,padding:p.a.oneOfType([p.a.number,p.a.shape({top:p.a.number,bottom:p.a.number})]),children:p.a.node},go.defaultProps={id:0,origin:[0,0],padding:0,yScale:Object(Er.scaleLinear)(),flipYScale:!1,yPan:!0,yPanEnabled:!1,onContextMenu:Sr},go.contextTypes={chartConfig:p.a.array,subscribe:p.a.func.isRequired,unsubscribe:p.a.func.isRequired},go.childContextTypes={chartConfig:p.a.object.isRequired,chartId:p.a.oneOfType([p.a.number,p.a.string]).isRequired};var wo=go,ko=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Eo=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();function So(e){return function(t){var n=e(t);return function(e){return oo(e)&&"object"===(void 0===e?"undefined":Wr(e))&&!Array.isArray(e)}(n)?fo(n):n}}function Oo(e){if(Array.isArray(e)&&2===e.length){var t=Eo(e,2),n=t[0],r=t[1];return"number"==typeof n&&"number"==typeof r}return!1}function _o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return o.a.Children.map(t,function(t){if(t&&t.type.toString()===wo.toString()){var r=ko({},wo.defaultProps,t.props),o=r.id,a=r.origin,i=r.padding,s=r.yExtents,u=r.yScale,l=r.flipYScale,c=r.yExtentsCalculator,f=u.copy(),p=function(e,t){var n=e.width,r=e.height;return{availableHeight:r,width:n,height:t.height||r}}(e,r),d=p.width,h=p.height,y=p.availableHeight,m=r.yPan,b=r.yPanEnabled,v=oo(s)?(Array.isArray(s)?s:[s]).map(Ur):void 0,g=Yr(n,function(e){return e.id===o});if(Oo(s))if(oo(g)&&g.yPan&&g.yPanEnabled&&m&&b&&jr(g.originalYExtentsProp,s))f.domain(g.yScale.domain());else{var w=Eo(s,2),k=w[0],E=w[1];f.domain([k,E])}else oo(g)&&g.yPanEnabled&&(Oo(g.originalYExtentsProp)||(f.domain(g.yScale.domain()),b=!0));return{id:o,origin:Ur(a)(d,y),padding:i,originalYExtentsProp:s,yExtents:v,yExtentsCalculator:c,flipYScale:l,yScale:f,yPan:m,yPanEnabled:b,width:d,height:h}}}).filter(function(e){return oo(e)})}function Co(e,t){return e.filter(function(e){var n=e.origin[1],r=n+e.height;return t[1]>n&&t[1]<r}).map(function(e){return e.id})}function xo(e,t,n,r,o){var a=t.plotData,i=t.xAccessor,s=t.displayXAccessor,u=t.fullData,l=e.map(function(e){var t=e.yExtentsCalculator,o=e.yExtents,l=e.yScale;return{realYDomain:oo(t)?t({plotData:a,xDomain:n,xAccessor:i,displayXAccessor:s,fullData:u}):function(e,t,n){var r=e.map(function(e){return n.map(So(e))}),o=yo()(r);return t.invert?Object(kr.extent)(o):Object(po.set)(o).values()}(o,l,a),yDomainDY:oo(r)?l.range().map(function(e){return e-r}).map(l.invert):l.domain(),prevYDomain:l.domain()}});return xr().combine(function(e,t){var n=t.realYDomain,r=t.yDomainDY,a=t.prevYDomain,i=e.id,s=e.padding,u=e.height,l=e.yScale,c=e.yPan,f=e.flipYScale,p=e.yPanEnabled,d=void 0!==p&&p,h=!oo(o)||o.indexOf(i)>-1,y=c&&d?h?r:a:n,m=function(e,t,n,r){if(e.rangeRoundPoints||ao(e.invert)){if(isNaN(n))throw new Error("padding has to be a number for ordinal scale");e.rangeRoundPoints&&e.rangeRoundPoints(r?[0,t]:[t,0],n),e.rangeRound&&e.range(r?[0,t]:[t,0]).padding(n)}else{var o=isNaN(n)?n:{top:n,bottom:n},a=o.top,i=o.bottom;e.range(r?[a,t-i]:[t-i,a])}return e}(l.copy().domain(y),u,s,f);return ko({},e,{yScale:m,realYDomain:n})})(e,l)}function Po(e,t,n,r){var o=void 0;if(e.invert)o=$r(r,e.invert(n[0]),t);else{var a=e.range().map(function(e,t){return{x:Math.abs(e-n[0]),idx:t}}).reduce(function(e,t){return e.x<t.x?e:t});o=oo(a)?r[a.idx]:r[0]}return o}function Do(e,t,n,r){var o=void 0,a=void 0;if(e.invert){if((o=e.invert(n[0]))>t(ro(r))&&e.value)return Math.round(o);a=$r(r,o,t)}else{var i=e.range().map(function(e,t){return{x:Math.abs(e-n[0]),idx:t}}).reduce(function(e,t){return e.x<t.x?e:t});a=oo(i)?r[i.idx]:r[0]}return t(a)}var To=n(2374),Ao="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ro=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Fo=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function No(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}var Mo=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":Ao(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleEnter=n.handleEnter.bind(n),n.handleLeave=n.handleLeave.bind(n),n.handleWheel=n.handleWheel.bind(n),n.handleMouseMove=n.handleMouseMove.bind(n),n.handleMouseDown=n.handleMouseDown.bind(n),n.handlePanEnd=n.handlePanEnd.bind(n),n.handlePan=n.handlePan.bind(n),n.handleTouchStart=n.handleTouchStart.bind(n),n.handleTouchMove=n.handleTouchMove.bind(n),n.handlePinchZoom=n.handlePinchZoom.bind(n),n.handlePinchZoomEnd=n.handlePinchZoomEnd.bind(n),n.handleClick=n.handleClick.bind(n),n.handleRightClick=n.handleRightClick.bind(n),n.handleDrag=n.handleDrag.bind(n),n.handleDragEnd=n.handleDragEnd.bind(n),n.shouldPan=n.shouldPan.bind(n),n.canPan=n.canPan.bind(n),n.setCursorClass=n.setCursorClass.bind(n),n.saveNode=n.saveNode.bind(n),n.mouseInside=!1,n.mouseInteraction=!0,n.state={panInProgress:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":Ao(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),Fo(t,[{key:"saveNode",value:function(e){this.node=e}},{key:"componentWillMount",value:function(){this.focus=this.props.focus}},{key:"componentDidMount",value:function(){this.node&&Object(To.select)(this.node).on("mouseenter.interaction",this.handleEnter).on("mouseleave.interaction",this.handleLeave)}},{key:"componentDidUpdate",value:function(){this.componentDidMount()}},{key:"componentWillUnmount",value:function(){if(this.node){Object(To.select)(this.node).on("mouseenter.interaction",null).on("mouseleave.interaction",null);var e=Gr(this.node);Object(To.select)(e).on(Qr,null)}}},{key:"handleEnter",value:function(){var e=To.event,t=this.props.onMouseEnter;if(this.mouseInside=!0,!this.state.panInProgress&&!this.state.dragInProgress){var n=Gr(this.node);Object(To.select)(n).on(Qr,this.handleMouseMove)}t(e)}},{key:"handleLeave",value:function(e){var t=this.props.onMouseLeave;if(this.mouseInside=!1,!this.state.panInProgress&&!this.state.dragInProgress){var n=Gr(this.node);Object(To.select)(n).on(Qr,null)}t(e)}},{key:"handleWheel",value:function(e){var t=this.props,n=t.zoom,r=t.onZoom,o=this.state.panInProgress,a=Math.abs(e.deltaY)>Math.abs(e.deltaX)&&Math.abs(e.deltaY)>0,i=uo(e);if(e.preventDefault(),n&&this.focus&&a&&!o)r(e.deltaY>0?1:-1,i,e);else if(this.focus){if(this.shouldPan()){var s=this.state.panStart,u=s.panStartXScale,l=s.chartsToPan;this.lastNewPos=i,this.panHappened=!0,this.dx+=e.deltaX,this.dy+=e.deltaY;var c={dx:this.dx,dy:this.dy};this.props.onPan(i,u,c,l,e)}else{var f=this.props,p=f.xScale,d=Co(f.chartConfig,i);this.dx=0,this.dy=0,this.setState({panInProgress:!0,panStart:{panStartXScale:p,panOrigin:i,chartsToPan:d}})}this.queuePanEnd()}}},{key:"queuePanEnd",value:function(){var e=this;oo(this.panEndTimeout)&&clearTimeout(this.panEndTimeout),this.panEndTimeout=setTimeout(function(){e.handlePanEnd()},100)}},{key:"handleMouseMove",value:function(){var e=To.event,t=this.props,n=t.onMouseMove,r=t.mouseMove;this.mouseInteraction&&r&&!this.state.panInProgress&&n(Object(To.mouse)(this.node),"mouse",e)}},{key:"handleClick",value:function(e){var t=this,n=uo(e),r=this.props,o=r.onClick,a=r.onDoubleClick;this.panHappened||this.dragHappened||(this.clicked?(a(n,e),this.clicked=!1):(o(n,e),this.clicked=!0,setTimeout(function(){t.clicked&&(t.clicked=!1)},400)))}},{key:"handleRightClick",value:function(e){e.stopPropagation(),e.preventDefault();var t=this.props,n=t.onContextMenu,r=t.onPanEnd,o=uo(e,this.node.getBoundingClientRect());if(oo(this.state.panStart)){var a=this.state.panStart,i=a.panStartXScale,s=a.panOrigin,u=a.chartsToPan;this.panHappened&&r(o,i,s,u,e);var l=Gr(this.node);Object(To.select)(l).on(Qr,null).on(Xr,null),this.setState({panInProgress:!1,panStart:null})}n(o,e)}},{key:"handleDrag",value:function(){var e=To.event;if(this.props.onDrag){this.dragHappened=!0;var t=Object(To.mouse)(this.node);this.props.onDrag({startPos:this.state.dragStartPosition,mouseXY:t},e)}}},{key:"cancelDrag",value:function(){var e=Gr(this.node);Object(To.select)(e).on(Qr,this.mouseInside?this.handleMouseMove:null).on(Xr,null),this.setState({dragInProgress:!1}),this.mouseInteraction=!0}},{key:"handleDragEnd",value:function(){var e=To.event,t=Object(To.mouse)(this.node),n=Gr(this.node);Object(To.select)(n).on(Qr,this.mouseInside?this.handleMouseMove:null).on(Xr,null),this.dragHappened&&this.props.onDragComplete({mouseXY:t},e),this.setState({dragInProgress:!1}),this.mouseInteraction=!0}},{key:"canPan",value:function(){var e=this.props.getAllPanConditions,t=this.props.pan,n=e().reduce(function(e,t){return{draggable:e.draggable||t.draggable,panEnabled:e.panEnabled&&t.panEnabled}},{draggable:!1,panEnabled:t});return{panEnabled:n.panEnabled,somethingSelected:n.draggable}}},{key:"handleMouseDown",value:function(e){if(0===e.button){var t=this.props,n=t.xScale,r=t.chartConfig,o=t.onMouseDown;if(this.panHappened=!1,this.dragHappened=!1,this.focus=!0,!this.state.panInProgress&&this.mouseInteraction){var a=uo(e),i=Co(r,a),s=this.canPan(),u=s.panEnabled,l=s.somethingSelected,c=u&&!l;if(c){this.setState({panInProgress:c,panStart:{panStartXScale:n,panOrigin:a,chartsToPan:i}});var f=Gr(this.node);Object(To.select)(f).on(Qr,this.handlePan).on(Xr,this.handlePanEnd)}else if(l){this.setState({panInProgress:!1,dragInProgress:!0,panStart:null,dragStartPosition:a}),this.props.onDragStart({startPos:a},e);var p=Gr(this.node);Object(To.select)(p).on(Qr,this.handleDrag).on(Xr,this.handleDragEnd)}o(a,i,e)}e.preventDefault()}}},{key:"shouldPan",value:function(){var e=this.props,t=e.pan,n=e.onPan;return t&&n&&oo(this.state.panStart)}},{key:"handlePan",value:function(){var e=To.event;if(this.shouldPan()){this.panHappened=!0;var t=this.state.panStart,n=t.panStartXScale,r=t.panOrigin,o=t.chartsToPan,a=this.mouseInteraction?Object(To.mouse)(this.node):Object(To.touches)(this.node)[0];this.lastNewPos=a;var i=a[0]-r[0],s=a[1]-r[1];this.dx=i,this.dy=s,this.props.onPan(a,n,{dx:i,dy:s},o,e)}}},{key:"handlePanEnd",value:function(){var e=To.event,t=this.props,n=t.pan,r=t.onPanEnd;if(oo(this.state.panStart)){var o=this.state.panStart,a=o.panStartXScale,i=o.chartsToPan,s=Gr(this.node);if(Object(To.select)(s).on(Qr,this.mouseInside?this.handleMouseMove:null).on(Xr,null).on("touchmove.pan",null).on(Jr,null),this.panHappened&&n&&r){var u=this.dx,l=this.dy;delete this.dx,delete this.dy,r(this.lastNewPos,a,{dx:u,dy:l},i,e)}this.setState({panInProgress:!1,panStart:null})}}},{key:"handleTouchMove",value:function(e){(0,this.props.onMouseMove)(so(Kr(e.touches[0]),e),"touch",e)}},{key:"handleTouchStart",value:function(e){this.mouseInteraction=!1;var t=this.props,n=t.pan,r=t.chartConfig,o=t.onMouseMove,a=this.props,i=a.xScale,s=a.onPanEnd;if(1===e.touches.length){this.panHappened=!1;var u=so(Kr(e.touches[0]),e);if(o(u,"touch",e),n){var l=Co(r,u);this.setState({panInProgress:!0,panStart:{panStartXScale:i,panOrigin:u,chartsToPan:l}});var c=Gr(this.node);Object(To.select)(c).on("touchmove.pan",this.handlePan,!1).on(Jr,this.handlePanEnd,!1)}}else if(2===e.touches.length){var f=this.state,p=f.panInProgress,d=f.panStart;if(p&&n&&s){var h=d.panStartXScale,y=d.panOrigin,m=d.chartsToPan,b=Gr(this.node);Object(To.select)(b).on(Qr,this.mouseInside?this.handleMouseMove:null).on(Xr,null).on("touchmove.pan",this.handlePinchZoom,!1).on(Jr,this.handlePinchZoomEnd,!1);var v=so(Kr(e.touches[0]),e),g=so(Kr(e.touches[1]),e);this.panHappened&&n&&s&&s(this.lastNewPos,h,y,m,e),this.setState({panInProgress:!1,pinchZoomStart:{xScale:i,touch1Pos:v,touch2Pos:g,range:i.range(),chartsToPan:m}})}}}},{key:"handlePinchZoom",value:function(){var e=To.event,t=Object(To.touches)(this.node),n=Ro(t,2),r=n[0],o=n[1],a=this.props,i=a.xScale,s=a.zoom,u=a.onPinchZoom,l=this.state.pinchZoomStart,c=(l.chartsToPan,No(l,["chartsToPan"]));s&&u&&u(c,{touch1Pos:r,touch2Pos:o,xScale:i},e)}},{key:"handlePinchZoomEnd",value:function(){var e=To.event,t=Gr(this.node);Object(To.select)(t).on("touchmove.pan",null).on(Jr,null);var n=this.props,r=n.zoom,o=n.onPinchZoomEnd,a=this.state.pinchZoomStart,i=(a.chartsToPan,No(a,["chartsToPan"]));r&&o&&o(i,e),this.setState({pinchZoomStart:null})}},{key:"setCursorClass",value:function(e){e!==this.state.cursorOverrideClass&&this.setState({cursorOverrideClass:e})}},{key:"render",value:function(){var e=this.props,t=e.height,n=e.width,r=e.disableInteraction,a=e.useCrossHairStyleCursor,i=null!=this.state.cursorOverrideClass?this.state.cursorOverrideClass:a?"":this.state.panInProgress?"react-stockcharts-grabbing-cursor":"react-stockcharts-crosshair-cursor",s=r||{onWheel:this.handleWheel,onMouseDown:this.handleMouseDown,onClick:this.handleClick,onContextMenu:this.handleRightClick,onTouchStart:this.handleTouchStart,onTouchMove:this.handleTouchMove};return o.a.createElement("rect",jo({ref:this.saveNode,className:i,width:n,height:t,style:{opacity:0}},s))}}]),t}();Mo.propTypes={mouseMove:p.a.bool.isRequired,zoom:p.a.bool.isRequired,pan:p.a.bool.isRequired,panSpeedMultiplier:p.a.number.isRequired,focus:p.a.bool.isRequired,useCrossHairStyleCursor:p.a.bool.isRequired,width:p.a.number.isRequired,height:p.a.number.isRequired,chartConfig:p.a.array,xScale:p.a.func.isRequired,xAccessor:p.a.func.isRequired,disableInteraction:p.a.bool.isRequired,getAllPanConditions:p.a.func.isRequired,onMouseMove:p.a.func,onMouseEnter:p.a.func,onMouseLeave:p.a.func,onZoom:p.a.func,onPinchZoom:p.a.func,onPinchZoomEnd:p.a.func.isRequired,onPan:p.a.func,onPanEnd:p.a.func,onDragStart:p.a.func,onDrag:p.a.func,onDragComplete:p.a.func,onClick:p.a.func,onDoubleClick:p.a.func,onContextMenu:p.a.func,onMouseDown:p.a.func,children:p.a.node},Mo.defaultProps={mouseMove:!1,zoom:!1,pan:!1,panSpeedMultiplier:1,focus:!1,onDragComplete:Sr,disableInteraction:!1};var Io=Mo,qo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lo=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Bo=Hr(),Vo=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":qo(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.setDrawCanvas=n.setDrawCanvas.bind(n),n.drawCanvas={},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":qo(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),Lo(t,[{key:"setDrawCanvas",value:function(e){oo(e)?this.drawCanvas[e.id]=e.getContext("2d"):this.drawCanvas={}}},{key:"getCanvasContexts",value:function(){if(oo(this.drawCanvas.axes))return this.drawCanvas}},{key:"render",value:function(){var e=this.props,t=e.height,n=e.width,r=e.type,a=e.zIndex,i=e.ratio;return"svg"===r?null:(Bo("using ratio ",i),o.a.createElement("div",{style:{position:"absolute",zIndex:a}},o.a.createElement("canvas",{id:"bg",ref:this.setDrawCanvas,width:n*i,height:t*i,style:{position:"absolute",width:n,height:t}}),o.a.createElement("canvas",{id:"axes",ref:this.setDrawCanvas,width:n*i,height:t*i,style:{position:"absolute",width:n,height:t}}),o.a.createElement("canvas",{id:"mouseCoord",ref:this.setDrawCanvas,width:n*i,height:t*i,style:{position:"absolute",width:n,height:t}})))}}]),t}();Vo.propTypes={width:p.a.number.isRequired,height:p.a.number.isRequired,type:p.a.string.isRequired,zIndex:p.a.number,ratio:p.a.number.isRequired};var Wo=Vo,Ho=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),zo=Hr();function Uo(e,t,n,r){var o=e.lastItem,a=e.lastItemX,i=t(o),s=n.range(),u=Ho(s,2),l=u[0];return(u[1]-l)/(a-l)*(i-r)+r}function Yo(e,t,n,r,o){return{filterData:function(a,i,s,u){var l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},c=l.currentPlotData,f=l.currentDomain,p=l.fallbackStart,d=l.fallbackEnd;if(e)return{plotData:a,domain:i};var h=to(i),y=ro(i),m=i,b=Qo(a,h,y,s);1===b.length&&oo(p)&&(m=[h=p,y=Uo(d,s,u,h)],b=Qo(a,h,y,s)),"function"==typeof t?m=t(m,[s(to(a)),s(ro(a))]):("left"!==t&&"both"!==t&&!0!==t||(m=[Math.max(h,s(to(a))),m[1]]),"right"!==t&&"both"!==t&&!0!==t||(m=[m[0],Math.min(y,s(ro(a)))])),m!==i&&(b=Qo(a,m[0],m[1],s));var v=m,g=u.copy().domain(v),w=Math.floor(g(s(ro(b)))-g(s(to(b))));o&&w<0&&(w*=-1);var k=void 0,E=void 0,S=ro(g.range())-to(g.range());if(zo("Trying to show "+b.length+" points in "+w+"px, I can show up to "+(Go(w,n)-1)+" points in that width. Also FYI the entire chart width is "+S+"px and pointsPerPxThreshold is "+n),function(e,t,n,r){return t>function(e,t){return Math.max(1,Math.ceil(e*t))}(e,r)&&t<Go(e,n)}(w,b.length,n,r))k=b,E=v,zo("AND IT WORKED");else if(S>Go(w,n)&&oo(d)){k=b;var O=Uo(d,s,u,to(v));E=[to(v),O];var _=g.copy().domain(E),C=Math.floor(_(s(ro(k)))-_(s(to(k))));zo("and ouch, that is too much, so instead showing "+k.length+" in "+C+"px")}else{k=c||b.slice(b.length-function(e,t){return Math.floor(.97*Go(e,t))}(w,n)),E=f||[s(to(k)),s(ro(k))];var x=g.copy().domain(E),P=Math.floor(x(s(ro(k)))-x(s(to(k))));zo("and ouch, that is too much, so instead showing "+k.length+" in "+P+"px")}return{plotData:k,domain:E}}}}function Go(e,t){return Math.floor(e*t)}function Qo(e,t,n,r){var o=Zr(e,t,r).right,a=Zr(e,n,r).left;return e.slice(o,a+1)}var Xo=function(e){var t=e.xScale,n=e.useWholeData,r=e.clamp,o=e.pointsPerPxThreshold,a=e.minPointsPerPxThreshold,i=e.flipXScale;return Yo(n||ao(t.invert),r,o,a,i)},Jo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ko=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Zo=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),$o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function ea(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}Hr();var ta=["seriesName"];function na(e){return{height:e.height-e.margin.top-e.margin.bottom,width:e.width-e.margin.left-e.margin.right}}function ra(e){return e?-1:1}function oa(e){var t=e.data,n=e.plotFull,r=e.xScale,o=e.clamp,a=e.pointsPerPxThreshold,i=e.flipXScale,s=e.xAccessor,u=e.displayXAccessor,l=e.minPointsPerPxThreshold,c=oo(n)?n:s===Or,f=Xo({xScale:r,useWholeData:c,clamp:o,pointsPerPxThreshold:a,minPointsPerPxThreshold:l,flipXScale:i}).filterData;return{xAccessor:s,displayXAccessor:u||s,xScale:r.copy(),fullData:t,filterData:f}}function aa(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];var t=function(e){var t=e.xAccessor,n=e.xExtents,r=e.data,o=e.padding,a=e.flipXScale;0;var i=ra(a),s=na(e),u="function"==typeof n?n(r):Object(kr.extent)(n.map(function(e){return Ur(e)}).map(function(e){return e(r,t)})),l=oa(e),c=l.xAccessor,f=l.displayXAccessor,p=l.xScale,d=l.fullData,h=l.filterData,y=ia(p,s,o,i),m=h(d,u,t,y),b=m.plotData,v=m.domain;0;return{plotData:b,xScale:y.domain(v),xAccessor:c,displayXAccessor:f,fullData:d,filterData:h}}(e),n=t.xAccessor,r=t.displayXAccessor,o=t.fullData,a=t.plotData,i=t.xScale,s=e.postCalculator,u=e.children,l=s(a),c=xo(_o(na(e),u),{plotData:l,xAccessor:n,displayXAccessor:r,fullData:o},i.domain());return $o({},t,{xScale:i,plotData:l,chartConfig:c})}function ia(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;if(e.rangeRoundPoints){if(isNaN(n))throw new Error("padding has to be a number for ordinal scale");e.rangeRoundPoints([0,t.width],n)}else if(e.padding){if(isNaN(n))throw new Error("padding has to be a number for ordinal scale");e.range([0,t.width]),e.padding(n/2)}else{var o=isNaN(n)?n:{left:n,right:n},a=o.left,i=o.right;r>0?e.range([a,t.width-i]):e.range([t.width-i,a])}return e}function sa(e){var t=e.touch1Pos,n=e.touch2Pos;return{topLeft:[Math.min(t[0],n[0]),Math.min(t[1],n[1])],bottomRight:[Math.max(t[0],n[0]),Math.max(t[1],n[1])]}}var ua=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":Jo(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.getDataInfo=e.getDataInfo.bind(e),e.getCanvasContexts=e.getCanvasContexts.bind(e),e.handleMouseMove=e.handleMouseMove.bind(e),e.handleMouseEnter=e.handleMouseEnter.bind(e),e.handleMouseLeave=e.handleMouseLeave.bind(e),e.handleZoom=e.handleZoom.bind(e),e.handlePinchZoom=e.handlePinchZoom.bind(e),e.handlePinchZoomEnd=e.handlePinchZoomEnd.bind(e),e.handlePan=e.handlePan.bind(e),e.handlePanEnd=e.handlePanEnd.bind(e),e.handleClick=e.handleClick.bind(e),e.handleMouseDown=e.handleMouseDown.bind(e),e.handleDoubleClick=e.handleDoubleClick.bind(e),e.handleContextMenu=e.handleContextMenu.bind(e),e.handleDragStart=e.handleDragStart.bind(e),e.handleDrag=e.handleDrag.bind(e),e.handleDragEnd=e.handleDragEnd.bind(e),e.panHelper=e.panHelper.bind(e),e.pinchZoomHelper=e.pinchZoomHelper.bind(e),e.xAxisZoom=e.xAxisZoom.bind(e),e.yAxisZoom=e.yAxisZoom.bind(e),e.resetYDomain=e.resetYDomain.bind(e),e.calculateStateForDomain=e.calculateStateForDomain.bind(e),e.generateSubscriptionId=e.generateSubscriptionId.bind(e),e.draw=e.draw.bind(e),e.redraw=e.redraw.bind(e),e.getAllPanConditions=e.getAllPanConditions.bind(e),e.subscriptions=[],e.subscribe=e.subscribe.bind(e),e.unsubscribe=e.unsubscribe.bind(e),e.amIOnTop=e.amIOnTop.bind(e),e.saveEventCaptureNode=e.saveEventCaptureNode.bind(e),e.saveCanvasContainerNode=e.saveCanvasContainerNode.bind(e),e.setCursorClass=e.setCursorClass.bind(e),e.getMutableState=e.getMutableState.bind(e),e.interactiveState=[],e.panInProgress=!1,e.state={},e.mutableState={},e.lastSubscriptionId=0,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":Jo(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),Ko(t,[{key:"saveEventCaptureNode",value:function(e){this.eventCaptureNode=e}},{key:"saveCanvasContainerNode",value:function(e){this.canvasContainerNode=e}},{key:"getMutableState",value:function(){return this.mutableState}},{key:"getDataInfo",value:function(){return $o({},this.state,{fullData:this.fullData})}},{key:"getCanvasContexts",value:function(){if(this.canvasContainerNode)return this.canvasContainerNode.getCanvasContexts()}},{key:"generateSubscriptionId",value:function(){return this.lastSubscriptionId++,this.lastSubscriptionId}},{key:"clearBothCanvas",value:function(){var e=this.getCanvasContexts();e&&e.axes&&lo([e.axes,e.mouseCoord],this.props.ratio)}},{key:"clearMouseCanvas",value:function(){var e=this.getCanvasContexts();e&&e.mouseCoord&&lo([e.mouseCoord],this.props.ratio)}},{key:"clearThreeCanvas",value:function(){var e=this.getCanvasContexts();e&&e.axes&&lo([e.axes,e.mouseCoord,e.bg],this.props.ratio)}},{key:"subscribe",value:function(e,t){var n=t.getPanConditions,r=void 0===n?Ur({draggable:!1,panEnabled:!0}):n;this.subscriptions=this.subscriptions.concat($o({id:e},t,{getPanConditions:r}))}},{key:"unsubscribe",value:function(e){this.subscriptions=this.subscriptions.filter(function(t){return t.id!==e})}},{key:"getAllPanConditions",value:function(){return this.subscriptions.map(function(e){return e.getPanConditions()})}},{key:"setCursorClass",value:function(e){this.eventCaptureNode.setCursorClass(e)}},{key:"amIOnTop",value:function(e){var t=this.subscriptions.filter(function(e){return e.getPanConditions().draggable});return t.length>0&&ro(t).id===e}},{key:"handleContextMenu",value:function(e,t){var n=this.state,r=n.xAccessor,o=n.chartConfig,a=n.plotData,i=n.xScale,s=Co(o,e),u=Po(i,r,e,a);this.triggerEvent("contextmenu",{mouseXY:e,currentItem:u,currentCharts:s},t)}},{key:"calculateStateForDomain",value:function(e){var t=this.state,n=t.xAccessor,r=t.displayXAccessor,o=t.xScale,a=t.chartConfig,i=t.plotData,s=this.state.filterData,u=this.fullData,l=this.props.postCalculator,c=s(u,e,n,o,{currentPlotData:i,currentDomain:o.domain()}),f=c.plotData,p=c.domain,d=l(f),h=o.copy().domain(p);return{xScale:h,plotData:d,chartConfig:xo(a,{plotData:d,xAccessor:n,displayXAccessor:r,fullData:u},h.domain())}}},{key:"pinchZoomHelper",value:function(e,t){var n=e.xScale,r=this.state,o=r.xScale,a=r.chartConfig,i=r.plotData,s=r.xAccessor,u=r.displayXAccessor,l=this.state.filterData,c=this.fullData,f=this.props.postCalculator,p=sa(e),d=p.topLeft,h=p.bottomRight,y=sa(t),m=y.topLeft,b=y.bottomRight,v=n.range()[1],g=Math.round(-(h[0]*m[0]-d[0]*b[0])/(d[0]-h[0])),w=Math.round(v+((v-h[0])*(v-m[0])-(v-d[0])*(v-b[0]))/(v-d[0]-(v-h[0]))),k=l(c,[Math.round(-g*d[0]/(-g+m[0])),Math.round(v-(w-v)*(v-d[0])/(w+(v-m[0])))].map(n.invert),s,n,{currentPlotData:i,currentDomain:o.domain()}),E=k.plotData,S=k.domain,O=f(E),_=o.copy().domain(S),C=t.touch1Pos;return{chartConfig:xo(a,{plotData:O,xAccessor:s,displayXAccessor:u,fullData:c},_.domain()),xScale:_,plotData:O,mouseXY:C,currentItem:Po(_,s,C,O)}}},{key:"cancelDrag",value:function(){this.eventCaptureNode.cancelDrag(),this.triggerEvent("dragcancel")}},{key:"handlePinchZoom",value:function(e,t,n){var r=this;if(!this.waitingForPinchZoomAnimationFrame){this.waitingForPinchZoomAnimationFrame=!0;var o=this.pinchZoomHelper(e,t);this.triggerEvent("pinchzoom",o,n),this.finalPinch=t,requestAnimationFrame(function(){r.clearBothCanvas(),r.draw({trigger:"pinchzoom"}),r.waitingForPinchZoomAnimationFrame=!1})}}},{key:"handlePinchZoomEnd",value:function(e,t){var n=this.state.xAccessor;if(this.finalPinch){var r=this.pinchZoomHelper(e,this.finalPinch),o=r.xScale;this.triggerEvent("pinchzoom",r,t),this.finalPinch=null,this.clearThreeCanvas();var a=to(this.fullData),i=to(o.domain()),s=n(a),u=this.props.onLoadMore;this.setState(r,function(){i<s&&u(i,s)})}}},{key:"handleZoom",value:function(e,t,n){if(!this.panInProgress){var r=this.state,o=r.xAccessor,a=r.xScale,i=r.plotData,s=this.props,u=s.zoomMultiplier,l=s.zoomAnchor,c=this.fullData,f=a(l({xScale:a,xAccessor:o,mouseXY:t,plotData:i,fullData:c})),p=e>0?1*u:1/u,d=a.range().map(function(e){return f+(e-f)*p}).map(a.invert),h=this.calculateStateForDomain(d),y=h.xScale,m=h.plotData,b=h.chartConfig,v=Po(y,o,t,m),g=Co(b,t);this.clearThreeCanvas();var w=to(c),k=to(y.domain()),E=o(w),S=this.props.onLoadMore;this.mutableState={mouseXY:t,currentItem:v,currentCharts:g},this.triggerEvent("zoom",{xScale:y,plotData:m,chartConfig:b,mouseXY:t,currentCharts:g,currentItem:v,show:!0},n),this.setState({xScale:y,plotData:m,chartConfig:b},function(){k<E&&S(k,E)})}}},{key:"xAxisZoom",value:function(e){var t=this.calculateStateForDomain(e),n=t.xScale,r=t.plotData,o=t.chartConfig;this.clearThreeCanvas();var a=this.state.xAccessor,i=to(this.fullData),s=to(n.domain()),u=a(i),l=this.props.onLoadMore;this.setState({xScale:n,plotData:r,chartConfig:o},function(){s<u&&l(s,u)})}},{key:"yAxisZoom",value:function(e,t){this.clearThreeCanvas();var n=this.state.chartConfig.map(function(n){if(n.id===e){var r=n.yScale;return $o({},n,{yScale:r.copy().domain(t),yPanEnabled:!0})}return n});this.setState({chartConfig:n})}},{key:"triggerEvent",value:function(e,t,n){var r=this;this.subscriptions.forEach(function(o){var a=$o({},r.state,{fullData:r.fullData,subscriptions:r.subscriptions});o.listener(e,t,a,n)})}},{key:"draw",value:function(e){this.subscriptions.forEach(function(t){oo(t.draw)&&t.draw(e)})}},{key:"redraw",value:function(){this.clearThreeCanvas(),this.draw({force:!0})}},{key:"panHelper",value:function(e,t,n,r){var o=n.dx,a=n.dy,i=this.state,s=i.xAccessor,u=i.displayXAccessor,l=i.chartConfig,c=this.state.filterData,f=this.fullData,p=this.props.postCalculator;if(ao(t.invert))throw new Error("xScale provided does not have an invert() method.You are likely using an ordinal scale. This scale does not support zoom, pan");var d=c(f,t.range().map(function(e){return e-o}).map(t.invert),s,t,{currentPlotData:this.hackyWayToStopPanBeyondBounds__plotData,currentDomain:this.hackyWayToStopPanBeyondBounds__domain}),h=d.plotData,y=d.domain,m=t.copy().domain(y),b=p(h),v=Po(m,s,e,b),g=xo(l,{plotData:b,xAccessor:s,displayXAccessor:u,fullData:f},m.domain(),a,r);return{xScale:m,plotData:b,chartConfig:g,mouseXY:e,currentCharts:Co(g,e),currentItem:v}}},{key:"handlePan",value:function(e,t,n,r,o){var a=this;if(!this.waitingForPanAnimationFrame){this.waitingForPanAnimationFrame=!0,this.hackyWayToStopPanBeyondBounds__plotData=this.hackyWayToStopPanBeyondBounds__plotData||this.state.plotData,this.hackyWayToStopPanBeyondBounds__domain=this.hackyWayToStopPanBeyondBounds__domain||this.state.xScale.domain();var i=this.panHelper(e,t,n,r);this.hackyWayToStopPanBeyondBounds__plotData=i.plotData,this.hackyWayToStopPanBeyondBounds__domain=i.xScale.domain(),this.panInProgress=!0,this.triggerEvent("pan",i,o),this.mutableState={mouseXY:i.mouseXY,currentItem:i.currentItem,currentCharts:i.currentCharts},requestAnimationFrame(function(){a.waitingForPanAnimationFrame=!1,a.clearBothCanvas(),a.draw({trigger:"pan"})})}}},{key:"handlePanEnd",value:function(e,t,n,r,o){var a=this,i=this.panHelper(e,t,n,r);this.hackyWayToStopPanBeyondBounds__plotData=null,this.hackyWayToStopPanBeyondBounds__domain=null,this.panInProgress=!1;var s=i.xScale,u=i.plotData,l=i.chartConfig;this.triggerEvent("panend",i,o),requestAnimationFrame(function(){var e=a.state.xAccessor,t=to(a.fullData),n=to(s.domain()),r=e(t),o=a.props.onLoadMore;a.clearThreeCanvas(),a.setState({xScale:s,plotData:u,chartConfig:l},function(){n<r&&o(n,r)})})}},{key:"handleMouseDown",value:function(e,t,n){this.triggerEvent("mousedown",this.mutableState,n)}},{key:"handleMouseEnter",value:function(e){this.triggerEvent("mouseenter",{show:!0},e)}},{key:"handleMouseMove",value:function(e,t,n){var r=this;if(!this.waitingForMouseMoveAnimationFrame){this.waitingForMouseMoveAnimationFrame=!0;var o=this.state,a=o.chartConfig,i=o.plotData,s=o.xScale,u=o.xAccessor,l=Co(a,e),c=Po(s,u,e,i);this.triggerEvent("mousemove",{show:!0,mouseXY:e,prevMouseXY:this.prevMouseXY,currentItem:c,currentCharts:l},n),this.prevMouseXY=e,this.mutableState={mouseXY:e,currentItem:c,currentCharts:l},requestAnimationFrame(function(){r.clearMouseCanvas(),r.draw({trigger:"mousemove"}),r.waitingForMouseMoveAnimationFrame=!1})}}},{key:"handleMouseLeave",value:function(e){this.triggerEvent("mouseleave",{show:!1},e),this.clearMouseCanvas(),this.draw({trigger:"mouseleave"})}},{key:"handleDragStart",value:function(e,t){var n=e.startPos;this.triggerEvent("dragstart",{startPos:n},t)}},{key:"handleDrag",value:function(e,t){var n=this,r=e.startPos,o=e.mouseXY,a=this.state,i=a.chartConfig,s=a.plotData,u=a.xScale,l=a.xAccessor,c=Co(i,o),f=Po(u,l,o,s);this.triggerEvent("drag",{startPos:r,mouseXY:o,currentItem:f,currentCharts:c},t),this.mutableState={mouseXY:o,currentItem:f,currentCharts:c},requestAnimationFrame(function(){n.clearMouseCanvas(),n.draw({trigger:"drag"})})}},{key:"handleDragEnd",value:function(e,t){var n=this,r=e.mouseXY;this.triggerEvent("dragend",{mouseXY:r},t),requestAnimationFrame(function(){n.clearMouseCanvas(),n.draw({trigger:"dragend"})})}},{key:"handleClick",value:function(e,t){var n=this;this.triggerEvent("click",this.mutableState,t),requestAnimationFrame(function(){n.clearMouseCanvas(),n.draw({trigger:"click"})})}},{key:"handleDoubleClick",value:function(e,t){this.triggerEvent("dblclick",{},t)}},{key:"getChildContext",value:function(){var e=na(this.props);return{fullData:this.fullData,plotData:this.state.plotData,width:e.width,height:e.height,chartConfig:this.state.chartConfig,xScale:this.state.xScale,xAccessor:this.state.xAccessor,displayXAccessor:this.state.displayXAccessor,chartCanvasType:this.props.type,margin:this.props.margin,ratio:this.props.ratio,xAxisZoom:this.xAxisZoom,yAxisZoom:this.yAxisZoom,getCanvasContexts:this.getCanvasContexts,redraw:this.redraw,subscribe:this.subscribe,unsubscribe:this.unsubscribe,generateSubscriptionId:this.generateSubscriptionId,getMutableState:this.getMutableState,amIOnTop:this.amIOnTop,setCursorClass:this.setCursorClass}}},{key:"componentWillMount",value:function(){var e=aa(this.props,!0),t=e.fullData,n=ea(e,["fullData"]);this.setState(n),this.fullData=t}},{key:"componentWillReceiveProps",value:function(e){var t=function(e,t){return!ta.every(function(n){return jr(e[n],t[n])})}(this.props,e),n=la(this.state.xScale,this.state.xAccessor,this.state.plotData),r=this.state.chartConfig,o=void 0;if(n&&!t&&jr(this.props.xExtents,e.xExtents)){var a=this.state.xScale.domain(),i=Zo(a,2),s=i[0],u=i[1],l=ro(this.fullData),c=oa(e),f=c.xAccessor,p=f(l)<=u&&f(l)>=s;0,o=function(e,t,n,r,o){var a=e.fullData,i=e.xScale,s=e.xAccessor,u=e.displayXAccessor,l=e.filterData,c=ro(a),f=t.domain(),p=Zo(f,2),d=p[0],h=p[1],y=n.postCalculator,m=n.children,b=n.padding,v=n.flipXScale,g=n.maintainPointsPerPixelOnResize,w=ra(v),k=na(n),E=ia(i,k,b,w),S=void 0;if(!r||h>=s(c)){var O=t.range(),_=Zo(O,2),C=_[0],x=_[1],P=E.range(),D=Zo(P,2),T=D[0],A=D[1],j=l(a,[g?h-(A-T)/(x-C)*(h-d):d,h],s,E,{fallbackStart:d,fallbackEnd:{lastItem:c,lastItemX:t(s(c))}});S=j.plotData,E.domain(j.domain)}else if(r&&h<s(c)){var R=t(s(c))-t.range()[1],F=t.range().map(function(e){return e+R}).map(t.invert),N=Zo(F,2),M=l(a,[N[0],N[1]],s,E);S=M.plotData,E.domain(M.domain)}var I=y(S);return{xScale:E,xAccessor:s,chartConfig:xo(_o(k,m,o),{plotData:I,xAccessor:s,displayXAccessor:u,fullData:a},E.domain()),plotData:I,fullData:a,filterData:l}}(c,this.state.xScale,e,p,r)}else o=aa(e);var d=o,h=d.fullData,y=ea(d,["fullData"]);this.panInProgress||(this.clearThreeCanvas(),this.setState(y)),this.fullData=h}},{key:"resetYDomain",value:function(e){var t=!1,n=this.state.chartConfig.map(function(n){return!ao(e)&&n.id!==e||jr(n.yScale.domain(),n.realYDomain)?n:(t=!0,$o({},n,{yScale:n.yScale.domain(n.realYDomain),yPanEnabled:!1}))});t&&(this.clearThreeCanvas(),this.setState({chartConfig:n}))}},{key:"shouldComponentUpdate",value:function(){return!this.panInProgress}},{key:"render",value:function(){var e=this.props,t=e.type,n=e.height,r=e.width,a=e.margin,i=e.className,s=e.zIndex,u=e.defaultFocus,l=e.ratio,c=e.mouseMoveEvent,f=e.panEvent,p=e.zoomEvent,d=this.props,h=d.useCrossHairStyleCursor,y=d.onSelect,m=this.state,b=m.plotData,v=m.xScale,g=m.xAccessor,w=m.chartConfig,k=na(this.props),E=la(v,g,b),S=h&&E,O=o.a.createElement("style",{type:"text/css"},"\n\t.react-stockcharts-grabbing-cursor {\n\t\tpointer-events: all;\n\t\tcursor: -moz-grabbing;\n\t\tcursor: -webkit-grabbing;\n\t\tcursor: grabbing;\n\t}\n\t.react-stockcharts-crosshair-cursor {\n\t\tpointer-events: all;\n\t\tcursor: crosshair;\n\t}\n\t.react-stockcharts-tooltip-hover {\n\t\tpointer-events: all;\n\t\tcursor: pointer;\n\t}\n\t.react-stockcharts-avoid-interaction {\n\t\tpointer-events: none;\n\t}\n\t.react-stockcharts-enable-interaction {\n\t\tpointer-events: all;\n\t}\n\t.react-stockcharts-tooltip {\n\t\tpointer-events: all;\n\t\tcursor: pointer;\n\t}\n\t.react-stockcharts-default-cursor {\n\t\tcursor: default;\n\t}\n\t.react-stockcharts-move-cursor {\n\t\tcursor: move;\n\t}\n\t.react-stockcharts-pointer-cursor {\n\t\tcursor: pointer;\n\t}\n\t.react-stockcharts-ns-resize-cursor {\n\t\tcursor: ns-resize;\n\t}\n\t.react-stockcharts-ew-resize-cursor {\n\t\tcursor: ew-resize;\n\t}");return o.a.createElement("div",{style:{position:"relative",width:r,height:n},className:i,onClick:y},o.a.createElement(Wo,{ref:this.saveCanvasContainerNode,type:t,ratio:l,width:r,height:n,zIndex:s}),o.a.createElement("svg",{className:i,width:r,height:n,style:{position:"absolute",zIndex:s+5}},O,o.a.createElement("defs",null,o.a.createElement("clipPath",{id:"chart-area-clip"},o.a.createElement("rect",{x:"0",y:"0",width:k.width,height:k.height})),w.map(function(e,t){return o.a.createElement("clipPath",{key:t,id:"chart-area-clip-"+e.id},o.a.createElement("rect",{x:"0",y:"0",width:e.width,height:e.height}))})),o.a.createElement("g",{transform:"translate("+(a.left+.5)+", "+(a.top+.5)+")"},o.a.createElement(Io,{ref:this.saveEventCaptureNode,useCrossHairStyleCursor:S,mouseMove:c&&E,zoom:p&&E,pan:f&&E,width:k.width,height:k.height,chartConfig:w,xScale:v,xAccessor:g,focus:u,disableInteraction:this.props.disableInteraction,getAllPanConditions:this.getAllPanConditions,onContextMenu:this.handleContextMenu,onClick:this.handleClick,onDoubleClick:this.handleDoubleClick,onMouseDown:this.handleMouseDown,onMouseMove:this.handleMouseMove,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onDragStart:this.handleDragStart,onDrag:this.handleDrag,onDragComplete:this.handleDragEnd,onZoom:this.handleZoom,onPinchZoom:this.handlePinchZoom,onPinchZoomEnd:this.handlePinchZoomEnd,onPan:this.handlePan,onPanEnd:this.handlePanEnd}),o.a.createElement("g",{className:"react-stockcharts-avoid-interaction"},this.props.children))))}}]),t}();function la(e,t,n){return!isNaN(e(t(to(n))))&&oo(e.invert)}ua.propTypes={width:p.a.number.isRequired,height:p.a.number.isRequired,margin:p.a.object,ratio:p.a.number.isRequired,type:p.a.oneOf(["svg","hybrid"]),pointsPerPxThreshold:p.a.number,minPointsPerPxThreshold:p.a.number,data:p.a.array.isRequired,xAccessor:p.a.func,xExtents:p.a.oneOfType([p.a.array,p.a.func]),zoomAnchor:p.a.func,className:p.a.string,seriesName:p.a.string.isRequired,zIndex:p.a.number,children:p.a.node.isRequired,xScale:p.a.func.isRequired,postCalculator:p.a.func,flipXScale:p.a.bool,useCrossHairStyleCursor:p.a.bool,padding:p.a.oneOfType([p.a.number,p.a.shape({left:p.a.number,right:p.a.number})]),defaultFocus:p.a.bool,zoomMultiplier:p.a.number,onLoadMore:p.a.func,displayXAccessor:function(e,t){if(ao(e[t]))console.warn("`displayXAccessor` is not defined, will use the value from `xAccessor` as `displayXAccessor`. This might be ok if you do not use a discontinuous scale but if you do, provide a `displayXAccessor` prop to `ChartCanvas`");else if("function"!=typeof e[t])return new Error("displayXAccessor has to be a function")},mouseMoveEvent:p.a.bool,panEvent:p.a.bool,clamp:p.a.oneOfType([p.a.string,p.a.bool,p.a.func]),zoomEvent:p.a.bool,onSelect:p.a.func,maintainPointsPerPixelOnResize:p.a.bool,disableInteraction:p.a.bool},ua.defaultProps={margin:{top:20,right:30,bottom:30,left:80},type:"hybrid",pointsPerPxThreshold:2,minPointsPerPxThreshold:.01,className:"react-stockchart",zIndex:1,xExtents:[kr.min,kr.max],postCalculator:Or,padding:0,xAccessor:Or,flipXScale:!1,useCrossHairStyleCursor:!0,defaultFocus:!0,onLoadMore:Sr,onSelect:Sr,mouseMoveEvent:!0,panEvent:!0,zoomEvent:!0,zoomMultiplier:1.1,clamp:!1,zoomAnchor:function(e){var t=e.xScale,n=e.xAccessor,r=e.mouseXY,o=e.plotData;return e.fullData,n(Po(t,n,r,o))},maintainPointsPerPixelOnResize:!0,disableInteraction:!1},ua.childContextTypes={plotData:p.a.array,fullData:p.a.array,chartConfig:p.a.arrayOf(p.a.shape({id:p.a.oneOfType([p.a.number,p.a.string]).isRequired,origin:p.a.arrayOf(p.a.number).isRequired,padding:p.a.oneOfType([p.a.number,p.a.shape({top:p.a.number,bottom:p.a.number})]),yExtents:p.a.arrayOf(p.a.func),yExtentsProvider:p.a.func,yScale:p.a.func.isRequired,mouseCoordinates:p.a.shape({at:p.a.string,format:p.a.func}),width:p.a.number.isRequired,height:p.a.number.isRequired})).isRequired,xScale:p.a.func.isRequired,xAccessor:p.a.func.isRequired,displayXAccessor:p.a.func.isRequired,width:p.a.number.isRequired,height:p.a.number.isRequired,chartCanvasType:p.a.oneOf(["svg","hybrid"]).isRequired,margin:p.a.object.isRequired,ratio:p.a.number.isRequired,getCanvasContexts:p.a.func,xAxisZoom:p.a.func,yAxisZoom:p.a.func,amIOnTop:p.a.func,redraw:p.a.func,subscribe:p.a.func,unsubscribe:p.a.func,setCursorClass:p.a.func,generateSubscriptionId:p.a.func,getMutableState:p.a.func},ua.ohlcv=function(e){return{date:e.date,open:e.open,high:e.high,low:e.low,close:e.close,volume:e.volume}};var ca=ua,fa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},da=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var ha={mouseleave:"mousemove",panend:"pan",pinchzoom:"pan",mousedown:"mousemove",click:"mousemove",contextmenu:"mousemove",dblclick:"mousemove",dragstart:"drag",dragend:"drag",dragcancel:"drag"},ya=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":fa(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));r.drawOnCanvas=r.drawOnCanvas.bind(r),r.getMoreProps=r.getMoreProps.bind(r),r.listener=r.listener.bind(r),r.draw=r.draw.bind(r),r.updateMoreProps=r.updateMoreProps.bind(r),r.evaluateType=r.evaluateType.bind(r),r.isHover=r.isHover.bind(r),r.preCanvasDraw=r.preCanvasDraw.bind(r),r.postCanvasDraw=r.postCanvasDraw.bind(r),r.getPanConditions=r.getPanConditions.bind(r),r.shouldTypeProceed=r.shouldTypeProceed.bind(r),r.preEvaluate=r.preEvaluate.bind(r);var o=n.generateSubscriptionId;return r.suscriberId=o(),r.moreProps={},r.state={updateCount:0},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":fa(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),da(t,[{key:"updateMoreProps",value:function(e){var t=this;Object.keys(e).forEach(function(n){t.moreProps[n]=e[n]})}},{key:"shouldTypeProceed",value:function(){return!0}},{key:"preEvaluate",value:function(){}},{key:"listener",value:function(e,t,n,r){oo(t)&&this.updateMoreProps(t),this.evaluationInProgress=!0,this.evaluateType(e,r),this.evaluationInProgress=!1}},{key:"evaluateType",value:function(e,t){var n=ha[e]||e;if(this.props.drawOn.indexOf(n)>-1&&(this.preEvaluate(e,this.moreProps,t),this.shouldTypeProceed(e,this.moreProps)))switch(e){case"zoom":case"mouseenter":break;case"mouseleave":this.moreProps.hovering=!1;var r=this.getMoreProps();this.props.onUnHover&&this.props.onUnHover(r,t);break;case"contextmenu":this.props.onContextMenu&&this.props.onContextMenu(this.getMoreProps(),t),this.moreProps.hovering&&this.props.onContextMenuWhenHover&&this.props.onContextMenuWhenHover(this.getMoreProps(),t);break;case"mousedown":this.props.onMouseDown&&this.props.onMouseDown(this.getMoreProps(),t);break;case"click":var o=this.getMoreProps();this.moreProps.hovering?this.props.onClickWhenHover(o,t):this.props.onClickOutside(o,t),this.props.onClick&&this.props.onClick(o,t);break;case"mousemove":var a=this.moreProps.hovering;this.moreProps.hovering=this.isHover(t);var i=this.context,s=i.amIOnTop,u=i.setCursorClass;this.moreProps.hovering&&!this.props.selected&&s(this.suscriberId)&&oo(this.props.onHover)?(u("react-stockcharts-pointer-cursor"),this.iSetTheCursorClass=!0):this.moreProps.hovering&&this.props.selected&&s(this.suscriberId)?(u(this.props.interactiveCursorClass),this.iSetTheCursorClass=!0):a&&!this.moreProps.hovering&&this.iSetTheCursorClass&&(this.iSetTheCursorClass=!1,u(null));var l=this.getMoreProps();this.moreProps.hovering&&!a&&this.props.onHover&&this.props.onHover(l,t),a&&!this.moreProps.hovering&&this.props.onUnHover&&this.props.onUnHover(l,t),this.props.onMouseMove&&this.props.onMouseMove(l,t);break;case"dblclick":var c=this.getMoreProps();this.props.onDoubleClick&&this.props.onDoubleClick(c,t),this.moreProps.hovering&&this.props.onDoubleClickWhenHover&&this.props.onDoubleClickWhenHover(c,t);break;case"pan":this.moreProps.hovering=!1,this.props.onPan&&this.props.onPan(this.getMoreProps(),t);break;case"panend":this.props.onPanEnd&&this.props.onPanEnd(this.getMoreProps(),t);break;case"dragstart":if(this.getPanConditions().draggable)(0,this.context.amIOnTop)(this.suscriberId)&&(this.dragInProgress=!0,this.props.onDragStart(this.getMoreProps(),t));this.someDragInProgress=!0;break;case"drag":this.dragInProgress&&this.props.onDrag&&this.props.onDrag(this.getMoreProps(),t);break;case"dragend":this.dragInProgress&&this.props.onDragComplete&&this.props.onDragComplete(this.getMoreProps(),t),this.dragInProgress=!1,this.someDragInProgress=!1;break;case"dragcancel":if(this.dragInProgress||this.iSetTheCursorClass)(0,this.context.setCursorClass)(null)}}},{key:"isHover",value:function(e){return!!oo(this.props.isHover)&&this.props.isHover(this.getMoreProps(),e)}},{key:"getPanConditions",value:function(){return{draggable:!(!this.props.selected||!this.moreProps.hovering)||this.props.enableDragOnHover&&this.moreProps.hovering,panEnabled:!this.props.disablePan}}},{key:"draw",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{force:!1},t=e.trigger,n=e.force,r=ha[t]||t;if(this.props.drawOn.indexOf(r)>-1||this.props.selected||n){var o=this.context.chartCanvasType;if(ao(this.props.canvasDraw)||"svg"===o){var a=this.state.updateCount;this.setState({updateCount:a+1})}else this.drawOnCanvas()}}},{key:"componentWillMount",value:function(){var e=this.context,t=e.subscribe,n=e.chartId,r=this.props,o=r.clip,a=r.edgeClip;t(this.suscriberId,{chartId:n,clip:o,edgeClip:a,listener:this.listener,draw:this.draw,getPanConditions:this.getPanConditions}),this.componentWillReceiveProps(this.props,this.context)}},{key:"componentWillUnmount",value:function(){((0,this.context.unsubscribe)(this.suscriberId),this.iSetTheCursorClass)&&(0,this.context.setCursorClass)(null)}},{key:"componentDidMount",value:function(){this.componentDidUpdate(this.props)}},{key:"componentDidUpdate",value:function(e){var t=this.context.chartCanvasType,n=this.props,r=n.canvasDraw,o=n.selected,a=n.interactiveCursorClass;if(e.selected!==o){var i=this.context.setCursorClass;o&&this.moreProps.hovering?(this.iSetTheCursorClass=!0,i(a)):(this.iSetTheCursorClass=!1,i(null))}oo(r)&&!this.evaluationInProgress&&"svg"!==t&&(this.updateMoreProps(this.moreProps),this.drawOnCanvas())}},{key:"componentWillReceiveProps",value:function(e,t){var n=t.xScale,r=t.plotData,o=t.chartConfig,a=t.getMutableState;this.props.debug(t),this.moreProps=pa({},this.moreProps,a(),{xScale:n,plotData:r,chartConfig:o})}},{key:"getMoreProps",value:function(){var e=this.context,t=e.xScale,n=e.plotData,r=e.chartConfig,o=e.morePropsDecorator,a=e.xAccessor,i=e.displayXAccessor,s=e.width,u=e.height,l=this.context,c=l.chartId,f=l.fullData,p=pa({xScale:t,plotData:n,chartConfig:r,xAccessor:a,displayXAccessor:i,width:s,height:u,chartId:c,fullData:f},this.moreProps);return(o||Or)(p)}},{key:"preCanvasDraw",value:function(){}},{key:"postCanvasDraw",value:function(){}},{key:"drawOnCanvas",value:function(){var e=this.props,t=e.canvasDraw,n=e.canvasToDraw,r=this.context.getCanvasContexts,o=this.getMoreProps(),a=n(r());this.preCanvasDraw(a,o),t(a,o),this.postCanvasDraw(a,o)}},{key:"render",value:function(){var e=this.context,t=e.chartCanvasType,n=e.chartId,r=this.props,a=r.canvasDraw,i=r.clip,s=r.svgDraw;if(oo(a)&&"svg"!==t)return null;var u=oo(n)?"-"+n:"",l=i?{clipPath:"url(#chart-area-clip"+u+")"}:null;return o.a.createElement("g",{style:l},s(this.getMoreProps()))}}]),t}();ya.propTypes={svgDraw:p.a.func.isRequired,canvasDraw:p.a.func,drawOn:p.a.array.isRequired,clip:p.a.bool.isRequired,edgeClip:p.a.bool.isRequired,interactiveCursorClass:p.a.string,selected:p.a.bool.isRequired,enableDragOnHover:p.a.bool.isRequired,disablePan:p.a.bool.isRequired,canvasToDraw:p.a.func.isRequired,isHover:p.a.func,onClick:p.a.func,onClickWhenHover:p.a.func,onClickOutside:p.a.func,onPan:p.a.func,onPanEnd:p.a.func,onDragStart:p.a.func,onDrag:p.a.func,onDragComplete:p.a.func,onDoubleClick:p.a.func,onDoubleClickWhenHover:p.a.func,onContextMenu:p.a.func,onContextMenuWhenHover:p.a.func,onMouseMove:p.a.func,onMouseDown:p.a.func,onHover:p.a.func,onUnHover:p.a.func,debug:p.a.func},ya.defaultProps={svgDraw:Ur(null),draw:[],canvasToDraw:function(e){return e.mouseCoord},clip:!0,edgeClip:!1,selected:!1,disablePan:!1,enableDragOnHover:!1,onClickWhenHover:Sr,onClickOutside:Sr,onDragStart:Sr,onMouseMove:Sr,onMouseDown:Sr,debug:Sr},ya.contextTypes={width:p.a.number.isRequired,height:p.a.number.isRequired,margin:p.a.object.isRequired,chartId:p.a.oneOfType([p.a.number,p.a.string]),getCanvasContexts:p.a.func,chartCanvasType:p.a.string,xScale:p.a.func.isRequired,xAccessor:p.a.func.isRequired,displayXAccessor:p.a.func.isRequired,plotData:p.a.array.isRequired,fullData:p.a.array.isRequired,chartConfig:p.a.oneOfType([p.a.array,p.a.object]).isRequired,morePropsDecorator:p.a.func,generateSubscriptionId:p.a.func,getMutableState:p.a.func.isRequired,amIOnTop:p.a.func.isRequired,subscribe:p.a.func.isRequired,unsubscribe:p.a.func.isRequired,setCursorClass:p.a.func.isRequired};var ma=ya;function ba(e){return e.axes}function va(e){return e.mouseCoord}var ga="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ka=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Ea=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Sa=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in o)return o.value;var i=o.get;return void 0!==i?i.call(r):void 0};var Oa=["drag","dragend"],_a=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":ga(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.preCanvasDraw=r.preCanvasDraw.bind(r),r.postCanvasDraw=r.postCanvasDraw.bind(r),r.shouldTypeProceed=r.shouldTypeProceed.bind(r),r.preEvaluate=r.preEvaluate.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":ga(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,ma),Ea(t,[{key:"preCanvasDraw",value:function(e,n){Sa(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"preCanvasDraw",this).call(this,e,n),e.save();var r=this.context,o=r.margin,a=r.ratio,i=n.chartConfig,s=.5*a+i.origin[0]+o.left,u=.5*a+i.origin[1]+o.top,l=n.chartConfig,c=l.width,f=l.height,p=this.props,d=p.clip,h=p.edgeClip;e.setTransform(1,0,0,1,0,0),e.scale(a,a),h&&(e.beginPath(),e.rect(-1,u-10,c+o.left+o.right+1,f+20),e.clip()),e.translate(s,u),d&&(e.beginPath(),e.rect(-1,-1,c+1,f+1),e.clip())}},{key:"postCanvasDraw",value:function(e,n){Sa(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"postCanvasDraw",this).call(this,e,n),e.restore()}},{key:"updateMoreProps",value:function(e){Sa(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateMoreProps",this).call(this,e);var n=e.chartConfig;if(n&&Array.isArray(n)){var r=this.context.chartId,o=Yr(n,function(e){return e.id===r});this.moreProps.chartConfig=o}if(oo(this.moreProps.chartConfig)){var a=ka(this.moreProps.chartConfig.origin,2),i=a[0],s=a[1];if(oo(e.mouseXY)){var u=ka(e.mouseXY,2),l=u[0],c=u[1];this.moreProps.mouseXY=[l-i,c-s]}if(oo(e.startPos)){var f=ka(e.startPos,2),p=f[0],d=f[1];this.moreProps.startPos=[p-i,d-s]}}}},{key:"preEvaluate",value:function(){}},{key:"shouldTypeProceed",value:function(e,t){return!("mousemove"!==e&&"click"!==e||!this.props.disablePan)||(-1!==Oa.indexOf(e)||!oo(t)||!oo(t.currentCharts)||t.currentCharts.indexOf(this.context.chartId)>-1)}}]),t}();_a.propTypes=ma.propTypes,_a.defaultProps=ma.defaultProps,_a.contextTypes=wa({},ma.contextTypes,{canvasOriginX:p.a.number,canvasOriginY:p.a.number,chartId:p.a.oneOfType([p.a.number,p.a.string]).isRequired,chartConfig:p.a.object.isRequired,ratio:p.a.number.isRequired});var Ca=_a,xa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pa=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Da=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":xa(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":xa(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,Mr),Pa(t,[{key:"componentDidMount",value:function(){if("svg"!==this.context.chartCanvasType&&oo(this.context.getCanvasContexts)){var e=this.context.getCanvasContexts();e&&t.drawOnCanvas(e.bg,this.props,this.context,this.props.children)}}},{key:"componentDidUpdate",value:function(){this.componentDidMount()}},{key:"render",value:function(){if("svg"!==this.context.chartCanvasType)return null;var e=this.props,t={x:e.x,y:e.y,fill:e.fill,opacity:e.opacity,stroke:e.stroke,strokeOpacity:e.strokeOpacity,fontFamily:e.fontFamily,fontSize:e.fontSize,textAnchor:e.textAnchor};return o.a.createElement("text",t,"this.props.children(interval)")}}]),t}();Da.drawOnCanvas=function(e,t,n,r){var o=n.interval;e.clearRect(-1,-1,e.canvas.width+2,e.canvas.height+2),e.save(),e.setTransform(1,0,0,1,0,0),e.translate(.5,.5);var a=t.x,i=t.y,s=t.fill,u=t.opacity,l=t.stroke,c=t.strokeOpacity,f=t.fontFamily,p=t.fontSize,d=t.textAnchor,h=r(o);e.strokeStyle=co(l,c),e.font=p+"px "+f,e.fillStyle=co(s,u),e.textAlign="middle"===d?"center":d,"none"!==l&&e.strokeText(h,a,i),e.fillText(h,a,i),e.restore()},Da.propTypes={x:p.a.number.isRequired,y:p.a.number.isRequired,fontFamily:p.a.string,fontSize:p.a.number.isRequired,fill:p.a.string,stroke:p.a.string,opacity:p.a.number,strokeOpacity:p.a.number,textAnchor:p.a.string,children:p.a.func},Da.defaultProps={opacity:.3,fill:"#9E7523",stroke:"#9E7523",strokeOpacity:1,fontFamily:"Helvetica Neue, Helvetica, Arial, sans-serif",fontSize:12,textAnchor:"middle"},Da.contextTypes={interval:p.a.string.isRequired,getCanvasContexts:p.a.func,chartCanvasType:p.a.string};var Ta=n(2293),Aa=n(2403),ja="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ra=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Fa=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Na=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":ja(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleZoomOut=n.handleZoomOut.bind(n),n.handleZoomIn=n.handleZoomIn.bind(n),n.zoom=n.zoom.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":ja(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),Fa(t,[{key:"zoom",value:function(e){var t=this,n=this.context,r=n.xAxisZoom,o=n.xScale,a=n.plotData,i=o((0,n.xAccessor)(ro(a))),s=this.props.zoomMultiplier,u=e>0?1*s:1/s,l=o.domain(),c=Ra(l,2),f=c[0],p=c[1],d=o.range().map(function(e){return i+(e-i)*u}).map(o.invert),h=Ra(d,2),y=h[0],m=h[1],b=Object(Aa.a)(f,y),v=Object(Aa.a)(p,m),g=[.25,.3,.5,.6,.75,1].map(function(e){return[b(e),v(e)]});this.interval=setInterval(function(){r(g.shift()),0===g.length&&(clearInterval(t.interval),delete t.interval)},10)}},{key:"handleZoomOut",value:function(){this.interval||this.zoom(1)}},{key:"handleZoomIn",value:function(){this.interval||this.zoom(-1)}},{key:"render",value:function(){var e=this.context.chartConfig,t=e.width,n=e.height,r=this.props,a=r.size,i=r.heightFromBase,s=r.rx,u=r.ry,l=this.props,c=l.stroke,f=l.strokeOpacity,p=l.fill,d=l.strokeWidth,h=l.fillOpacity,y=this.props,m=y.textFill,b=y.textStrokeWidth,v=this.props.onReset,g=Math.round(t/2),w=n-i,k=Ra(a,2),E=k[0],S=k[1],O=Math.round(w+S/2),_=g,C=Object(Ta.a)(),x=g-E-2*d;C.moveTo(x-6,O),C.lineTo(x+6,O),C.closePath();var P=Object(Ta.a)(),D=g+E+2*d;return P.moveTo(D-6,O),P.lineTo(D+6,O),P.moveTo(D,O-5),P.lineTo(D,O+5),o.a.createElement("g",{className:"react-stockcharts-zoom-button"},o.a.createElement("rect",{x:x-E/2,y:w,rx:s,ry:u,height:S,width:E,fill:p,fillOpacity:h,stroke:c,strokeOpacity:f,strokeWidth:d}),o.a.createElement("path",{d:C.toString(),stroke:m,strokeWidth:b}),o.a.createElement("rect",{x:_-E/2,y:w,rx:s,ry:u,height:S,width:E,fill:p,fillOpacity:h,stroke:c,strokeOpacity:f,strokeWidth:d}),o.a.createElement("g",{transform:"translate ("+_+", "+(w+S/4)+") scale(.14)"},o.a.createElement("path",{d:"M31 13C23.4 5.3 12.8.5 1.1.5c-23.3 0-42.3 19-42.3 42.5s18.9 42.5 42.3 42.5c13.8 0 26-6.6 33.7-16.9l-16.5-1.8C13.5 70.4 7.5 72.5 1 72.5c-16.2 0-29.3-13.2-29.3-29.4S-15.2 13.7 1 13.7c8.1 0 15.4 3.3 20.7 8.6l-10.9 11h32.5V.5L31 13z",fill:m})),o.a.createElement("rect",{x:D-E/2,y:w,rx:s,ry:u,height:S,width:E,fill:p,fillOpacity:h,stroke:c,strokeOpacity:f,strokeWidth:d}),o.a.createElement("path",{d:P.toString(),stroke:m,strokeWidth:b}),o.a.createElement("rect",{className:"react-stockcharts-enable-interaction out",onClick:this.handleZoomOut,x:x-E/2,y:w,rx:s,ry:u,height:S,width:E,fill:"none"}),o.a.createElement("rect",{className:"react-stockcharts-enable-interaction reset",onClick:v,x:_-E/2,y:w,rx:s,ry:u,height:S,width:E,fill:"none"}),o.a.createElement("rect",{className:"react-stockcharts-enable-interaction in",onClick:this.handleZoomIn,x:D-E/2,y:w,rx:s,ry:u,height:S,width:E,fill:"none"}))}}]),t}();Na.propTypes={zoomMultiplier:p.a.number.isRequired,size:p.a.array.isRequired,heightFromBase:p.a.number.isRequired,rx:p.a.number.isRequired,ry:p.a.number.isRequired,stroke:p.a.string.isRequired,strokeWidth:p.a.number.isRequired,strokeOpacity:p.a.number.isRequired,fill:p.a.string.isRequired,fillOpacity:p.a.number.isRequired,fontSize:p.a.number.isRequired,textDy:p.a.string.isRequired,textFill:p.a.string.isRequired,textStrokeWidth:p.a.number.isRequired,onReset:p.a.func},Na.defaultProps={size:[30,24],heightFromBase:50,rx:3,ry:3,stroke:"#000000",strokeOpacity:.3,strokeWidth:1,fill:"#D6D6D6",fillOpacity:.4,fontSize:16,textDy:".3em",textFill:"#000000",textStrokeWidth:2,zoomMultiplier:1.5,onReset:Sr},Na.contextTypes={xScale:p.a.func.isRequired,chartConfig:p.a.object.isRequired,plotData:p.a.array.isRequired,xAccessor:p.a.func.isRequired,xAxisZoom:p.a.func.isRequired};var Ma=n(354),Ia=n(2507),qa=n(2495),La=n(2489),Ba={windowSize:20,sourcePath:"close",multiplier:2,movingAverageType:"sma"},Va={fast:12,slow:26,signal:9,sourcePath:"close"},Wa={sourcePath:"close",windowSize:10},Ha={sourcePath:"close",windowSize:10},za=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ua=function(){var e=Wa;function t(t){var n=e,r=n.windowSize,o=zr(n.sourcePath),a=2/(r+1),i=void 0,s=0,u=0;return t.map(function(e,t){var n=o(e,t);if(ao(i)&&ao(n))u++;else{if(!(t<r+u-1)){if(t===r+u-1){var l=(s+=n)/r;return i=l,l}var c=n*a+(1-a)*i;return i=c,c}s+=n}})}return t.undefinedLength=function(){return e.windowSize-1},t.options=function(n){return arguments.length?(e=za({},Wa,n),t):e},t},Ya=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ga=function(){var e=Ha;function t(t){var n=e,r=n.windowSize,o=n.sourcePath;return Dr().windowSize(r).sourcePath(o).accumulator(function(e){return Object(kr.mean)(e)})(t)}return t.undefinedLength=function(){return e.windowSize-1},t.options=function(n){return arguments.length?(e=Ya({},Ha,n),t):e},t},Qa=(Object.assign,Object.assign,Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e});Object.assign,Object.assign,Object.assign;Object.assign;var Xa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};Object.assign,Object.assign,Object.assign,Object.assign,Object.assign,Object.assign;var Ja="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ka=(Object.assign,"function"==typeof Symbol&&Ja(Symbol.iterator),Object.assign,function(){}(),0),Za=function(){var e=Ka++,t=void 0,n=void 0,r=void 0,o=void 0,a=void 0;function i(){}return i.id=function(t){return arguments.length?(e=t,i):e},i.accessor=function(e){return arguments.length?(t=e,i):t},i.stroke=function(t){return arguments.length?(n=t,i):n||(n=eo(e))},i.fill=function(t){return arguments.length?(r=t,i):r||(r=eo(e))},i.echo=function(e){return arguments.length?(o=e,i):o},i.type=function(e){return arguments.length?(a=e,i):a},i},$a=function(){var e=Za().type("EMA").accessor(function(e){return e.ema}),t=Ua(),n=Pr().algorithm(t).merge(function(e,t){e.ema=t}),r=function(r){if((arguments.length>1&&void 0!==arguments[1]?arguments[1]:{merge:!0}).merge){if(!e.accessor())throw new Error("Set an accessor to EMA before calculating");return n(r)}return t(r)};return Cr(r,e,"id","accessor","stroke","fill","echo","type"),Cr(r,t,"options","undefinedLength"),Cr(r,n,"merge","skipUndefined"),r},ei=function(){var e=Za().type("SMA").accessor(function(e){return e.sma}),t=Ga(),n=Pr().algorithm(t).merge(function(e,t){e.sma=t}),r=function(r){if((arguments.length>1&&void 0!==arguments[1]?arguments[1]:{merge:!0}).merge){if(!e.accessor())throw new Error("Set an accessor to SMA before calculating");return n(r)}return t(r)};return Cr(r,e,"id","accessor","stroke","fill","echo","type"),Cr(r,t,"undefinedLength"),Cr(r,t,"options"),Cr(r,n,"merge","skipUndefined"),r},ti=function(){var e=Za().type("BollingerBand"),t=function(){var e=Ba;function t(t){var n=e,r=n.windowSize,o=n.multiplier,a=n.movingAverageType,i=n.sourcePath,s=zr(i),u="ema"===a?Ua().options({windowSize:r,sourcePath:i}):Dr().windowSize(r).accumulator(function(e){return Object(kr.mean)(e)}).sourcePath(i);return Dr().windowSize(r).accumulator(function(e){var t=ro(e).mean,n=Object(kr.deviation)(e,function(e){return s(e.datum)});return{top:t+o*n,middle:t,bottom:t-o*n}})(xr().combine(function(e,t){return{datum:e,mean:t}})(t,u(t)))}return t.undefinedLength=function(){return e.windowSize-1},t.options=function(n){return arguments.length?(e=Qa({},Ba,n),t):e},t}(),n=Pr().algorithm(t).merge(function(e,t){e.bollingerBand=t}),r=function(r){if((arguments.length>1&&void 0!==arguments[1]?arguments[1]:{merge:!0}).merge){if(!e.accessor())throw new Error("Set an accessor to BollingerBand before calculating");return n(r)}return t(r)};return Cr(r,e,"id","accessor","stroke","fill","echo","type"),Cr(r,t,"options"),Cr(r,n,"merge","skipUndefined"),r},ni=(Object.assign,{BollingerBand:{stroke:{top:"#964B00",middle:"#000000",bottom:"#964B00"},fill:"#4682B4"},ElderImpulse:{stroke:{up:"#6BA583",down:"#FF0000",neutral:"#0000FF"}},MACD:{fill:{divergence:"#4682B4"},stroke:{macd:"#FF0000",signal:"#00F300"}},FullStochasticOscillator:{stroke:{top:"#37a600",middle:"#b8ab00",bottom:"#37a600",dLine:"#17becf",kLine:"#ff7f0e"}}}),ri=(ni.BollingerBand,ni.ElderImpulse,ni.MACD),oi=(ni.FullStochasticOscillator,function(){var e=Za().type("MACD").fill(ri.fill).stroke(ri.stroke).accessor(function(e){return e.macd}),t=function(){var e=Va;function t(t){var n=e,r=n.fast,o=n.slow,a=n.signal,i=n.sourcePath,s=Ua().options({windowSize:r,sourcePath:i}),u=Ua().options({windowSize:o,sourcePath:i}),l=Ua().options({windowSize:a,sourcePath:void 0}),c=xr().combine(function(e,t){return oo(e)&&oo(t)?e-t:void 0})(s(t),u(t)),f=new Array(o).concat(l(c.slice(o)));return xr().combine(function(e,t){return{macd:e,signal:t,divergence:oo(e)&&oo(t)?e-t:void 0}})(c,f)}return t.undefinedLength=function(){var t=e;return t.slow+t.signal-1},t.options=function(n){return arguments.length?(e=Xa({},Va,n),t):e},t}(),n=Pr().algorithm(t).merge(function(e,t){e.macd=t}),r=function(r){if((arguments.length>1&&void 0!==arguments[1]?arguments[1]:{merge:!0}).merge){if(!e.accessor())throw new Error("Set an accessor to MACD before calculating");return n(r)}return t(r)};return Cr(r,e,"id","accessor","stroke","fill","echo","type"),Cr(r,t,"options","undefinedLength"),Cr(r,n,"merge","skipUndefined"),r}),ai=(function(){}(),n(2348)),ii="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},si=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ui=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),li=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var ci=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":ii(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.renderSVG=n.renderSVG.bind(n),n.drawOnCanvas=n.drawOnCanvas.bind(n),n.isHover=n.isHover.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":ii(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),li(t,[{key:"isHover",value:function(e){var t=this.props,n=t.highlightOnHover,r=t.yAccessor,o=t.hoverTolerance;if(!n)return!1;var a=e.mouseXY,i=e.currentItem,s=e.xScale,u=e.plotData,l=e.chartConfig,c=l.yScale,f=l.origin,p=e.xAccessor,d=ui(a,2),h=d[0],y=d[1],m=o,b=Zr(u,s.invert(h),p),v=b.left,g=b.right;if(v===g){var w=c(r(i))+f[1],k=s(p(i))+f[0];return Math.pow(h-k,2)+Math.pow(y-w,2)<Math.pow(m,2)}var E=u[v],S=u[g],O=s(p(E))+f[0],_=c(r(E))+f[1],C=s(p(S))+f[0],x=(c(r(S))+f[1]-_)/(C-O),P=-1*x*O+_,D=Math.round(x*h+P);return y>=D-m&&y<=D+m}},{key:"drawOnCanvas",value:function(e,t){var n=this.props,r=n.yAccessor,o=n.stroke,a=n.strokeOpacity,i=n.strokeWidth,s=n.hoverStrokeWidth,u=n.defined,l=n.strokeDasharray,c=n.interpolation,f=n.canvasClip,p=this.props.connectNulls,d=t.xAccessor,h=t.xScale,y=t.chartConfig.yScale,m=t.plotData,b=t.hovering;f&&(e.save(),f(e,t)),e.lineWidth=b?s:i,e.strokeStyle=co(o,a),e.setLineDash(Br(l).split(","));var v=Object(ai.c)().x(function(e){return Math.round(h(d(e)))}).y(function(e){return Math.round(y(r(e)))});oo(c)&&v.curve(c),p||v.defined(function(e){return u(r(e))}),e.beginPath(),v.context(e)(m),e.stroke(),f&&e.restore()}},{key:"renderSVG",value:function(e){var t=this.props,n=t.yAccessor,r=t.stroke,a=t.strokeOpacity,i=t.strokeWidth,s=t.hoverStrokeWidth,u=t.defined,l=t.strokeDasharray,c=this.props.connectNulls,f=this.props,p=f.interpolation,d=f.style,h=e.xAccessor,y=e.chartConfig,m=e.xScale,b=e.plotData,v=e.hovering,g=y.yScale,w=Object(ai.c)().x(function(e){return Math.round(m(h(e)))}).y(function(e){return Math.round(g(n(e)))});oo(p)&&w.curve(p),c||w.defined(function(e){return u(n(e))});var k=w(b),E=this.props,S=E.fill,O=E.className;return o.a.createElement("path",{style:d,className:O+" "+(r?"":" line-stroke"),d:k,stroke:r,strokeOpacity:a,strokeWidth:v?s:i,strokeDasharray:Br(l),fill:S})}},{key:"render",value:function(){var e=this.props.highlightOnHover?{isHover:this.isHover,drawOn:["mousemove","pan"],canvasToDraw:va}:{drawOn:["pan"],canvasToDraw:ba};return o.a.createElement(Ca,si({svgDraw:this.renderSVG,canvasDraw:this.drawOnCanvas,onClickWhenHover:this.props.onClick,onDoubleClickWhenHover:this.props.onDoubleClick,onContextMenuWhenHover:this.props.onContextMenu},e))}}]),t}();ci.propTypes={className:p.a.string,strokeWidth:p.a.number,strokeOpacity:p.a.number,stroke:p.a.string,hoverStrokeWidth:p.a.number,fill:p.a.string,defined:p.a.func,hoverTolerance:p.a.number,strokeDasharray:p.a.oneOf(Lr),highlightOnHover:p.a.bool,onClick:p.a.func,onDoubleClick:p.a.func,onContextMenu:p.a.func,yAccessor:p.a.func,connectNulls:p.a.bool,interpolation:p.a.func,canvasClip:p.a.func,style:p.a.object},ci.defaultProps={className:"line ",strokeWidth:1,strokeOpacity:1,hoverStrokeWidth:4,fill:"none",stroke:"#4682B4",strokeDasharray:"Solid",defined:function(e){return!isNaN(e)},hoverTolerance:6,highlightOnHover:!1,connectNulls:!1,onClick:function(e){console.log("Click",e)},onDoubleClick:function(e){console.log("Double Click",e)},onContextMenu:function(e){console.log("Right Click",e)}};var fi=ci,pi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},di=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var hi=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":pi(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.renderSVG=n.renderSVG.bind(n),n.drawOnCanvas=n.drawOnCanvas.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":pi(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),di(t,[{key:"drawOnCanvas",value:function(e,t){var n=this.props,r=n.yAccessor,o=n.defined,a=n.base,i=this.props,s=i.fill,u=i.stroke,l=i.opacity,c=i.interpolation,f=i.canvasClip,p=t.xScale,d=t.chartConfig.yScale,h=t.plotData,y=t.xAccessor;f&&(e.save(),f(e,t)),e.fillStyle=co(s,l),e.strokeStyle=u,e.beginPath();var m=Ur(a),b=Object(ai.a)().defined(function(e){return o(r(e))}).x(function(e){return Math.round(p(y(e)))}).y0(function(e){return m(d,e,t)}).y1(function(e){return Math.round(d(r(e)))}).context(e);oo(c)&&b.curve(c),b(h),e.fill(),f&&e.restore()}},{key:"renderSVG",value:function(e){var t=this.props,n=t.yAccessor,r=t.defined,a=t.base,i=t.style,s=this.props,u=s.stroke,l=s.fill,c=s.className,f=s.opacity,p=s.interpolation,d=e.xScale,h=e.chartConfig.yScale,y=e.plotData,m=e.xAccessor,b=Ur(a),v=Object(ai.a)().defined(function(e){return r(n(e))}).x(function(e){return Math.round(d(m(e)))}).y0(function(t){return b(h,t,e)}).y1(function(e){return Math.round(h(n(e)))});oo(p)&&v.curve(p);var g=v(y),w=c.concat(oo(u)?"":" line-stroke");return o.a.createElement("path",{style:i,d:g,stroke:u,fill:l,className:w,fillOpacity:f})}},{key:"render",value:function(){return o.a.createElement(Ca,{svgDraw:this.renderSVG,canvasDraw:this.drawOnCanvas,canvasToDraw:ba,drawOn:["pan"]})}}]),t}();hi.propTypes={className:p.a.string,yAccessor:p.a.func.isRequired,stroke:p.a.string,fill:p.a.string,opacity:p.a.number,defined:p.a.func,base:p.a.oneOfType([p.a.func,p.a.number]),interpolation:p.a.func,canvasClip:p.a.func,style:p.a.object},hi.defaultProps={className:"line ",fill:"none",opacity:1,defined:function(e){return!isNaN(e)},base:function(e){return no(e.range())}};var yi=hi;function mi(e){var t=e.yAccessor,n=e.baseAt,r=e.className,a=e.opacity,i=e.stroke,s=e.strokeWidth,u=e.strokeOpacity,l=e.strokeDasharray,c=e.fill,f=e.interpolation,p=e.style,d=e.canvasClip;return o.a.createElement("g",{className:r},o.a.createElement(yi,{yAccessor:t,interpolation:f,base:n,fill:c,opacity:a,style:p,canvasClip:d,stroke:"none"}),o.a.createElement(fi,{yAccessor:t,stroke:i,strokeWidth:s,strokeOpacity:u,strokeDasharray:l,interpolation:f,style:p,canvasClip:d,fill:"none",hoverHighlight:!1}))}mi.propTypes={stroke:p.a.string,strokeWidth:p.a.number,fill:p.a.string.isRequired,strokeOpacity:p.a.number.isRequired,opacity:p.a.number.isRequired,className:p.a.string,yAccessor:p.a.func.isRequired,baseAt:p.a.func,interpolation:p.a.func,canvasClip:p.a.func,style:p.a.object,strokeDasharray:p.a.oneOf(Lr)},mi.defaultProps={stroke:"#4682B4",strokeWidth:1,strokeOpacity:1,strokeDasharray:"Solid",opacity:.5,fill:"#4682B4",className:"react-stockcharts-area"};var bi=mi,vi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gi=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var wi=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":vi(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":vi(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),gi(t,[{key:"render",value:function(){var e=this.props.children;return o.a.createElement(Ca,{drawOn:[],svgDraw:e})}}]),t}();wi.propTypes={children:p.a.func.isRequired};var ki=wi,Ei="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Si=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Oi=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":Ei(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.renderClip=n.renderClip.bind(n),n.topClip=n.topClip.bind(n),n.bottomClip=n.bottomClip.bind(n),n.baseAt=n.baseAt.bind(n);var r=String(Math.round(1e4*Math.random()*1e4));n.clipPathId1="alternating-area-clip-"+r;var o=String(Math.round(1e4*Math.random()*1e4));return n.clipPathId2="alternating-area-clip-"+o,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":Ei(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),Si(t,[{key:"topClip",value:function(e,t){var n=t.chartConfig,r=this.props.baseAt,o=n.yScale,a=n.width;e.beginPath(),e.rect(0,0,a,o(r)),e.clip()}},{key:"bottomClip",value:function(e,t){var n=t.chartConfig,r=this.props.baseAt,o=n.yScale,a=n.width,i=n.height;e.beginPath(),e.rect(0,o(r),a,i-o(r)),e.clip()}},{key:"renderClip",value:function(e){var t=e.chartConfig,n=this.props.baseAt,r=t.yScale,a=t.width,i=t.height;return o.a.createElement("defs",null,o.a.createElement("clipPath",{id:this.clipPathId1},o.a.createElement("rect",{x:0,y:0,width:a,height:r(n)})),o.a.createElement("clipPath",{id:this.clipPathId2},o.a.createElement("rect",{x:0,y:r(n),width:a,height:i-r(n)})))}},{key:"baseAt",value:function(e){return e(this.props.baseAt)}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.yAccessor,r=e.interpolation,a=this.props,i=a.stroke,s=a.strokeWidth,u=a.strokeOpacity,l=a.strokeDasharray,c=a.fill,f=a.fillOpacity,p={clipPath:"url(#"+this.clipPathId1+")"},d={clipPath:"url(#"+this.clipPathId2+")"};return o.a.createElement("g",{className:t},o.a.createElement(ki,null,this.renderClip),o.a.createElement(bi,{style:p,canvasClip:this.topClip,yAccessor:n,interpolation:r,baseAt:this.baseAt,fill:c.top,opacity:f.top,stroke:i.top,strokeOpacity:u.top,strokeDasharray:l.top,strokeWidth:s.top}),o.a.createElement(bi,{style:d,canvasClip:this.bottomClip,yAccessor:n,interpolation:r,baseAt:this.baseAt,fill:c.bottom,opacity:f.bottom,stroke:i.bottom,strokeOpacity:u.bottom,strokeDasharray:l.bottom,strokeWidth:s.bottom}))}}]),t}();Oi.propTypes={stroke:p.a.shape({top:p.a.string,bottom:p.a.string}),strokeWidth:p.a.shape({top:p.a.number,bottom:p.a.number}),strokeOpacity:p.a.shape({top:p.a.number,bottom:p.a.number}),fill:p.a.shape({top:p.a.string,bottom:p.a.string}),fillOpacity:p.a.shape({top:p.a.number,bottom:p.a.number}),strokeDasharray:p.a.shape({top:p.a.oneOf(Lr),bottom:p.a.oneOf(Lr)}).isRequired,className:p.a.string,yAccessor:p.a.func.isRequired,baseAt:p.a.number.isRequired,interpolation:p.a.func},Oi.defaultProps={stroke:{top:"#38C172",bottom:"#E3342F"},strokeWidth:{top:2,bottom:2},strokeOpacity:{top:1,bottom:1},fill:{top:"#A2F5BF",bottom:"#EF5753"},fillOpacity:{top:.5,bottom:.5},strokeDasharray:{top:"Solid",bottom:"Solid"},className:"react-stockcharts-alternating-area"};var _i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ci=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xi=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Pi=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":_i(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.renderSVG=n.renderSVG.bind(n),n.drawOnCanvas=n.drawOnCanvas.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":_i(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),xi(t,[{key:"drawOnCanvas",value:function(e,t){var n=t.xAccessor,r=Di(this.props,t,n);!function(e,t,n){var r=t.markerProps;Object(po.nest)().key(function(e){return e.fill}).key(function(e){return e.stroke}).entries(n).forEach(function(t){var n=t.key,o=t.values;"none"!==n&&(e.fillStyle=n),o.forEach(function(t){var o=t.values;o.forEach(function(t){var o=t.marker;o.drawOnCanvas(Ci({},o.defaultProps,r,{fill:n}),t,e)})})})}(e,this.props,r)}},{key:"renderSVG",value:function(e){var t=this.props,n=t.className,r=t.markerProps,a=e.xAccessor,i=Di(this.props,e,a);return o.a.createElement("g",{className:n},i.map(function(e,t){var n=e.marker;return o.a.createElement(n,Ci({key:t},r,{point:e}))}))}},{key:"render",value:function(){return o.a.createElement(Ca,{svgDraw:this.renderSVG,canvasDraw:this.drawOnCanvas,canvasToDraw:ba,drawOn:["pan"]})}}]),t}();function Di(e,t,n){var r=e.yAccessor,o=e.markerProvider,a=e.markerProps,i=e.marker,s=t.xScale,u=t.chartConfig.yScale,l=t.plotData;if(!o&&!i)throw new Error("required prop, either marker or markerProvider missing");return l.map(function(e){o&&(i=o(e));var t=Ci({},i.defaultProps,a),l=Ur(t.fill),c=Ur(t.stroke);return{x:s(n(e)),y:u(r(e)),fill:co(l(e),t.opacity),stroke:c(e),datum:e,marker:i}})}Pi.propTypes={className:p.a.string,yAccessor:p.a.func.isRequired,marker:p.a.func,markerProvider:p.a.func,markerProps:p.a.object},Pi.defaultProps={className:"react-stockcharts-scatter"};function Ti(e){var t=e.className,n=e.stroke,r=e.strokeWidth,a=e.opacity,i=e.fill,s=e.point,u=Ur(e.r)(s.datum);return o.a.createElement("circle",{className:t,cx:s.x,cy:s.y,stroke:n,strokeWidth:r,fillOpacity:a,fill:i,r:u})}Ti.propTypes={stroke:p.a.string,fill:p.a.string.isRequired,opacity:p.a.number.isRequired,point:p.a.shape({x:p.a.number.isRequired,y:p.a.number.isRequired,datum:p.a.object.isRequired}).isRequired,className:p.a.string,strokeWidth:p.a.number,r:p.a.oneOfType([p.a.number,p.a.func]).isRequired},Ti.defaultProps={stroke:"#4682B4",strokeWidth:1,opacity:.5,fill:"#4682B4",className:"react-stockcharts-marker-circle"},Ti.drawOnCanvas=function(e,t,n){var r=e.stroke,o=e.fill,a=e.opacity,i=e.strokeWidth;n.strokeStyle=r,n.lineWidth=i,"none"!==o&&(n.fillStyle=co(o,a)),Ti.drawOnCanvasWithNoStateChange(e,t,n)},Ti.drawOnCanvasWithNoStateChange=function(e,t,n){var r=Ur(e.r)(t.datum);n.moveTo(t.x,t.y),n.beginPath(),n.arc(t.x,t.y,r,0,2*Math.PI,!1),n.stroke(),n.fill()};function Ai(e){var t=e.className,n=e.strokeWidth,r=e.opacity,a=e.point,i=e.width,s=Ri(e,a);if(null==s)return null;var u=function(e){var t=e.fill,n=e.point;return t instanceof Function?t(n.datum):t}(e),l=function(e){var t=e.stroke,n=e.point;return t instanceof Function?t(n.datum):t}(e),c=Ur(i)(a.datum),f=a.x,p=a.y,d=ji(c),h=d.innerOpposite,y="\n\t\t"+f+" "+(p-d.innerHypotenuse)+",\n\t\t"+(f+c/2)+" "+(p+h)+",\n\t\t"+(f-c/2)+" "+(p+h)+"\n\t";return o.a.createElement("polygon",{className:t,points:y,stroke:l,strokeWidth:n,fillOpacity:r,fill:u,transform:0!==s?"rotate("+s+", "+f+", "+p+")":null})}Ai.propTypes={direction:p.a.oneOfType([p.a.oneOf(["top","bottom","left","right","hide"]),p.a.func]).isRequired,stroke:p.a.oneOfType([p.a.string,p.a.func]).isRequired,fill:p.a.oneOfType([p.a.string,p.a.func]).isRequired,opacity:p.a.number.isRequired,point:p.a.shape({x:p.a.number.isRequired,y:p.a.number.isRequired,datum:p.a.object.isRequired}).isRequired,className:p.a.string,strokeWidth:p.a.number,width:p.a.oneOfType([p.a.number,p.a.func]).isRequired},Ai.defaultProps={direction:"top",stroke:"#4682B4",strokeWidth:1,opacity:.5,fill:"#4682B4",className:"react-stockcharts-marker-triangle"},Ai.drawOnCanvas=function(e,t,n){var r=e.stroke,o=e.fill,a=e.opacity,i=e.strokeWidth;n.strokeStyle=r,n.lineWidth=i,"none"!==o&&(n.fillStyle=co(o,a)),Ai.drawOnCanvasWithNoStateChange(e,t,n)},Ai.drawOnCanvasWithNoStateChange=function(e,t,n){var r=Ur(e.width)(t.datum),o=t.x,a=t.y,i=ji(r),s=i.innerOpposite,u=i.innerHypotenuse,l=Ri(e,t);n.beginPath(),n.moveTo(o,a-u),n.lineTo(o+r/2,a+s),n.lineTo(o-r/2,a+s),n.stroke(),null!==l&&0!==l&&(n.save(),n.translate(o,a),n.rotate(l*Math.PI/180),n.fill(),n.restore()),n.fill()};function ji(e){var t=e/2*(1/Math.cos(30*Math.PI/180));return{innerOpposite:e/2*(1/Math.tan(60*Math.PI/180)),innerHypotenuse:t}}function Ri(e,t){var n=e.direction,r=n instanceof Function?n(t.datum):n;if("hide"===r)return null;var o=0;switch(r){case"bottom":o=180;break;case"left":o=-90;break;case"right":o=90}return o}function Fi(e){var t=e.className,n=e.stroke,r=e.strokeWidth,a=e.opacity,i=e.fill,s=e.point,u=Ur(e.width)(s.datum),l=s.x-u/2,c=s.y-u/2;return o.a.createElement("rect",{className:t,x:l,y:c,stroke:n,strokeWidth:r,fillOpacity:a,fill:i,width:u,height:u})}Fi.propTypes={stroke:p.a.string,fill:p.a.string.isRequired,opacity:p.a.number.isRequired,point:p.a.shape({x:p.a.number.isRequired,y:p.a.number.isRequired,datum:p.a.object.isRequired}).isRequired,className:p.a.string,strokeWidth:p.a.number,width:p.a.oneOfType([p.a.number,p.a.func]).isRequired},Fi.defaultProps={stroke:"#4682B4",strokeWidth:1,opacity:.5,fill:"#4682B4",className:"react-stockcharts-marker-rect"},Fi.drawOnCanvas=function(e,t,n){var r=e.stroke,o=e.fill,a=e.opacity,i=e.strokeWidth;n.strokeStyle=r,n.lineWidth=i,"none"!==o&&(n.fillStyle=co(o,a)),Fi.drawOnCanvasWithNoStateChange(e,t,n)},Fi.drawOnCanvasWithNoStateChange=function(e,t,n){var r=Ur(e.width)(t.datum),o=t.x-r/2,a=t.y-r/2;n.beginPath(),n.rect(o,a,r,r),n.stroke(),n.fill()};var Ni="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mi=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Ii=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":Ni(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.renderSVG=n.renderSVG.bind(n),n.drawOnCanvas=n.drawOnCanvas.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":Ni(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),Mi(t,[{key:"drawOnCanvas",value:function(e,t){!function(e,t,n){var r=t.opacity,o=t.candleStrokeWidth,a=t.rectRadius,i=n.xScale,s=n.chartConfig.yScale,u=n.plotData,l=n.xAccessor,c=Li(t,l,i,s,u);Object(po.nest)().key(function(e){return e.wick.stroke}).entries(c).forEach(function(t){var n=t.key,r=t.values;e.strokeStyle=n,e.fillStyle=n,r.forEach(function(t){var n=t.wick;a?(qi(e,n.x-.5,n.y1,1,n.y2-n.y1,a),qi(e,n.x-.5,n.y3,1,n.y4-n.y3,a)):(e.fillRect(n.x-.5,n.y1,1,n.y2-n.y1),e.fillRect(n.x-.5,n.y3,1,n.y4-n.y3))})}),Object(po.nest)().key(function(e){return e.stroke}).key(function(e){return e.fill}).entries(c).forEach(function(t){var n=t.key,i=t.values;"none"!==n&&(e.strokeStyle=n,e.lineWidth=o),i.forEach(function(t){var o=t.key,i=t.values,s=to(i).width<=1?o:co(o,r);e.fillStyle=s,i.forEach(function(t){t.width<=1?a?qi(e,t.x-.5,t.y,1,t.height,a):e.fillRect(t.x-.5,t.y,1,t.height):0===t.height?a?qi(e,t.x,t.y-.5,t.width,1,a):e.fillRect(t.x,t.y-.5,t.width,1):(a?qi(e,t.x,t.y,t.width,t.height,a):e.fillRect(t.x,t.y,t.width,t.height),"none"===n||a||e.strokeRect(t.x,t.y,t.width,t.height))})})})}(e,this.props,t)}},{key:"renderSVG",value:function(e){var t=this.props,n=t.className,r=t.wickClassName,a=t.candleClassName,i=e.xScale,s=e.chartConfig.yScale,u=e.plotData,l=e.xAccessor,c=Li(this.props,l,i,s,u);return o.a.createElement("g",{className:n},o.a.createElement("g",{className:r,key:"wicks"},function(e){return e.map(function(e,t){var n=e.wick;return o.a.createElement("path",{key:t,className:e.className,stroke:n.stroke,d:"M"+n.x+","+n.y1+" L"+n.x+","+n.y2+" M"+n.x+","+n.y3+" L"+n.x+","+n.y4})})}(c)),o.a.createElement("g",{className:a,key:"candles"},function(e,t){var n=e.opacity,r=e.candleStrokeWidth;return t.map(function(e,t){return e.width<=1?o.a.createElement("line",{className:e.className,key:t,x1:e.x,y1:e.y,x2:e.x,y2:e.y+e.height,stroke:e.fill}):0===e.height?o.a.createElement("line",{key:t,x1:e.x,y1:e.y,x2:e.x+e.width,y2:e.y+e.height,stroke:e.fill}):o.a.createElement("rect",{key:t,className:e.className,fillOpacity:n,x:e.x,y:e.y,width:e.width,height:e.height,fill:e.fill,stroke:e.stroke,strokeWidth:r})})}(this.props,c)))}},{key:"render",value:function(){var e=this.props.clip;return o.a.createElement(Ca,{clip:e,svgDraw:this.renderSVG,canvasDraw:this.drawOnCanvas,canvasToDraw:ba,drawOn:["pan"]})}}]),t}();function qi(e,t,n,r,o,a){!function(e,t,n,r,o,a){var i=Array.isArray(a)?a.map(function(e){return.01*e*Math.min(r,o)}):new Array(8).fill(.01*a*Math.min(r,o));e.beginPath(),e.moveTo(t+i[1],n),e.lineTo(t+r-i[2],n),e.quadraticCurveTo(t+r,n,t+r,n+i[3]),e.lineTo(t+r,n+o-i[4]),e.quadraticCurveTo(t+r,n+o,t+r-i[5],n+o),e.lineTo(t+i[6],n+o),e.quadraticCurveTo(t,n+o,t,n+o-i[7]),e.lineTo(t,n+i[0]),e.quadraticCurveTo(t,n,t+i[1],n),e.closePath()}(e,t,n,r,o,a),e.fill()}function Li(e,t,n,r,o){for(var a=Ur(e.wickStroke),i=e.classNames,s=e.fill,u=e.stroke,l=e.yAccessor,c=Ur(i),f=Ur(s),p=Ur(u),d=.5*Ur(e.width)(e,{xScale:n,xAccessor:t,plotData:o}),h=d>.7?Math.round(d):Math.floor(d),y=[],m=0;m<o.length;m++){var b=o[m];if(oo(l(b).close)){var v=Math.round(n(t(b))),g=l(b),w=Math.round(r(Math.max(g.open,g.close))),k=Math.round(Math.abs(r(g.open)-r(g.close)));y.push({x:v-h,y:w,wick:{stroke:a(g),x:v,y1:Math.round(r(g.high)),y2:w,y3:w+k,y4:Math.round(r(g.low))},height:k,width:2*h,className:c(g),fill:f(g),stroke:p(g),direction:g.close-g.open})}}return y}Ii.propTypes={className:p.a.string,wickClassName:p.a.string,candleClassName:p.a.string,widthRatio:p.a.number,width:p.a.oneOfType([p.a.number,p.a.func]),classNames:p.a.oneOfType([p.a.func,p.a.string]),fill:p.a.oneOfType([p.a.func,p.a.string]),stroke:p.a.oneOfType([p.a.func,p.a.string]),wickStroke:p.a.oneOfType([p.a.func,p.a.string]),yAccessor:p.a.func,clip:p.a.bool},Ii.defaultProps={className:"react-stockcharts-candlestick",wickClassName:"react-stockcharts-candlestick-wick",candleClassName:"react-stockcharts-candlestick-candle",yAccessor:function(e){return{open:e.open,high:e.high,low:e.low,close:e.close}},classNames:function(e){return e.close>e.open?"up":"down"},width:qr,wickStroke:"#000000",fill:function(e){return e.close>e.open?"#6BA583":"#FF0000"},stroke:"#000000",rectRadius:0,candleStrokeWidth:.5,widthRatio:.8,opacity:.5,clip:!0};var Bi=Ii,Vi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wi=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Hi=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":Vi(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.renderSVG=n.renderSVG.bind(n),n.drawOnCanvas=n.drawOnCanvas.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":Vi(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),Wi(t,[{key:"drawOnCanvas",value:function(e,t){var n=this.props.yAccessor,r=t.xAccessor,o=t.xScale,a=t.chartConfig.yScale,i=t.plotData;!function(e,t){var n=t.strokeWidth,r=t.bars,o=Object(po.nest)().key(function(e){return e.stroke}).entries(r);e.lineWidth=n,o.forEach(function(t){var n=t.key,r=t.values;e.strokeStyle=n,r.forEach(function(t){e.beginPath(),e.moveTo(t.x,t.y1),e.lineTo(t.x,t.y2),e.moveTo(t.openX1,t.openY),e.lineTo(t.openX2,t.openY),e.moveTo(t.closeX1,t.closeY),e.lineTo(t.closeX2,t.closeY),e.stroke()})})}(e,zi(this.props,r,n,o,a,i))}},{key:"render",value:function(){var e=this.props.clip;return o.a.createElement(Ca,{svgDraw:this.renderSVG,canvasToDraw:ba,canvasDraw:this.drawOnCanvas,clip:e,drawOn:["pan"]})}},{key:"renderSVG",value:function(e){var t=this.props,n=t.className,r=t.yAccessor,a=e.xAccessor,i=e.xScale,s=e.chartConfig.yScale,u=e.plotData,l=zi(this.props,a,r,i,s,u),c=l.strokeWidth,f=l.bars;return o.a.createElement("g",{className:n},f.map(function(e,t){return o.a.createElement("path",{key:t,className:e.className,stroke:e.stroke,strokeWidth:c,d:"M"+e.openX1+" "+e.openY+" L"+e.openX2+" "+e.openY+" M"+e.x+" "+e.y1+" L"+e.x+" "+e.y2+" M"+e.closeX1+" "+e.closeY+" L"+e.closeX2+" "+e.closeY})}))}}]),t}();function zi(e,t,n,r,o,a){var i=e.classNames,s=Ur(e.stroke),u=Ur(i),l=r(t(a[a.length-1]))-r(t(a[0])),c=Math.max(1,Math.round(l/(a.length-1)/2)-1.5),f=Math.min(c,6),p=a.filter(function(e){return oo(n(e).close)}).map(function(e){var a=n(e),i=Math.round(r(t(e))),l=o(a.high),p=o(a.low),d=i-c,h=i+f/2,y=o(a.open),m=i-f/2,b=i+c,v=o(a.close),g=u(e);return{x:i,y1:l,y2:p,openX1:d,openX2:h,openY:y,closeX1:m,closeX2:b,closeY:v,stroke:s(e),className:g}});return{barWidth:c,strokeWidth:f,bars:p}}Hi.propTypes={className:p.a.string,classNames:p.a.oneOfType([p.a.func,p.a.string]).isRequired,stroke:p.a.oneOfType([p.a.func,p.a.string]).isRequired,yAccessor:p.a.func.isRequired,clip:p.a.bool.isRequired},Hi.defaultProps={className:"react-stockcharts-ohlc",yAccessor:function(e){return{open:e.open,high:e.high,low:e.low,close:e.close}},classNames:function(e){return oo(e.absoluteChange)?e.absoluteChange>0?"up":"down":"firstbar"},stroke:function(e){return oo(e.absoluteChange)?e.absoluteChange>0?"#6BA583":"#FF0000":"#000000"},clip:!0};var Ui="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gi=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Qi=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":Ui(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.renderSVG=n.renderSVG.bind(n),n.drawOnCanvas=n.drawOnCanvas.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":Ui(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),Gi(t,[{key:"drawOnCanvas",value:function(e,t){var n=t.xAccessor;Ji(e,this.props,t,n,ai.d)}},{key:"renderSVG",value:function(e){var t=e.xAccessor;return o.a.createElement("g",null,Zi(this.props,e,t,ai.d))}},{key:"render",value:function(){var e=this.props.clip;return o.a.createElement(Ca,{clip:e,svgDraw:this.renderSVG,canvasDraw:this.drawOnCanvas,canvasToDraw:ba,drawOn:["pan"]})}}]),t}();function Xi(){var e=[];function t(t){return e.map(function(e,n){var r=t.map(function(t){var n=[0,t[e]];return n.data=t,n});return r.key=e,r.index=n,r})}return t.keys=function(n){return arguments.length?(e=n,t):e},t}function Ji(e,t,n,r,o){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Or,i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:es,s=n.xScale,u=n.chartConfig.yScale;rs(t,e,$i(t,r,n.plotData,s,u,o,i,a))}function Ki(e){return Array.isArray(e)?e:[e]}function Zi(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Or,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:es,i=t.xScale,s=t.chartConfig.yScale;return ts(e,$i(e,n,t.plotData,i,s,r,a,o))}function $i(e,t,n,r,o,a,i,s){var u=e.yAccessor,l=e.swapScales,c=Ki(l?e.xAccessor:u);return function(e,t,n,r,o,a){var i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Xi,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:Or,u=e.baseAt,l=e.className,c=e.fill,f=e.stroke,p=e.spaceBetweenBar,d=void 0===p?0:p,h=Ur(l),y=Ur(c),m=Ur(u),b=Ur(e.width)(e,{xScale:r,xAccessor:t,plotData:a}),v=Math.round(b),g=(v-d*(n.length-1))/n.length,w=1===v?0:.5*b,k=a.map(function(e){var r={appearance:{},x:t(e)};return n.forEach(function(t,n){var o="y"+n;r[o]=t(e);var a={className:h(e,n),stroke:f?y(e,n):"none",fill:y(e,n)};r.appearance[o]=a}),r}),E=n.map(function(e,t){return"y"+t}),S=i().keys(E)(k).map(function(e,t){var n=e.key;return e.map(function(e){var r=[e[0],e[1]];return r.data={x:e.data.x,i:t,appearance:e.data.appearance[n]},r})}),O=Object(kr.merge)(S).map(function(e){var t=o(e[1]),n=m(r,o,e.data)-o(e[1]-e[0]);return n<0&&(t+=n,n=-n),Yi({},e.data.appearance,{x:Math.round(r(e.data.x)-b/2),y:t,groupOffset:Math.round(w-(e.data.i>0?(g+d)*e.data.i:0)),groupWidth:Math.round(g),offset:Math.round(w),height:n,width:v})}).filter(function(e){return!isNaN(e.y)});return s(O)}(e,l?u:t,c,l?o:r,l?r:o,n,a,l?i:s)}Qi.propTypes={baseAt:p.a.oneOfType([p.a.number,p.a.func]).isRequired,direction:p.a.oneOf(["up","down"]).isRequired,stroke:p.a.bool.isRequired,width:p.a.oneOfType([p.a.number,p.a.func]).isRequired,opacity:p.a.number.isRequired,fill:p.a.oneOfType([p.a.func,p.a.string]).isRequired,className:p.a.oneOfType([p.a.func,p.a.string]).isRequired,clip:p.a.bool.isRequired},Qi.defaultProps={baseAt:function(e,t){return to(t.range())},direction:"up",className:"bar",stroke:!0,fill:"#4682B4",opacity:.5,width:qr,widthRatio:.8,clip:!0,swapScales:!1};var es=function(e){return e.map(function(e){return Yi({},e,{x:e.y,y:e.x,height:e.width,width:e.height})})};function ts(e,t){var n=e.opacity;return t.map(function(e,t){return e.width<=1?o.a.createElement("line",{key:t,className:e.className,stroke:e.fill,x1:e.x,y1:e.y,x2:e.x,y2:e.y+e.height}):o.a.createElement("rect",{key:t,className:e.className,stroke:e.stroke,fill:e.fill,x:e.x,y:e.y,width:e.width,fillOpacity:n,height:e.height})})}function ns(e,t,n,r,o,a){!function(e,t,n,r,o,a){var i=Array.isArray(a)?a.map(function(e){return.01*e*Math.min(r,o)}):new Array(8).fill(.01*a*Math.min(r,o));e.beginPath(),e.moveTo(t+i[1],n),e.lineTo(t+r-i[2],n),e.quadraticCurveTo(t+r,n,t+r,n+i[3]),e.lineTo(t+r,n+o-i[4]),e.quadraticCurveTo(t+r,n+o,t+r-i[5],n+o),e.lineTo(t+i[6],n+o),e.quadraticCurveTo(t,n+o,t,n+o-i[7]),e.lineTo(t,n+i[0]),e.quadraticCurveTo(t,n,t+i[1],n),e.closePath()}(e,t,n,r,o,a),e.fill()}function rs(e,t,n){var r=e.stroke,o=e.rectRadius;Object(po.nest)().key(function(e){return e.fill}).entries(n).forEach(function(n){var a=n.key,i=n.values;to(i).width>1&&(t.strokeStyle=a);var s=to(i).width<=1?a:co(a,e.opacity);t.fillStyle=s,i.forEach(function(e){e.width<=1?o?ns(t,e.x-.5,e.y,1,e.height,o):t.fillRect(e.x-.5,e.y,1,e.height):(o?ns(t,e.x,e.y,e.width,e.height,o):t.fillRect(e.x,e.y,e.width,e.height),r&&t.strokeRect(e.x,e.y,e.width,e.height))})})}var os=Qi,as="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},is=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var ss=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":as(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.renderSVG=n.renderSVG.bind(n),n.drawOnCanvas=n.drawOnCanvas.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":as(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),is(t,[{key:"drawOnCanvas",value:function(e,t){if(this.props.swapScales){var n=t.xAccessor;Ji(e,this.props,t,n,Xi)}else{var r=ls(this.props,t);rs(this.props,e,r)}}},{key:"renderSVG",value:function(e){if(this.props.swapScales){var t=e.xAccessor;return o.a.createElement("g",null,Zi(this.props,e,t,Xi))}var n=ls(this.props,e);return o.a.createElement("g",null,ts(this.props,n))}},{key:"render",value:function(){var e=this.props.clip;return o.a.createElement(Ca,{clip:e,svgDraw:this.renderSVG,canvasToDraw:ba,canvasDraw:this.drawOnCanvas,drawOn:["pan"]})}}]),t}();ss.propTypes={baseAt:p.a.oneOfType([p.a.number,p.a.func]),stroke:p.a.bool,width:p.a.oneOfType([p.a.number,p.a.func]),yAccessor:p.a.func.isRequired,opacity:p.a.number,fill:p.a.oneOfType([p.a.func,p.a.string]),className:p.a.oneOfType([p.a.func,p.a.string]),clip:p.a.bool,swapScales:p.a.bool},ss.defaultProps=os.defaultProps;var us=ss;function ls(e,t){var n=e.baseAt,r=e.fill,o=e.stroke,a=e.yAccessor,i=t.xScale,s=t.xAccessor,u=t.plotData,l=t.chartConfig.yScale,c=Ur(r),f=Ur(n),p=Ur(e.width)(e,{xScale:i,xAccessor:s,plotData:u}),d=Math.floor(.5*p);return u.filter(function(e){return oo(a(e))}).map(function(e){var t=a(e),n=l(t),r=Math.round(i(s(e)))-d,u=f(i,l,e)-l(t);return u<0&&(n+=u,u=-u),{x:r,y:Math.round(n),height:Math.round(u),width:2*d,fill:c(e,0),stroke:o?c(e,0):"none"}})}var cs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fs=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ps=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var ds=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":cs(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.renderSVG=n.renderSVG.bind(n),n.drawOnCanvas=n.drawOnCanvas.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":cs(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),ps(t,[{key:"drawOnCanvas",value:function(e,t){var n=t.xAccessor;Ji(e,this.props,t,n,Xi,hs)}},{key:"renderSVG",value:function(e){var t=e.xAccessor;return o.a.createElement("g",{className:"react-stockcharts-grouped-bar-series"},Zi(this.props,e,t,Xi,hs))}},{key:"render",value:function(){return o.a.createElement(Ca,{svgDraw:this.renderSVG,canvasDraw:this.drawOnCanvas,canvasToDraw:ba,drawOn:["pan"]})}}]),t}();function hs(e){return e.map(function(e){return fs({},e,{x:e.x+e.offset-e.groupOffset,width:e.groupWidth})})}ds.propTypes={baseAt:p.a.oneOfType([p.a.number,p.a.func]).isRequired,direction:p.a.oneOf(["up","down"]).isRequired,stroke:p.a.bool.isRequired,widthRatio:p.a.number.isRequired,opacity:p.a.number.isRequired,fill:p.a.oneOfType([p.a.func,p.a.string]).isRequired,className:p.a.oneOfType([p.a.func,p.a.string]).isRequired,yAccessor:p.a.arrayOf(p.a.func)},ds.defaultProps=fs({},os.defaultProps,{widthRatio:.8,spaceBetweenBar:5});var ys="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ms=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var bs=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":ys(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.renderSVG=n.renderSVG.bind(n),n.drawOnCanvas=n.drawOnCanvas.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":ys(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),ms(t,[{key:"drawOnCanvas",value:function(e,t){var n=t.xAccessor;!function(e,t,n,r){var o=t.stroke,a=t.strokeWidth,i=t.currentValueStroke,s=n.xScale,u=n.chartConfig.yScale,l=vs(n.plotData,r),c=!0;l.forEach(function(t){e.strokeStyle=o[t.type],e.lineWidth=a,e.beginPath();var n=void 0;t.plot.forEach(function(t){var r=[s(t[0]),u(t[1])],o=r[0],a=r[1];c?(e.moveTo(o,a),c=!1):(oo(n)&&e.lineTo(n,a),e.lineTo(o,a)),n=o}),e.stroke()});var f=l[l.length-1].plot,p=f[f.length-1];e.beginPath(),e.lineWidth=1;var d=[s(p[0]),u(p[2]),u(p[3])],h=d[0],y=d[1],m=d[2];e.moveTo(h,y),e.lineTo(h+10,y),e.stroke(),e.beginPath(),e.strokeStyle=i,e.moveTo(h-10,m),e.lineTo(h,m),e.stroke()}(e,this.props,t,n)}},{key:"render",value:function(){return o.a.createElement(Ca,{svgDraw:this.renderSVG,canvasToDraw:ba,canvasDraw:this.drawOnCanvas,drawOn:["pan"]})}},{key:"renderSVG",value:function(e){var t=e.xAccessor,n=e.xScale,r=e.chartConfig.yScale,a=e.plotData,i=this.props,s=i.className,u=i.stroke,l=i.fill,c=i.strokeWidth,f=vs(a,t).map(function(e,t){var a=Object(ai.c)().x(function(e){return n(e[0])}).y(function(e){return r(e[1])}).curve(ai.b);return a(e.plot),o.a.createElement("path",{key:t,d:a(e.plot),className:e.type,stroke:u[e.type],fill:l[e.type],strokeWidth:c})});return o.a.createElement("g",{className:s},f)}}]),t}();function vs(e,t){for(var n=[],r={},o=e[0],a=t(o),i=0;i<e.length;i++)ao((o=e[i]).close)||(ao(r.type)&&(r.type=o.startAs),ao(r.plot)&&(r.plot=[]),a=t(o),r.plot.push([a,o.open]),oo(o.changeTo)&&(r.plot.push([a,o.changePoint]),r.added=!0,n.push(r),(r={type:o.changeTo,plot:[],added:!1}).plot.push([a,o.changePoint])));return r.added||(r.plot.push([a,o.close,o.current,o.reverseAt]),n.push(r)),n}bs.propTypes={className:p.a.string,stroke:p.a.object,fill:p.a.object,strokeWidth:p.a.number.isRequired},bs.defaultProps={className:"react-stockcharts-kagi",strokeWidth:2,stroke:{yang:"#6BA583",yin:"#E60000"},fill:{yang:"none",yin:"none"},currentValueStroke:"#000000"};var gs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ws=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),ks=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Es=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":gs(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.renderSVG=n.renderSVG.bind(n),n.drawOnCanvas=n.drawOnCanvas.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":gs(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),ks(t,[{key:"drawOnCanvas",value:function(e,t){var n=t.xAccessor,r=Ss(t.xScale,n,t.chartConfig.yScale,t.plotData);!function(e,t,n){var r=t.stroke,o=t.fill,a=t.strokeWidth;e.lineWidth=a,n.forEach(function(t){var n=ws(t.offset,2),a=n[0],i=n[1];t.boxes.forEach(function(n){if(t.direction>0)e.fillStyle=o.up,e.strokeStyle=r.up,e.beginPath(),e.moveTo(a,i+n.open),e.lineTo(a+n.columnWidth,i+n.close),e.moveTo(a,i+n.close),e.lineTo(a+n.columnWidth,i+n.open),e.stroke();else{e.fillStyle=o.down,e.strokeStyle=r.down,e.beginPath();var s=a+n.columnWidth/2,u=i+n.open+n.boxHeight/2,l=n.columnWidth/2,c=n.boxHeight/2;e.ellipse(s,u,l,c,0,0,2*Math.PI),e.stroke()}})}),e.stroke()}(e,this.props,r)}},{key:"render",value:function(){var e=this.props.clip;return o.a.createElement(Ca,{clip:e,svgDraw:this.renderSVG,canvasDraw:this.drawOnCanvas,canvasToDraw:ba,drawOn:["pan"]})}},{key:"renderSVG",value:function(e){var t=e.xAccessor,n=e.xScale,r=e.chartConfig.yScale,a=e.plotData,i=this.props,s=i.stroke,u=i.fill,l=i.strokeWidth,c=i.className,f=Ss(n,t,r,a);return o.a.createElement("g",{className:c},f.map(function(e,t){return o.a.createElement("g",{key:t,className:e.className,transform:"translate("+e.offset[0]+", "+e.offset[1]+")"},e.boxes.map(function(n,r){return e.direction>0?o.a.createElement("g",{key:t+"-"+r},o.a.createElement("line",{className:"up",strokeWidth:l,stroke:s.up,fill:u.up,x1:0,y1:n.open,x2:n.columnWidth,y2:n.close}),o.a.createElement("line",{className:"up",strokeWidth:l,stroke:s.up,fill:u.up,x1:0,y1:n.close,x2:n.columnWidth,y2:n.open})):o.a.createElement("ellipse",{key:t+"-"+r,className:"down",strokeWidth:l,stroke:s.down,fill:u.down,cx:n.columnWidth/2,cy:(n.open+n.close)/2,rx:n.columnWidth/2,ry:n.boxHeight/2})}))}))}}]),t}();function Ss(e,t,n,r){for(var o=(e(t(r[r.length-1]))-e(t(r[0])))/(r.length-1),a=void 0,i=0;ao(a)&&oo(r[i].close);)a=r[i].boxes[0],i++;var s=Math.abs(n(a.open)-n(a.close));return r.filter(function(e){return oo(e.close)}).map(function(r){var a=r.boxes.map(function(e){return{columnWidth:o,boxHeight:s,open:n(e.open),close:n(e.close)}}),i=e(t(r))-o/2;return{boxes:a,direction:r.direction,offset:[i,0]}})}Es.propTypes={className:p.a.string,strokeWidth:p.a.number.isRequired,stroke:p.a.object.isRequired,fill:p.a.object.isRequired,clip:p.a.bool.isRequired},Es.defaultProps={className:"react-stockcharts-point-and-figure",strokeWidth:1,stroke:{up:"#6BA583",down:"#FF0000"},fill:{up:"none",down:"none"},clip:!0};var Os="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Cs=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":Os(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.renderSVG=n.renderSVG.bind(n),n.drawOnCanvas=n.drawOnCanvas.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":Os(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),_s(t,[{key:"drawOnCanvas",value:function(e,t){var n=t.xAccessor,r=t.xScale,o=t.chartConfig.yScale,a=t.plotData,i=this.props.yAccessor;!function(e,t){t.forEach(function(t){e.beginPath(),e.strokeStyle=t.stroke,e.fillStyle=t.fill,e.rect(t.x,t.y,t.width,t.height),e.closePath(),e.fill()})}(e,xs(this.props,a,r,n,o,i))}},{key:"render",value:function(){var e=this.props.clip;return o.a.createElement(Ca,{clip:e,svgDraw:this.renderSVG,canvasDraw:this.drawOnCanvas,canvasToDraw:ba,drawOn:["pan"]})}},{key:"renderSVG",value:function(e){var t=e.xAccessor,n=e.xScale,r=e.chartConfig.yScale,a=e.plotData,i=this.props.yAccessor,s=xs(this.props,a,n,t,r,i).map(function(e,t){return o.a.createElement("rect",{key:t,className:e.className,fill:e.fill,x:e.x,y:e.y,width:e.width,height:e.height})});return o.a.createElement("g",null,o.a.createElement("g",{className:"candle"},s))}}]),t}();function xs(e,t,n,r,o,a){var i=e.classNames,s=e.fill,u=(n(r(t[t.length-1]))-n(r(t[0])))/(t.length-1);return t.filter(function(e){return oo(a(e).close)}).map(function(e){var t=a(e),l=n(r(e))-.5*u,c=o(Math.max(t.open,t.close)),f=Math.abs(o(t.open)-o(t.close));return{className:t.open<=t.close?i.up:i.down,fill:e.fullyFormed?t.open<=t.close?s.up:s.down:s.partial,x:l,y:c,height:f,width:u}})}Cs.propTypes={classNames:p.a.shape({up:p.a.string,down:p.a.string}),stroke:p.a.shape({up:p.a.string,down:p.a.string}),fill:p.a.shape({up:p.a.string,down:p.a.string,partial:p.a.string}),yAccessor:p.a.func.isRequired,clip:p.a.bool.isRequired},Cs.defaultProps={classNames:{up:"up",down:"down"},stroke:{up:"none",down:"none"},fill:{up:"#6BA583",down:"#E60000",partial:"#4682B4"},yAccessor:function(e){return{open:e.open,high:e.high,low:e.low,close:e.close}},clip:!0};var Ps="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ds=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ts=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var As=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":Ps(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.renderSVG=n.renderSVG.bind(n),n.drawOnCanvas=n.drawOnCanvas.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":Ps(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),Ts(t,[{key:"drawOnCanvas",value:function(e,t){var n=this.props,r=n.type,o=n.stroke,a=n.strokeWidth,i=n.opacity,s=n.strokeDasharray,u=this.props,l=u.yValue,c=u.xValue,f=t.xScale,p=t.chartConfig,d=p.yScale,h=p.width,y=p.height;e.beginPath(),e.strokeStyle=co(o,i),e.lineWidth=a;var m=js(r,f,d,c,l,h,y),b=m.x1,v=m.y1,g=m.x2,w=m.y2;e.setLineDash(Br(s).split(",")),e.moveTo(b,v),e.lineTo(g,w),e.stroke()}},{key:"render",value:function(){return o.a.createElement(Ca,{svgDraw:this.renderSVG,canvasDraw:this.drawOnCanvas,canvasToDraw:ba,drawOn:["pan"]})}},{key:"renderSVG",value:function(e){var t=e.width,n=e.height,r=e.xScale,a=e.chartConfig.yScale,i=this.props.className,s=this.props,u=s.type,l=s.stroke,c=s.strokeWidth,f=s.opacity,p=s.strokeDasharray,d=this.props,h=d.yValue,y=js(u,r,a,d.xValue,h,t,n);return o.a.createElement("line",Ds({className:i,strokeDasharray:Br(p),stroke:l,strokeWidth:c,strokeOpacity:f},y))}}]),t}();function js(e,t,n,r,o,a,i){return"horizontal"===e?{x1:0,y1:Math.round(n(o)),x2:a,y2:Math.round(n(o))}:{x1:Math.round(t(r)),y1:0,x2:Math.round(t(r)),y2:i}}As.propTypes={className:p.a.string,type:p.a.oneOf(["vertical","horizontal"]),stroke:p.a.string,strokeWidth:p.a.number,strokeDasharray:p.a.oneOf(Lr),opacity:p.a.number.isRequired,yValue:function(e,t){return"vertical"===e.type&&oo(e[t])?new Error("Do not define `yValue` when type is `vertical`, define the `xValue` prop"):"horizontal"===e.type&&ao(e[t])?new Error("when type = `horizontal` `yValue` is required"):void 0},xValue:function(e,t){return"horizontal"===e.type&&oo(e[t])?new Error("Do not define `xValue` when type is `horizontal`, define the `yValue` prop"):"vertical"===e.type&&ao(e[t])?new Error("when type = `vertical` `xValue` is required"):void 0}},As.defaultProps={className:"line ",type:"horizontal",stroke:"#000000",opacity:.5,strokeWidth:1,strokeDasharray:"Solid"};var Rs=As,Fs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ns=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Ms=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":Fs(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.yAccessorForMACD=n.yAccessorForMACD.bind(n),n.yAccessorForSignal=n.yAccessorForSignal.bind(n),n.yAccessorForDivergence=n.yAccessorForDivergence.bind(n),n.yAccessorForDivergenceBase=n.yAccessorForDivergenceBase.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":Fs(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),Ns(t,[{key:"yAccessorForMACD",value:function(e){var t=this.props.yAccessor;return t(e)&&t(e).macd}},{key:"yAccessorForSignal",value:function(e){var t=this.props.yAccessor;return t(e)&&t(e).signal}},{key:"yAccessorForDivergence",value:function(e){var t=this.props.yAccessor;return t(e)&&t(e).divergence}},{key:"yAccessorForDivergenceBase",value:function(e,t){return t(0)}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.opacity,r=e.divergenceStroke,a=e.widthRatio,i=e.width,s=this.props,u=s.stroke,l=s.fill,c=this.props.clip,f=this.props,p=f.zeroLineStroke,d=f.zeroLineOpacity;return o.a.createElement("g",{className:t},o.a.createElement(us,{baseAt:this.yAccessorForDivergenceBase,className:"macd-divergence",width:i,widthRatio:a,stroke:r,fill:l.divergence,opacity:n,clip:c,yAccessor:this.yAccessorForDivergence}),o.a.createElement(fi,{yAccessor:this.yAccessorForMACD,stroke:u.macd,fill:"none"}),o.a.createElement(fi,{yAccessor:this.yAccessorForSignal,stroke:u.signal,fill:"none"}),o.a.createElement(Rs,{stroke:p,opacity:d,yValue:0}))}}]),t}();Ms.propTypes={className:p.a.string,yAccessor:p.a.func.isRequired,opacity:p.a.number,divergenceStroke:p.a.bool,zeroLineStroke:p.a.string,zeroLineOpacity:p.a.number,clip:p.a.bool.isRequired,stroke:p.a.shape({macd:p.a.string.isRequired,signal:p.a.string.isRequired}).isRequired,fill:p.a.shape({divergence:p.a.oneOfType([p.a.string,p.a.func]).isRequired}).isRequired,widthRatio:p.a.number,width:us.propTypes.width},Ms.defaultProps={className:"react-stockcharts-macd-series",zeroLineStroke:"#000000",zeroLineOpacity:.3,opacity:.6,divergenceStroke:!1,clip:!0,widthRatio:.5,width:us.defaultProps.width};var Is=Ms,qs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ls=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Bs=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":qs(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.yAccessorForTop=n.yAccessorForTop.bind(n),n.yAccessorForMiddle=n.yAccessorForMiddle.bind(n),n.yAccessorForBottom=n.yAccessorForBottom.bind(n),n.yAccessorForScalledBottom=n.yAccessorForScalledBottom.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":qs(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),Ls(t,[{key:"yAccessorForTop",value:function(e){var t=this.props.yAccessor;return t(e)&&t(e).top}},{key:"yAccessorForMiddle",value:function(e){var t=this.props.yAccessor;return t(e)&&t(e).middle}},{key:"yAccessorForBottom",value:function(e){var t=this.props.yAccessor;return t(e)&&t(e).bottom}},{key:"yAccessorForScalledBottom",value:function(e,t){var n=this.props.yAccessor;return e(n(t)&&n(t).bottom)}},{key:"render",value:function(){var e=this.props,t=e.areaClassName,n=e.className,r=e.opacity,a=this.props,i=a.stroke,s=a.fill;return o.a.createElement("g",{className:n},o.a.createElement(fi,{yAccessor:this.yAccessorForTop,stroke:i.top,fill:"none"}),o.a.createElement(fi,{yAccessor:this.yAccessorForMiddle,stroke:i.middle,fill:"none"}),o.a.createElement(fi,{yAccessor:this.yAccessorForBottom,stroke:i.bottom,fill:"none"}),o.a.createElement(yi,{className:t,yAccessor:this.yAccessorForTop,base:this.yAccessorForScalledBottom,stroke:"none",fill:s,opacity:r}))}}]),t}();Bs.propTypes={yAccessor:p.a.func.isRequired,className:p.a.string,areaClassName:p.a.string,opacity:p.a.number,type:p.a.string,stroke:p.a.shape({top:p.a.string.isRequired,middle:p.a.string.isRequired,bottom:p.a.string.isRequired}).isRequired,fill:p.a.string.isRequired},Bs.defaultProps={className:"react-stockcharts-bollinger-band-series",areaClassName:"react-stockcharts-bollinger-band-series-area",opacity:.2};var Vs=Bs,Ws="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hs=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var zs=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":Ws(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.renderClip=n.renderClip.bind(n),n.topAndBottomClip=n.topAndBottomClip.bind(n),n.mainClip=n.mainClip.bind(n);var r=String(Math.round(1e4*Math.random()*1e4));n.clipPathId1="rsi-clip-"+r;var o=String(Math.round(1e4*Math.random()*1e4));return n.clipPathId2="rsi-clip-"+o,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":Ws(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),Hs(t,[{key:"topAndBottomClip",value:function(e,t){var n=t.chartConfig,r=this.props,o=r.overSold,a=r.overBought,i=n.yScale,s=n.width;e.beginPath(),e.rect(0,i(o),s,i(a)-i(o)),e.clip()}},{key:"mainClip",value:function(e,t){var n=t.chartConfig,r=this.props,o=r.overSold,a=r.overBought,i=n.yScale,s=n.width,u=n.height;e.beginPath(),e.rect(0,0,s,i(o)),e.rect(0,i(a),s,u-i(a)),e.clip()}},{key:"renderClip",value:function(e){var t=e.chartConfig,n=this.props,r=n.overSold,a=n.overBought,i=t.yScale,s=t.width,u=t.height;return o.a.createElement("defs",null,o.a.createElement("clipPath",{id:this.clipPathId1},o.a.createElement("rect",{x:0,y:i(r),width:s,height:i(a)-i(r)})),o.a.createElement("clipPath",{id:this.clipPathId2},o.a.createElement("rect",{x:0,y:0,width:s,height:i(r)}),o.a.createElement("rect",{x:0,y:i(a),width:s,height:u-i(a)})))}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.stroke,r=e.opacity,a=e.strokeDasharray,i=e.strokeWidth,s=this.props.yAccessor,u=this.props,l=u.overSold,c=u.middle,f=u.overBought,p={clipPath:"url(#"+this.clipPathId1+")"},d={clipPath:"url(#"+this.clipPathId2+")"};return o.a.createElement("g",{className:t},o.a.createElement(ki,null,this.renderClip),o.a.createElement(Rs,{stroke:n.top,opacity:r.top,yValue:l,strokeDasharray:a.top,strokeWidth:i.top}),o.a.createElement(Rs,{stroke:n.middle,opacity:r.middle,yValue:c,strokeDasharray:a.middle,strokeWidth:i.middle}),o.a.createElement(Rs,{stroke:n.bottom,opacity:r.bottom,yValue:f,strokeDasharray:a.bottom,strokeWidth:i.bottom}),o.a.createElement(fi,{style:p,canvasClip:this.topAndBottomClip,className:t,yAccessor:s,stroke:n.insideThreshold||n.line,strokeWidth:i.insideThreshold,strokeDasharray:a.line}),o.a.createElement(fi,{style:d,canvasClip:this.mainClip,className:t,yAccessor:s,stroke:n.outsideThreshold||n.line,strokeWidth:i.outsideThreshold,strokeDasharray:a.line}))}}]),t}();zs.propTypes={className:p.a.string,yAccessor:p.a.func.isRequired,stroke:p.a.shape({top:p.a.string.isRequired,middle:p.a.string.isRequired,bottom:p.a.string.isRequired,outsideThreshold:p.a.string.isRequired,insideThreshold:p.a.string.isRequired}).isRequired,opacity:p.a.shape({top:p.a.number.isRequired,middle:p.a.number.isRequired,bottom:p.a.number.isRequired}).isRequired,strokeDasharray:p.a.shape({line:p.a.oneOf(Lr),top:p.a.oneOf(Lr),middle:p.a.oneOf(Lr),bottom:p.a.oneOf(Lr)}).isRequired,strokeWidth:p.a.shape({outsideThreshold:p.a.number.isRequired,insideThreshold:p.a.number.isRequired,top:p.a.number.isRequired,middle:p.a.number.isRequired,bottom:p.a.number.isRequired}).isRequired,overSold:p.a.number.isRequired,middle:p.a.number.isRequired,overBought:p.a.number.isRequired},zs.defaultProps={className:"react-stockcharts-rsi-series",stroke:{line:"#000000",top:"#B8C2CC",middle:"#8795A1",bottom:"#B8C2CC",outsideThreshold:"#b300b3",insideThreshold:"#ffccff"},opacity:{top:1,middle:1,bottom:1},strokeDasharray:{line:"Solid",top:"ShortDash",middle:"ShortDash",bottom:"ShortDash"},strokeWidth:{outsideThreshold:1,insideThreshold:1,top:1,middle:1,bottom:1},overSold:70,middle:50,overBought:30};var Us="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ys=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Gs=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":Us(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.yAccessorForD=n.yAccessorForD.bind(n),n.yAccessorForK=n.yAccessorForK.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":Us(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),Ys(t,[{key:"yAccessorForD",value:function(e){var t=this.props.yAccessor;return t(e)&&t(e).D}},{key:"yAccessorForK",value:function(e){var t=this.props.yAccessor;return t(e)&&t(e).K}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.stroke,r=e.refLineOpacity,a=this.props,i=a.overSold,s=a.middle,u=a.overBought;return o.a.createElement("g",{className:t},o.a.createElement(fi,{yAccessor:this.yAccessorForD,stroke:n.dLine,fill:"none"}),o.a.createElement(fi,{yAccessor:this.yAccessorForK,stroke:n.kLine,fill:"none"}),o.a.createElement(Rs,{stroke:n.top,opacity:r,yValue:i}),o.a.createElement(Rs,{stroke:n.middle,opacity:r,yValue:s}),o.a.createElement(Rs,{stroke:n.bottom,opacity:r,yValue:u}))}}]),t}();Gs.propTypes={className:p.a.string,yAccessor:p.a.func.isRequired,stroke:p.a.shape({top:p.a.string.isRequired,middle:p.a.string.isRequired,bottom:p.a.string.isRequired,dLine:p.a.string.isRequired,kLine:p.a.string.isRequired}).isRequired,overSold:p.a.number.isRequired,middle:p.a.number.isRequired,overBought:p.a.number.isRequired,refLineOpacity:p.a.number.isRequired},Gs.defaultProps={className:"react-stockcharts-stochastic-series",stroke:{top:"#964B00",middle:"#000000",bottom:"#964B00",dLine:"#EA2BFF",kLine:"#74D400"},overSold:80,middle:50,overBought:20,refLineOpacity:.3};var Qs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xs=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Js=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":Qs(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.renderSVG=n.renderSVG.bind(n),n.drawOnCanvas=n.drawOnCanvas.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":Qs(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),Xs(t,[{key:"drawOnCanvas",value:function(e,t){var n=this.props.yAccessor,r=Ks(this.props,t,n);rs(this.props,e,r)}},{key:"renderSVG",value:function(e){var t=this.props.yAccessor,n=Ks(this.props,e,t);return o.a.createElement("g",{className:"react-stockcharts-bar-series"},ts(this.props,n))}},{key:"render",value:function(){var e=this.props.clip;return o.a.createElement(Ca,{svgDraw:this.renderSVG,canvasToDraw:ba,canvasDraw:this.drawOnCanvas,clip:e,drawOn:["pan"]})}}]),t}();function Ks(e,t,n){var r=t.xScale,o=t.xAccessor,a=t.chartConfig.yScale,i=t.plotData,s=e.baseAt,u=e.className,l=e.fill,c=e.stroke,f=Ur(u),p=Ur(l),d=Ur(s),h=Ur(e.width)(e,t),y=Math.floor(.5*h),m=i.map(function(e){for(var t=n.map(function(t,n){var i=t(e);if(!ao(i)){var s=o(e),u=Math.round(r(s))-y,l=a(i);return{width:2*y,x:u,y:l,className:f(e,n),stroke:c?p(e,n):"none",fill:p(e,n),i:n}}}).filter(function(e){return oo(e)}),i=d(r,a,e),s=void 0,u=t.length-1;u>=0;u--)(s=i-t[u].y)<0&&(t[u].y=i,s*=-1),t[u].height=s,i=t[u].y;return t});return Object(kr.merge)(m)}Js.propTypes={baseAt:p.a.oneOfType([p.a.number,p.a.func]).isRequired,direction:p.a.oneOf(["up","down"]).isRequired,stroke:p.a.bool.isRequired,widthRatio:p.a.number.isRequired,opacity:p.a.number.isRequired,fill:p.a.oneOfType([p.a.func,p.a.string]).isRequired,className:p.a.oneOfType([p.a.func,p.a.string]).isRequired,xAccessor:p.a.func,yAccessor:p.a.arrayOf(p.a.func),xScale:p.a.func,yScale:p.a.func,plotData:p.a.array,clip:p.a.bool.isRequired},Js.defaultProps={baseAt:function(e,t){return no(t.range())},direction:"up",className:"bar",stroke:!1,fill:"#4682B4",opacity:1,widthRatio:.5,width:qr,clip:!0};var Zs=Js,$s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eu=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var tu=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":$s(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.fillForEachBar=n.fillForEachBar.bind(n),n.yAccessorTop=n.yAccessorTop.bind(n),n.yAccessorBullTop=n.yAccessorBullTop.bind(n),n.yAccessorBearTop=n.yAccessorBearTop.bind(n),n.yAccessorBullBottom=n.yAccessorBullBottom.bind(n),n.yAccessorBearBottom=n.yAccessorBearBottom.bind(n),n.yAccessorForBarBase=n.yAccessorForBarBase.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":$s(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),eu(t,[{key:"yAccessorTop",value:function(e){var t=this.props.yAccessor;return t(e)&&Math.max(t(e).bullPower,0)}},{key:"yAccessorBullTop",value:function(e){var t=this.props.yAccessor;return t(e)&&(t(e).bullPower>0?t(e).bullPower:void 0)}},{key:"yAccessorBearTop",value:function(e){var t=this.props.yAccessor;return t(e)&&(t(e).bearPower>0?t(e).bearPower:void 0)}},{key:"yAccessorBullBottom",value:function(e){var t=this.props.yAccessor;return t(e)&&(t(e).bullPower<0?0:void 0)}},{key:"yAccessorBearBottom",value:function(e){var t=this.props.yAccessor;return t(e)&&(t(e).bullPower<0||t(e).bullPower*t(e).bearPower<0?Math.min(0,t(e).bullPower):void 0)}},{key:"yAccessorForBarBase",value:function(e,t,n){var r=this.props.yAccessor;return t(r(n)&&Math.min(r(n).bearPower,0))}},{key:"fillForEachBar",value:function(e,t){var n=this.props,r=n.bullPowerFill,o=n.bearPowerFill;return t%2==0?r:o}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.opacity,r=e.stroke,a=e.straightLineStroke,i=e.straightLineOpacity,s=e.widthRatio,u=this.props.clip;return o.a.createElement("g",{className:t},o.a.createElement(Zs,{baseAt:this.yAccessorForBarBase,className:"react-stockcharts-elderray-bar",stroke:r,fill:this.fillForEachBar,opacity:n,widthRatio:s,clip:u,yAccessor:[this.yAccessorBullTop,this.yAccessorBearTop,this.yAccessorBullBottom,this.yAccessorBearBottom]}),o.a.createElement(Rs,{className:"react-stockcharts-elderray-straight-line",yValue:0,stroke:a,opacity:i}))}}]),t}();tu.propTypes={className:p.a.string,yAccessor:p.a.func,opacity:p.a.number,stroke:p.a.bool,bullPowerFill:p.a.string,bearPowerFill:p.a.string,straightLineStroke:p.a.string,straightLineOpacity:p.a.number,widthRatio:p.a.number,clip:p.a.bool.isRequired},tu.defaultProps={className:"react-stockcharts-elderray-series",straightLineStroke:"#000000",straightLineOpacity:.3,opacity:.5,stroke:!0,bullPowerFill:"#6BA583",bearPowerFill:"#FF0000",widthRatio:.8,clip:!0};var nu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ru=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),ou=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},au=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var iu=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":nu(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.renderSVG=n.renderSVG.bind(n),n.drawOnCanvas=n.drawOnCanvas.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":nu(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),au(t,[{key:"drawOnCanvas",value:function(e,t){var n=t.xAccessor,r=t.width,o=su(this.props,t,n,r),a=o.rects,i=o.sessionBg;!function(e,t,n,r){var o=t.opacity,a=t.sessionBackGround,i=t.sessionBackGroundOpacity;t.showSessionBackground&&(e.fillStyle=co(a,i),r.forEach(function(t){var n=t.x,r=t.y,o=t.height,a=t.width;e.beginPath(),e.rect(n,r,a,o),e.closePath(),e.fill()}));n.forEach(function(t){var n=t.x,r=t.y,a=t.height,i=t.w1,s=t.w2,u=t.stroke1,l=t.stroke2,c=t.fill1,f=t.fill2;i>0&&(e.fillStyle=co(c,o),"none"!==u&&(e.strokeStyle=u),e.beginPath(),e.rect(n,r,i,a),e.closePath(),e.fill(),"none"!==u&&e.stroke()),s>0&&(e.fillStyle=co(f,o),"none"!==l&&(e.strokeStyle=l),e.beginPath(),e.rect(n+i,r,s,a),e.closePath(),e.fill(),"none"!==l&&e.stroke())})}(e,this.props,a,i)}},{key:"render",value:function(){return o.a.createElement(Ca,{svgDraw:this.renderSVG,canvasDraw:this.drawOnCanvas,canvasToDraw:ba,drawOn:["pan"]})}},{key:"renderSVG",value:function(e){var t=this.props,n=t.className,r=t.opacity,a=this.props,i=a.showSessionBackground,s=a.sessionBackGround,u=a.sessionBackGroundOpacity,l=e.xAccessor,c=e.width,f=su(this.props,e,l,c),p=f.rects,d=f.sessionBg,h=i?d.map(function(e,t){return o.a.createElement("rect",ou({key:t},e,{opacity:u,fill:s}))}):null;return o.a.createElement("g",{className:n},h,p.map(function(e,t){return o.a.createElement("g",{key:t},o.a.createElement("rect",{x:e.x,y:e.y,width:e.w1,height:e.height,fill:e.fill1,stroke:e.stroke1,fillOpacity:r}),o.a.createElement("rect",{x:e.x+e.w1,y:e.y,width:e.w2,height:e.height,fill:e.fill2,stroke:e.stroke2,fillOpacity:r}))}))}}]),t}();function su(e,t,n,r){var o=t.xScale,a=t.chartConfig.yScale,i=t.plotData,s=e.sessionStart,u=e.bySession,l=e.partialStartOK,c=e.partialEndOK,f=e.bins,p=e.maxProfileWidthPercent,d=e.source,h=e.volume,y=e.absoluteChange,m=e.orient,b=e.fill,v=e.stroke,g=Rr().discardTillStart(!l).discardTillEnd(!c).accumulateTill(function(e,n){return s(ou({d:e,i:n},t))}).accumulator(Or),w=i.length>1?o(n(i[1]))-o(n(to(i))):0,k=(u?g(i):[i]).map(function(e){var t=u?o(n(to(e))):0,i=u?o(n(ro(e))):r,s=i-t+w,l=Object(kr.histogram)().value(d).thresholds(f),c=Object(po.nest)().key(function(e){return e.direction}).sortKeys("right"===m?kr.descending:kr.ascending).rollup(function(e){return Object(kr.sum)(e,function(e){return e.volume})}),g=l(e),k=g.map(function(e){return e.map(function(e){return y(e)>0?{direction:"up",volume:h(e)}:{direction:"down",volume:h(e)}})}).map(function(e){return c.entries(e)}),E=k.map(function(e){return Object(kr.sum)(e.map(function(e){return e.value}))}),S=ru("right"===m?[t,t+s*p/100]:[i,i-s*(100-p)/100],2),O=S[0],_=S[1],C=Object(Er.scaleLinear)().domain([0,Object(kr.max)(E)]).range([O,_]),x=k.map(function(e){var t=Object(kr.sum)(e,function(e){return e.value}),n=C(t),r=function(e){return to(e.range())}(C)-n;return{x:r<0?n+r:n,ws:e.map(function(e){return{type:e.key,width:e.value*Math.abs(r)/t}}),totalVolumeX:n}}),P=Object(kr.zip)(g,x).map(function(e){var t=ru(e,2),n=t[0],o=t[1],i=o.x,s=o.ws,u=s[0]||{type:"up",width:0},l=s[1]||{type:"down",width:0};return{y:a(n.x1),height:a(n.x1)-a(n.x0),x:i,width:r,w1:u.width,w2:l.width,stroke1:Ur(v)(u),stroke2:Ur(v)(l),fill1:Ur(b)(u),fill2:Ur(b)(l)}});return{rects:P,sessionBg:{x:t,y:ro(P).y,height:to(P).y-ro(P).y+to(P).height,width:s}}});return{rects:Object(kr.merge)(k.map(function(e){return e.rects})),sessionBg:k.map(function(e){return e.sessionBg})}}iu.propTypes={className:p.a.string,opacity:p.a.number,showSessionBackground:p.a.bool,sessionBackGround:p.a.string,sessionBackGroundOpacity:p.a.number},iu.defaultProps={className:"line ",bins:20,opacity:.5,maxProfileWidthPercent:50,fill:function(e){return"up"===e.type?"#6BA583":"#FF0000"},stroke:"#FFFFFF",showSessionBackground:!1,sessionBackGround:"#4682B4",sessionBackGroundOpacity:.3,source:function(e){return e.close},volume:function(e){return e.volume},absoluteChange:function(e){return e.absoluteChange},bySession:!1,sessionStart:function(e){var t=e.d,n=e.i,r=e.plotData;return n>0&&r[n-1].date.getMonth()!==t.date.getMonth()},orient:"left",partialStartOK:!0,partialEndOK:!0};var uu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cu=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var fu=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":uu(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.renderSVG=n.renderSVG.bind(n),n.drawOnCanvas=n.drawOnCanvas.bind(n),n.isHover=n.isHover.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":uu(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),cu(t,[{key:"isHover",value:function(e){var t=e.mouseXY,n=e.currentItem,r=e.chartConfig.yScale,o=this.props.yAccessor,a=t[1],i=r(o(n));return a<i+5&&a>i-5}},{key:"drawOnCanvas",value:function(e,t){var n=this.props,r=n.yAccessor,o=n.fill,a=n.opacity,i=t.xAccessor,s=t.plotData,u=t.xScale,l=t.chartConfig.yScale,c=t.hovering,f=(u(i(ro(s)))-u(i(no(s))))/s.length*.5/2,p=Math.max(.5,f/2)+(c?2:0),d=Math.min(2,Math.max(.5,f))+0;s.forEach(function(t){var n=u(i(t)),s=l(r(t)),c=r(t)>t.close?o.falling:o.rising;e.fillStyle=co(c,a),e.strokeStyle=c,e.beginPath(),e.ellipse(n,s,p,d,0,0,2*Math.PI),e.closePath(),e.fill(),e.stroke()})}},{key:"renderSVG",value:function(e){var t=this.props,n=t.className,r=t.yAccessor,a=e.xAccessor,i=e.plotData,s=e.xScale,u=e.chartConfig.yScale;return o.a.createElement("g",{className:n},i.filter(function(e){return oo(r(e))}).map(function(e,t){return o.a.createElement("circle",{key:t,cx:s(a(e)),cy:u(r(e)),r:3,fill:"green"})}))}},{key:"render",value:function(){var e=this.props.highlightOnHover?{isHover:this.isHover,drawOn:["mousemove","pan"],canvasToDraw:va}:{drawOn:["pan"],canvasToDraw:ba};return o.a.createElement(Ca,lu({svgDraw:this.renderSVG,canvasDraw:this.drawOnCanvas,onClickWhenHover:this.props.onClick,onDoubleClickWhenHover:this.props.onDoubleClick,onContextMenuWhenHover:this.props.onContextMenu},e))}}]),t}();fu.propTypes={className:p.a.string,fill:p.a.object.isRequired,yAccessor:p.a.func.isRequired,opacity:p.a.number.isRequired,onClick:p.a.func,onDoubleClick:p.a.func,onContextMenu:p.a.func,highlightOnHover:p.a.bool},fu.defaultProps={className:"react-stockcharts-sar",fill:{falling:"#4682B4",rising:"#15EC2E"},highlightOnHover:!0,opacity:.2,onClick:function(e){console.log("Click",e)},onDoubleClick:function(e){console.log("Double Click",e)},onContextMenu:function(e){console.log("Right Click",e)}};var pu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function du(e){var t=e.className,n=hu(e);if(null===n)return null;var r=void 0,a=void 0,i=void 0;if(oo(n.line)&&(r=o.a.createElement("line",{className:"react-stockcharts-cross-hair",strokeOpacity:n.line.opacity,stroke:n.line.stroke,strokeDasharray:Br(n.line.strokeDasharray),x1:n.line.x1,y1:n.line.y1,x2:n.line.x2,y2:n.line.y2})),oo(n.coordinateBase)){var s=n.coordinateBase,u=s.rectWidth,l=s.rectHeight,c=s.arrowWidth,f="left"===n.orient?"M0,0L0,"+l+"L"+u+","+l+"L"+(u+c)+",10L"+u+",0L0,0L0,0":"M0,"+c+"L"+c+","+l+"L"+(u+c)+","+l+"L"+(u+c)+",0L"+c+",0L0,"+c;a="left"===n.orient||"right"===n.orient?o.a.createElement("g",{key:1,transform:"translate("+n.coordinateBase.edgeXRect+","+n.coordinateBase.edgeYRect+")"},o.a.createElement("path",{d:f,className:"react-stockchart-text-background",height:l,width:u,stroke:n.coordinateBase.stroke,strokeLinejoin:"miter",strokeOpacity:n.coordinateBase.strokeOpacity,strokeWidth:n.coordinateBase.strokeWidth,fill:n.coordinateBase.fill,fillOpacity:n.coordinateBase.opacity})):o.a.createElement("rect",{key:1,className:"react-stockchart-text-background",x:n.coordinateBase.edgeXRect,y:n.coordinateBase.edgeYRect,height:l,width:u,fill:n.coordinateBase.fill,opacity:n.coordinateBase.opacity}),i=o.a.createElement("text",{key:2,x:n.coordinate.edgeXText,y:n.coordinate.edgeYText,textAnchor:n.coordinate.textAnchor,fontFamily:n.coordinate.fontFamily,fontSize:n.coordinate.fontSize,dy:".32em",fill:n.coordinate.textFill},n.coordinate.displayCoordinate)}return o.a.createElement("g",{className:t},r,a,i)}function hu(e){var t=e.coordinate,n=e.show,r=e.type,o=e.orient,a=e.edgeAt,i=e.hideLine,s=e.lineStrokeDasharray,u=e.fill,l=e.opacity,c=e.fontFamily,f=e.fontSize,p=e.textFill,d=e.lineStroke,h=e.lineOpacity,y=e.stroke,m=e.strokeOpacity,b=e.strokeWidth,v=e.arrowWidth,g=e.rectWidth,w=e.rectHeight,k=e.rectRadius,E=e.x1,S=e.y1,O=e.x2,_=e.y2,C=e.dx;if(!n)return null;var x=void 0,P=void 0;if(oo(t)){var D=void 0,T=void 0,A=void 0,j=void 0;if("horizontal"===r)D=C+("right"===o?a+1:a-g-1),T=S-w/2-b,A=C+("right"===o?a+g/2:a-g/2),j=S;else{var R="bottom"===o?b-1:1-b;D=E-g/2,T=("bottom"===o?a:a-w)+R,A=E,j=("bottom"===o?a+w/2:a-w/2)+R}x={edgeXRect:D,edgeYRect:T,rectHeight:w+b,rectWidth:g,rectRadius:k,fill:u,opacity:l,arrowWidth:v,stroke:y,strokeOpacity:m,strokeWidth:b},P={edgeXText:A,edgeYText:j,textAnchor:"middle",fontFamily:c,fontSize:f,textFill:p,displayCoordinate:t}}return{coordinateBase:x,coordinate:P,line:i?void 0:{opacity:h,stroke:d,strokeDasharray:s,x1:E,y1:S,x2:O,y2:_},orient:o}}function yu(e,t){var n=t.fontSize,r=t.fontFamily;e.font=n+"px "+r,e.textBaseline="middle";var o=Math.round(e.measureText(t.coordinate).width+10),a=hu(pu({},t,{rectWidth:o}));if(null!==a){if(oo(a.line)){var i=Br(a.line.strokeDasharray).split(",").map(function(e){return+e});e.setLineDash(i),e.strokeStyle=co(a.line.stroke,a.line.opacity),e.lineWidth=1,e.beginPath(),e.moveTo(a.line.x1,a.line.y1),e.lineTo(a.line.x2,a.line.y2),e.stroke()}if(e.setLineDash([]),oo(a.coordinateBase)){var s=a.coordinateBase,u=s.rectWidth,l=s.rectHeight,c=s.rectRadius,f=s.arrowWidth;e.fillStyle=co(a.coordinateBase.fill,a.coordinateBase.opacity),oo(a.coordinateBase.stroke)&&(e.strokeStyle=co(a.coordinateBase.stroke,a.coordinateBase.strokeOpacity),e.lineWidth=a.coordinateBase.strokeWidth);var p=a.coordinateBase.edgeXRect,d=a.coordinateBase.edgeYRect,h=l/2;e.beginPath(),"right"===a.orient?(p-=f,e.moveTo(p,d+h),e.lineTo(p+f,d),e.lineTo(p+u+f,d),e.lineTo(p+u+f,d+l),e.lineTo(p+f,d+l),e.closePath()):"left"===a.orient?(e.moveTo(p,d),e.lineTo(p+u,d),e.lineTo(p+u+f,d+h),e.lineTo(p+u,d+l),e.lineTo(p,d+l),e.closePath()):c?function(e,t,n,r,o,a){e.beginPath(),e.moveTo(t+a,n),e.lineTo(t+r-a,n),e.quadraticCurveTo(t+r,n,t+r,n+a),e.lineTo(t+r,n+o-a),e.quadraticCurveTo(t+r,n+o,t+r-a,n+o),e.lineTo(t+a,n+o),e.quadraticCurveTo(t,n+o,t,n+o-a),e.lineTo(t,n+a),e.quadraticCurveTo(t,n,t+a,n),e.closePath()}(e,p,d,u,l,3):e.rect(p,d,u,l),e.fill(),oo(a.coordinateBase.stroke)&&e.stroke(),e.fillStyle=a.coordinate.textFill,e.textAlign="middle"===a.coordinate.textAnchor?"center":a.coordinate.textAnchor,e.fillText(a.coordinate.displayCoordinate,a.coordinate.edgeXText,a.coordinate.edgeYText)}}}var mu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vu=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var gu=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":mu(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.renderSVG=n.renderSVG.bind(n),n.drawOnCanvas=n.drawOnCanvas.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":mu(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),vu(t,[{key:"drawOnCanvas",value:function(e,t){var n=wu(this.props,t);yu(e,bu({},this.props,n))}},{key:"renderSVG",value:function(e){var t=wu(this.props,e);return du(bu({},this.props,t))}},{key:"render",value:function(){return o.a.createElement(Ca,{edgeClip:!0,clip:!1,svgDraw:this.renderSVG,canvasDraw:this.drawOnCanvas,canvasToDraw:ba,drawOn:["pan"]})}}]),t}();function wu(e,t){var n=e.itemType,r=e.yAccessor,o=t.plotData,a="first"===n?no(o,r):ro(o,r);return oo(a)?function(e,t,n){var r=e.type,o=e.displayFormat,a=e.edgeAt,i=e.yAxisPad,s=e.orient,u=e.lineStroke,l=e.yAccessor,c=e.fill,f=e.textFill,p=e.rectHeight,d=e.rectWidth,h=e.arrowWidth,y=e.fontFamily,m=e.fontSize,b=e.stroke,v=t.xScale,g=t.chartConfig.yScale,w=t.xAccessor,k=t.width,E=l(n),S=w(n),O=Math.round(v(S)),_=Math.round(g(E)),C=k,x="left"===a?0-i:C+i;return{coordinate:o(E),show:!0,type:r,orient:s,edgeAt:x,fill:Ur(c)(n),lineStroke:Ur(u)(n),stroke:Ur(b)(n),fontFamily:y,fontSize:m,textFill:Ur(f)(n),rectHeight:p,rectWidth:d,arrowWidth:h,x1:O,y1:_,x2:C,y2:_}}(e,t,a):null}gu.propTypes={yAccessor:p.a.func,type:p.a.oneOf(["horizontal"]),className:p.a.string,fill:p.a.oneOfType([p.a.string,p.a.func]),lineStroke:p.a.oneOfType([p.a.string,p.a.func]),textFill:p.a.oneOfType([p.a.string,p.a.func]),itemType:p.a.oneOf(["first","last"]).isRequired,orient:p.a.oneOf(["left","right"]),edgeAt:p.a.oneOf(["left","right"]),displayFormat:p.a.func,rectHeight:p.a.number,rectWidth:p.a.number,arrowWidth:p.a.number,lineStrokeDasharray:p.a.oneOf(Lr)},gu.defaultProps={className:"react-stockcharts-edgeindicator",type:"horizontal",orient:"left",edgeAt:"left",textFill:"#FFFFFF",displayFormat:Object(gr.format)(".2f"),yAxisPad:0,rectHeight:20,rectWidth:50,arrowWidth:10,fontFamily:"Helvetica Neue, Helvetica, Arial, sans-serif",fontSize:13,dx:0,hideLine:!1,fill:"#8a8a8a",opacity:1,stroke:Sr,strokeOpacity:1,strokeWidth:3,lineStroke:"#000000",lineOpacity:.3,lineStrokeDasharray:"ShortDash"};var ku="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Eu=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Su=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":ku(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.renderSVG=n.renderSVG.bind(n),n.drawOnCanvas=n.drawOnCanvas.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":ku(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),Eu(t,[{key:"drawOnCanvas",value:function(e,t){var n=Ou(this.props,t);if(!n)return null;e.fillStyle=n.fill,e.beginPath(),e.arc(n.x,n.y,n.r,0,2*Math.PI,!1),e.fill()}},{key:"renderSVG",value:function(e){var t=this.props.className,n=Ou(this.props,e);if(!n)return null;var r=n.fill instanceof Function?n.fill(e.currentItem):n.fill;return o.a.createElement("circle",{className:t,cx:n.x,cy:n.y,r:n.r,fill:r})}},{key:"render",value:function(){return o.a.createElement(Ca,{svgDraw:this.renderSVG,canvasDraw:this.drawOnCanvas,canvasToDraw:va,drawOn:["mousemove","pan"]})}}]),t}();function Ou(e,t){var n=e.fill,r=e.yAccessor,o=e.r,a=t.show,i=t.xScale,s=t.chartConfig.yScale,u=t.currentItem,l=t.xAccessor;if(!a||ao(u))return null;var c=l(u),f=r(u);return ao(f)?null:{x:Math.round(i(c)),y:Math.round(s(f)),r:o,fill:n}}Su.propTypes={yAccessor:p.a.func,r:p.a.number.isRequired,className:p.a.string},Su.defaultProps={r:3,className:"react-stockcharts-current-coordinate"};var _u=Su,Cu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xu=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Pu=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":Cu(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.renderSVG=n.renderSVG.bind(n),n.drawOnCanvas=n.drawOnCanvas.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":Cu(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),xu(t,[{key:"drawOnCanvas",value:function(e,t){var n=Du(this.props,t);if(ao(n))return null;yu(e,n)}},{key:"renderSVG",value:function(e){var t=Du(this.props,e);return ao(t)?null:du(t)}},{key:"render",value:function(){return o.a.createElement(Ca,{svgDraw:this.renderSVG,clip:!1,canvasDraw:this.drawOnCanvas,canvasToDraw:va,drawOn:["mousemove","pan","drag"]})}}]),t}();function Du(e,t){var n=t.show,r=t.currentItem,o=t.chartConfig.height;if(ao(r))return null;var a=e.customX,i=e.orient,s=e.at,u=e.stroke,l=e.strokeOpacity,c=e.strokeWidth,f=e.rectRadius,p=e.rectWidth,d=e.rectHeight,h=e.fill,y=e.opacity,m=e.fontFamily,b=e.fontSize,v=e.textFill,g="bottom"===s?o:0,w=a(e,t),k=w.x;return{coordinate:w.coordinate,show:n,type:"vertical",orient:i,edgeAt:g,hideLine:!0,fill:h,opacity:y,fontFamily:m,fontSize:b,textFill:v,stroke:u,strokeOpacity:l,strokeWidth:c,rectWidth:p,rectHeight:d,rectRadius:f,arrowWidth:0,x1:k,x2:k,y1:0,y2:o}}Pu.propTypes={displayFormat:p.a.func.isRequired,yAxisPad:p.a.number,rectWidth:p.a.number,rectHeight:p.a.number,orient:p.a.oneOf(["bottom","top","left","right"]),at:p.a.oneOf(["bottom","top","left","right"]),fill:p.a.string,opacity:p.a.number,fontFamily:p.a.string,fontSize:p.a.number,textFill:p.a.string,snapX:p.a.bool},Pu.defaultProps={yAxisPad:0,rectWidth:80,rectHeight:20,strokeOpacity:1,strokeWidth:1,orient:"bottom",at:"bottom",fill:"#525252",opacity:1,fontFamily:"Helvetica Neue, Helvetica, Arial, sans-serif",fontSize:13,textFill:"#FFFFFF",snapX:!0,customX:function(e,t){var n=t.xScale,r=t.xAccessor,o=t.currentItem,a=t.mouseXY,i=e.snapX,s=i?n(r(o)):a[0],u=t.displayXAccessor,l=e.displayFormat;return{x:s,coordinate:l(i?u(o):n.invert(s))}}};var Tu=Pu,Au="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ju=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Ru=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":Au(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.renderSVG=n.renderSVG.bind(n),n.drawOnCanvas=n.drawOnCanvas.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":Au(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),ju(t,[{key:"drawOnCanvas",value:function(e,t){var n=Fu(this.props,t);if(ao(n))return null;yu(e,n)}},{key:"renderSVG",value:function(e){var t=Fu(this.props,e);return ao(t)?null:du(t)}},{key:"render",value:function(){return o.a.createElement(Ca,{clip:!1,svgDraw:this.renderSVG,canvasDraw:this.drawOnCanvas,canvasToDraw:va,drawOn:["mousemove","pan","drag"]})}}]),t}();function Fu(e,t){var n=t.chartId,r=t.currentCharts,o=t.mouseXY;if(ao(o))return null;if(r.indexOf(n)<0)return null;if(!t.show)return null;var a=o[1],i=t.chartConfig.yScale;return Nu(a,(0,e.displayFormat)(i.invert(a)),e,t)}function Nu(e,t,n,r){var o=r.width,a=n.orient,i=n.at,s=n.rectWidth,u=n.rectHeight,l=n.dx,c=n.fill,f=n.opacity,p=n.fontFamily,d=n.fontSize,h=n.textFill,y=n.arrowWidth,m=n.stroke,b=n.strokeOpacity,v=n.strokeWidth;return{coordinate:t,show:!0,type:"horizontal",orient:a,edgeAt:"right"===i?o:0,hideLine:!0,fill:c,opacity:f,fontFamily:p,fontSize:d,textFill:h,stroke:m,strokeOpacity:b,strokeWidth:v,rectWidth:s,rectHeight:u,arrowWidth:y,dx:l,x1:0,x2:o,y1:e,y2:e}}Ru.propTypes={displayFormat:p.a.func.isRequired,yAxisPad:p.a.number,rectWidth:p.a.number,rectHeight:p.a.number,orient:p.a.oneOf(["bottom","top","left","right"]),at:p.a.oneOf(["bottom","top","left","right"]),dx:p.a.number,fill:p.a.string,opacity:p.a.number,fontFamily:p.a.string,fontSize:p.a.number,textFill:p.a.string},Ru.defaultProps={yAxisPad:0,rectWidth:50,rectHeight:20,orient:"left",at:"left",dx:0,arrowWidth:10,fill:"#525252",opacity:1,fontFamily:"Helvetica Neue, Helvetica, Arial, sans-serif",fontSize:13,textFill:"#FFFFFF",strokeOpacity:1,strokeWidth:1};var Mu=Ru,Iu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Lu=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Bu=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":Iu(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.renderSVG=n.renderSVG.bind(n),n.drawOnCanvas=n.drawOnCanvas.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":Iu(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),Lu(t,[{key:"drawOnCanvas",value:function(e,t){var n=Vu(this.props,t);if(oo(n)){var r=this.context,o=r.margin,a=r.ratio,i=.5*a+o.left,s=.5*a+o.top;e.save(),e.setTransform(1,0,0,1,0,0),e.scale(a,a),e.translate(i,s),n.forEach(function(t){var n=Br(t.strokeDasharray).split(",").map(function(e){return+e});e.strokeStyle=co(t.stroke,t.opacity),e.setLineDash(n),e.beginPath(),e.moveTo(t.x1,t.y1),e.lineTo(t.x2,t.y2),e.stroke()}),e.restore()}}},{key:"renderSVG",value:function(e){var t=this.props.className,n=Vu(this.props,e);return ao(n)?null:o.a.createElement("g",{className:"react-stockcharts-crosshair "+t},n.map(function(e,t){var n=e.strokeDasharray,r=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["strokeDasharray"]);return o.a.createElement("line",qu({key:t,strokeDasharray:Br(n)},r))}))}},{key:"render",value:function(){return o.a.createElement(ma,{svgDraw:this.renderSVG,clip:!1,canvasDraw:this.drawOnCanvas,canvasToDraw:va,drawOn:["mousemove","pan","drag"]})}}]),t}();function Vu(e,t){var n=t.mouseXY,r=t.currentItem,o=t.show,a=t.height,i=t.width,s=e.customX,u=e.stroke,l=e.opacity,c=e.strokeDasharray;if(!o||ao(r))return null;var f={x1:0,x2:i,y1:n[1],y2:n[1],stroke:u,strokeDasharray:c,opacity:l},p=s(e,t);return[f,{x1:p,x2:p,y1:0,y2:a,stroke:u,strokeDasharray:c,opacity:l}]}Bu.propTypes={className:p.a.string,strokeDasharray:p.a.oneOf(Lr)},Bu.contextTypes={margin:p.a.object.isRequired,ratio:p.a.number.isRequired},Bu.defaultProps={stroke:"#000000",opacity:.3,strokeDasharray:"ShortDash",snapX:!0,customX:function(e,t){var n=t.xScale,r=t.xAccessor,o=t.currentItem,a=t.mouseXY;return e.snapX?Math.round(n(r(o))):a[0]}};var Wu=Bu,Hu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zu=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Uu=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Yu=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":Hu(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.renderSVG=n.renderSVG.bind(n),n.drawOnCanvas=n.drawOnCanvas.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":Hu(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),Uu(t,[{key:"drawOnCanvas",value:function(e,t){yu(e,Gu(this.props,t))}},{key:"renderSVG",value:function(e){return du(Gu(this.props,e))}},{key:"render",value:function(){return o.a.createElement(Ca,{clip:!1,svgDraw:this.renderSVG,canvasDraw:this.drawOnCanvas,canvasToDraw:ba,drawOn:["pan"]})}}]),t}();function Gu(e,t){var n=t.width,r=t.chartConfig.yScale,o=r.domain(),a=zu(o,2),i=a[0],s=a[1],u=e.price,l=e.stroke,c=e.strokeDasharray,f=e.strokeOpacity,p=e.strokeWidth,d=e.orient,h=e.at,y=e.rectWidth,m=e.rectHeight,b=e.displayFormat,v=e.dx,g=e.fill,w=e.opacity,k=e.fontFamily,E=e.fontSize,S=e.textFill,O=e.arrowWidth,_=e.lineOpacity,C=e.lineStroke,x=n,P="right"===h?n:0,D=r(u),T=u<=s&&u>=i;return{coordinate:b(r.invert(D)),show:T,type:"horizontal",orient:d,edgeAt:P,hideLine:!1,lineOpacity:_,lineStroke:C,lineStrokeDasharray:c,stroke:l,strokeOpacity:f,strokeWidth:p,fill:Ur(g)(u),textFill:Ur(S)(u),opacity:w,fontFamily:k,fontSize:E,rectWidth:y,rectHeight:m,arrowWidth:O,dx:v,x1:0,x2:x,y1:D,y2:D}}Yu.propTypes={displayFormat:p.a.func.isRequired,yAxisPad:p.a.number,rectWidth:p.a.number,rectHeight:p.a.number,orient:p.a.oneOf(["bottom","top","left","right"]),at:p.a.oneOf(["bottom","top","left","right"]),price:p.a.number,dx:p.a.number,arrowWidth:p.a.number,opacity:p.a.number,lineOpacity:p.a.number,lineStroke:p.a.string,fontFamily:p.a.string,fontSize:p.a.number,fill:p.a.oneOfType([p.a.string,p.a.func]),strokeDasharray:p.a.oneOf(Lr),stroke:p.a.string,strokeOpacity:p.a.number,strokeWidth:p.a.number,textFill:p.a.oneOfType([p.a.string,p.a.func])},Yu.defaultProps={yAxisPad:0,rectWidth:50,rectHeight:20,orient:"left",at:"left",price:0,dx:0,arrowWidth:0,fill:"#BAB8b8",opacity:1,lineOpacity:.2,lineStroke:"#000000",fontFamily:"Helvetica Neue, Helvetica, Arial, sans-serif",fontSize:13,textFill:"#FFFFFF",strokeOpacity:1,strokeWidth:1,strokeDasharray:"Solid"};var Qu=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Xu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function Ju(e,t,n,r){return oo(e)&&e.index===t?e[n]:r}function Ku(){this.setState({current:null,override:null})}function Zu(e){var t=this;return function(n){ao(n)&&oo(t.nodes[e])?delete t.nodes[e]:t.nodes[e]=n}}function $u(e){return function(t){if(oo(this.nodes)){var n=this.nodes.map(function(e){return e.isHover(t)});return this.props[e].map(function(e,t){return Xu({},e,{selected:n[t]})})}}}function el(e){return fo(this.nodes,function(t){return t.isHover(e)}).reduce(function(e,t){return e||t})}function tl(e,t){var n=Yr(e.chartConfig,function(e){return e.id===t}),r=function(e,t){var n=Qu(t,2),r=n[0],o=n[1];if(Array.isArray(e.mouseXY)){var a=Qu(e.mouseXY,2);return[a[0]-r,a[1]-o]}return e.mouseXY}(e,n.origin);return Xu({},e,{chartConfig:n,mouseXY:r})}var nl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rl=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),ol=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var al=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":nl(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.renderSVG=n.renderSVG.bind(n),n.drawOnCanvas=n.drawOnCanvas.bind(n),n.isHover=n.isHover.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":nl(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),ol(t,[{key:"isHover",value:function(e){var t=this.props,n=t.tolerance;if(oo(t.onHover)){var r=this.props,o=r.x1Value,a=r.x2Value,i=r.y1Value,s=r.y2Value,u=r.type;return sl({x1Value:o,y1Value:i,x2Value:a,y2Value:s,mouseXY:e.mouseXY,type:u,tolerance:n,xScale:e.xScale,yScale:e.chartConfig.yScale})}return!1}},{key:"drawOnCanvas",value:function(e,t){var n=this.props,r=n.stroke,o=n.strokeWidth,a=n.strokeOpacity,i=n.strokeDasharray,s=ul(this.props,t),u=s.x1,l=s.y1,c=s.x2,f=s.y2;e.lineWidth=o,e.strokeStyle=co(r,a),e.setLineDash(Br(i).split(",")),e.beginPath(),e.moveTo(u,l),e.lineTo(c,f),e.stroke()}},{key:"renderSVG",value:function(e){var t=this.props,n=t.stroke,r=t.strokeWidth,a=t.strokeOpacity,i=t.strokeDasharray,s=r,u=ul(this.props,e),l=u.x1,c=u.y1,f=u.x2,p=u.y2;return o.a.createElement("line",{x1:l,y1:c,x2:f,y2:p,stroke:n,strokeWidth:s,strokeDasharray:Br(i),strokeOpacity:a})}},{key:"render",value:function(){var e=this.props,t=e.selected,n=e.interactiveCursorClass,r=this.props,a=r.onDragStart,i=r.onDrag,s=r.onDragComplete,u=r.onHover,l=r.onUnHover;return o.a.createElement(Ca,{isHover:this.isHover,svgDraw:this.renderSVG,canvasToDraw:va,canvasDraw:this.drawOnCanvas,interactiveCursorClass:n,selected:t,onDragStart:a,onDrag:i,onDragComplete:s,onHover:u,onUnHover:l,drawOn:["mousemove","pan","drag"]})}}]),t}();function il(e,t,n,r){var o=rl(n,2),a=o[0],i=o[1],s=ll(e,t);if(oo(s)){var u=s*a+cl(s,t);return i<u+r&&i>u-r&&a>Math.min(e[0],t[0])-r&&a<Math.max(e[0],t[0])+r}return i>=Math.min(e[1],t[1])&&i<=Math.max(e[1],t[1])&&a<e[0]+r&&a>e[0]-r}function sl(e){var t=e.x1Value,n=e.y1Value,r=e.x2Value,o=e.y2Value,a=e.mouseXY,i=e.type,s=e.tolerance,u=e.xScale,l=e.yScale,c=fl({type:i,start:[t,n],end:[r,o],xScale:u,yScale:l}),f=[u(c.x1),l(c.y1)],p=[u(c.x2),l(c.y2)],d=ll(f,p),h=rl(a,2),y=h[0],m=h[1];if(oo(d)){var b=d*y+cl(d,p);return m<b+s&&m>b-s&&y>Math.min(f[0],p[0])-s&&y<Math.max(f[0],p[0])+s}return m>=Math.min(f[1],p[1])&&m<=Math.max(f[1],p[1])&&y<f[0]+s&&y>f[0]-s}function ul(e,t){var n=e.x1Value,r=e.x2Value,o=e.y1Value,a=e.y2Value,i=e.type,s=t.xScale,u=t.chartConfig.yScale,l=fl({type:i,start:[n,o],end:[r,a],xScale:s,yScale:u});return{x1:s(l.x1),y1:u(l.y1),x2:s(l.x2),y2:u(l.y2)}}function ll(e,t){return t[0]===e[0]?void 0:(t[1]-e[1])/(t[0]-e[0])}function cl(e,t){return-1*e*t[0]+t[1]}function fl(e){var t=e.type,n=e.start,r=e.end,o=e.xScale,a=e.yScale,i=ll(n,r),s=cl(i,n);switch(t){case"XLINE":return function(e){var t=e.start,n=e.end,r=e.xScale,o=e.yScale,a=e.m,i=e.b,s=r.domain(),u=rl(s,2),l=u[0],c=u[1],f=o.domain(),p=rl(f,2),d=p[0],h=p[1];if(n[0]===t[0])return{x1:n[0],y1:d,x2:n[0],y2:h};var y=n[0]>t[0]?[l,c]:[c,l],m=rl(y,2),b=m[0],v=m[1];return{x1:b,y1:a*b+i,x2:v,y2:a*v+i}}({type:t,start:n,end:r,xScale:o,yScale:a,m:i,b:s});case"RAY":return function(e){var t=e.start,n=e.end,r=e.xScale,o=e.yScale,a=e.m,i=e.b,s=r.domain(),u=rl(s,2),l=u[0],c=u[1],f=o.domain(),p=rl(f,2),d=p[0],h=p[1],y=t[0];if(n[0]===t[0])return{x1:y,y1:t[1],x2:y,y2:n[1]>t[1]?h:d};var m=n[0]>t[0]?c:l;return{x1:y,y1:a*y+i,x2:m,y2:a*m+i}}({type:t,start:n,end:r,xScale:o,yScale:a,m:i,b:s});case"LINE":return function(e){var t=e.start,n=e.end,r=rl(t,2),o=r[0],a=r[1],i=rl(n,2),s=i[0],u=i[1];if(n[0]===t[0])return{x1:o,y1:t[1],x2:o,y2:n[1]};return{x1:o,y1:a,x2:s,y2:u}}({type:t,start:n,end:r,xScale:o,yScale:a,m:i,b:s})}}al.propTypes={x1Value:p.a.any.isRequired,x2Value:p.a.any.isRequired,y1Value:p.a.any.isRequired,y2Value:p.a.any.isRequired,interactiveCursorClass:p.a.string,stroke:p.a.string.isRequired,strokeWidth:p.a.number.isRequired,strokeOpacity:p.a.number.isRequired,strokeDasharray:p.a.oneOf(Lr),type:p.a.oneOf(["XLINE","RAY","LINE"]).isRequired,onEdge1Drag:p.a.func.isRequired,onEdge2Drag:p.a.func.isRequired,onDragStart:p.a.func.isRequired,onDrag:p.a.func.isRequired,onDragComplete:p.a.func.isRequired,onHover:p.a.func,onUnHover:p.a.func,defaultClassName:p.a.string,r:p.a.number.isRequired,edgeFill:p.a.string.isRequired,edgeStroke:p.a.string.isRequired,edgeStrokeWidth:p.a.number.isRequired,withEdge:p.a.bool.isRequired,children:p.a.func.isRequired,tolerance:p.a.number.isRequired,selected:p.a.bool.isRequired},al.defaultProps={onEdge1Drag:Sr,onEdge2Drag:Sr,onDragStart:Sr,onDrag:Sr,onDragComplete:Sr,edgeStrokeWidth:3,edgeStroke:"#000000",edgeFill:"#FFFFFF",r:10,withEdge:!1,strokeWidth:1,strokeDasharray:"Solid",children:Sr,tolerance:7,selected:!1};var pl=al,dl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hl=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),yl=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var ml=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":dl(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.saveNode=n.saveNode.bind(n),n.renderSVG=n.renderSVG.bind(n),n.drawOnCanvas=n.drawOnCanvas.bind(n),n.isHover=n.isHover.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":dl(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),yl(t,[{key:"saveNode",value:function(e){this.node=e}},{key:"isHover",value:function(e){var t=e.mouseXY,n=this.props.r+7,r=bl(this.props,e),o=hl(r,2),a=o[0],i=o[1],s=hl(t,2),u=s[0],l=s[1];return a-n<u&&u<a+n&&i-n<l&&l<i+n}},{key:"drawOnCanvas",value:function(e,t){var n=this.props,r=n.stroke,o=n.strokeWidth,a=n.fill,i=this.props,s=i.fillOpacity,u=i.strokeOpacity,l=this.props.r,c=bl(this.props,t),f=hl(c,2),p=f[0],d=f[1];e.lineWidth=o,e.fillStyle=co(a,s),e.strokeStyle=co(r,u),e.beginPath(),e.arc(p,d,l,0,2*Math.PI,!1),e.fill(),e.stroke()}},{key:"renderSVG",value:function(e){var t=this.props,n=t.stroke,r=t.strokeWidth,a=t.fill,i=this.props,s=i.fillOpacity,u=i.strokeOpacity,l=this.props.r,c=bl(this.props,e),f=hl(c,2),p=f[0],d=f[1];return o.a.createElement("circle",{cx:p,cy:d,r:l,strokeWidth:r,stroke:n,strokeOpacity:u,fill:a,fillOpacity:s})}},{key:"render",value:function(){var e=this.props.interactiveCursorClass,t=this.props.show,n=this.props,r=n.onDragStart,a=n.onDrag,i=n.onDragComplete;return t?o.a.createElement(Ca,{ref:this.saveNode,interactiveCursorClass:e,selected:!0,isHover:this.isHover,onDragStart:r,onDrag:a,onDragComplete:i,svgDraw:this.renderSVG,canvasDraw:this.drawOnCanvas,canvasToDraw:va,drawOn:["pan","mousemove","drag"]}):null}}]),t}();function bl(e,t){var n=e.xyProvider,r=e.cx,o=e.cy;if(oo(n))return n(t);var a=t.xScale,i=t.chartConfig.yScale;return[a(r),i(o)]}ml.propTypes={xyProvider:p.a.func,onDragStart:p.a.func.isRequired,onDrag:p.a.func.isRequired,onDragComplete:p.a.func.isRequired,strokeWidth:p.a.number.isRequired,stroke:p.a.string.isRequired,fill:p.a.string.isRequired,r:p.a.number.isRequired,cx:p.a.number,cy:p.a.number,className:p.a.string.isRequired,show:p.a.bool.isRequired,strokeOpacity:p.a.number.isRequired,fillOpacity:p.a.number.isRequired,interactiveCursorClass:p.a.string},ml.defaultProps={className:"react-stockcharts-interactive-line-edge",onDragStart:Sr,onDrag:Sr,onDragComplete:Sr,onMove:Sr,show:!1,fillOpacity:1,strokeOpacity:1};var vl=ml,gl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wl=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),kl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},El=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Sl=10,Ol=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":gl(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.renderSVG=n.renderSVG.bind(n),n.drawOnCanvas=n.drawOnCanvas.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":gl(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),El(t,[{key:"drawOnCanvas",value:function(e,t){var n=this.props,r=n.fontFamily,o=n.fontSize,a=n.fill,i=n.bgFill,s=n.bgOpacity,u=_l(this.props,t);if(oo(u)){var l=u.rect,c=u.text;e.strokeStyle=i,e.fillStyle=co(i,s),e.beginPath(),e.rect(l.x,l.y,l.width,l.height),e.fill(),e.stroke(),e.font=o+"px "+r,e.fillStyle=a,e.beginPath(),e.fillText(c.text,c.x,c.y)}}},{key:"renderSVG",value:function(e){var t=this.props,n=t.fontFamily,r=t.fontSize,a=t.fill,i=t.bgFill,s=t.bgOpacity,u=_l(this.props,e);if(oo(u)){var l=u.rect,c=u.text;return o.a.createElement("g",null,o.a.createElement("rect",kl({fill:i,fillOpacity:s,stroke:i},l)),o.a.createElement("text",{fontSize:r,fontFamily:n,textAnchor:"start",fill:a,x:c.x,y:c.y},c.text))}}},{key:"render",value:function(){return o.a.createElement(Ca,{foo:!0,svgDraw:this.renderSVG,canvasToDraw:va,canvasDraw:this.drawOnCanvas,drawOn:["mousemove"]})}}]),t}();function _l(e,t){var n=e.show,r=e.fontSize,o=e.bgWidth,a=e.bgHeight,i=t.mouseXY,s=t.chartConfig,u=s.height,l=s.width,c=t.show;if(n&&c){var f=wl(i,2),p=f[0],d=f[1],h=p<l/2?p+Sl:p-o-Sl,y=d<u/2?d+Sl:d-a-Sl;return{rect:{x:h,y:y,width:o,height:a},text:{text:e.text,x:h+Sl/2,y:y+r}}}}Ol.propTypes={fontFamily:p.a.string.isRequired,fontSize:p.a.number.isRequired,fill:p.a.string.isRequired,text:p.a.string.isRequired,bgFill:p.a.string.isRequired,bgOpacity:p.a.number.isRequired,bgWidth:p.a.number.isRequired,bgHeight:p.a.number.isRequired,show:p.a.bool.isRequired},Ol.defaultProps={fontFamily:"Helvetica Neue, Helvetica, Arial, sans-serif",fontSize:12,fill:"#000000",bgFill:"#FA9325",bgOpacity:.5};var Cl=Ol,xl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Dl=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Tl=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Al=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":xl(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleEdge1Drag=n.handleEdge1Drag.bind(n),n.handleEdge2Drag=n.handleEdge2Drag.bind(n),n.handleLineDragStart=n.handleLineDragStart.bind(n),n.handleLineDrag=n.handleLineDrag.bind(n),n.handleEdge1DragStart=n.handleEdge1DragStart.bind(n),n.handleEdge2DragStart=n.handleEdge2DragStart.bind(n),n.handleDragComplete=n.handleDragComplete.bind(n),n.handleHover=n.handleHover.bind(n),n.isHover=el.bind(n),n.saveNodeType=Zu.bind(n),n.nodes={},n.state={hover:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":xl(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),Tl(t,[{key:"handleLineDragStart",value:function(){var e=this.props,t=e.x1Value,n=e.y1Value,r=e.x2Value,o=e.y2Value;this.dragStart={x1Value:t,y1Value:n,x2Value:r,y2Value:o}}},{key:"handleLineDrag",value:function(e){var t=this.props,n=t.index,r=t.onDrag,o=this.dragStart,a=o.x1Value,i=o.y1Value,s=o.x2Value,u=o.y2Value,l=e.xScale,c=e.chartConfig.yScale,f=e.xAccessor,p=e.fullData,d=e.startPos,h=e.mouseXY,y=l(a),m=c(i),b=l(s),v=c(u),g=d[0]-h[0],w=d[1]-h[1];r(n,{x1Value:Do(l,f,[y-g,m-w],p),y1Value:c.invert(m-w),x2Value:Do(l,f,[b-g,v-w],p),y2Value:c.invert(v-w)})}},{key:"handleEdge1DragStart",value:function(){this.setState({anchor:"edge2"})}},{key:"handleEdge2DragStart",value:function(){this.setState({anchor:"edge1"})}},{key:"handleDragComplete",value:function(){var e;this.setState({anchor:void 0}),(e=this.props).onDragComplete.apply(e,arguments)}},{key:"handleEdge1Drag",value:function(e){var t=this.props,n=t.index,r=t.onDrag,o=this.props,a=o.x2Value,i=o.y2Value,s=jl(e),u=Dl(s,2);r(n,{x1Value:u[0],y1Value:u[1],x2Value:a,y2Value:i})}},{key:"handleEdge2Drag",value:function(e){var t=this.props,n=t.index,r=t.onDrag,o=this.props,a=o.x1Value,i=o.y1Value,s=jl(e),u=Dl(s,2);r(n,{x1Value:a,y1Value:i,x2Value:u[0],y2Value:u[1]})}},{key:"handleHover",value:function(e){this.state.hover!==e.hovering&&this.setState({hover:e.hovering})}},{key:"render",value:function(){var e=this.props,t=e.x1Value,n=e.y1Value,r=e.x2Value,a=e.y2Value,i=e.type,s=e.stroke,u=e.strokeWidth,l=e.strokeOpacity,c=e.strokeDasharray,f=e.r,p=e.edgeStrokeWidth,d=e.edgeFill,h=e.edgeStroke,y=e.edgeInteractiveCursor,m=e.lineInteractiveCursor,b=e.hoverText,v=e.selected,g=e.onDragComplete,w=this.state,k=w.hover,E=w.anchor,S=b.enable,O=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(b,["enable"]);return o.a.createElement("g",null,o.a.createElement(pl,{ref:this.saveNodeType("line"),selected:v||k,onHover:this.handleHover,onUnHover:this.handleHover,x1Value:t,y1Value:n,x2Value:r,y2Value:a,type:i,stroke:s,strokeWidth:k||v?u+1:u,strokeOpacity:l,strokeDasharray:c,interactiveCursorClass:m,onDragStart:this.handleLineDragStart,onDrag:this.handleLineDrag,onDragComplete:g}),o.a.createElement(vl,{ref:this.saveNodeType("edge1"),show:v||k,cx:t,cy:n,r:f,fill:d,stroke:"edge1"===E?s:h,strokeWidth:p,strokeOpacity:1,interactiveCursorClass:y,onDragStart:this.handleEdge1DragStart,onDrag:this.handleEdge1Drag,onDragComplete:this.handleDragComplete}),o.a.createElement(vl,{ref:this.saveNodeType("edge2"),show:v||k,cx:r,cy:a,r:f,fill:d,stroke:"edge2"===E?s:h,strokeWidth:p,strokeOpacity:1,interactiveCursorClass:y,onDragStart:this.handleEdge2DragStart,onDrag:this.handleEdge2Drag,onDragComplete:this.handleDragComplete}),o.a.createElement(Cl,Pl({show:S&&k&&!v},O)))}}]),t}();function jl(e){var t=e.xScale,n=e.chartConfig.yScale,r=e.xAccessor,o=e.plotData,a=e.mouseXY,i=a[1],s=Do(t,r,a,o),u=n.domain().slice().sort(kr.ascending),l=Dl(u,2),c=l[0],f=l[1],p=n.invert(i);return[s,Math.min(Math.max(p,c),f)]}Al.propTypes={x1Value:p.a.any.isRequired,x2Value:p.a.any.isRequired,y1Value:p.a.any.isRequired,y2Value:p.a.any.isRequired,index:p.a.number,type:p.a.oneOf(["XLINE","RAY","LINE"]).isRequired,onDrag:p.a.func.isRequired,onEdge1Drag:p.a.func.isRequired,onEdge2Drag:p.a.func.isRequired,onDragComplete:p.a.func.isRequired,onSelect:p.a.func.isRequired,onUnSelect:p.a.func.isRequired,r:p.a.number.isRequired,strokeOpacity:p.a.number.isRequired,defaultClassName:p.a.string,selected:p.a.bool,stroke:p.a.string.isRequired,strokeWidth:p.a.number.isRequired,strokeDasharray:p.a.oneOf(Lr),edgeStrokeWidth:p.a.number.isRequired,edgeStroke:p.a.string.isRequired,edgeInteractiveCursor:p.a.string.isRequired,lineInteractiveCursor:p.a.string.isRequired,edgeFill:p.a.string.isRequired,hoverText:p.a.object.isRequired},Al.defaultProps={onDrag:Sr,onEdge1Drag:Sr,onEdge2Drag:Sr,onDragComplete:Sr,onSelect:Sr,onUnSelect:Sr,selected:!1,edgeStroke:"#000000",edgeFill:"#FFFFFF",edgeStrokeWidth:2,r:5,strokeWidth:1,strokeOpacity:1,strokeDasharray:"Solid",hoverText:{enable:!1}};var Rl=Al,Fl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nl=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Ml=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":Fl(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.renderSVG=n.renderSVG.bind(n),n.drawOnCanvas=n.drawOnCanvas.bind(n),n.handleMousePosChange=n.handleMousePosChange.bind(n),n.handleMouseDown=n.handleMouseDown.bind(n),n.handleClick=n.handleClick.bind(n),n.xy=n.xy.bind(n),n.mutableState={},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":Fl(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),Nl(t,[{key:"handleMouseDown",value:function(e,t){var n=this.xy(e,t);if(oo(n)){var r=n.xValue,o=n.yValue,a=n.x,i=n.y;this.mutableState={x:a,y:i},this.props.onMouseDown([r,o],e,t)}}},{key:"handleClick",value:function(e,t){var n=this.xy(e,t);if(oo(n)){var r=n.xValue,o=n.yValue,a=n.x,i=n.y;this.mutableState={x:a,y:i},this.props.onClick([r,o],e,t)}}},{key:"xy",value:function(e,t){var n=e.xAccessor,r=e.plotData,o=e.mouseXY,a=e.currentItem,i=e.xScale,s=e.chartConfig.yScale,u=this.props,l=u.enabled,c=u.snap,f=u.shouldDisableSnap,p=u.snapTo;if(l&&oo(a)&&oo(t)){var d=c&&!f(t)?n(a):Do(i,n,o,r),h=c&&!f(t)?function(e,t){var n=(io(e)?e:[e]).map(function(e){return e-t}).reduce(function(e,t){return Math.abs(e)<Math.abs(t)?e:t});return t+n}(p(a),s.invert(o[1])):s.invert(o[1]);return{xValue:d,yValue:h,x:i(d),y:s(h)}}}},{key:"handleMousePosChange",value:function(e,t){if(!jr(e.mousXY,e.prevMouseXY)){var n=this.xy(e,t);if(oo(n)){var r=n.xValue,o=n.yValue,a=n.x,i=n.y;this.mutableState={x:a,y:i},this.props.onMouseMove([r,o],t)}}}},{key:"drawOnCanvas",value:function(e,t){var n=this.props,r=n.enabled,o=n.r,a=n.stroke,i=n.strokeWidth,s=this.mutableState,u=s.x,l=s.y,c=t.show;r&&c&&oo(u)&&(e.lineWidth=i,e.strokeStyle=a,e.moveTo(u,l),e.beginPath(),e.arc(u,l,o,0,2*Math.PI,!1),e.stroke())}},{key:"renderSVG",value:function(e){var t=this.props,n=t.enabled,r=t.r,a=t.stroke,i=t.strokeWidth,s=t.opacity,u=this.mutableState,l=u.x,c=u.y,f=e.show;return n&&f&&oo(l)?o.a.createElement("circle",{cx:l,cy:c,r:r,stroke:a,opacity:s,fill:"none",strokeWidth:i}):null}},{key:"render",value:function(){var e=this.props,t=e.enabled,n=e.disablePan;return o.a.createElement(Ca,{onMouseDown:this.handleMouseDown,onClick:this.handleClick,onContextMenu:this.handleContextMenu,onMouseMove:this.handleMousePosChange,onPan:this.handleMousePosChange,disablePan:t&&n,svgDraw:this.renderSVG,canvasDraw:this.drawOnCanvas,canvasToDraw:va,drawOn:["mousemove","pan"]})}}]),t}();Ml.propTypes={enabled:p.a.bool.isRequired,snap:p.a.bool.isRequired,shouldDisableSnap:p.a.func.isRequired,snapTo:p.a.func,onMouseMove:p.a.func.isRequired,onMouseDown:p.a.func.isRequired,onClick:p.a.func.isRequired,r:p.a.number.isRequired,stroke:p.a.string.isRequired,strokeWidth:p.a.number.isRequired,opacity:p.a.number.isRequired,disablePan:p.a.bool.isRequired},Ml.defaultProps={onMouseMove:Sr,onMouseDown:Sr,onClick:Sr,shouldDisableSnap:Ur(!1),stroke:"#000000",strokeWidth:1,opacity:1,disablePan:!0};var Il=Ml,ql="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ll=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Bl=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Vl=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":ql(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleStart=n.handleStart.bind(n),n.handleEnd=n.handleEnd.bind(n),n.handleDrawLine=n.handleDrawLine.bind(n),n.handleDragLine=n.handleDragLine.bind(n),n.handleDragLineComplete=n.handleDragLineComplete.bind(n),n.terminate=Ku.bind(n),n.saveNodeType=Zu.bind(n),n.getSelectionState=$u("trends").bind(n),n.state={},n.nodes=[],n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":ql(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),Bl(t,[{key:"handleDragLine",value:function(e,t){this.setState({override:Ll({index:e},t)})}},{key:"handleDragLineComplete",value:function(e){var t=this,n=this.state.override;if(oo(n)){var r=this.props.trends.map(function(e,t){return t===n.index?Ll({},e,{start:[n.x1Value,n.y1Value],end:[n.x2Value,n.y2Value],selected:!0}):Ll({},e,{selected:!1})});this.setState({override:null},function(){t.props.onComplete(r,e)})}}},{key:"handleDrawLine",value:function(e){var t=this.state.current;oo(t)&&oo(t.start)&&(this.mouseMoved=!0,this.setState({current:{start:t.start,end:e}}))}},{key:"handleStart",value:function(e,t,n){var r=this,o=this.state.current;(ao(o)||ao(o.start))&&(this.mouseMoved=!1,this.setState({current:{start:e,end:null}},function(){r.props.onStart(t,n)}))}},{key:"handleEnd",value:function(e,t,n){var r=this,o=this.state.current,a=this.props,i=a.trends,s=a.appearance,u=a.type;if(this.mouseMoved&&oo(o)&&oo(o.start)){var l=[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(i.map(function(e){return Ll({},e,{selected:!1})})),[{start:o.start,end:e,selected:!0,appearance:s,type:u}]);this.setState({current:null,trends:l},function(){r.props.onComplete(l,t,n)})}}},{key:"render",value:function(){var e=this,t=this.props.appearance,n=this.props,r=n.enabled,a=n.snap,i=n.shouldDisableSnap,s=n.snapTo,u=n.type,l=this.props,c=l.currentPositionRadius,f=l.currentPositionStroke,p=this.props,d=p.currentPositionstrokeOpacity,h=p.currentPositionStrokeWidth,y=this.props,m=y.hoverText,b=y.trends,v=this.state,g=v.current,w=v.override,k=oo(g)&&oo(g.end)?o.a.createElement(pl,{type:u,noHover:!0,x1Value:g.start[0],y1Value:g.start[1],x2Value:g.end[0],y2Value:g.end[1],stroke:t.stroke,strokeWidth:t.strokeWidth,strokeOpacity:t.strokeOpacity}):null;return o.a.createElement("g",null,b.map(function(n,r){var a=oo(n.appearance)?Ll({},t,n.appearance):t;return o.a.createElement(Rl,{key:r,ref:e.saveNodeType(r),index:r,type:n.type,selected:n.selected,x1Value:Ju(w,r,"x1Value",n.start[0]),y1Value:Ju(w,r,"y1Value",n.start[1]),x2Value:Ju(w,r,"x2Value",n.end[0]),y2Value:Ju(w,r,"y2Value",n.end[1]),stroke:a.stroke,strokeWidth:a.strokeWidth,strokeOpacity:a.strokeOpacity,strokeDasharray:a.strokeDasharray,edgeStroke:a.edgeStroke,edgeFill:a.edgeFill,edgeStrokeWidth:a.edgeStrokeWidth,r:a.r,hoverText:m,onDrag:e.handleDragLine,onDragComplete:e.handleDragLineComplete,edgeInteractiveCursor:"react-stockcharts-move-cursor",lineInteractiveCursor:"react-stockcharts-move-cursor"})}),k,o.a.createElement(Il,{enabled:r,snap:a,shouldDisableSnap:i,snapTo:s,r:c,stroke:f,strokeOpacity:d,strokeWidth:h,onMouseDown:this.handleStart,onClick:this.handleEnd,onMouseMove:this.handleDrawLine}))}}]),t}();Vl.propTypes={snap:p.a.bool.isRequired,enabled:p.a.bool.isRequired,snapTo:p.a.func,shouldDisableSnap:p.a.func.isRequired,onStart:p.a.func.isRequired,onComplete:p.a.func.isRequired,onSelect:p.a.func,currentPositionStroke:p.a.string,currentPositionStrokeWidth:p.a.number,currentPositionstrokeOpacity:p.a.number,currentPositionRadius:p.a.number,type:p.a.oneOf(["XLINE","RAY","LINE"]),hoverText:p.a.object.isRequired,trends:p.a.array.isRequired,appearance:p.a.shape({stroke:p.a.string.isRequired,strokeOpacity:p.a.number.isRequired,strokeWidth:p.a.number.isRequired,strokeDasharray:p.a.oneOf(Lr),edgeStrokeWidth:p.a.number.isRequired,edgeFill:p.a.string.isRequired,edgeStroke:p.a.string.isRequired}).isRequired},Vl.defaultProps={type:"XLINE",onStart:Sr,onComplete:Sr,onSelect:Sr,currentPositionStroke:"#000000",currentPositionstrokeOpacity:1,currentPositionStrokeWidth:3,currentPositionRadius:0,shouldDisableSnap:function(e){return 2===e.button||e.shiftKey},hoverText:Ll({},Cl.defaultProps,{enable:!0,bgHeight:18,bgWidth:120,text:"Click to select object"}),trends:[],appearance:{stroke:"#000000",strokeOpacity:1,strokeWidth:1,strokeDasharray:"Solid",edgeStrokeWidth:1,edgeFill:"#FFFFFF",edgeStroke:"#000000",r:6}};var Wl=Vl,Hl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zl=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Ul=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Yl=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":Hl(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.renderSVG=n.renderSVG.bind(n),n.drawOnCanvas=n.drawOnCanvas.bind(n),n.isHover=n.isHover.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":Hl(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),Ul(t,[{key:"isHover",value:function(){return!1}},{key:"drawOnCanvas",value:function(e,t){var n=this.props,r=n.xyProvider,o=n.fontFamily,a=n.fontSize,i=n.fill,s=n.children,u=r(t),l=zl(u,2),c=l[0],f=l[1];e.font=a+"px "+o,e.fillStyle=i,e.beginPath(),e.fillText(s,c,f)}},{key:"renderSVG",value:function(e){var t=this.props,n=t.xyProvider,r=t.fontFamily,a=t.fontSize,i=t.fill,s=t.children,u=n(e),l=zl(u,2),c=l[0],f=l[1];return o.a.createElement("text",{x:c,y:f,fontFamily:r,fontSize:a,fill:i},s)}},{key:"render",value:function(){var e=this.props.selected;return o.a.createElement(Ca,{selected:e,svgDraw:this.renderSVG,canvasToDraw:va,canvasDraw:this.drawOnCanvas,drawOn:["mousemove","pan","drag"]})}}]),t}();Yl.propTypes={xyProvider:p.a.func.isRequired,fontFamily:p.a.string.isRequired,fontSize:p.a.number.isRequired,fill:p.a.string.isRequired,children:p.a.string.isRequired,selected:p.a.bool.isRequired},Yl.defaultProps={selected:!1};var Gl=Yl,Ql="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Jl=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Kl=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Zl=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":Ql(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleEdge1Drag=n.handleEdge1Drag.bind(n),n.handleEdge2Drag=n.handleEdge2Drag.bind(n),n.handleLineNSResizeTop=n.handleLineNSResizeTop.bind(n),n.handleLineNSResizeBottom=n.handleLineNSResizeBottom.bind(n),n.handleLineMove=n.handleLineMove.bind(n),n.handleLineDragStart=n.handleLineDragStart.bind(n),n.handleHover=n.handleHover.bind(n),n.isHover=el.bind(n),n.saveNodeType=Zu.bind(n),n.nodes={},n.state={hover:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":Ql(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),Kl(t,[{key:"handleHover",value:function(e){this.state.hover!==e.hovering&&this.setState({hover:e.hovering})}},{key:"handleLineDragStart",value:function(){var e=this.props,t=e.x1,n=e.y1,r=e.x2,o=e.y2;this.dragStart={x1:t,y1:n,x2:r,y2:o}}},{key:"handleLineMove",value:function(e){var t=this.props,n=t.index,r=t.onDrag,o=this.dragStart,a=o.x1,i=o.y1,s=o.x2,u=o.y2,l=e.xScale,c=e.chartConfig.yScale,f=e.xAccessor,p=e.fullData,d=e.startPos,h=e.mouseXY,y=l(a),m=c(i),b=l(s),v=c(u),g=d[0]-h[0],w=d[1]-h[1];r(n,{x1:Do(l,f,[y-g,m-w],p),y1:c.invert(m-w),x2:Do(l,f,[b-g,v-w],p),y2:c.invert(v-w)})}},{key:"handleLineNSResizeTop",value:function(e){var t=this.props,n=t.index,r=t.onDrag,o=this.props,a=o.x1,i=o.x2,s=o.y2,u=jl(e);r(n,{x1:a,y1:Jl(u,2)[1],x2:i,y2:s})}},{key:"handleLineNSResizeBottom",value:function(e){var t=this.props,n=t.index,r=t.onDrag,o=this.props,a=o.x1,i=o.y1,s=o.x2,u=jl(e);r(n,{x1:a,y1:i,x2:s,y2:Jl(u,2)[1]})}},{key:"handleEdge1Drag",value:function(e){var t=this.props,n=t.index,r=t.onDrag,o=this.props,a=o.y1,i=o.x2,s=o.y2,u=jl(e);r(n,{x1:Jl(u,1)[0],y1:a,x2:i,y2:s})}},{key:"handleEdge2Drag",value:function(e){var t=this.props,n=t.index,r=t.onDrag,o=this.props,a=o.x1,i=o.y1,s=o.y2,u=jl(e);r(n,{x1:a,y1:i,x2:Jl(u,1)[0],y2:s})}},{key:"render",value:function(){var e=this,t=this.props,n=t.x1,r=t.x2,a=t.y1,i=t.y2,s=this.props,u=s.interactive,l=s.yDisplayFormat,c=s.type,f=s.appearance,p=f.stroke,d=f.strokeWidth,h=f.strokeOpacity,y=f.fontFamily,m=f.fontSize,b=f.fontFill,v=f.edgeStroke,g=f.edgeFill,w=f.nsEdgeFill,k=f.edgeStrokeWidth,E=f.r,S=this.props,O=S.hoverText,_=S.selected,C=this.state.hover,x=this.props.onDragComplete,P=function(e){var t=e.x1,n=e.y1,r=e.x2,o=e.y2,a=o-n;return[100,61.8,50,38.2,23.6,0].map(function(e){return{percent:e,x1:t,x2:r,y:o-e/100*a}})}({x1:n,x2:r,y1:a,y2:i}),D=O.enable,T=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(O,["enable"]),A="EXTEND"===c?"XLINE":"BOUND"===c?"LINE":c,j=to(P).y1>ro(P).y1?3:-1.3;return o.a.createElement("g",null,P.map(function(t,n){var r=l(t.y)+" ("+t.percent.toFixed(2)+"%)",a=0===n||n===P.length-1,i=a?"react-stockcharts-ns-resize-cursor":"react-stockcharts-move-cursor",s=a?"react-stockcharts-ns-resize-cursor":"react-stockcharts-ew-resize-cursor",c=0===n?e.handleLineNSResizeTop:n===P.length-1?e.handleLineNSResizeBottom:e.handleLineMove,f=0===n?e.handleLineNSResizeTop:n===P.length-1?e.handleLineNSResizeBottom:e.handleEdge1Drag,S=0===n?e.handleLineNSResizeTop:n===P.length-1?e.handleLineNSResizeBottom:e.handleEdge2Drag,O=u?{onHover:e.handleHover,onUnHover:e.handleHover}:{};return o.a.createElement("g",{key:n},o.a.createElement(pl,Xl({ref:e.saveNodeType("line_"+n),selected:_||C},O,{type:A,x1Value:t.x1,y1Value:t.y,x2Value:t.x2,y2Value:t.y,stroke:p,strokeWidth:C||_?d+1:d,strokeOpacity:h,interactiveCursorClass:i,onDragStart:e.handleLineDragStart,onDrag:c,onDragComplete:x})),o.a.createElement(Gl,{selected:_,xyProvider:function(e){var n=e.xScale,r=e.chartConfig.yScale,o=fl({type:A,start:[t.x1,t.y],end:[t.x2,t.y],xScale:n,yScale:r}),a=o.x1,i=o.y1,s=o.x2;return[n(Math.min(a,s))+10,r(i)+4*j]},fontFamily:y,fontSize:m,fill:b},r),o.a.createElement(vl,{ref:e.saveNodeType("edge1"),show:_||C,cx:t.x1,cy:t.y,r:E,fill:a?w:g,stroke:v,strokeWidth:k,interactiveCursorClass:s,onDrag:f,onDragComplete:x}),o.a.createElement(vl,{ref:e.saveNodeType("edge2"),show:_||C,cx:t.x2,cy:t.y,r:E,fill:a?w:g,stroke:v,strokeWidth:k,interactiveCursorClass:s,onDrag:S,onDragComplete:x}),o.a.createElement(Cl,Xl({show:D&&C&&!_},T)))}))}}]),t}();Zl.propTypes={x1:p.a.any.isRequired,x2:p.a.any.isRequired,y1:p.a.number.isRequired,y2:p.a.number.isRequired,yDisplayFormat:p.a.func.isRequired,type:p.a.string.isRequired,selected:p.a.bool.isRequired,appearance:p.a.shape({stroke:p.a.string.isRequired,strokeWidth:p.a.number.isRequired,strokeOpacity:p.a.number.isRequired,fontFamily:p.a.string.isRequired,fontSize:p.a.number.isRequired,fontFill:p.a.string.isRequired,edgeStroke:p.a.string.isRequired,edgeFill:p.a.string.isRequired,nsEdgeFill:p.a.string.isRequired,edgeStrokeWidth:p.a.number.isRequired,r:p.a.number.isRequired}).isRequired,interactive:p.a.bool.isRequired,hoverText:p.a.object.isRequired,index:p.a.number,onDrag:p.a.func.isRequired,onDragComplete:p.a.func.isRequired},Zl.defaultProps={yDisplayFormat:function(e){return e.toFixed(2)},interactive:!0,appearance:{stroke:"#000000",strokeWidth:1,strokeOpacity:1,fontFamily:"Helvetica Neue, Helvetica, Arial, sans-serif",fontSize:10,fontFill:"#000000",edgeStroke:"#000000",edgeFill:"#FFFFFF",nsEdgeFill:"#000000",edgeStrokeWidth:1,r:5},selected:!1,onDrag:Sr,onDragComplete:Sr,hoverText:{enable:!1}};var $l=Zl,ec="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nc=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var rc=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":ec(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleStart=n.handleStart.bind(n),n.handleEnd=n.handleEnd.bind(n),n.handleDrawRetracement=n.handleDrawRetracement.bind(n),n.handleEdge1Drag=n.handleEdge1Drag.bind(n),n.handleEdge2Drag=n.handleEdge2Drag.bind(n),n.handleDrag=n.handleDrag.bind(n),n.handleDragComplete=n.handleDragComplete.bind(n),n.terminate=Ku.bind(n),n.getSelectionState=$u("retracements").bind(n),n.saveNodeType=Zu.bind(n),n.nodes=[],n.state={},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":ec(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),nc(t,[{key:"handleDrawRetracement",value:function(e){var t=this.state.current;oo(t)&&oo(t.x1)&&(this.mouseMoved=!0,this.setState({current:tc({},t,{x2:e[0],y2:e[1]})}))}},{key:"handleDrag",value:function(e,t){this.setState({override:tc({index:e},t)})}},{key:"handleEdge1Drag",value:function(e,t,n){var r=this.props.retracements,o=e.index,a=n.x1Value-t.x1Value;this.setState({override:{index:o,x1:r[o].x1-a,y1:r[o].y1,x2:r[o].x2,y2:r[o].y2}})}},{key:"handleEdge2Drag",value:function(e,t,n){var r=this.props.retracements,o=e.index,a=n.x2Value-t.x2Value;this.setState({override:{index:o,x1:r[o].x1,y1:r[o].y1,x2:r[o].x2-a,y2:r[o].y2}})}},{key:"handleDragComplete",value:function(e){var t=this,n=this.props.retracements,r=this.state.override;if(oo(r)){var o=r.index,a=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(r,["index"]),i=n.map(function(e,t){return t===o?tc({},e,a,{selected:!0}):e});this.setState({override:null},function(){t.props.onComplete(i,e)})}}},{key:"handleStart",value:function(e,t){var n=this,r=this.state.current;(ao(r)||ao(r.x1))&&(this.mouseMoved=!1,this.setState({current:{x1:e[0],y1:e[1],x2:null,y2:null}},function(){n.props.onStart(t)}))}},{key:"handleEnd",value:function(e,t,n){var r=this,o=this.props,a=o.retracements,i=o.appearance,s=o.type,u=this.state.current;if(this.mouseMoved&&oo(u)&&oo(u.x1)){var l=a.concat(tc({},u,{x2:e[0],y2:e[1],selected:!0,appearance:i,type:s}));this.setState({current:null},function(){r.props.onComplete(l,t,n)})}}},{key:"render",value:function(){var e=this,t=this.state,n=t.current,r=t.override,a=this.props.retracements,i=this.props,s=i.appearance,u=i.type,l=this.props,c=l.currentPositionStroke,f=l.currentPositionOpacity,p=l.currentPositionStrokeWidth,d=l.currentPositionRadius,h=this.props,y=h.enabled,m=h.hoverText,b=oo(r)?r.index:null,v=oo(n)&&oo(n.x2)?o.a.createElement($l,tc({interactive:!1,type:u,appearance:s,hoverText:m},n)):null;return o.a.createElement("g",null,a.map(function(t,n){var a=oo(t.appearance)?tc({},s,t.appearance):s;return o.a.createElement($l,tc({key:n,ref:e.saveNodeType(n),index:n,type:t.type,selected:t.selected,hoverText:m},n===b?r:t,{appearance:a,onDrag:e.handleDrag,onDragComplete:e.handleDragComplete}))}),v,o.a.createElement(Il,{enabled:y,snap:!1,r:d,stroke:c,opacity:f,strokeWidth:p,onMouseDown:this.handleStart,onClick:this.handleEnd,onMouseMove:this.handleDrawRetracement}))}}]),t}();rc.propTypes={enabled:p.a.bool.isRequired,width:p.a.number,onStart:p.a.func,onComplete:p.a.func,onSelect:p.a.func,type:p.a.oneOf(["EXTEND","RAY","BOUND"]).isRequired,hoverText:p.a.object.isRequired,currentPositionStroke:p.a.string,currentPositionStrokeWidth:p.a.number,currentPositionOpacity:p.a.number,currentPositionRadius:p.a.number,retracements:p.a.array.isRequired,appearance:p.a.shape({stroke:p.a.string.isRequired,strokeWidth:p.a.number.isRequired,strokeOpacity:p.a.number.isRequired,fontFamily:p.a.string.isRequired,fontSize:p.a.number.isRequired,fontFill:p.a.string.isRequired,edgeStroke:p.a.string.isRequired,edgeFill:p.a.string.isRequired,nsEdgeFill:p.a.string.isRequired,edgeStrokeWidth:p.a.number.isRequired,r:p.a.number.isRequired}).isRequired},rc.defaultProps={enabled:!0,type:"RAY",retracements:[],onStart:Sr,onComplete:Sr,onSelect:Sr,hoverText:tc({},Cl.defaultProps,{enable:!0,bgHeight:18,bgWidth:120,text:"Click to select object"}),currentPositionStroke:"#000000",currentPositionOpacity:1,currentPositionStrokeWidth:3,currentPositionRadius:4,appearance:{stroke:"#000000",strokeWidth:1,strokeOpacity:1,fontFamily:"Helvetica Neue, Helvetica, Arial, sans-serif",fontSize:11,fontFill:"#000000",edgeStroke:"#000000",edgeFill:"#FFFFFF",nsEdgeFill:"#000000",edgeStrokeWidth:1,r:5}};var oc=rc,ac="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ic=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sc=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var uc=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":ac(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.renderSVG=n.renderSVG.bind(n),n.drawOnCanvas=n.drawOnCanvas.bind(n),n.isHover=n.isHover.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":ac(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),sc(t,[{key:"isHover",value:function(e){var t=this.props,n=t.tolerance;if(oo(t.onHover)){var r=lc(this.props,e),o=r.lines,a=r.line1,i=r.line2;if(oo(a)&&oo(i)){var s=e.mouseXY,u=e.xScale,l=e.chartConfig.yScale,c=sl({x1Value:o.line1.x1,y1Value:o.line1.y1,x2Value:o.line1.x2,y2Value:o.line1.y2,type:"LINE",mouseXY:s,tolerance:n,xScale:u,yScale:l}),f=sl({x1Value:o.line2.x1,y1Value:o.line2.y1,x2Value:o.line2.x2,y2Value:o.line2.y2,type:"LINE",mouseXY:s,tolerance:n,xScale:u,yScale:l});return c||f}}return!1}},{key:"drawOnCanvas",value:function(e,t){var n=this.props,r=n.stroke,o=n.strokeWidth,a=n.fillOpacity,i=n.strokeOpacity,s=n.fill,u=lc(this.props,t),l=u.line1,c=u.line2;if(oo(l)){var f=l.x1,p=l.y1,d=l.x2,h=l.y2;if(e.lineWidth=o,e.strokeStyle=co(r,i),e.beginPath(),e.moveTo(f,p),e.lineTo(d,h),e.stroke(),oo(c)){var y=c.y1,m=c.y2;e.beginPath(),e.moveTo(f,y),e.lineTo(d,m),e.stroke(),e.fillStyle=co(s,a),e.beginPath(),e.moveTo(f,p),e.lineTo(d,h),e.lineTo(d,m),e.lineTo(f,y),e.closePath(),e.fill()}}}},{key:"renderSVG",value:function(e){var t=this.props,n=t.stroke,r=t.strokeWidth,a=t.fillOpacity,i=t.fill,s=t.strokeOpacity,u=lc(this.props,e),l=u.line1,c=u.line2;if(oo(l)){var f=l.x1,p=l.y1,d=l.x2,h=l.y2,y=oo(c)?o.a.createElement("line",{strokeWidth:r,stroke:n,strokeOpacity:s,x1:f,y1:c.y1,x2:d,y2:c.y2}):null,m=oo(c)?o.a.createElement("path",{fill:i,fillOpacity:a,d:function(e,t){var n=Object(Ta.a)();return n.moveTo(e.x1,e.y1),n.lineTo(e.x2,e.y2),n.lineTo(e.x2,t.y2),n.lineTo(e.x1,t.y1),n.closePath(),n.toString()}(l,c)}):null;return o.a.createElement("g",null,o.a.createElement("line",{strokeWidth:r,stroke:n,strokeOpacity:s,x1:f,y1:p,x2:d,y2:h}),y,m)}}},{key:"render",value:function(){var e=this.props,t=e.selected,n=e.interactiveCursorClass,r=this.props,a=r.onDragStart,i=r.onDrag,s=r.onDragComplete,u=r.onHover,l=r.onUnHover;return o.a.createElement(Ca,{isHover:this.isHover,svgDraw:this.renderSVG,canvasToDraw:va,canvasDraw:this.drawOnCanvas,interactiveCursorClass:n,selected:t,onDragStart:a,onDrag:i,onDragComplete:s,onHover:u,onUnHover:l,drawOn:["mousemove","mouseleave","pan","drag"]})}}]),t}();function lc(e,t){var n=function(e,t){var n=e.startXY,r=e.endXY,o=e.dy,a=e.type,i=t.xScale;if(ao(n)||ao(r))return{};var s=fl({type:a,start:n,end:r,xScale:i});return{line1:s,line2:oo(o)?ic({},s,{y1:s.y1+o,y2:s.y2+o}):void 0}}(e,t),r=t.xScale,o=t.chartConfig.yScale,a=r(n.line1.x1),i=o(n.line1.y1),s=r(n.line1.x2);return{lines:n,line1:{x1:a,y1:i,x2:s,y2:o(n.line1.y2)},line2:oo(n.line2)?{x1:a,y1:o(n.line2.y1),x2:s,y2:o(n.line2.y2)}:void 0}}uc.propTypes={interactiveCursorClass:p.a.string,stroke:p.a.string.isRequired,strokeWidth:p.a.number.isRequired,fill:p.a.string.isRequired,fillOpacity:p.a.number.isRequired,strokeOpacity:p.a.number.isRequired,type:p.a.oneOf(["XLINE","RAY","LINE"]).isRequired,onDragStart:p.a.func.isRequired,onDrag:p.a.func.isRequired,onDragComplete:p.a.func.isRequired,onHover:p.a.func,onUnHover:p.a.func,defaultClassName:p.a.string,tolerance:p.a.number.isRequired,selected:p.a.bool.isRequired},uc.defaultProps={onDragStart:Sr,onDrag:Sr,onDragComplete:Sr,type:"LINE",strokeWidth:1,tolerance:4,selected:!1};var cc=uc,fc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dc=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var hc=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":fc(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleLine1Edge1Drag=n.handleLine1Edge1Drag.bind(n),n.handleLine1Edge2Drag=n.handleLine1Edge2Drag.bind(n),n.handleDragStart=n.handleDragStart.bind(n),n.handleChannelDrag=n.handleChannelDrag.bind(n),n.handleChannelHeightChange=n.handleChannelHeightChange.bind(n),n.getEdgeCircle=n.getEdgeCircle.bind(n),n.handleHover=n.handleHover.bind(n),n.isHover=el.bind(n),n.saveNodeType=Zu.bind(n),n.nodes={},n.state={hover:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":fc(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),dc(t,[{key:"handleHover",value:function(e){this.state.hover!==e.hovering&&this.setState({hover:e.hovering})}},{key:"handleDragStart",value:function(){var e=this.props,t=e.startXY,n=e.endXY,r=e.dy;this.dragStart={startXY:t,endXY:n,dy:r}}},{key:"handleChannelDrag",value:function(e){var t=this.props,n=t.index,r=t.onDrag,o=this.dragStart,a=o.startXY,i=o.endXY,s=e.xScale,u=e.chartConfig.yScale,l=e.xAccessor,c=e.fullData,f=e.startPos,p=e.mouseXY,d=s(a[0]),h=u(a[1]),y=s(i[0]),m=u(i[1]),b=f[0]-p[0],v=f[1]-p[1];r(n,{startXY:[Do(s,l,[d-b,h-v],c),u.invert(h-v)],endXY:[Do(s,l,[y-b,m-v],c),u.invert(m-v)],dy:this.dragStart.dy})}},{key:"handleLine1Edge1Drag",value:function(e){var t=this.props,n=t.index,r=t.onDrag,o=this.dragStart.startXY,a=e.startPos,i=e.mouseXY,s=e.xAccessor,u=e.xScale,l=e.fullData,c=e.chartConfig.yScale,f=a[0]-i[0],p=a[1]-i[1],d=u(o[0]),h=c(o[1]);r(n,{startXY:[Do(u,s,[d-f,h-p],l),c.invert(h-p)],endXY:this.dragStart.endXY,dy:this.dragStart.dy})}},{key:"handleLine1Edge2Drag",value:function(e){var t=this.props,n=t.index,r=t.onDrag,o=this.dragStart.endXY,a=e.startPos,i=e.mouseXY,s=e.xAccessor,u=e.xScale,l=e.fullData,c=e.chartConfig.yScale,f=a[0]-i[0],p=a[1]-i[1],d=u(o[0]),h=c(o[1]),y=Do(u,s,[d-f,h-p],l),m=c.invert(h-p);r(n,{startXY:this.dragStart.startXY,endXY:[y,m],dy:this.dragStart.dy})}},{key:"handleChannelHeightChange",value:function(e){var t=this.props,n=t.index,r=t.onDrag,o=this.dragStart,a=o.startXY,i=o.endXY,s=e.chartConfig.yScale,u=e.startPos,l=e.mouseXY,c=s(i[1]),f=u[1]-l[1];r(n,{startXY:a,endXY:i,dy:s.invert(c-f)-i[1]+this.dragStart.dy})}},{key:"getEdgeCircle",value:function(e){var t=e.xy,n=e.dragHandler,r=e.cursor,a=e.fill,i=e.edge,s=this.state.hover,u=this.props.appearance,l=u.edgeStroke,c=u.edgeStrokeWidth,f=u.r,p=this.props.selected,d=this.props.onDragComplete;return o.a.createElement(vl,{ref:this.saveNodeType(i),show:p||s,cx:t[0],cy:t[1],r:f,fill:a,stroke:l,strokeWidth:c,interactiveCursorClass:r,onDragStart:this.handleDragStart,onDrag:n,onDragComplete:d})}},{key:"render",value:function(){var e=this.props,t=e.startXY,n=e.endXY,r=e.dy,a=this.props,i=a.interactive,s=a.hoverText,u=a.appearance,l=u.edgeFill,c=u.edgeFill2,f=u.stroke,p=u.strokeWidth,d=u.strokeOpacity,h=u.fill,y=u.fillOpacity,m=this.props.selected,b=this.props.onDragComplete,v=this.state.hover,g=s.enable,w=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(s,["enable"]),k=i?{onHover:this.handleHover,onUnHover:this.handleHover}:{},E=oo(t)&&oo(n)?o.a.createElement("g",null,this.getEdgeCircle({xy:t,dragHandler:this.handleLine1Edge1Drag,cursor:"react-stockcharts-move-cursor",fill:l,edge:"line1edge1"}),this.getEdgeCircle({xy:n,dragHandler:this.handleLine1Edge2Drag,cursor:"react-stockcharts-move-cursor",fill:l,edge:"line1edge2"})):null,S=oo(r)?o.a.createElement("g",null,this.getEdgeCircle({xy:[t[0],t[1]+r],dragHandler:this.handleChannelHeightChange,cursor:"react-stockcharts-ns-resize-cursor",fill:c,edge:"line2edge1"}),this.getEdgeCircle({xy:[n[0],n[1]+r],dragHandler:this.handleChannelHeightChange,cursor:"react-stockcharts-ns-resize-cursor",fill:c,edge:"line2edge2"})):null;return o.a.createElement("g",null,o.a.createElement(cc,pc({ref:this.saveNodeType("channel"),selected:m||v},k,{startXY:t,endXY:n,dy:r,stroke:f,strokeWidth:v||m?p+1:p,strokeOpacity:d,fill:h,fillOpacity:y,interactiveCursorClass:"react-stockcharts-move-cursor",onDragStart:this.handleDragStart,onDrag:this.handleChannelDrag,onDragComplete:b})),E,S,o.a.createElement(Cl,pc({show:g&&v&&!m},w)))}}]),t}();hc.propTypes={startXY:p.a.arrayOf(p.a.number).isRequired,endXY:p.a.arrayOf(p.a.number).isRequired,dy:p.a.number,interactive:p.a.bool.isRequired,selected:p.a.bool.isRequired,hoverText:p.a.object.isRequired,appearance:p.a.shape({stroke:p.a.string.isRequired,fillOpacity:p.a.number.isRequired,strokeOpacity:p.a.number.isRequired,strokeWidth:p.a.number.isRequired,fill:p.a.string.isRequired,edgeStroke:p.a.string.isRequired,edgeFill:p.a.string.isRequired,edgeFill2:p.a.string.isRequired,edgeStrokeWidth:p.a.number.isRequired,r:p.a.number.isRequired}).isRequired,index:p.a.number,onDrag:p.a.func.isRequired,onDragComplete:p.a.func.isRequired},hc.defaultProps={yDisplayFormat:function(e){return e.toFixed(2)},interactive:!0,selected:!1,onDrag:Sr,onDragComplete:Sr,hoverText:{enable:!1}};var yc=hc,mc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vc=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var gc=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":mc(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleStart=n.handleStart.bind(n),n.handleEnd=n.handleEnd.bind(n),n.handleDrawChannel=n.handleDrawChannel.bind(n),n.handleDragChannel=n.handleDragChannel.bind(n),n.handleDragChannelComplete=n.handleDragChannelComplete.bind(n),n.terminate=Ku.bind(n),n.saveNodeType=Zu.bind(n),n.getSelectionState=$u("channels").bind(n),n.nodes=[],n.state={},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":mc(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),vc(t,[{key:"handleDragChannel",value:function(e,t){this.setState({override:bc({index:e},t)})}},{key:"handleDragChannelComplete",value:function(e){var t=this,n=this.state.override,r=this.props.channels;if(oo(n)){var o=n.index,a=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(n,["index"]),i=r.map(function(e,t){return t===o?bc({},e,a,{selected:!0}):e});this.setState({override:null},function(){t.props.onComplete(i,e)})}}},{key:"handleDrawChannel",value:function(e){var t=this.state.current;if(oo(t)&&oo(t.startXY))if(this.mouseMoved=!0,ao(t.dy))this.setState({current:{startXY:t.startXY,endXY:e}});else{var n=ll(t.startXY,t.endXY),r=cl(n,t.endXY),o=n*e[0]+r,a=e[1]-o;this.setState({current:bc({},t,{dy:a})})}}},{key:"handleStart",value:function(e){var t=this,n=this.state.current;(ao(n)||ao(n.startXY))&&(this.mouseMoved=!1,this.setState({current:{startXY:e,endXY:null}},function(){t.props.onStart()}))}},{key:"handleEnd",value:function(e,t,n){var r=this,o=this.state.current,a=this.props,i=a.channels,s=a.appearance;if(this.mouseMoved&&oo(o)&&oo(o.startXY))if(ao(o.dy))this.setState({current:bc({},o,{dy:0})});else{var u=[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(i.map(function(e){return bc({},e,{selected:!1})})),[bc({},o,{selected:!0,appearance:s})]);this.setState({current:null},function(){r.props.onComplete(u,t,n)})}}},{key:"render",value:function(){var e=this,t=this.props.appearance,n=this.props.enabled,r=this.props,a=r.currentPositionRadius,i=r.currentPositionStroke,s=this.props,u=s.currentPositionOpacity,l=s.currentPositionStrokeWidth,c=this.props,f=c.channels,p=c.hoverText,d=this.state,h=d.current,y=d.override,m=oo(y)?y.index:null,b=oo(h)&&oo(h.endXY)?o.a.createElement(yc,bc({interactive:!1},h,{appearance:t,hoverText:p})):null;return o.a.createElement("g",null,f.map(function(n,r){var a=oo(n.appearance)?bc({},t,n.appearance):t;return o.a.createElement(yc,bc({key:r,ref:e.saveNodeType(r),index:r,selected:n.selected,hoverText:p},r===m?y:n,{appearance:a,onDrag:e.handleDragChannel,onDragComplete:e.handleDragChannelComplete}))}),b,o.a.createElement(Il,{enabled:n,snap:!1,r:a,stroke:i,opacity:u,strokeWidth:l,onMouseDown:this.handleStart,onClick:this.handleEnd,onMouseMove:this.handleDrawChannel}))}}]),t}();gc.propTypes={enabled:p.a.bool.isRequired,onStart:p.a.func.isRequired,onComplete:p.a.func.isRequired,onSelect:p.a.func.isRequired,currentPositionStroke:p.a.string,currentPositionStrokeWidth:p.a.number,currentPositionOpacity:p.a.number,currentPositionRadius:p.a.number,hoverText:p.a.object.isRequired,channels:p.a.array.isRequired,appearance:p.a.shape({stroke:p.a.string.isRequired,strokeOpacity:p.a.number.isRequired,strokeWidth:p.a.number.isRequired,fill:p.a.string.isRequired,fillOpacity:p.a.number.isRequired,edgeStroke:p.a.string.isRequired,edgeFill:p.a.string.isRequired,edgeFill2:p.a.string.isRequired,edgeStrokeWidth:p.a.number.isRequired,r:p.a.number.isRequired}).isRequired},gc.defaultProps={onStart:Sr,onComplete:Sr,onSelect:Sr,currentPositionStroke:"#000000",currentPositionOpacity:1,currentPositionStrokeWidth:3,currentPositionRadius:4,hoverText:bc({},Cl.defaultProps,{enable:!0,bgHeight:18,bgWidth:120,text:"Click to select object"}),channels:[],appearance:{stroke:"#000000",strokeOpacity:1,strokeWidth:1,fill:"#8AAFE2",fillOpacity:.7,edgeStroke:"#000000",edgeFill:"#FFFFFF",edgeFill2:"#250B98",edgeStrokeWidth:1,r:5}};var wc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ec=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Sc=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":wc(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.renderSVG=n.renderSVG.bind(n),n.drawOnCanvas=n.drawOnCanvas.bind(n),n.isHover=n.isHover.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":wc(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),Ec(t,[{key:"isHover",value:function(e){var t=this.props,n=t.tolerance;if(oo(t.onHover)){var r=e.mouseXY,o=Oc(this.props,e);return il([o.x1,o.y1],[o.x2,o.y2],r,n)}return!1}},{key:"drawOnCanvas",value:function(e,t){var n=this.props,r=n.stroke,o=n.strokeWidth,a=n.fillOpacity,i=n.strokeOpacity,s=n.fill,u=Oc(this.props,t),l=u.x1,c=u.y1,f=u.x2,p=u.y2,d=u.dy;e.lineWidth=o,e.strokeStyle=co(r,i),e.fillStyle=co(s,a),e.beginPath(),e.moveTo(l,c-d),e.lineTo(f,p-d),e.stroke(),e.beginPath(),e.moveTo(f,p+d),e.lineTo(l,c+d),e.stroke(),e.beginPath(),e.moveTo(l,c-d),e.lineTo(f,p-d),e.lineTo(f,p+d),e.lineTo(l,c+d),e.closePath(),e.fill(),e.beginPath(),e.moveTo(f,p),e.lineTo(l,c),e.stroke()}},{key:"renderSVG",value:function(e){var t=this.props,n=t.stroke,r=t.strokeWidth,a=t.fillOpacity,i=t.strokeOpacity,s=t.fill,u=Oc(this.props,e),l=u.x1,c=u.y1,f=u.x2,p=u.y2,d=u.dy,h={strokeWidth:r,stroke:n,strokeOpacity:i},y=Object(Ta.a)();return y.moveTo(l,c-d),y.lineTo(f,p-d),y.lineTo(f,p+d),y.lineTo(l,c+d),y.closePath(),o.a.createElement("g",null,o.a.createElement("line",kc({},h,{x1:l,y1:c-d,x2:f,y2:p-d})),o.a.createElement("line",kc({},h,{x1:l,y1:c+d,x2:f,y2:p+d})),o.a.createElement("path",{d:y.toString(),fill:s,fillOpacity:a}),o.a.createElement("line",kc({},h,{x1:l,y1:c,x2:f,y2:p})))}},{key:"render",value:function(){var e=this.props,t=e.selected,n=e.interactiveCursorClass,r=this.props,a=r.onHover,i=r.onUnHover;return o.a.createElement(Ca,{isHover:this.isHover,svgDraw:this.renderSVG,canvasToDraw:va,canvasDraw:this.drawOnCanvas,interactiveCursorClass:n,selected:t,onHover:a,onUnHover:i,drawOn:["mousemove","mouseleave","pan","drag"]})}}]),t}();function Oc(e,t){var n=e.x1Value,r=e.x2Value,o=e.type,a=t.xScale,i=t.chartConfig.yScale,s=t.fullData,u=t.xAccessor,l=Zr(s,n,u).left,c=Zr(s,r,u).right,f=Math.min(l,c),p=Math.max(l,c)+1,d=s.slice(f,p),h=d.map(function(e){return u(e).valueOf()}),y=d.map(function(e){return e.close}),m=d.length,b=xr().combine(function(e,t){return e*t})(h,y),v=h.map(function(e){return Math.pow(e,2)}),g=(m*Object(kr.sum)(b)-Object(kr.sum)(h)*Object(kr.sum)(y))/(m*Object(kr.sum)(v)-Math.pow(Object(kr.sum)(h),2)),w=(Object(kr.sum)(y)-g*Object(kr.sum)(h))/m,k=w+g*n,E=w+g*r,S=a(n),O=i(k);return{x1:S,y1:O,x2:a(r),y2:i(E),dy:i(k-("SD"===o?Object(kr.deviation)(d,function(e){return e.close}):0))-O}}Sc.propTypes={x1Value:p.a.any.isRequired,x2Value:p.a.any.isRequired,type:p.a.oneOf(["SD","Raff"]).isRequired,interactiveCursorClass:p.a.string,stroke:p.a.string.isRequired,strokeWidth:p.a.number.isRequired,fill:p.a.string.isRequired,fillOpacity:p.a.number.isRequired,strokeOpacity:p.a.number.isRequired,onDragStart:p.a.func.isRequired,onDrag:p.a.func.isRequired,onDragComplete:p.a.func.isRequired,onHover:p.a.func,onUnHover:p.a.func,defaultClassName:p.a.string,tolerance:p.a.number.isRequired,selected:p.a.bool.isRequired},Sc.defaultProps={onDragStart:Sr,onDrag:Sr,onDragComplete:Sr,type:"SD",strokeWidth:1,tolerance:4,selected:!1};var _c=Sc,Cc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pc=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Dc=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Tc=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":Cc(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleEdge1Drag=n.handleEdge1Drag.bind(n),n.handleEdge2Drag=n.handleEdge2Drag.bind(n),n.handleHover=n.handleHover.bind(n),n.isHover=el.bind(n),n.saveNodeType=Zu.bind(n),n.nodes={},n.state={hover:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":Cc(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),Dc(t,[{key:"handleEdge1Drag",value:function(e){var t=this.props,n=t.index,r=t.onDrag,o=t.snapTo,a=this.props.x2Value,i=Ac(e,o);r(n,{x1Value:Pc(i,1)[0],x2Value:a})}},{key:"handleEdge2Drag",value:function(e){var t=this.props,n=t.index,r=t.onDrag,o=t.snapTo,a=this.props.x1Value,i=Ac(e,o);r(n,{x1Value:a,x2Value:Pc(i,1)[0]})}},{key:"handleHover",value:function(e){this.state.hover!==e.hovering&&this.setState({hover:e.hovering})}},{key:"render",value:function(){var e=this.props,t=e.x1Value,n=e.x2Value,r=e.appearance,a=e.edgeInteractiveCursor,i=e.hoverText,s=e.interactive,u=e.selected,l=e.onDragComplete,c=r.stroke,f=r.strokeWidth,p=r.strokeOpacity,d=r.fill,h=r.fillOpacity,y=r.r,m=r.edgeStrokeWidth,b=r.edgeFill,v=r.edgeStroke,g=this.state.hover,w=s?{onHover:this.handleHover,onUnHover:this.handleHover}:{},k=i.enable,E=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(i,["enable"]);return o.a.createElement("g",null,o.a.createElement(_c,xc({ref:this.saveNodeType("area"),selected:u||g},w,{x1Value:t,x2Value:n,fill:d,stroke:c,strokeWidth:g||u?f+1:f,strokeOpacity:p,fillOpacity:h})),o.a.createElement(vl,{ref:this.saveNodeType("edge1"),show:u||g,xyProvider:function(e){return function(t){var n=Oc(e,t);return[n.x1,n.y1]}}(this.props),r:y,fill:b,stroke:v,strokeWidth:m,interactiveCursorClass:a,onDrag:this.handleEdge1Drag,onDragComplete:l}),o.a.createElement(vl,{ref:this.saveNodeType("edge2"),show:u||g,xyProvider:function(e){return function(t){var n=Oc(e,t);return[n.x2,n.y2]}}(this.props),r:y,fill:b,stroke:v,strokeWidth:m,interactiveCursorClass:a,onDrag:this.handleEdge2Drag,onDragComplete:l}),o.a.createElement(Cl,xc({show:k&&g&&!u},E)))}}]),t}();function Ac(e,t){var n=e.xScale,r=e.xAccessor,o=e.plotData,a=Po(n,r,e.mouseXY,o);return[r(a),t(a)]}Tc.propTypes={defaultClassName:p.a.string,x1Value:p.a.any.isRequired,x2Value:p.a.any.isRequired,index:p.a.number,appearance:p.a.shape({stroke:p.a.string.isRequired,fillOpacity:p.a.number.isRequired,strokeOpacity:p.a.number.isRequired,strokeWidth:p.a.number.isRequired,fill:p.a.string.isRequired,edgeStrokeWidth:p.a.number.isRequired,edgeStroke:p.a.string.isRequired,edgeFill:p.a.string.isRequired,r:p.a.number.isRequired}).isRequired,edgeInteractiveCursor:p.a.string,onDrag:p.a.func.isRequired,onDragComplete:p.a.func.isRequired,snapTo:p.a.func,interactive:p.a.bool.isRequired,selected:p.a.bool.isRequired,hoverText:p.a.object.isRequired},Tc.defaultProps={onDrag:Sr,onDragComplete:Sr,appearance:{stroke:"#000000",fillOpacity:.7,strokeOpacity:1,strokeWidth:1,fill:"#8AAFE2",edgeStrokeWidth:2,edgeStroke:"#000000",edgeFill:"#FFFFFF",r:5},interactive:!0,selected:!1,hoverText:xc({},Cl.defaultProps,{enable:!0,bgHeight:18,bgWidth:175,text:"Click and drag the edge circles"})};var jc=Tc,Rc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Nc=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Mc=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":Rc(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleStart=n.handleStart.bind(n),n.handleEnd=n.handleEnd.bind(n),n.handleDrawLine=n.handleDrawLine.bind(n),n.handleDragLine=n.handleDragLine.bind(n),n.handleDragLineComplete=n.handleDragLineComplete.bind(n),n.terminate=Ku.bind(n),n.saveNodeType=Zu.bind(n),n.getSelectionState=$u("channels").bind(n),n.nodes=[],n.state={},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":Rc(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),Nc(t,[{key:"handleDragLine",value:function(e,t){this.setState({override:Fc({index:e},t)})}},{key:"handleDragLineComplete",value:function(e){var t=this,n=this.state.override,r=this.props.channels;if(oo(n)){var o=r.map(function(e,t){return t===n.index?Fc({},e,{start:[n.x1Value,n.y1Value],end:[n.x2Value,n.y2Value],selected:!0}):e});this.setState({override:null},function(){t.props.onComplete(o,e)})}}},{key:"handleDrawLine",value:function(e){var t=this.state.current;oo(t)&&oo(t.start)&&(this.mouseMoved=!0,console.log(e),this.setState({current:{start:t.start,end:e}}))}},{key:"handleStart",value:function(e){var t=this,n=this.state.current;(ao(n)||ao(n.start))&&(this.mouseMoved=!1,this.setState({current:{start:e,end:null}},function(){t.props.onStart()}))}},{key:"handleEnd",value:function(e,t,n){var r=this,o=this.state.current,a=this.props,i=a.appearance,s=a.channels;if(this.mouseMoved&&oo(o)&&oo(o.start)){var u=[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(s.map(function(e){return Fc({},e,{selected:!1})})),[{start:o.start,end:e,selected:!0,appearance:i}]);this.setState({current:null},function(){r.props.onComplete(u,t,n)})}}},{key:"render",value:function(){var e=this,t=this.props.appearance,n=this.props,r=n.enabled,a=n.snapTo,i=this.props,s=i.currentPositionRadius,u=i.currentPositionStroke,l=this.props,c=l.currentPositionOpacity,f=l.currentPositionStrokeWidth,p=this.props,d=p.hoverText,h=p.channels,y=this.state,m=y.current,b=y.override,v=oo(m)&&oo(m.end)?o.a.createElement(jc,{interactive:!1,x1Value:m.start[0],x2Value:m.end[0],appearance:t,hoverText:d}):null;return o.a.createElement("g",null,h.map(function(n,r){var i=oo(n.appearance)?Fc({},t,n.appearance):t;return o.a.createElement(jc,{key:r,ref:e.saveNodeType(r),index:r,selected:n.selected,x1Value:Ju(b,r,"x1Value",n.start[0]),x2Value:Ju(b,r,"x2Value",n.end[0]),appearance:i,snapTo:a,hoverText:d,onDrag:e.handleDragLine,onDragComplete:e.handleDragLineComplete,edgeInteractiveCursor:"react-stockcharts-move-cursor"})}),v,o.a.createElement(Il,{enabled:r,snap:!0,snapTo:a,r:s,stroke:u,opacity:c,strokeWidth:f,onMouseDown:this.handleStart,onClick:this.handleEnd,onMouseMove:this.handleDrawLine}))}}]),t}();Mc.propTypes={enabled:p.a.bool.isRequired,snapTo:p.a.func.isRequired,onStart:p.a.func.isRequired,onComplete:p.a.func.isRequired,onSelect:p.a.func,currentPositionStroke:p.a.string,currentPositionStrokeWidth:p.a.number,currentPositionOpacity:p.a.number,currentPositionRadius:p.a.number,appearance:p.a.shape({stroke:p.a.string.isRequired,strokeOpacity:p.a.number.isRequired,strokeWidth:p.a.number.isRequired,fill:p.a.string.isRequired,fillOpacity:p.a.number.isRequired,edgeStrokeWidth:p.a.number.isRequired,edgeStroke:p.a.string.isRequired,edgeFill:p.a.string.isRequired,r:p.a.number.isRequired}).isRequired,hoverText:p.a.object.isRequired,channels:p.a.array.isRequired},Mc.defaultProps={snapTo:function(e){return e.close},appearance:{stroke:"#000000",fillOpacity:.2,strokeOpacity:1,strokeWidth:1,fill:"#8AAFE2",edgeStrokeWidth:2,edgeStroke:"#000000",edgeFill:"#FFFFFF",r:5},onStart:Sr,onComplete:Sr,onSelect:Sr,currentPositionStroke:"#000000",currentPositionOpacity:1,currentPositionStrokeWidth:3,currentPositionRadius:4,hoverText:Fc({},Cl.defaultProps,{enable:!0,bgHeight:18,bgWidth:175,text:"Click and drag the edge circles"}),channels:[]};var Ic="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qc=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Lc=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Bc=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":Ic(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.renderSVG=n.renderSVG.bind(n),n.drawOnCanvas=n.drawOnCanvas.bind(n),n.isHover=n.isHover.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":Ic(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),Lc(t,[{key:"isHover",value:function(e){var t=this.props,n=t.tolerance,r=t.onHover,o=e.mouseXY,a=qc(o,2),i=a[0],s=a[1],u=!1;if(oo(r))for(var l=Wc(this.props,e),c=0;c<l.length;c++){var f=l[c],p=Math.min(f.x1,f.x2),d=Math.max(f.x1,f.x2),h=Math.min(f.y1,f.y2),y=Math.max(f.y1,f.y2);if(u=i>=p&&i<=d&&s>=h&&s<=y&&il([f.x1,f.y1],[f.x2,f.y2],o,n))break}return u}},{key:"drawOnCanvas",value:function(e,t){var n=this.props,r=n.stroke,o=n.strokeWidth,a=n.strokeOpacity,i=n.fill,s=n.fillOpacity,u=n.fontFamily,l=n.fontSize,c=n.fontFill,f=Wc(this.props,t);e.lineWidth=o,e.strokeStyle=co(r,a),e.font=l+"px "+u,e.fillStyle=c,f.forEach(function(t){var n=t.x1,r=t.y1,o=t.x2,a=t.y2,i=t.label;e.beginPath(),e.moveTo(n,r),e.lineTo(o,a),e.stroke(),e.beginPath(),e.fillText(i.text,i.x,i.y)}),Object(kr.pairs)(f).forEach(function(t,n){var r=qc(t,2),o=r[0],a=r[1];e.fillStyle=co(i[n],s),e.beginPath(),e.moveTo(o.x1,o.y1),e.lineTo(o.x2,o.y2),e.lineTo(a.x2,a.y2),e.closePath(),e.fill()})}},{key:"renderSVG",value:function(e){var t=this.props,n=t.stroke,r=t.strokeWidth,a=t.fillOpacity,i=t.fill,s=t.strokeOpacity,u=Wc(this.props,e),l=Object(kr.pairs)(u);return o.a.createElement("g",null,u.map(function(e,t){var a=e.x1,i=e.y1,u=e.x2,l=e.y2;return o.a.createElement("line",{key:t,strokeWidth:r,stroke:n,strokeOpacity:s,x1:a,y1:i,x2:u,y2:l})}),l.map(function(e,t){var n=qc(e,2),r=n[0],s=n[1],u=Object(Ta.a)();return u.moveTo(r.x1,r.y1),u.lineTo(r.x2,r.y2),u.lineTo(s.x2,s.y2),u.closePath(),o.a.createElement("path",{key:t,stroke:"none",fill:i[t],fillOpacity:a,d:u.toString()})}))}},{key:"render",value:function(){var e=this.props,t=e.selected,n=e.interactiveCursorClass,r=this.props,a=r.onDragStart,i=r.onDrag,s=r.onDragComplete,u=r.onHover,l=r.onUnHover;return o.a.createElement(Ca,{isHover:this.isHover,svgDraw:this.renderSVG,canvasToDraw:va,canvasDraw:this.drawOnCanvas,interactiveCursorClass:n,selected:t,onDragStart:a,onDrag:i,onDragComplete:s,onHover:u,onUnHover:l,drawOn:["mousemove","mouseleave","pan","drag"]})}}]),t}();function Vc(e,t,n,r){return{start:e,end:[t,n],text:r}}function Wc(e,t){var n=e.startXY,r=e.endXY,o=t.xScale,a=t.chartConfig.yScale;if(ao(n)||ao(r))return[];var i=qc(n,2),s=i[0],u=i[1],l=qc(r,2),c=l[0],f=l[1],p=c-s,d=f-u;if(0!==p&&0!==d){var h=Vc(n,c,u+d/2,"2/1"),y=Vc(n,c,u+d/3,"3/1"),m=Vc(n,c,u+d/4,"4/1"),b=Vc(n,c,u+d/8,"8/1"),v=Vc(n,s+p/2,f,"1/2"),g=Vc(n,s+p/3,f,"1/3"),w=Vc(n,s+p/4,f,"1/4");return[Vc(n,s+p/8,f,"1/8"),w,g,v,{start:n,end:r,text:"1/1"},h,y,m,b].map(function(e){var t=fl({type:"RAY",start:e.start,end:e.end,xScale:o,yScale:a}),n=t.x1,r=t.y1,i=t.x2,s=t.y2;return{x1:o(n),y1:a(r),x2:o(i),y2:a(s),label:{x:o(e.end[0]),y:a(e.end[1]),text:e.text}}})}return[]}Bc.propTypes={interactiveCursorClass:p.a.string,stroke:p.a.string.isRequired,strokeWidth:p.a.number.isRequired,fill:p.a.arrayOf(p.a.string).isRequired,strokeOpacity:p.a.number.isRequired,fillOpacity:p.a.number.isRequired,fontFamily:p.a.string.isRequired,fontSize:p.a.number.isRequired,fontFill:p.a.string.isRequired,onDragStart:p.a.func.isRequired,onDrag:p.a.func.isRequired,onDragComplete:p.a.func.isRequired,onHover:p.a.func,onUnHover:p.a.func,defaultClassName:p.a.string,tolerance:p.a.number.isRequired,selected:p.a.bool.isRequired},Bc.defaultProps={onDragStart:Sr,onDrag:Sr,onDragComplete:Sr,strokeWidth:1,tolerance:4,selected:!1};var Hc=Bc,zc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yc=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Gc=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":zc(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleLine1Edge1Drag=n.handleLine1Edge1Drag.bind(n),n.handleLine1Edge2Drag=n.handleLine1Edge2Drag.bind(n),n.handleDragStart=n.handleDragStart.bind(n),n.handleFanDrag=n.handleFanDrag.bind(n),n.handleChannelHeightChange=n.handleChannelHeightChange.bind(n),n.handleHover=n.handleHover.bind(n),n.getEdgeCircle=n.getEdgeCircle.bind(n),n.isHover=el.bind(n),n.saveNodeType=Zu.bind(n),n.nodes={},n.state={hover:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":zc(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),Yc(t,[{key:"handleHover",value:function(e){this.state.hover!==e.hovering&&this.setState({hover:e.hovering})}},{key:"handleDragStart",value:function(){var e=this.props,t=e.startXY,n=e.endXY,r=e.dy;this.dragStart={startXY:t,endXY:n,dy:r}}},{key:"handleFanDrag",value:function(e){var t=this.props,n=t.index,r=t.onDrag,o=this.dragStart,a=o.startXY,i=o.endXY,s=e.xScale,u=e.chartConfig.yScale,l=e.xAccessor,c=e.fullData,f=e.startPos,p=e.mouseXY,d=s(a[0]),h=u(a[1]),y=s(i[0]),m=u(i[1]),b=f[0]-p[0],v=f[1]-p[1];r(n,{startXY:[Do(s,l,[d-b,h-v],c),u.invert(h-v)],endXY:[Do(s,l,[y-b,m-v],c),u.invert(m-v)],dy:this.dragStart.dy})}},{key:"handleLine1Edge1Drag",value:function(e){var t=this.props,n=t.index,r=t.onDrag,o=this.dragStart.startXY,a=e.startPos,i=e.mouseXY,s=e.xAccessor,u=e.xScale,l=e.fullData,c=e.chartConfig.yScale,f=a[0]-i[0],p=a[1]-i[1],d=u(o[0]),h=c(o[1]);r(n,{startXY:[Do(u,s,[d-f,h-p],l),c.invert(h-p)],endXY:this.dragStart.endXY,dy:this.dragStart.dy})}},{key:"handleLine1Edge2Drag",value:function(e){var t=this.props,n=t.index,r=t.onDrag,o=this.dragStart.endXY,a=e.startPos,i=e.mouseXY,s=e.xAccessor,u=e.xScale,l=e.fullData,c=e.chartConfig.yScale,f=a[0]-i[0],p=a[1]-i[1],d=u(o[0]),h=c(o[1]),y=Do(u,s,[d-f,h-p],l),m=c.invert(h-p);r(n,{startXY:this.dragStart.startXY,endXY:[y,m],dy:this.dragStart.dy})}},{key:"handleChannelHeightChange",value:function(e){var t=this.props,n=t.index,r=t.onDrag,o=this.dragStart,a=o.startXY,i=o.endXY,s=e.chartConfig.yScale,u=e.startPos,l=e.mouseXY,c=s(i[1]),f=u[1]-l[1];r(n,{startXY:a,endXY:i,dy:s.invert(c-f)-i[1]+this.dragStart.dy})}},{key:"getEdgeCircle",value:function(e){var t=e.xy,n=e.dragHandler,r=e.cursor,a=e.fill,i=e.edge,s=this.state.hover,u=this.props,l=u.selected,c=u.appearance,f=c.edgeStroke,p=c.edgeStrokeWidth,d=c.r,h=this.props.onDragComplete;return o.a.createElement(vl,{ref:this.saveNodeType(i),show:l||s,cx:t[0],cy:t[1],r:d,fill:a,stroke:f,strokeWidth:p,interactiveCursorClass:r,onDragStart:this.handleDragStart,onDrag:n,onDragComplete:h})}},{key:"render",value:function(){var e=this.props,t=e.startXY,n=e.endXY,r=this.props,a=r.interactive,i=r.appearance,s=i.edgeFill,u=i.stroke,l=i.strokeWidth,c=i.strokeOpacity,f=i.fill,p=i.fillOpacity,d=i.fontFamily,h=i.fontSize,y=i.fontFill,m=this.props,b=m.hoverText,v=m.selected,g=this.props.onDragComplete,w=this.state.hover,k=b.enable,E=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(b,["enable"]),S=a?{onHover:this.handleHover,onUnHover:this.handleHover}:{},O=oo(t)&&oo(n)?o.a.createElement("g",null,this.getEdgeCircle({xy:t,dragHandler:this.handleLine1Edge1Drag,cursor:"react-stockcharts-move-cursor",fill:s,edge:"edge1"}),this.getEdgeCircle({xy:n,dragHandler:this.handleLine1Edge2Drag,cursor:"react-stockcharts-move-cursor",fill:s,edge:"edge2"})):null;return o.a.createElement("g",null,o.a.createElement(Hc,Uc({ref:this.saveNodeType("fan"),selected:w||v},S,{startXY:t,endXY:n,stroke:u,strokeWidth:w||v?l+1:l,fill:f,strokeOpacity:c,fillOpacity:p,fontFamily:d,fontSize:h,fontFill:y,interactiveCursorClass:"react-stockcharts-move-cursor",onDragStart:this.handleDragStart,onDrag:this.handleFanDrag,onDragComplete:g})),O,o.a.createElement(Cl,Uc({show:k&&w&&!v},E)))}}]),t}();Gc.propTypes={startXY:p.a.arrayOf(p.a.number).isRequired,endXY:p.a.arrayOf(p.a.number).isRequired,dy:p.a.number,interactive:p.a.bool.isRequired,selected:p.a.bool.isRequired,appearance:p.a.shape({stroke:p.a.string.isRequired,strokeOpacity:p.a.number.isRequired,fillOpacity:p.a.number.isRequired,strokeWidth:p.a.number.isRequired,edgeStroke:p.a.string.isRequired,edgeFill:p.a.string.isRequired,edgeStrokeWidth:p.a.number.isRequired,r:p.a.number.isRequired,fill:p.a.arrayOf(p.a.string).isRequired,fontFamily:p.a.string.isRequired,fontSize:p.a.number.isRequired,fontFill:p.a.string.isRequired}).isRequired,hoverText:p.a.object.isRequired,index:p.a.number,onDrag:p.a.func.isRequired,onDragComplete:p.a.func.isRequired},Gc.defaultProps={yDisplayFormat:function(e){return e.toFixed(2)},interactive:!0,selected:!1,appearance:{stroke:"#000000",fillOpacity:.2,strokeOpacity:1,strokeWidth:1,edgeStroke:"#000000",edgeFill:"#FFFFFF",edgeStrokeWidth:1,r:5,fill:["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f"],fontFamily:"Helvetica Neue, Helvetica, Arial, sans-serif",fontSize:10,fontFill:"#000000"},onDrag:Sr,onDragComplete:Sr,hoverText:Uc({},Cl.defaultProps,{enable:!0,bgHeight:18,bgWidth:120,text:"Click to select object"})};var Qc=Gc,Xc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Kc=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Zc=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":Xc(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleStart=n.handleStart.bind(n),n.handleEnd=n.handleEnd.bind(n),n.handleDrawFan=n.handleDrawFan.bind(n),n.handleDragFan=n.handleDragFan.bind(n),n.handleDragFanComplete=n.handleDragFanComplete.bind(n),n.terminate=Ku.bind(n),n.saveNodeType=Zu.bind(n),n.getSelectionState=$u("fans").bind(n),n.nodes=[],n.state={},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":Xc(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),Kc(t,[{key:"handleDragFan",value:function(e,t){this.setState({override:Jc({index:e},t)})}},{key:"handleDragFanComplete",value:function(e){var t=this,n=this.state.override,r=this.props.fans;if(oo(n)){var o=n.index,a=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(n,["index"]),i=r.map(function(e,t){return t===o?Jc({},e,a,{selected:!0}):e});this.setState({override:null},function(){t.props.onComplete(i,e)})}}},{key:"handleDrawFan",value:function(e){var t=this.state.current;oo(t)&&oo(t.startXY)&&(this.mouseMoved=!0,this.setState({current:{startXY:t.startXY,endXY:e}}))}},{key:"handleStart",value:function(e){var t=this,n=this.state.current;(ao(n)||ao(n.startXY))&&(this.mouseMoved=!1,this.setState({current:{startXY:e,endXY:null}},function(){t.props.onStart()}))}},{key:"handleEnd",value:function(e,t,n){var r=this,o=this.state.current,a=this.props,i=a.fans,s=a.appearance;if(this.mouseMoved&&oo(o)&&oo(o.startXY)){var u=[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(i.map(function(e){return Jc({},e,{selected:!1})})),[Jc({},o,{selected:!0,appearance:s})]);this.setState({current:null},function(){r.props.onComplete(u,t,n)})}}},{key:"render",value:function(){var e=this,t=this.props,n=t.enabled,r=t.appearance,a=this.props,i=a.currentPositionRadius,s=a.currentPositionStroke,u=this.props,l=u.currentPositionOpacity,c=u.currentPositionStrokeWidth,f=this.props,p=f.hoverText,d=f.fans,h=this.state,y=h.current,m=h.override,b=oo(m)?m.index:null,v=oo(y)&&oo(y.endXY)?o.a.createElement(Qc,Jc({interactive:!1},y,{appearance:r,hoverText:p})):null;return o.a.createElement("g",null,d.map(function(t,n){var a=oo(t.appearance)?Jc({},r,t.appearance):r;return o.a.createElement(Qc,Jc({key:n,ref:e.saveNodeType(n),index:n,selected:t.selected},n===b?m:t,{appearance:a,hoverText:p,onDrag:e.handleDragFan,onDragComplete:e.handleDragFanComplete}))}),v,o.a.createElement(Il,{enabled:n,snap:!1,r:i,stroke:s,opacity:l,strokeWidth:c,onMouseDown:this.handleStart,onClick:this.handleEnd,onMouseMove:this.handleDrawFan}))}}]),t}();Zc.propTypes={enabled:p.a.bool.isRequired,onStart:p.a.func.isRequired,onComplete:p.a.func.isRequired,onSelect:p.a.func,currentPositionStroke:p.a.string,currentPositionStrokeWidth:p.a.number,currentPositionOpacity:p.a.number,currentPositionRadius:p.a.number,appearance:p.a.shape({stroke:p.a.string.isRequired,strokeOpacity:p.a.number.isRequired,fillOpacity:p.a.number.isRequired,strokeWidth:p.a.number.isRequired,edgeStroke:p.a.string.isRequired,edgeFill:p.a.string.isRequired,edgeStrokeWidth:p.a.number.isRequired,r:p.a.number.isRequired,fill:p.a.arrayOf(p.a.string).isRequired,fontFamily:p.a.string.isRequired,fontSize:p.a.number.isRequired,fontFill:p.a.string.isRequired}).isRequired,hoverText:p.a.object.isRequired,fans:p.a.array.isRequired},Zc.defaultProps={appearance:{stroke:"#000000",fillOpacity:.2,strokeOpacity:1,strokeWidth:1,edgeStroke:"#000000",edgeFill:"#FFFFFF",edgeStrokeWidth:1,r:5,fill:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf"],fontFamily:"Helvetica Neue, Helvetica, Arial, sans-serif",fontSize:12,fontFill:"#000000"},onStart:Sr,onComplete:Sr,onSelect:Sr,currentPositionStroke:"#000000",currentPositionOpacity:1,currentPositionStrokeWidth:3,currentPositionRadius:4,hoverText:Jc({},Cl.defaultProps,{enable:!0,bgHeight:18,bgWidth:120,text:"Click to select object"}),fans:[]};var $c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ef=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var tf=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":$c(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":$c(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),ef(t,[{key:"render",value:function(){var e=this.props,t=e.onMouseDown,n=e.onClick,r=e.onDoubleClick,a=e.onContextMenu,i=e.onMouseMove,s=e.onPan,u=e.onPanEnd;return o.a.createElement(Ca,{onMouseDown:t,onClick:n,onDoubleClick:r,onContextMenu:a,onMouseMove:i,onPan:s,onPanEnd:u,svgDraw:Sr,canvasDraw:Sr,canvasToDraw:va,drawOn:["mousemove","pan"]})}}]),t}();tf.propTypes={disablePan:p.a.bool.isRequired,onMouseDown:p.a.func,onClick:p.a.func,onDoubleClick:p.a.func,onContextMenu:p.a.func,onMouseMove:p.a.func,onPan:p.a.func,onPanEnd:p.a.func},tf.defaultProps={disablePan:!1};var nf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rf=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),of=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var af=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":nf(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.handleZoomStart=r.handleZoomStart.bind(r),r.handleDrawSquare=r.handleDrawSquare.bind(r),r.handleZoomComplete=r.handleZoomComplete.bind(r),r.drawOnCanvas=r.drawOnCanvas.bind(r),r.renderSVG=r.renderSVG.bind(r),r.saveNode=r.saveNode.bind(r),r.terminate=r.terminate.bind(r),r.state={rect:null},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":nf(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),of(t,[{key:"terminate",value:function(){this.zoomHappening=!1,this.setState({x1y1:null,start:null,end:null,rect:null})}},{key:"saveNode",value:function(e){this.node=e}},{key:"drawOnCanvas",value:function(e){var t=this.state.rect;if(oo(t)){var n=t.x,r=t.y,o=t.height,a=t.width,i=this.props,s=i.stroke,u=i.fill,l=i.strokeDashArray,c=this.props,f=c.strokeOpacity,p=c.fillOpacity,d=Br(l).split(",").map(function(e){return+e});e.strokeStyle=co(s,f),e.fillStyle=co(u,p),e.setLineDash(d),e.beginPath(),e.fillRect(n,r,a,o),e.strokeRect(n,r,a,o)}}},{key:"renderSVG",value:function(){var e=this.state.rect;if(oo(e)){var t=e.x,n=e.y,r=e.height,a=e.width,i=this.props,s=i.stroke,u=i.strokeDashArray,l=this.props,c=l.strokeOpacity,f=l.fillOpacity,p=Br(u).split(",").map(function(e){return+e});return o.a.createElement("rect",{strokeDasharray:p,stroke:s,fill:"none",strokeOpacity:c,fillOpacity:f,x:t,y:n,width:a,height:r})}}},{key:"handleZoomStart",value:function(e){this.zoomHappening=!1;var t=rf(e.mouseXY,2)[1],n=e.currentItem,r=e.chartConfig.yScale,o=e.xAccessor,a=[(0,e.xScale)(o(n)),t];this.setState({selected:!0,x1y1:a,start:{item:n,xValue:o(n),yValue:r.invert(t)}})}},{key:"handleDrawSquare",value:function(e){if(null!=this.state.x1y1){this.zoomHappening=!0;var t=rf(e.mouseXY,2)[1],n=e.currentItem,r=e.chartConfig.yScale,o=e.xAccessor,a=[(0,e.xScale)(o(n)),t],i=a[0],s=a[1],u=rf(this.state.x1y1,2),l=u[0],c=u[1],f=Math.min(l,i),p=Math.min(c,s),d=Math.abs(s-c),h=Math.abs(i-l);this.setState({selected:!0,end:{item:n,xValue:o(n),yValue:r.invert(t)},rect:{x:f,y:p,height:d,width:h}})}}},{key:"handleZoomComplete",value:function(e){if(this.zoomHappening){var t=this.props.onBrush,n=this.state;t({start:n.start,end:n.end},e)}this.setState({selected:!1,rect:null})}},{key:"render",value:function(){var e=this.props.enabled;return e?o.a.createElement(Ca,{ref:this.saveNode,disablePan:e,svgDraw:this.renderSVG,canvasToDraw:va,canvasDraw:this.drawOnCanvas,onMouseDown:this.handleZoomStart,onMouseMove:this.handleDrawSquare,onClick:this.handleZoomComplete,drawOn:["mousemove","pan","drag"]}):null}}]),t}();af.propTypes={enabled:p.a.bool.isRequired,onStart:p.a.func.isRequired,onBrush:p.a.func.isRequired,type:p.a.oneOf(["1D","2D"]),stroke:p.a.string,fill:p.a.string,strokeOpacity:p.a.number,fillOpacity:p.a.number,interactiveState:p.a.object,strokeDashArray:p.a.string},af.defaultProps={type:"2D",stroke:"#000000",fillOpacity:.3,strokeOpacity:1,fill:"#3h3h3h",onBrush:Sr,onStart:Sr,strokeDashArray:"ShortDash"};var sf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uf=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),lf=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var cf=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":sf(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.calculateTextWidth=!0,n.renderSVG=n.renderSVG.bind(n),n.drawOnCanvas=n.drawOnCanvas.bind(n),n.isHover=n.isHover.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":sf(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),lf(t,[{key:"isHover",value:function(e){if(oo(this.props.onHover)&&oo(this.textWidth)&&!this.calculateTextWidth){var t=ff(this.props,e,this.textWidth).rect,n=uf(e.mouseXY,2),r=n[0],o=n[1];if(r>=t.x&&o>=t.y&&r<=t.x+t.width&&o<=t.y+t.height)return!0}return!1}},{key:"componentWillReceiveProps",value:function(e){this.calculateTextWidth=e.text!==this.props.text||e.fontStyle!==this.props.fontStyle||e.fontWeight!==this.props.fontWeight||e.fontSize!==this.props.fontSize||e.fontFamily!==this.props.fontFamily}},{key:"drawOnCanvas",value:function(e,t){var n=this.props,r=n.bgFill,o=n.bgOpacity,a=n.textFill,i=n.fontFamily,s=n.fontSize,u=n.fontStyle,l=n.fontWeight,c=n.text;if(this.calculateTextWidth){e.font=u+" "+l+" "+s+"px "+i;var f=e.measureText(c).width;this.textWidth=f,this.calculateTextWidth=!1}var p=this.props.selected,d=ff(this.props,t,this.textWidth),h=d.x,y=d.y,m=d.rect;e.fillStyle=co(r,o),e.beginPath(),e.fillRect(m.x,m.y,m.width,m.height),p&&(e.strokeStyle=a,e.strokeRect(m.x,m.y,m.width,m.height)),e.fillStyle=a,e.textBaseline="middle",e.textAlign="center",e.font=u+" "+l+" "+s+"px "+i,e.beginPath(),e.fillText(c,h,y)}},{key:"renderSVG",value:function(){throw new Error("svg not implemented")}},{key:"render",value:function(){var e=this.props,t=e.selected,n=e.interactiveCursorClass,r=this.props,a=r.onHover,i=r.onUnHover,s=this.props,u=s.onDragStart,l=s.onDrag,c=s.onDragComplete;return o.a.createElement(Ca,{isHover:this.isHover,svgDraw:this.renderSVG,canvasToDraw:va,canvasDraw:this.drawOnCanvas,interactiveCursorClass:n,selected:t,onDragStart:u,onDrag:l,onDragComplete:c,onHover:a,onUnHover:i,drawOn:["mousemove","mouseleave","pan","drag"]})}}]),t}();function ff(e,t,n){var r=e.position,o=e.fontSize,a=t.xScale,i=t.chartConfig.yScale,s=uf(r,2),u=s[0],l=s[1],c=a(u),f=i(l);return{x:c,y:f,rect:{x:c-n/2-o,y:f-o,width:n+2*o,height:2*o}}}cf.propTypes={bgFill:p.a.string.isRequired,bgOpacity:p.a.number.isRequired,textFill:p.a.string.isRequired,fontFamily:p.a.string.isRequired,fontSize:p.a.number.isRequired,fontWeight:p.a.oneOfType([p.a.number,p.a.string]).isRequired,fontStyle:p.a.string.isRequired,text:p.a.string.isRequired,onDragStart:p.a.func.isRequired,onDrag:p.a.func.isRequired,onDragComplete:p.a.func.isRequired,onHover:p.a.func,onUnHover:p.a.func,defaultClassName:p.a.string,interactiveCursorClass:p.a.string,tolerance:p.a.number.isRequired,selected:p.a.bool.isRequired},cf.defaultProps={onDragStart:Sr,onDrag:Sr,onDragComplete:Sr,type:"SD",fontWeight:"normal",strokeWidth:1,tolerance:4,selected:!1};var pf=cf,df="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yf=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),mf=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var bf=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":df(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleHover=n.handleHover.bind(n),n.handleDragStart=n.handleDragStart.bind(n),n.handleDrag=n.handleDrag.bind(n),n.isHover=el.bind(n),n.saveNodeType=Zu.bind(n),n.nodes={},n.state={hover:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":df(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),mf(t,[{key:"handleDragStart",value:function(e){var t=this.props.position,n=e.mouseXY,r=e.chartConfig.yScale,o=e.xScale,a=yf(n,2),i=a[0],s=a[1],u=yf(t,2),l=u[0],c=u[1],f=i-o(l),p=s-r(c);this.dragStartPosition={position:t,dx:f,dy:p}}},{key:"handleDrag",value:function(e){var t=this.props,n=t.index,r=t.onDrag,o=yf(e.mouseXY,2)[1],a=e.chartConfig.yScale,i=e.xAccessor,s=e.mouseXY,u=e.plotData,l=e.xScale,c=this.dragStartPosition,f=c.dx,p=c.dy;r(n,[l.invert(l(Do(l,i,s,u))-f),a.invert(o-p)])}},{key:"handleHover",value:function(e){this.state.hover!==e.hovering&&this.setState({hover:e.hovering})}},{key:"render",value:function(){var e=this.props,t=e.position,n=e.bgFill,r=e.bgOpacity,a=e.textFill,i=e.fontFamily,s=e.fontSize,u=e.fontWeight,l=e.fontStyle,c=e.text,f=e.hoverText,p=e.selected,d=e.onDragComplete,h=this.state.hover,y={onHover:this.handleHover,onUnHover:this.handleHover},m=f.enable,b=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(f,["enable"]);return o.a.createElement("g",null,o.a.createElement(pf,hf({ref:this.saveNodeType("text"),selected:p||h,interactiveCursorClass:"react-stockcharts-move-cursor"},y,{onDragStart:this.handleDragStart,onDrag:this.handleDrag,onDragComplete:d,position:t,bgFill:n,bgOpacity:r,textFill:a,fontFamily:i,fontStyle:l,fontWeight:u,fontSize:s,text:c})),o.a.createElement(Cl,hf({show:m&&h&&!p},b)))}}]),t}();bf.propTypes={index:p.a.number,position:p.a.array.isRequired,bgFill:p.a.string.isRequired,bgOpacity:p.a.number.isRequired,textFill:p.a.string.isRequired,fontWeight:p.a.string.isRequired,fontFamily:p.a.string.isRequired,fontStyle:p.a.string.isRequired,fontSize:p.a.number.isRequired,text:p.a.string.isRequired,selected:p.a.bool.isRequired,onDrag:p.a.func.isRequired,onDragComplete:p.a.func.isRequired,hoverText:p.a.object.isRequired},bf.defaultProps={onDrag:Sr,onDragComplete:Sr,edgeStroke:"#000000",edgeFill:"#FFFFFF",edgeStrokeWidth:2,r:5,strokeWidth:1,opacity:1,selected:!1,fill:"#8AAFE2",hoverText:hf({},Cl.defaultProps,{enable:!0,bgHeight:18,bgWidth:120,text:"Click to select object"})};var vf=bf,gf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wf=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),kf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ef=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Sf=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":gf(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleDraw=n.handleDraw.bind(n),n.handleDrag=n.handleDrag.bind(n),n.handleDragComplete=n.handleDragComplete.bind(n),n.terminate=Ku.bind(n),n.saveNodeType=Zu.bind(n),n.getSelectionState=$u("textList").bind(n),n.nodes=[],n.state={},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":gf(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),Ef(t,[{key:"handleDrag",value:function(e,t){this.setState({override:{index:e,position:t}})}},{key:"handleDragComplete",value:function(e){var t=this,n=this.state.override;if(oo(n)){var r=this.props.textList.map(function(e,t){var r=t===n.index;return kf({},e,r?{position:n.position,selected:r}:{selected:r})});this.setState({override:null},function(){t.props.onDragComplete(r,e)})}}},{key:"handleDrawLine",value:function(e){var t=this.state.current;oo(t)&&oo(t.start)&&this.setState({current:{start:t.start,end:e}})}},{key:"handleDraw",value:function(e,t){if(this.props.enabled){var n=wf(e.mouseXY,2)[1],r=e.chartConfig.yScale,o=[(0,e.xAccessor)(e.currentItem),r.invert(n)],a=this.props,i=a.defaultText;(0,a.onChoosePosition)(kf({},i,{position:o}),e,t)}}},{key:"render",value:function(){var e=this,t=this.props,n=t.textList,r=t.defaultText,a=this.state.override;return o.a.createElement("g",null,n.map(function(t,n){var i=kf({},r,t);return o.a.createElement(vf,kf({key:n,ref:e.saveNodeType(n),index:n},i,{selected:t.selected,position:Ju(a,n,"position",t.position),onDrag:e.handleDrag,onDragComplete:e.handleDragComplete,edgeInteractiveCursor:"react-stockcharts-move-cursor"}))}),o.a.createElement(Ca,{onClick:this.handleDraw,svgDraw:Sr,canvasDraw:Sr,canvasToDraw:va,drawOn:["mousemove","pan"]}),";")}}]),t}();Sf.propTypes={onChoosePosition:p.a.func.isRequired,onDragComplete:p.a.func.isRequired,onSelect:p.a.func,defaultText:p.a.shape({bgFill:p.a.string.isRequired,bgOpacity:p.a.number.isRequired,textFill:p.a.string.isRequired,fontFamily:p.a.string.isRequired,fontWeight:p.a.string.isRequired,fontStyle:p.a.string.isRequired,fontSize:p.a.number.isRequired,text:p.a.string.isRequired}).isRequired,hoverText:p.a.object.isRequired,textList:p.a.array.isRequired,enabled:p.a.bool.isRequired},Sf.defaultProps={onChoosePosition:Sr,onDragComplete:Sr,onSelect:Sr,defaultText:{bgFill:"#D3D3D3",bgOpacity:1,textFill:"#F10040",fontFamily:"Helvetica Neue, Helvetica, Arial, sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal",text:"Lorem ipsum..."},hoverText:kf({},Cl.defaultProps,{enable:!0,bgHeight:18,bgWidth:175,text:"Click and drag the edge circles"}),textList:[]},Sf.contextTypes={subscribe:p.a.func.isRequired,unsubscribe:p.a.func.isRequired,generateSubscriptionId:p.a.func.isRequired,chartId:p.a.oneOfType([p.a.number,p.a.string]).isRequired};var Of="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_f=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Cf=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var xf=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":Of(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.saveNode=n.saveNode.bind(n),n.drawOnCanvas=n.drawOnCanvas.bind(n),n.isHover=n.isHover.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":Of(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),Cf(t,[{key:"saveNode",value:function(e){this.node=e}},{key:"isHover",value:function(e){var t=e.mouseXY;if(this.closeIcon){var n=this.props.textBox,r=this.closeIcon,o=r.x,a=r.y,i=n.closeIcon.width/2,s=[o-i,a+i],u=[o+i,a-i];if(il([o-i,a-i],[o+i,a+i],t,3)||il(s,u,t,3))return!0}return!1}},{key:"drawOnCanvas",value:function(e,t){var n=this.props,r=n.stroke,o=n.strokeWidth,a=n.strokeOpacity,i=n.hovering,s=n.textBox,u=function(e,t,n){var r=e.yValue,o=e.text,a=e.textBox,i=e.fontFamily,s=e.fontStyle,u=e.fontWeight,l=e.fontSize;n.font=s+" "+u+" "+l+"px "+i;var c=t.chartConfig.yScale,f=a.left+a.padding.left+n.measureText(o).width+a.padding.right+a.closeIcon.padding.left+a.closeIcon.width/2,p=c(r);return[f,p]}(this.props,t,e),l=_f(u,2),c=l[0],f=l[1];this.closeIcon={x:c,y:f},e.beginPath(),e.lineWidth=i?o+1:o,e.strokeStyle=co(r,a);var p=s.closeIcon.width/2;e.moveTo(c-p,f-p),e.lineTo(c+p,f+p),e.moveTo(c-p,f+p),e.lineTo(c+p,f-p),e.stroke()}},{key:"renderSVG",value:function(){throw new Error("svg not implemented")}},{key:"render",value:function(){var e=this.props.interactiveCursorClass,t=this.props.show,n=this.props,r=n.onHover,a=n.onUnHover,i=n.onClick;return t?o.a.createElement(Ca,{ref:this.saveNode,interactiveCursorClass:e,isHover:this.isHover,onClickWhenHover:i,svgDraw:this.renderSVG,canvasDraw:this.drawOnCanvas,canvasToDraw:va,onHover:r,onUnHover:a,drawOn:["pan","mousemove","drag"]}):null}}]),t}();xf.propTypes={stroke:p.a.string.isRequired,strokeOpacity:p.a.number.isRequired,strokeWidth:p.a.number.isRequired,textBox:p.a.object.isRequired,hovering:p.a.bool,interactiveCursorClass:p.a.string,show:p.a.bool,onHover:p.a.func,onUnHover:p.a.func,onClick:p.a.func},xf.defaultProps={show:!1,fillOpacity:1,strokeOpacity:1,strokeWidth:1};var Pf=xf,Df="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Af=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),jf=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Rf=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":Df(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.renderSVG=n.renderSVG.bind(n),n.drawOnCanvas=n.drawOnCanvas.bind(n),n.isHover=n.isHover.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":Df(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),jf(t,[{key:"isHover",value:function(e){if(oo(this.props.onHover)){var t=Ff(this.props,e);if(null==t)return!1;var n=t.x1,r=t.x2,o=t.y,a=t.rect,i=Af(e.mouseXY,2),s=i[0],u=i[1];if(s>=a.x&&s<=a.x+this.width&&u>=a.y&&u<=a.y+a.height)return!0;if(n<=s&&r>=s&&Math.abs(u-o)<4)return!0}return!1}},{key:"drawOnCanvas",value:function(e,t){var n=this.props,r=n.bgFill,o=n.bgOpacity,a=n.textFill,i=n.fontFamily,s=n.fontSize,u=n.fontStyle,l=n.fontWeight,c=n.stroke,f=n.strokeWidth,p=n.strokeOpacity,d=n.strokeDasharray,h=n.text,y=n.textBox,m=n.edge,b=this.props,v=b.selected,g=b.hovering,w=Ff(this.props,t);if(null!=w){var k=w.x1,E=w.x2,S=w.y,O=w.rect;e.strokeStyle=co(c,p),e.beginPath(),e.lineWidth=v||g?f+1:f,e.textBaseline="middle",e.textAlign="start",e.font=u+" "+l+" "+s+"px "+i,this.width=y.padding.left+e.measureText(h).width+y.padding.right+y.closeIcon.padding.left+y.closeIcon.width+y.closeIcon.padding.right,e.setLineDash(function(e){var t=Br(e).split(",");return 1===t.length?[]:t.map(function(e){return Number(e)})}(d)),e.moveTo(k,S),e.lineTo(O.x,S),e.moveTo(O.x+this.width,S),e.lineTo(E,S),e.stroke(),e.setLineDash([]),e.fillStyle=co(r,o),e.fillRect(O.x,O.y,this.width,O.height),e.strokeRect(O.x,O.y,this.width,O.height),e.fillStyle=a,e.beginPath(),e.fillText(h,O.x+10,S);var _=Tf({},m,{textFill:a,fontFamily:i,fontSize:s,opacity:o});yu(e,Nu(S,m.displayFormat(this.props.yValue),_,t))}}},{key:"renderSVG",value:function(){throw new Error("svg not implemented")}},{key:"render",value:function(){var e=this.props.interactiveCursorClass,t=this.props,n=t.onHover,r=t.onUnHover,a=this.props,i=a.onDragStart,s=a.onDrag,u=a.onDragComplete;return o.a.createElement(Ca,{clip:!1,xxxyyy:!0,isHover:this.isHover,svgDraw:this.renderSVG,canvasToDraw:va,canvasDraw:this.drawOnCanvas,interactiveCursorClass:e,enableDragOnHover:!0,onDragStart:i,onDrag:s,onDragComplete:u,onHover:n,onUnHover:r,drawOn:["mousemove","mouseleave","pan","drag"]})}}]),t}();function Ff(e,t){var n=e.yValue,r=e.textBox,o=t.chartConfig,a=o.width,i=o.yScale,s=o.height,u=Math.round(i(n));if(u>=0&&u<=s)return{x1:0,x2:a,y:u,rect:{x:r.left,y:u-r.height/2,height:r.height}}}Rf.propTypes={bgFill:p.a.string.isRequired,bgOpacity:p.a.number.isRequired,stroke:p.a.string.isRequired,strokeWidth:p.a.number.isRequired,strokeOpacity:p.a.number.isRequired,strokeDasharray:p.a.string.isRequired,textFill:p.a.string.isRequired,fontFamily:p.a.string.isRequired,fontSize:p.a.number.isRequired,fontWeight:p.a.oneOfType([p.a.number,p.a.string]).isRequired,fontStyle:p.a.string.isRequired,text:p.a.string.isRequired,edge:p.a.object.isRequired,textBox:p.a.object.isRequired,yValue:p.a.number.isRequired,onDragStart:p.a.func.isRequired,onDrag:p.a.func.isRequired,onDragComplete:p.a.func.isRequired,onHover:p.a.func,onUnHover:p.a.func,defaultClassName:p.a.string,interactiveCursorClass:p.a.string,tolerance:p.a.number.isRequired,selected:p.a.bool.isRequired,hovering:p.a.bool.isRequired},Rf.defaultProps={onDragStart:Sr,onDrag:Sr,onDragComplete:Sr,fontWeight:"normal",strokeWidth:1,tolerance:4,selected:!1,hovering:!1};var Nf=Rf,Mf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},If=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qf=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Lf=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Bf=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":Mf(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleHover=n.handleHover.bind(n),n.handleCloseIconHover=n.handleCloseIconHover.bind(n),n.handleDragStart=n.handleDragStart.bind(n),n.handleDrag=n.handleDrag.bind(n),n.handleDelete=n.handleDelete.bind(n),n.isHover=el.bind(n),n.saveNodeType=Zu.bind(n),n.nodes={},n.state={hover:!1,closeIconHover:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":Mf(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),Lf(t,[{key:"handleDragStart",value:function(e){var t=this.props.yValue,n=e.mouseXY,r=e.chartConfig.yScale,o=qf(n,2)[1]-r(t);this.dragStartPosition={yValue:t,dy:o}}},{key:"handleDrag",value:function(e){var t=this.props,n=t.index,r=t.onDrag,o=qf(e.mouseXY,2)[1],a=e.chartConfig.yScale,i=this.dragStartPosition.dy;r(n,a.invert(o-i))}},{key:"handleDelete",value:function(e){var t=this.props,n=t.index;(0,t.onDelete)(n,e)}},{key:"handleHover",value:function(e){this.state.hover!==e.hovering&&this.setState({hover:e.hovering,closeIconHover:!!e.hovering&&this.state.closeIconHover})}},{key:"handleCloseIconHover",value:function(e){this.state.closeIconHover!==e.hovering&&this.setState({closeIconHover:e.hovering})}},{key:"render",value:function(){var e=this.props,t=e.yValue,n=e.bgFill,r=e.bgOpacity,a=e.textFill,i=e.fontFamily,s=e.fontSize,u=e.fontWeight,l=e.fontStyle,c=e.text,f=e.selected,p=e.onDragComplete,d=e.stroke,h=e.strokeOpacity,y=e.strokeDasharray,m=e.strokeWidth,b=e.edge,v=e.textBox,g=this.state,w=g.hover,k=g.closeIconHover,E={onHover:this.handleHover,onUnHover:this.handleHover};return o.a.createElement("g",null,o.a.createElement(Nf,If({ref:this.saveNodeType("priceCoordinate"),selected:f&&!k,hovering:w||k,interactiveCursorClass:"react-stockcharts-move-cursor"},E,{onDragStart:this.handleDragStart,onDrag:this.handleDrag,onDragComplete:p,yValue:t,bgFill:n,bgOpacity:r,textFill:a,fontFamily:i,fontStyle:l,fontWeight:u,fontSize:s,stroke:d,strokeOpacity:h,strokeDasharray:y,strokeWidth:m,text:c,textBox:v,edge:b})),o.a.createElement(Pf,{show:!0,hovering:k,text:c,yValue:t,fontFamily:i,fontStyle:l,fontWeight:u,fontSize:s,textBox:v,stroke:d,strokeOpacity:h,onHover:this.handleCloseIconHover,onUnHover:this.handleCloseIconHover,onClick:this.handleDelete}))}}]),t}();Bf.propTypes={index:p.a.number,yValue:p.a.number.isRequired,bgFill:p.a.string.isRequired,bgOpacity:p.a.number.isRequired,stroke:p.a.string.isRequired,strokeWidth:p.a.number.isRequired,strokeOpacity:p.a.number.isRequired,strokeDasharray:p.a.string.isRequired,textFill:p.a.string.isRequired,fontWeight:p.a.string.isRequired,fontFamily:p.a.string.isRequired,fontStyle:p.a.string.isRequired,fontSize:p.a.number.isRequired,text:p.a.string.isRequired,selected:p.a.bool.isRequired,edge:p.a.object.isRequired,textBox:p.a.object.isRequired,onDrag:p.a.func.isRequired,onDragComplete:p.a.func.isRequired,onDelete:p.a.func.isRequired},Bf.defaultProps={onDrag:Sr,onDragComplete:Sr,strokeWidth:1,opacity:1,selected:!1,fill:"#FFFFFF"};var Vf=Bf,Wf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zf=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Uf=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":Wf(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleDrag=n.handleDrag.bind(n),n.handleDragComplete=n.handleDragComplete.bind(n),n.handleDelete=n.handleDelete.bind(n),n.terminate=Ku.bind(n),n.saveNodeType=Zu.bind(n),n.getSelectionState=$u("yCoordinateList").bind(n),n.nodes=[],n.state={},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":Wf(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),zf(t,[{key:"handleDrag",value:function(e,t){this.setState({override:{index:e,yValue:t}})}},{key:"handleDragComplete",value:function(e){var t=this,n=this.state.override;if(oo(n)){var r=this.props.yCoordinateList.map(function(e,t){var r=t===n.index;return Hf({},e,r?{yValue:n.yValue,selected:r}:{selected:r})}),o=r[n.index];this.setState({override:null},function(){t.props.onDragComplete(r,e,o)})}}},{key:"handleDrawLine",value:function(e){var t=this.state.current;oo(t)&&oo(t.start)&&this.setState({current:{start:t.start,end:e}})}},{key:"handleDelete",value:function(e,t){var n=this.props;(0,n.onDelete)(n.yCoordinateList[e],t)}},{key:"render",value:function(){var e=this,t=this.props.yCoordinateList,n=this.state.override;return o.a.createElement("g",null,t.map(function(t,r){var a=t;return o.a.createElement(Vf,Hf({key:t.id,ref:e.saveNodeType(r),index:r},a,{selected:t.selected,yValue:Ju(n,r,"yValue",t.yValue),onDelete:e.handleDelete,onDrag:e.handleDrag,onDragComplete:e.handleDragComplete,edgeInteractiveCursor:"react-stockcharts-move-cursor"}))}))}}]),t}();Uf.propTypes={onChoosePosition:p.a.func.isRequired,onDragComplete:p.a.func.isRequired,onSelect:p.a.func,onDelete:p.a.func,defaultPriceCoordinate:p.a.shape({bgFill:p.a.string.isRequired,bgOpacity:p.a.number.isRequired,stroke:p.a.string.isRequired,strokeDasharray:p.a.oneOf(Lr).isRequired,strokeOpacity:p.a.number.isRequired,strokeWidth:p.a.number.isRequired,textFill:p.a.string.isRequired,fontFamily:p.a.string.isRequired,fontWeight:p.a.string.isRequired,fontStyle:p.a.string.isRequired,fontSize:p.a.number.isRequired,text:p.a.string.isRequired,textBox:p.a.shape({height:p.a.number.isRequired,left:p.a.number.isRequired,padding:p.a.shape({left:p.a.number.isRequired,right:p.a.number.isRequired}),closeIcon:p.a.shape({padding:p.a.shape({left:p.a.number.isRequired,right:p.a.number.isRequired}),width:p.a.number.isRequired})}).isRequired,edge:p.a.shape({stroke:p.a.string.isRequired,strokeOpacity:p.a.number.isRequired,strokeWidth:p.a.number.isRequired,fill:p.a.string.isRequired,fillOpacity:p.a.number.isRequired})}).isRequired,hoverText:p.a.object.isRequired,yCoordinateList:p.a.array.isRequired,enabled:p.a.bool.isRequired},Uf.defaultProps={onChoosePosition:Sr,onDragComplete:Sr,onSelect:Sr,onDelete:Sr,defaultPriceCoordinate:{bgFill:"#FFFFFF",bgOpacity:1,stroke:"#6574CD",strokeOpacity:1,strokeDasharray:"ShortDash2",strokeWidth:1,textFill:"#6574CD",fontFamily:"Helvetica Neue, Helvetica, Arial, sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal",text:"Alert",textBox:{height:24,left:20,padding:{left:10,right:5},closeIcon:{padding:{left:5,right:8},width:8}},edge:{stroke:"#6574CD",strokeOpacity:1,strokeWidth:1,fill:"#FFFFFF",fillOpacity:1,orient:"right",at:"right",arrowWidth:10,dx:0,rectWidth:50,rectHeight:20,displayFormat:Object(gr.format)(".2f")}},hoverText:Hf({},Cl.defaultProps,{enable:!0,bgHeight:18,bgWidth:175,text:"Click and drag the edge circles"}),yCoordinateList:[]},Uf.contextTypes={subscribe:p.a.func.isRequired,unsubscribe:p.a.func.isRequired,generateSubscriptionId:p.a.func.isRequired,chartId:p.a.oneOfType([p.a.number,p.a.string]).isRequired};var Yf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gf=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Qf=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":Yf(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleClick=n.handleClick.bind(n),n.handleDoubleClick=n.handleDoubleClick.bind(n),n.getInteraction=n.getInteraction.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":Yf(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),Gf(t,[{key:"handleDoubleClick",value:function(e,t){t.preventDefault();var n=this.props.onDoubleClick;if(this.props.enabled){var r=function(e){return e.map(function(e){var t=e.objects.filter(function(e){return e.selected});return Xu({},e,{objects:t})}).filter(function(e){return e.objects.length>0})}(this.getInteraction(e));if(r.length>0){var o=to(r);n({type:o.type,chartId:o.chartId,object:to(o.objects)},tl(e,o.chartId))}}}},{key:"handleClick",value:function(e,t){t.preventDefault();var n=this.props.onSelect;this.props.enabled&&n(this.getInteraction(e),e)}},{key:"getInteraction",value:function(e){var t=this.props,n=t.getInteractiveNodes,r=t.drawingObjectMap;return fo(n(),function(t){var n=r[t.type],o=oo(n)?t.node.props[n]:void 0;if(oo(o)&&Array.isArray(o)&&o.length>0){var a=tl(e,t.chartId),i=t.node.getSelectionState(a);return{type:t.type,chartId:t.chartId,objects:i}}return{type:t.type,chartId:t.chartId,objects:[]}})}},{key:"render",value:function(){return o.a.createElement(ma,{svgDraw:Sr,canvasToDraw:va,canvasDraw:Sr,onMouseDown:this.handleClick,onDoubleClick:this.handleDoubleClick,drawOn:["mousemove","pan","drag"]})}}]),t}();Qf.propTypes={getInteractiveNodes:p.a.func.isRequired,onSelect:p.a.func.isRequired,onDoubleClick:p.a.func.isRequired,drawingObjectMap:p.a.object.isRequired,enabled:p.a.bool.isRequired},Qf.defaultProps={enabled:!0,onDoubleClick:Sr};var Xf=n(2487),Jf=n(2245),Kf=n.n(Jf),Zf=n(959),$f=n.n(Zf),ep=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function tp(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function np(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function rp(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var op={top:"#964B00",middle:"#000000",bottom:"#964B00"},ap={fontSize:12,textFill:"rgba(255,255,255,0.8)",labelFill:"rgba(255,255,255,0.3)"},ip=Object.assign({},{opacity:.3,textFill:"rgba(255,255,255,0.3)"},{fontSize:10}),sp=function(){return{fontSize:10,rectWidth:34,rectHeight:12,arrowWidth:4,dx:!(arguments.length>0&&void 0!==arguments[0])||arguments[0]?-4:4,opacity:1}},up=function(e){function t(e){tp(this,t);var n=np(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.calcDigits=function(e){var t=6,n=48;try{t=e.latest.int.length>1?2:6,n=6*(e.latest.int.length+t)+12}catch(e){}return{digits:t,marginRight:n}};var r=e.base.get("precision"),o=(e.quote.get("precision"),Object(gr.format)("."+r+"f")),a=Object(wr.timeFormat)("%Y-%m-%d %H:%M"),i=n.calcDigits(e);i.digits,i.marginRight;return n.state={enableTrendLine:!1,enableFib:!1,tools:[],priceFormat:o,timeFormatter:a,volumeFormat:function(e){return e>10?$f()(e).format("0.0a"):$f()(e).format("0.00a")},margin:{left:10,right:48,top:30,bottom:20},calculators:n._getCalculators(e)},n.onTrendLineComplete=n.onTrendLineComplete.bind(n),n.onFibComplete=n.onFibComplete.bind(n),n.onKeyPress=n.onKeyPress.bind(n),n}return rp(t,r["Component"]),ep(t,[{key:"componentDidMount",value:function(){document.addEventListener("keyup",this.onKeyPress,{capture:!1,passive:!0})}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keyup",this.onKeyPress)}},{key:"onTrendLineComplete",value:function(){this.setState({enableTrendLine:!1})}},{key:"onFibComplete",value:function(){this.setState({enableFib:!1})}},{key:"onKeyPress",value:function(e){var t=Object(Tn.cloneDeep)(this.state.tools),n=this.refs[t[t.length-1]];switch(e.which){case 46:n&&n.removeLast(),t.pop(),this.setState({tools:t});break;case 27:n&&n.terminate();try{this.setState(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},enableFib,!1))}catch(e){}}}},{key:"componentWillReceiveProps",value:function(e){console.debug("NP: ",e);var t=Object(Tn.cloneDeep)(this.state.tools);e.tools&&e.tools.trendline&&(this.setState({enableTrendLine:!0}),t.push("enableTrendLine")),e.tools&&e.tools.fib&&(this.setState({enableFib:!0}),t.push("enableFib"));var n=this.calcDigits(e),r=n.digits,o=n.marginRight;this.state.margin.right!==o&&this.setState({digits:r,margin:Object.assign({},this.state.margin,{right:o})}),this.setState({tools:t}),y.a.are_equal_shallow(e.indicators,this.props.indicators)&&y.a.are_equal_shallow(e.indicatorSettings,this.props.indicatorSettings)||this.setState({calculators:this._getCalculators(e)})}},{key:"_getThemeColors",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;return Kf.a[e.theme]}},{key:"_getCalculators",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=this._getThemeColors(e),n=t.positiveColor,r=t.negativeColor,o=e.indicatorSettings;return{sma:ei().options({windowSize:parseInt(o.sma,10),sourcePath:"close"}).stroke("#1f77b4").fill("#1f77b4").merge(function(e,t){e.sma=t}).accessor(function(e){return e.sma}),ema1:$a().options({windowSize:parseInt(o.ema1,10)}).merge(function(e,t){e.ema1=t}).accessor(function(e){return e.ema1}),ema2:$a().options({windowSize:parseInt(o.ema2,10)}).merge(function(e,t){e.ema2=t}).accessor(function(e){return e.ema2}),smaVolume:ei().options({windowSize:parseInt(o.smaVolume,10),sourcePath:"volume"}).merge(function(e,t){e.smaVolume=t}).stroke("#1f77b4").fill("#1f77b4").accessor(function(e){return e.smaVolume}),bb:ti().merge(function(e,t){e.bb=t}).accessor(function(e){return e.bb}),macd:oi().options({fast:12,slow:26,signal:9}).stroke({macd:r,signal:n}).fill({macd:r,signal:n}).merge(function(e,t){e.macd=t}).accessor(function(e){return e.macd})}}},{key:"_renderVolumeChart",value:function(e){var t=this.props,n=t.height,o=t.indicators,a=t.width,i=this.state,s=i.timeFormatter,u=i.volumeFormat,l=i.calculators,c=i.margin,f=this._getThemeColors(),p=f.axisLineColor,d=f.volumeColor,h=(f.indicatorLineColor,f.negativeColor),y=f.positiveColor,m=(c.top,c.bottom,{innerTickSize:-1*(a-c.left-c.right),tickStrokeOpacity:.1});return r.createElement(wo,{id:2,yExtents:[function(e){return e.volume},l.smaVolume.accessor()],height:60,origin:function(e,t){return[0,o.macd?t-180:t-80]}},o.macd?null:r.createElement(Ia.XAxis,Object.assign({tickStroke:p,stroke:p},ip,{axisAt:"bottom",orient:"bottom",opacity:.5,ticks:10})),r.createElement(Ia.YAxis,Object.assign({tickStroke:p,showDomain:!1,stroke:p,axisAt:"right",orient:"right"},ip,{ticks:4,tickPadding:4,innerTickSize:0,tickFormat:u})),r.createElement(Ia.YAxis,Object.assign({tickStroke:p,showDomain:!1,stroke:p,axisAt:"left",orient:"left",showTickLabel:!1},ip,m,{ticks:4,tickPadding:0,tickFormat:u})),o.macd?null:r.createElement(Tu,{id:1,rectWidth:65,at:"bottom",orient:"bottom",displayFormat:s}),r.createElement(Mu,Object.assign({id:0},sp(),{at:"right",orient:"left",displayFormat:u})),r.createElement(us,{yAccessor:function(e){return e.volume},rectRadius:[40,40,40,40,0,0,0,0],stroke:!1,opacity:.5,fill:function(e){return e.close>e.open?y:h}}),o.smaVolume?r.createElement(bi,{yAccessor:l.smaVolume.accessor(),stroke:l.smaVolume.stroke(),fill:l.smaVolume.fill()}):null,o.smaVolume?r.createElement(_u,{yAccessor:l.smaVolume.accessor(),fill:l.smaVolume.stroke()}):null,r.createElement(_u,{yAccessor:function(e){return e.volume},fill:d}))}},{key:"_renderCandleStickChart",value:function(e,t){var n=this.props,o=n.height,a=n.width,i=n.showVolumeChart,s=n.indicators,u=(n.enableChartClamp,n.onMouseMove,n.lasest,this.calcDigits(this.props)),l=u.marginRight,c=u.digits,f=this.state,p=f.timeFormatter,d=f.volumeFormat,h=f.priceFormat,y=f.enableTrendLine,m=f.enableFib,b=f.calculators,v=Object.assign({},this.state.margin,{right:l}),g=this._getThemeColors(),w=g.positiveColor,k=g.negativeColor,E=g.axisLineColor,S=(g.indicatorLineColor,v.top,v.bottom,{innerTickSize:-1*(a-v.left-v.right),tickStrokeOpacity:.1});return r.createElement(wo,{id:1,height:224,yExtents:[function(e){return[e.high,e.low]},b.ema1.accessor(),b.ema2.accessor(),b.sma.accessor()],padding:{top:10,bottom:20}},r.createElement(Ia.XAxis,Object.assign({tickStroke:E,showTicks:!1,showTickLabel:!1,stroke:E},ip,{axisAt:"bottom",orient:"bottom",opacity:.8})),r.createElement(Ia.YAxis,Object.assign({axisAt:"right",orient:"right",tickPadding:4,tickFormat:Object(gr.format)("."+c+"f"),showDomain:!1},ip,{ticks:8,innerTickSize:0,tickStroke:E,stroke:E})),r.createElement(Ia.YAxis,Object.assign({axisAt:"left",orient:"left",tickPadding:0,showDomain:!1,showTickLabel:!1,zoomEnabled:!1},S,ip,{ticks:8,tickStroke:E,stroke:E})),s.macd||i?null:r.createElement(Tu,{id:1,rectWidth:65,at:"bottom",orient:"bottom",displayFormat:p}),r.createElement(Mu,Object.assign({},sp(),{id:0,at:"right",orient:"left",displayFormat:h})),r.createElement(Bi,{wickStroke:function(e){return e.close>e.open?w:k},stroke:function(e){return e.close>e.open?w:k},fill:function(e){return e.close>e.open?w:k},opacity:1,rectRadius:40}),s.bb&&r.createElement(Vs,{yAccessor:function(e){return e.bb},stroke:op,fill:"#4682B4"}),s.sma?r.createElement(fi,{yAccessor:b.sma.accessor(),stroke:b.sma.stroke()}):null,s.ema1?r.createElement(fi,{yAccessor:b.ema1.accessor(),stroke:b.ema1.stroke()}):null,s.ema2?r.createElement(fi,{yAccessor:b.ema2.accessor(),stroke:b.ema2.stroke()}):null,s.sma?r.createElement(_u,{yAccessor:b.sma.accessor(),fill:b.sma.stroke()}):null,s.ema1?r.createElement(_u,{yAccessor:b.ema1.accessor(),fill:b.ema1.stroke()}):null,s.ema2?r.createElement(_u,{yAccessor:b.ema2.accessor(),fill:b.ema2.stroke()}):null,r.createElement(Xf.OHLCTooltip,Object.assign({},ap,{className:"tooltip-hide-no",xDisplayFormat:p,volumeFormat:d,ohlcFormat:h,origin:[0,-10]})),t.length?r.createElement(Xf.MovingAverageTooltip,{origin:[0,0],displayFormat:h,options:t.map(function(e){return{yAccessor:e.accessor(),type:e.type(),stroke:e.stroke(),windowSize:e.options().windowSize,echo:"some echo here"}})}):null,s.bb&&r.createElement(Xf.BollingerBandTooltip,{origin:[-40,40],yAccessor:function(e){return e.bb},options:b.bb.options()}),r.createElement(Wl,{ref:"enableTrendLine",enabled:y,type:"LINE",snap:!0,snapTo:function(e){return[e.high,e.low]},onComplete:this.onTrendLineComplete,stroke:E,fontStroke:E}),r.createElement(oc,{ref:"enableFib",enabled:m,type:"BOUND",onComplete:this.onFibComplete,stroke:E,fontStroke:E}))}},{key:"render",value:function(){var e=this.props,t=e.width,n=e.priceData,o=e.height,a=e.ratio,i=e.theme,s=e.zoom,u=e.indicators,l=e.showVolumeChart,c=e.enableChartClamp,f=this.state,p=f.timeFormatter,d=f.enableFib,h=f.enableTrendLine,y=f.priceFormat,m=f.margin,b=f.calculators,v=Kf.a[i],g=v.axisLineColor,w=v.indicatorLineColor,k=l?1:0,E=[],S=[],O=["sma","ema1","ema2","smaVolume"];for(var _ in u)if(u[_]){if(-1!==_.toLowerCase().indexOf("volume")&&!l)continue;E.push(b[_]),-1!==O.indexOf(_)&&S.push(b[_])}u.macd&&k++;var C=new Date((new Date).getTime()-1e3*s),x="all"===s?n:n.filter(function(e){return e.date>C}),P=Object(Ma.a)(x),D=Object.getOwnPropertyNames(b).reduce(function(e,t){return b[t](e)},P),T=La.discontinuousTimeScaleProvider.inputDateAccessor(function(e){return e.date})(D),A=T.data,j=T.xScale,R=T.xAccessor,F=T.displayXAccessor,N=[R(A[A.length-1]),A.length>80?R(A[A.length-80]):R(A[0])],M=(m.top,m.bottom,{innerTickSize:-1*(t-m.left-m.right),tickStrokeOpacity:.1}),I=this._getThemeColors(),q={stroke:{macd:I.positiveColor,signal:I.negativeColor},fill:{divergence:"#4682B4"}};return r.createElement(ca,{ratio:a,width:t,height:o,seriesName:"PriceChart",margin:m,clamp:c,data:A,xAccessor:R,displayXAccessor:F,xScale:j,xExtents:N,type:"hybrid",className:"chart-main no-overflow Stockcharts__wrapper",drawMode:h||d},l&&this._renderVolumeChart(k),this._renderCandleStickChart(k,S),u.macd&&r.createElement(wo,{id:3,height:80,yExtents:b.macd.accessor(),origin:function(e,t){return[0,t-100]}},r.createElement(Ia.XAxis,Object.assign({tickStroke:g,stroke:g},ip,{ticks:8,axisAt:"bottom",orient:"bottom"})),r.createElement(Ia.YAxis,Object.assign({tickStroke:g,stroke:g},ip,{tickPadding:4,showDomain:!1,innerTickSize:0,axisAt:"right",orient:"right",ticks:3})),r.createElement(Ia.YAxis,Object.assign({axisAt:"left",orient:"left",tickPadding:0,showDomain:!1,showTickLabel:!1,zoomEnabled:!1},M,ip,{ticks:3,tickStroke:g,stroke:g})),r.createElement(Tu,{rectWidth:125,at:"bottom",orient:"bottom",displayFormat:p}),r.createElement(Mu,Object.assign({},sp(),{id:0,at:"right",orient:"left",displayFormat:y})),r.createElement(Is,Object.assign({yAccessor:function(e){return e.macd}},q)),r.createElement(Xf.MACDTooltip,{yAccessor:function(e){return e.macd},options:b.macd.options(),appearance:q,origin:[0,-6]})),r.createElement(Wu,{stroke:w}))}}]),t}();up=Object(qa.fitWidth)(up);var lp=Object(D.a)(function(e){function t(e){tp(this,t);var n=np(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.mainChart=r.createRef(),n.state={dropdowns:{indicators:!1,tools:!1,settings:!1}},n._onInputHeight=n._onInputHeight.bind(n),n._listener=n._listener.bind(n),n}return rp(t,r["Component"]),ep(t,[{key:"shouldComponentUpdate",value:function(e,t){return!(!e.priceData.length&&!this.props.priceData.length)&&!(y.a.are_equal_shallow(e.priceData,this.props.priceData)&&y.a.are_equal_shallow(e.indicators,this.props.indicators)&&y.a.are_equal_shallow(e.indicatorSettings,this.props.indicatorSettings)&&y.a.are_equal_shallow(e.tools,this.props.tools)&&y.a.are_equal_shallow(t,this.state)&&e.height===this.props.height&&e.chartHeight===this.props.chartHeight&&e.width===this.props.width&&e.leftOrderBook===this.props.leftOrderBook&&e.zoom===this.props.zoom&&e.showVolumeChart===this.props.showVolumeChart&&e.enableChartClamp===this.props.enableChartClamp)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this._listener)}},{key:"_toggleTools",value:function(e){this._resetDropdowns(),this.props.onChangeTool(e),this.forceUpdate()}},{key:"_changeSettings",value:function(e,t){t.persist(),t.stopPropagation(),t.nativeEvent.stopImmediatePropagation()}},{key:"_onInputHeight",value:function(e){var t=e.target.value;this.props.onChangeChartHeight({value:parseInt(t,10)})}},{key:"_toggleDropdown",value:function(e,t){t.stopPropagation();var n=this.state.dropdowns,r={};for(var o in this.state.dropdowns)r[o]=o===e&&!n[o];r[e]&&document.addEventListener("click",this._listener,{capture:!1,passive:!0}),this.setState({dropdowns:r})}},{key:"_listener",value:function(){this._resetDropdowns(),document.removeEventListener("click",this._listener)}},{key:"_stopPropagation",value:function(e){e.stopPropagation(),e.nativeEvent.stopImmediatePropagation()}},{key:"_resetDropdowns",value:function(){var e={};for(var t in this.state.dropdowns)e[t]=!1;this.setState({dropdowns:e})}},{key:"componentDidMount",value:function(){this.mainChart&&(console.debug("3D: ",this.mainChart),this.mainChart.current.addEventListener("wheel",function(e){e.stopPropagation()},!0))}},{key:"render",value:function(){var e=this,t=this.props,n=t.currentPeriod,o=t.buckets,a=t.bucketSize,i=t.indicators,s=t.indicatorSettings,u=this.state.dropdowns,l=function(e){return"all"===e?j.a.translate("exchange.zoom_all"):e<60?e+"s":e<3600?e/60+"m":e<86400?e/3600+"h":e<604800?e/86400+"d":e<2592e3?e/604800+"w":e/2592e3+"m"},c=o.filter(function(e){return e>240}).map(function(t){return r.createElement(T.m,{key:t,active:a===t,size:"smaller",type:"white-primary",onClick:e.props.changeBucketSize.bind(e,t),style:{marginRight:"4px"}},l(t))}),f=([21600,172800,345600,604800,1209600,2592e3,7776e3,"all"].map(function(t){return r.createElement("div",{key:t,className:g()("label bucket-option",{"active-bucket":n===t}),onClick:e.props.changeZoomPeriod.bind(e,t)},l(t))}),[]),p=Object.keys(i).map(function(t){var n=t in s?r.createElement(r.Fragment,null,r.createElement("div",{className:"inline-block",style:{paddingRight:5}},r.createElement(b.a,{content:"exchange.chart_options.period"}),":",r.createElement("input",{style:{margin:0},type:"number",value:s[t],onChange:e.props.onChangeIndicatorSetting.bind(null,t)}))):null;return-1===t.toLowerCase().indexOf("volume")?r.createElement("li",{className:"indicator",key:t},r.createElement(T.h,{active:i[t],value:t,onChange:e.props.onChangeIndicators.bind(null,t),labelStyle:{alignItems:"center"}},r.createElement(b.a,{content:"exchange.chart_options."+t})),n):e.props.showVolumeChart?void f.push(r.createElement("li",{className:"indicator",key:t},r.createElement(T.h,{active:i[t],value:t,onChange:e.props.onChangeIndicators.bind(null,t),labelStyle:{alignItems:"center"}},r.createElement(b.a,{content:"exchange.chart_options."+t})," "),n)):null}).filter(function(e){return!!e}),d=Object.keys(this.props.tools).map(function(t){return r.createElement("li",{className:"clickable",key:t,onClick:e._toggleTools.bind(e,t)},r.createElement("div",{style:{marginLeft:5},className:"inline-block"},r.createElement(b.a,{content:"exchange.chart_options."+t})))});["volume","height","clamp_chart"].map(function(t){var n=void 0;switch(t){case"height":n=r.createElement("li",{className:"indicator",key:t},r.createElement("div",{style:{marginLeft:0,paddingRight:10}},r.createElement("div",null,r.createElement(b.a,{content:"exchange.chart_options.height"}),":")),r.createElement("div",null,r.createElement("input",{style:{margin:0,textAlign:"right",maxWidth:75},value:e.props.chartHeight,type:"number",onChange:e._onInputHeight})));break;case"volume":n=r.createElement("li",{className:"clickable indicator",key:t,onClick:e.props.onToggleVolume},r.createElement("input",{type:"checkbox",checked:e.props.showVolumeChart}),r.createElement("div",null,r.createElement(b.a,{content:"exchange.chart_options."+t})));break;case"clamp_chart":n=r.createElement("li",{className:"clickable indicator",key:t,onClick:e.props.onToggleChartClamp},r.createElement("input",{type:"checkbox",checked:e.props.enableChartClamp}),r.createElement("div",null,r.createElement(b.a,{content:"exchange.chart_options."+t})));break;default:n=r.createElement("li",{key:t},"TBD")}return n});return r.createElement("div",{className:"no-margin no-padding",style:{overflow:"visible",width:"100%"},ref:this.mainChart},r.createElement("div",{className:"chart-tools"},r.createElement("ul",{className:"market-stats stats bottom-stats"},r.createElement("li",{className:"stat"},r.createElement("span",null,r.createElement("span",null,r.createElement(b.a,{content:"exchange.time"}),":"),r.createElement("span",null,c))),r.createElement("li",{className:"stat input custom-dropdown"},r.createElement("div",{className:"v-align indicators clickable",onClick:this._toggleDropdown.bind(this,"indicators")},r.createElement(b.a,{content:"exchange.chart_options.title"})),u.indicators?r.createElement("div",{className:"custom-dropdown-content",onClick:this._stopPropagation},r.createElement("ul",null,r.createElement("li",{className:"indicator-title"},r.createElement(b.a,{content:"exchange.chart_options.price_title"})),p,f.length?r.createElement("li",{className:"indicator-title"},r.createElement(b.a,{content:"exchange.chart_options.volume_title"})):null,f)):null),r.createElement("li",{className:"stat input custom-dropdown"},r.createElement("div",{className:"v-align indicators clickable",onClick:this._toggleDropdown.bind(this,"tools")},r.createElement(b.a,{content:"exchange.chart_options.tools"})),u.tools?r.createElement("div",{className:"custom-dropdown-content",onClick:this._stopPropagation},r.createElement("ul",null,d)):null))),this.props.priceData.length?r.createElement(up,Object.assign({ref:this.mainChart},this.props)):r.createElement("div",{className:"grid-content text-center"},r.createElement("div",{style:{paddingTop:this.props.height/2,height:this.props.height}},r.createElement(b.a,{content:"exchange.no_data",component:"h2"}))))}}]),t}()),cp=n(2349),fp=n(35),pp=n(212),dp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hp=n(39),yp=n(2389),mp=(r.createClass({displayName:"NotificationSet",getInitialState:function(){return{notifications:[]}},componentDidMount:function(){hp.subscribe(this.props.id,function(e,t){"clearall"===t?this.clearAll():this.addNotification(t)}.bind(this))},addNotification:function(e){e.id=hp.generateUuid();var t=this.state.notifications.concat(e);this.setState({notifications:t})},removeNotifcation:function(e){return function(t){var n=[];this.state.notifications.forEach(function(t){t.id!==e&&n.push(t)}),this.setState({notifications:n}),t.preventDefault()}.bind(this)},clearAll:function(){this.setState({notifications:[]})},render:function(){var e=this.state.notifications.map(function(e){return r.createElement(yp,dp({key:e.id},e,{closeHandler:this.removeNotifcation(e.id),className:"is-active"}),e.content)}.bind(this));return r.createElement("div",null,e)}}),n(2389)),bp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vp=(n(26),n(39)),gp=r.createClass({displayName:"NotificationStatic",getInitialState:function(){return{open:!1}},componentDidMount:function(){vp.subscribe(this.props.id,function(e,t){"open"===t?this.setState({open:!0}):"close"===t&&this.setState({open:!1})}.bind(this))},componentWillUnmount:function(){vp.unsubscribe(this.props.id)},closeHandler:function(e){this.setState({open:!1}),e.preventDefault(),e.stopPropagation()},render:function(){return r.createElement(pp.a,{active:this.state.open,animationIn:"fadeIn",animationOut:"fadeOut"},r.createElement(mp.default,bp({},this.props,{closeHandler:this.closeHandler}),this.props.children))}}),wp=n(343),kp=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Ep,Sp=nn.c.operations,Op=Object.keys(Sp),_p=((Ep=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),kp(t,[{key:"componentWillReceiveProps",value:function(e){if(e.account.size&&this.props.account.get("history")){var t=this.props.account.get("history")&&this.props.account.get("history").first()?this.props.account.get("history").first().toJS():null,n=e.account.get("history")&&e.account.get("history").first()?e.account.get("history").first().toJS():null;n&&t&&"fill_order"===Op[n.op[0]]&&(!t&&n.id||n.id!==t.id)&&(Xn.a.publish("account-notify","open"),setTimeout(function(){Xn.a.publish("account-notify","close")},5e3))}}},{key:"shouldComponentUpdate",value:function(e){return!Xt.is(e.account.get("history"),this.props.account.get("history"))||!Xt.is(e.account,this.props.account)}},{key:"render",value:function(){var e=this.props.account;if(!e)return r.createElement("div",null);var t=void 0,n=void 0;return this.props.account.get("history")&&this.props.account.get("history").size&&(t=this.props.account.get("history").first().toJS())&&(n=r.createElement(wp.a,{key:t.id,op:t.op,result:t.result,block:t.block_num,current:e.get("id"),hideDate:!0,hideFee:!0})),t?r.createElement(gp,{id:"account-notify",title:null,image:"",wrapperElement:"div"},r.createElement("table",{className:"table"},r.createElement("tbody",null,n))):r.createElement("div",null)}}]),t}()).propTypes={account:mn.a.ChainAccount.isRequired},Ep),Cp=_p=Object(bn.a)(_p,{keep_updating:!0}),xp=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Pp=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),xp(t,[{key:"render",value:function(){return r.createElement(c.a,{stores:[i.a],inject:{account:function(){return i.a.getState().currentAccount}}},r.createElement(Cp,null))}}]),t}(),Dp=n(92),Tp=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Ap=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),Tp(t,[{key:"show",value:function(){var e="modal_confirm_"+this.props.type;Xn.a.publish(e,"open")}},{key:"_onForce",value:function(e,t){var n="modal_confirm_"+this.props.type;t.preventDefault(),Xn.a.publish(n,"close"),e&&this.props.onForce()}},{key:"render",value:function(){var e=this.props,t=e.type,n=e.diff,o=e.hasOrders;return r.createElement(Jn.a,{id:"modal_confirm_"+t,overlay:!0},r.createElement(b.a,{component:"h3",content:"transaction.confirm"}),r.createElement("div",{className:"grid-block vertical"},o?r.createElement(b.a,{content:"exchange.confirm_"+t,diff:y.a.format_number(n,2)}):r.createElement(b.a,{content:"exchange.confirm_no_orders_"+t}),r.createElement("div",{className:"button-group",style:{paddingTop:"2rem"}},r.createElement("input",{onClick:this._onForce.bind(this,!0),className:"button success",type:"submit",value:"Yes"}),r.createElement(Dp.a,{close:"modal_confirm_"+t},r.createElement("input",{className:"button info",type:"submit",value:"No"})))))}}]),t}(),jp=(n(64),n(344)),Rp=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function Fp(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Np(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Mp(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Ip=function(e){function t(){return Fp(this,t),Np(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Mp(t,r["Component"]),Rp(t,[{key:"render",value:function(){var e=this.props,t=e.baseSymbol,n=e.quoteSymbol;return r.createElement("thead",null,r.createElement("tr",null,r.createElement("th",{style:{textAlign:"center"}},r.createElement(b.a,{content:"exchange.price"})," ",t?r.createElement("span",{className:"header-sub-title"},"(",r.createElement(k.a,{name:t}),"/",r.createElement(k.a,{name:n}),")"):null),r.createElement("th",{style:{textAlign:"center"}},r.createElement(b.a,{content:"transfer.amount"})," ",n?r.createElement("span",{className:"header-sub-title"},"(",r.createElement(k.a,{name:n}),")"):null),r.createElement("th",{style:{textAlign:"center"}},r.createElement(b.a,{content:"transaction.settlement_date"})," ",r.createElement("span",{style:{visibility:"hidden"},className:"header-sub-title"},"d"))))}}]),t}();Ip.defaultProps={quoteSymbol:null,baseSymbol:null};var qp=function(e){function t(){return Fp(this,t),Np(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Mp(t,r["Component"]),Rp(t,[{key:"render",value:function(){var e=this.props,t=e.quote,n=e.order,o=e.showSymbols?" "+t.get("symbol"):null;return r.createElement("tr",null,r.createElement("td",null,y.a.format_number(n.getPrice(),t.get("precision"))," ",o),r.createElement("td",null,r.createElement(yn.a,{amount:n[n.isBid()?"amountToReceive":"amountForSale"]().getAmount(),asset:n[n.isBid()?"amountToReceive":"amountForSale"]().asset_id})),r.createElement("td",null,r.createElement(jp.a,{time:n.settlement_date})))}}]),t}();qp.defaultProps={showSymbols:!1,invert:!1};var Lp=function(e){function t(){return Fp(this,t),Np(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Mp(t,r["Component"]),Rp(t,[{key:"shouldComponentUpdate",value:function(e){return e.currentAccount!==this.props.currentAccount||e.orders!==this.props.orders}},{key:"render",value:function(){var e=this.props,t=e.orders,n=e.base,o=e.quote,a=e.quoteSymbol,i=e.baseSymbol,s=null;if(!(t.size>0&&n&&o))return null;var u=0;return s=t.sort(function(e,t){return e.isBefore(t)?-1:1}).map(function(e){return r.createElement(qp,{key:u++,order:e,base:n,quote:o})}).toArray(),r.createElement("div",{key:"open_orders",className:"grid-block no-overflow small-12 no-padding vertical medium-horizontal middle-content"},r.createElement("div",{className:"small-12 order-1",style:{paddingBottom:"1rem"}},r.createElement("div",{className:"exchange-bordered"},this.props.withHeader&&r.createElement("div",{className:"exchange-content-header"},r.createElement(b.a,{content:"exchange.settle_orders"})),r.createElement("div",{className:"grid-block",style:{maxHeight:"400px",overflow:"hidden"},ref:"orders"},r.createElement("table",{className:"table order-table text-right table-hover"},r.createElement(Ip,{type:"buy",baseSymbol:i,quoteSymbol:a}),r.createElement("tbody",{ref:"orders"},s))))))}}]),t}();Lp.defaultProps={base:{},quote:{},orders:{},quoteSymbol:"",baseSymbol:""},Lp.propTypes={base:f.object.isRequired,quote:f.object.isRequired,orders:f.object.isRequired,quoteSymbol:f.string.isRequired,baseSymbol:f.string.isRequired};var Bp=Lp,Vp=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Wp=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),Vp(t,[{key:"_addMarket",value:function(e,t){var n=e+"_"+t;this.props.starredMarkets.has(n)?en.a.removeStarMarket(e,t):en.a.addStarMarket(e,t)}},{key:"render",value:function(){var e=this.props,t=e.quoteAsset,n=e.baseAsset,o=e.starredMarkets,a=e.hasPrediction,i=e.feedPrice,s=e.showCallLimit,u=e.lowestCallPrice,l=e.marketReady,c=e.latestPrice,f=(e.currentPeriod,e.marketStats),p=(e.showDepthChart,e.buckets,e.bucketSize,e.showIndicators,e.onBorrowBase,e.onBorrowQuote,e.indicators,e.indicatorSettings,e.currentMouseItem,n.get("symbol")),d=t.get("symbol"),h=d+"_"+p,y=o.has(h)?"gold-star":"grey-star",m=f.get("change"),v=0===parseFloat(m)?"":parseFloat(m)<0?"negative":"positive",g=""===v?"":"positive"===v?"change-up":"change-down",w=f.get("volumeBase"),E=f.get("volumeQuote");return r.createElement("div",{className:"grid-block shrink no-padding overflow-visible top-bar"},r.createElement("div",{className:"grid-block overflow-visible"},r.createElement("div",{className:"grid-block shrink show-for-large"},r.createElement("span",{className:"v-align clickable",onClick:this._addMarket.bind(this,d,p)},r.createElement("span",{style:{paddingRight:0},className:"market-symbol"},r.createElement(kn.a,{className:y,name:"fi-star"})),r.createElement("span",{className:"market-symbol"},r.createElement("span",{style:{fontSize:"1.2em"}},r.createElement(k.a,{name:d}))," / ",r.createElement(k.a,{name:p})))),r.createElement("div",{className:"grid-block vertical",style:{overflow:"visible"}},r.createElement("ul",{className:"market-stats stats top-stats medium-12"},c?r.createElement(P,{ready:l,price:c.full,hideBase:!0,withYuan:!0,quote:t,base:n,hideQuote:!0,content:"exchange.latest"}):null,r.createElement("li",{className:"stat"},r.createElement("span",null,r.createElement(b.a,{className:"nowrap",component:"span",content:"account.hour_24"}),r.createElement("br",null),r.createElement("b",{className:"value "+v},l?m:0,r.createElement("span",{className:g}," ",""===g?null:"change-up"===g?r.createElement("span",null,"↑"):r.createElement("span",null,"↓"))),r.createElement("span",null,"%"))),w>=0?r.createElement(P,{ready:l,decimals:0,volume:!0,price:w,volume2:E,base:n,quote:t,content:"exchange.volume_24"}):null,!a&&i?r.createElement(P,{toolTip:j.a.translate("tooltip.settle_price"),ready:l,price:i.toReal(),quote:t,base:n,content:"exchange.settle"}):null,u&&s?r.createElement(P,{toolTip:j.a.translate("tooltip.call_limit"),ready:l,className:"is-call",price:u,quote:t,base:n,content:"explorer.block.call_limit"}):null,i&&s?r.createElement(P,{toolTip:j.a.translate("tooltip.margin_price"),ready:l,className:"is-call",price:i.getSqueezePrice({real:!0}),quote:t,base:n,content:"exchange.squeeze"}):null))))}}]),t}(),Hp=n(4),zp=n(2279),Up=n(341),Yp=n(2287),Gp=n(2472),Qp=(n(2469),n(2466),n(2451),function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()),Xp=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function Jp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Kp=[{key:"my-market",label:"exchange.tabs.market"},{key:"my-order",label:"exchange.tabs.orders"},{key:"order-book-buy",label:"exchange.tabs.bidask"},{key:"depth-chart",label:"exchange.tabs.depthChart"},{key:"market-history",label:"exchange.tabs.trades"},{key:"open-settle-order",label:"exchange.tabs.settle"}],Zp=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.resizeSubscription=null,n.resizeSubject=new Gp.Subject,n.state=n._initialState(e),n._getWindowSize=Object(Tn.debounce)(n._getWindowSize.bind(n),150),n._checkFeeStatus=n._checkFeeStatus.bind(n),n.psInit=!0,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),Xp(t,[{key:"_initialState",value:function(e){var t=e.viewSettings,n={forSaleText:"",toReceiveText:"",priceText:"",for_sale:new Kn.a({asset_id:e.baseAsset.get("id"),precision:e.baseAsset.get("precision")}),to_receive:new Kn.a({asset_id:e.quoteAsset.get("id"),precision:e.quoteAsset.get("precision")}),price:null};n.price=new Kn.f({base:n.for_sale,quote:n.to_receive});var r={forSaleText:"",toReceiveText:"",priceText:"",for_sale:new Kn.a({asset_id:e.quoteAsset.get("id"),precision:e.quoteAsset.get("precision")}),to_receive:new Kn.a({asset_id:e.baseAsset.get("id"),precision:e.baseAsset.get("precision")}),price:null};r.price=new Kn.f({base:r.for_sale,quote:r.to_receive});var o=t.get("indicators",{}),a={};[["sma",!0],["ema1",!1],["ema2",!1],["smaVolume",!0],["macd",!1],["bb",!1]].forEach(function(e){a[e[0]]=e[0]in o?o[e[0]]:e[1]});var i=t.get("indicatorSettings",{}),s={};[["sma",7],["ema1",20],["ema2",50],["smaVolume",30]].forEach(function(e){s[e[0]]=e[0]in i?i[e[0]]:e[1]});var u=Kp[0];return{history:[],buySellOpen:t.get("buySellOpen",!0),bid:n,ask:r,flipBuySell:t.get("flipBuySell",!1),favorite:!1,showDepthChart:t.get("showDepthChart",!1),leftOrderBook:t.get("leftOrderBook",!1),buyDiff:!1,sellDiff:!1,indicators:a,buySellTop:t.get("buySellTop",!0),buyFeeAssetIdx:t.get("buyFeeAssetIdx",0),sellFeeAssetIdx:t.get("sellFeeAssetIdx",0),indicatorSettings:s,tools:{fib:!1,trendline:!1},currentMouseItem:{},currentInfoTab:u,height:window.innerHeight,width:window.innerWidth,chartHeight:t.get("chartHeight",425),currentPeriod:t.get("currentPeriod",7776e3)}}},{key:"_getLastMarketKey",value:function(){var e=Hp.a.instance().chain_id;return"lastMarket"+(e?"_"+e.substr(0,8):"")}},{key:"componentWillMount",value:function(){"4018d784"===Hp.a.instance().chain_id.substr(0,8)&&(zp.d.fetchCoins.defer(),zp.d.fetchBridgeCoins.defer()),this._checkFeeStatus()}},{key:"componentDidMount",value:function(){var e=this;en.a.changeViewSetting.defer(Jp({},this._getLastMarketKey(),this.props.quoteAsset.get("symbol")+"_"+this.props.baseAsset.get("symbol"))),this.resizeSubscription=Yp.Observable.merge(Yp.Observable.fromEvent(window,"resize",{capture:!1,passive:!0}),this.resizeSubject).subscribe(function(t){return e._getWindowSize})}},{key:"_checkFeeStatus",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[this.props.coreAsset,this.props.baseAsset,this.props.quoteAsset],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.props.currentAccount,r={},o=[];t.forEach(function(e){o.push(Object(Up.b)({accountID:n.get("id"),feeID:e.get("id"),type:"limit_order_create"}))}),Promise.all(o).then(function(n){t.forEach(function(e,t){r[e.get("id")]=n[t]}),y.a.are_equal_shallow(e.state.feeStatus,r)||e.setState({feeStatus:r})})}},{key:"_getWindowSize",value:function(){var e=window,t=e.innerHeight,n=e.innerWidth;if(t!==this.state.height||n!==this.state.width){this.setState({height:t,width:n});var r=this.refs.center;r&&Zt.a.update(r)}}},{key:"componentWillReceiveProps",value:function(e){if(this.refs.center&&this.psInit){var t=this.refs.center;t&&(Zt.a.initialize(t),this.psInit=!1)}return e.quoteAsset===this.props.quoteAsset&&e.baseAsset===this.props.baseAsset&&e.currentAccount===this.props.currentAccount||this._checkFeeStatus([e.coreAsset,e.baseAsset,e.quoteAsset],e.currentAccount),e.quoteAsset.get("symbol")!==this.props.quoteAsset.get("symbol")||e.baseAsset.get("symbol")!==this.props.baseAsset.get("symbol")?(this.setState(this._initialState(e)),en.a.changeViewSetting(Jp({},this._getLastMarketKey(),e.quoteAsset.get("symbol")+"_"+e.baseAsset.get("symbol")))):this.props.sub&&e.bucketSize!==this.props.bucketSize?this._changeBucketSize(e.bucketSize):void 0}},{key:"componentWillUnmount",value:function(){this.resizeSubscription&&this.resizeSubscription.unsubscribe()}},{key:"_getFeeAssets",value:function(e,t,n){var r=this,o=this.props.currentAccount,a=this.state.feeStatus;function i(e,t){-1===e.indexOf(t)&&e.push(t)}var s=[n,e===n?t:e];i(s,e),i(s,t);var u=[n,t===n?e:t];i(u,e),i(u,t);var l={};function c(e,t,r){var o=void 0;return(e=e.filter(function(e){return!!t[e.get("id")]&&(function(e){return a[e]&&a[e].hasPoolBalance}(e.get("id"))&&function(e){return a[e]&&a[e].hasBalance}(e.get("id")))})).length?o=e[Math.min(e.length-1,r)]:(o=n,e.push(n)),{assets:e,asset:o}}o.get("balances",[]).filter(function(n,r){return["1.3.0",e.get("id"),t.get("id")].indexOf(r)>=0}).forEach(function(e,t){var n=nn.b.getObject(e);l[t]={balance:n?parseInt(n.get("balance"),10):0,fee:r._getFee(nn.b.getAsset(t))}});var f=c(s,l,this.state.sellFeeAssetIdx),p=f.assets,d=f.asset,h=c(u,l,this.state.buyFeeAssetIdx),y=h.assets,m=h.asset;return{sellFeeAsset:d,sellFeeAssets:p,sellFee:this._getFee(d),buyFeeAsset:m,buyFeeAssets:y,buyFee:this._getFee(m)}}},{key:"_getFee",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props.coreAsset;return this.state.feeStatus[e.get("id")]&&this.state.feeStatus[e.get("id")].fee}},{key:"_verifyFee",value:function(e,t,n,r){var o=this._getFee(),a=e.getAmount()+t;return"1.3.0"===e.asset_id?o.getAmount()<=r?"1.3.0":null:a<=n?e.asset_id:o.getAmount()<=r&&"1.3.0"!==e.asset_id?"1.3.0":null}},{key:"_createLimitOrderConfirm",value:function(e,t,n,r,o,a){var i=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];arguments[7].preventDefault();var s=this.props.marketData,u=s.highestBid,l=s.lowestAsk,c=this.state["sell"===a?"ask":"bid"];n=c.for_sale.clone(n?parseInt(nn.b.getObject(n).toJS().balance,10):0),r=new Kn.a({amount:r?parseInt(nn.b.getObject(r).toJS().balance,10):0});var f=this._getFee(o),p=this._verifyFee(f,c.for_sale.getAmount(),n.getAmount(),r.getAmount());if(!p)return fp.b.addNotification({message:"Insufficient funds to pay fees",level:"error"});if("buy"===a&&l){var d=this.state.bid.price.toReal()/l.getPrice();if(d>1.2)return this.refs.buy.show(),this.setState({buyDiff:d})}else if("sell"===a&&u){var h=1/(this.state.ask.price.toReal()/u.getPrice());if(h>1.2)return this.refs.sell.show(),this.setState({sellDiff:h})}var y=t.getIn(["bitasset","is_prediction_market"]);return c.for_sale.gt(n)&&!y?fp.b.addNotification({message:"Insufficient funds to place order, you need at least "+c.for_sale.getAmount({real:!0})+" "+t.get("symbol"),level:"error"}):c.for_sale.getAmount()>0&&c.to_receive.getAmount()>0?"sell"===a&&y&&i?this._createPredictionShort(p):void this._createLimitOrder(a,p):fp.b.addNotification({message:"Please enter a valid amount and price",level:"error"})}},{key:"_createLimitOrder",value:function(e,t){var n=this.state["sell"===e?"ask":"bid"],r=new Kn.e({for_sale:n.for_sale,to_receive:n.to_receive,seller:this.props.currentAccount.get("id"),fee:{asset_id:t,amount:0}}),o=$t.a.getMarketID(this.props.baseAsset,this.props.quoteAsset),a=o.marketID,i=o.first,s=this.props.marketDirections.get(a);if(s&&i.get("id")!==this.props.baseAsset.get("id")||!s&&i.get("id")!==this.props.baseAsset.get("id")){var u={};u[a]=!s,en.a.changeMarketDirection(u)}return console.log("order:",JSON.stringify(r.toObject())),d.a.createLimitOrder2(r).then(function(e){e.error&&"wallet locked"!==e.error.message&&fp.b.addNotification({message:"Unknown error. Failed to place order for "+n.to_receive.getAmount({real:!0})+" "+n.to_receive.asset_id,level:"error"})}).catch(function(e){console.log("order failed:",e)})}},{key:"_createPredictionShort",value:function(e){var t=this.state.ask,n=new Kn.e({for_sale:t.for_sale,to_receive:t.to_receive,seller:this.props.currentAccount.get("id"),fee:{asset_id:e,amount:0}});Promise.all([Object(nn.f)("getAsset",this.props.quoteAsset.getIn(["bitasset","options","short_backing_asset"]))]).then(function(e){var t=Qp(e,1)[0],r=new Kn.a({amount:n.amount_for_sale.getAmount(),asset_id:t.get("id"),precision:t.get("precision")});d.a.createPredictionShort(n,r).then(function(e){e.error&&"wallet locked"!==e.error.message&&fp.b.addNotification({message:"Unknown error. Failed to place order for "+buyAssetAmount+" "+buyAsset.symbol,level:"error"})})})}},{key:"_forceBuy",value:function(e,t,n,r){var o=this.state["sell"===e?"ask":"bid"];n=o.for_sale.clone(n?parseInt(nn.b.getObject(n).get("balance"),10):0),r=new Kn.a({amount:r?parseInt(nn.b.getObject(r).toJS().balance,10):0});var a=this._getFee(t),i=this._verifyFee(a,o.for_sale.getAmount(),n.getAmount(),r.getAmount());i?this._createLimitOrder(e,i):console.error("Unable to pay fees, aborting limit order creation")}},{key:"_forceSell",value:function(e,t,n,r){var o=this.state["sell"===e?"ask":"bid"];n=o.for_sale.clone(n?parseInt(nn.b.getObject(n).get("balance"),10):0),r=new Kn.a({amount:r?parseInt(nn.b.getObject(r).toJS().balance,10):0});var a=this._getFee(t),i=this._verifyFee(a,o.for_sale.getAmount(),n.getAmount(),r.getAmount());i?this._createLimitOrder(e,i):console.error("Unable to pay fees, aborting limit order creation")}},{key:"_cancelLimitOrder",value:function(e,t){t.preventDefault();var n=this.props.currentAccount;d.a.cancelLimitOrder(n.get("id"),e)}},{key:"_changeBucketSize",value:function(e,t){if(t&&t.preventDefault(),e!==this.props.bucketSize){d.a.changeBucketSize.defer(e);var n=this.props.sub.split("_");d.a.unSubscribeMarket.defer(n[0],n[1]),this.props.subToMarket(this.props,e)}}},{key:"_changeZoomPeriod",value:function(e,t){t.preventDefault(),e!==this.state.currentPeriod&&(this.setState({currentPeriod:e}),en.a.changeViewSetting({currentPeriod:e}))}},{key:"_depthChartClick",value:function(e,t,n,r){r.preventDefault();var o=this.state,a=o.bid,i=o.ask;a.price=new Kn.f({base:this.state.bid.for_sale,quote:this.state.bid.to_receive,real:r.xAxis[0].value/n}),a.priceText=a.price.toReal(),i.price=new Kn.f({base:this.state.ask.to_receive,quote:this.state.ask.for_sale,real:r.xAxis[0].value/n}),i.priceText=i.price.toReal();var s={bid:a,ask:i,depthLine:a.price.toReal()};this._setForSale(a,!0)||this._setReceive(a,!0),this._setReceive(i)||this._setForSale(i),this._setPriceText(a,!0),this._setPriceText(i,!1),this.setState(s)}},{key:"_flipBuySell",value:function(){en.a.changeViewSetting({flipBuySell:!this.state.flipBuySell}),this.setState({flipBuySell:!this.state.flipBuySell})}},{key:"_toggleOpenBuySell",value:function(){en.a.changeViewSetting({buySellOpen:!this.state.buySellOpen}),this.setState({buySellOpen:!this.state.buySellOpen})}},{key:"_toggleCharts",value:function(){en.a.changeViewSetting({showDepthChart:!this.state.showDepthChart}),this.setState({showDepthChart:!this.state.showDepthChart})}},{key:"_moveOrderBook",value:function(){en.a.changeViewSetting({leftOrderBook:!this.state.leftOrderBook}),this.setState({leftOrderBook:!this.state.leftOrderBook})}},{key:"_currentPriceClick",value:function(e,t){var n="bid"===e,r=this.state[e];r.price=t[n?"invert":"clone"](),r.priceText=r.price.toReal(),n?this._setForSale(r,n)||this._setReceive(r,n):this._setReceive(r,n)||this._setForSale(r,n),this.forceUpdate()}},{key:"_orderbookClick",value:function(e){var t=e.isBid(),n=e.totalToReceive({noCache:!0}),r=n.times(e.sellPrice()),o=new Kn.f({base:t?r:n,quote:t?n:r}),a=this.state[t?"bid":"ask"];a.price=o,a.priceText=o.toReal();var i=Jp({},t?"ask":"bid",{for_sale:n,forSaleText:n.getAmount({real:!0}),to_receive:r,toReceiveText:r.getAmount({real:!0}),price:o,priceText:o.toReal()});t?this._setForSale(a,t)||this._setReceive(a,t):this._setReceive(a,t)||this._setForSale(a,t),this.setState(i)}},{key:"_borrowQuote",value:function(){this.refs.borrowQuote.show()}},{key:"_borrowBase",value:function(){this.refs.borrowBase.show()}},{key:"_onSelectIndicators",value:function(){this.refs.indicators.show()}},{key:"_getSettlementInfo",value:function(){var e=this.props,t=e.lowestCallPrice,n=e.feedPrice,r=e.quoteAsset,o=!1;return n&&(o=n.inverted?t<=n.toReal():t>=n.toReal()),!(!o||!t||r.getIn(["bitasset","is_prediction_market"]))}},{key:"_changeIndicator",value:function(e){var t=Object(Tn.cloneDeep)(this.state.indicators);t[e]=!t[e],this.setState({indicators:t}),en.a.changeViewSetting({indicators:t})}},{key:"_changeIndicatorSetting",value:function(e,t){t.preventDefault();var n=Object(Tn.cloneDeep)(this.state.indicatorSettings),r=parseInt(t.target.value,10);isNaN(r)&&(r=1),n[e]=r,this.setState({indicatorSettings:n}),en.a.changeViewSetting({indicatorSettings:n})}},{key:"onChangeFeeAsset",value:function(e,t){t.preventDefault(),"buy"===e?(this.setState({buyFeeAssetIdx:t.target.value}),en.a.changeViewSetting({buyFeeAssetIdx:t.target.value})):(this.setState({sellFeeAssetIdx:t.target.value}),en.a.changeViewSetting({sellFeeAssetIdx:t.target.value}))}},{key:"onChangeChartHeight",value:function(e){var t=e.value,n=e.increase,r=t||this.state.chartHeight+(n?20:-20);console.log("newHeight",r),this.setState({chartHeight:r}),en.a.changeViewSetting({chartHeight:r})}},{key:"_toggleBuySellPosition",value:function(){this.setState({buySellTop:!this.state.buySellTop}),en.a.changeViewSetting({buySellTop:!this.state.buySellTop})}},{key:"_setReceive",value:function(e,t){return!(!e.price.isValid()||!e.for_sale.hasAmount())&&(e.to_receive=e.for_sale.times(e.price),e.toReceiveText=e.to_receive.getAmount({real:!0}).toString(),!0)}},{key:"_setForSale",value:function(e,t){return!(!e.price.isValid()||!e.to_receive.hasAmount())&&(e.for_sale=e.to_receive.times(e.price,!0),e.forSaleText=e.for_sale.getAmount({real:!0}).toString(),!0)}},{key:"_setPrice",value:function(e){return!(!e.for_sale.hasAmount()||!e.to_receive.hasAmount())&&(e.price=new Kn.f({base:e.for_sale,quote:e.to_receive}),e.priceText=e.price.toReal().toString(),!0)}},{key:"_setPriceText",value:function(e,t){var n=e[t?"for_sale":"to_receive"],r=e[t?"to_receive":"for_sale"];n.hasAmount()&&r.hasAmount()&&(e.priceText=new Kn.f({base:n,quote:r}).toReal().toString())}},{key:"_onInputPrice",value:function(e,t){var n=this.state[e],r="bid"===e;n.price=new Kn.f({base:n[r?"for_sale":"to_receive"],quote:n[r?"to_receive":"for_sale"],real:parseFloat(t.target.value)||0}),r?this._setForSale(n,r)||this._setReceive(n,r):this._setReceive(n,r)||this._setForSale(n,r),n.priceText=t.target.value,this.forceUpdate()}},{key:"_onInputSell",value:function(e,t,n){var r=this.state[e];r.for_sale.setAmount({real:parseFloat(n.target.value)||0}),r.price.isValid()?this._setReceive(r,t):this._setPrice(r),r.forSaleText=n.target.value,this._setPriceText(r,"bid"===e),this.forceUpdate()}},{key:"_onInputReceive",value:function(e,t,n){var r=this.state[e];r.to_receive.setAmount({real:parseFloat(n.target.value)||0}),r.price.isValid()?this._setForSale(r,t):this._setPrice(r),r.toReceiveText=n.target.value,this._setPriceText(r,"bid"===e),this.forceUpdate()}},{key:"isMarketFrozen",value:function(){var e=this.props,t=e.baseAsset,n=e.quoteAsset,r=t.getIn(["options","whitelist_markets"]).toJS(),o=n.getIn(["options","whitelist_markets"]).toJS(),a=t.getIn(["options","blacklist_markets"]).toJS(),i=n.getIn(["options","blacklist_markets"]).toJS();return o.length&&-1===o.indexOf(t.get("id"))?{isFrozen:!0,frozenAsset:n.get("symbol")}:r.length&&-1===r.indexOf(n.get("id"))?{isFrozen:!0,frozenAsset:t.get("symbol")}:i.length&&-1!==i.indexOf(t.get("id"))?{isFrozen:!0,frozenAsset:n.get("symbol")}:a.length&&-1!==a.indexOf(n.get("id"))?{isFrozen:!0,frozenAsset:t.get("symbol")}:{isFrozen:!1}}},{key:"_toggleMiniChart",value:function(){en.a.changeViewSetting({miniDepthChart:!this.props.miniDepthChart})}},{key:"_handleMouseMove",value:function(e){var t=this;setTimeout(function(){return t.setState({currentMouseItem:e})})}},{key:"_handleTabClick",value:function(e){this.resizeSubject.next(!0),this.setState({currentInfoTab:e})}},{key:"render",value:function(){var e=this,t=this.props,n=t.currentAccount,o=t.marketLimitOrders,a=t.marketCallOrders,i=t.marketData,s=t.activeMarketHistory,u=t.invertedCalls,l=t.starredMarkets,c=t.quoteAsset,f=t.baseAsset,p=t.lowestCallPrice,d=t.marketStats,y=t.marketReady,m=t.marketSettleOrders,b=t.bucketSize,v=t.totals,w=t.feedPrice,k=t.buckets,E=t.coreAsset,S=i.combinedBids,O=i.combinedAsks,_=i.lowestAsk,C=i.highestBid,x=(i.flatBids,i.flatAsks,i.flatCalls,i.flatSettles,this.state),P=x.bid,D=x.ask,A=x.leftOrderBook,j=x.showDepthChart,R=x.tools,F=x.chartHeight,N=x.buyDiff,M=x.sellDiff,I=x.indicators,q=x.indicatorSettings,L=x.width,B=x.buySellTop,V=(x.currentInfoTab,this.isMarketFrozen()),W=V.isFrozen,H=(V.frozenAsset,null),z=null,U=null,Y=null,G=null,Q=null,X=void 0,J=void 0,K=!1,Z=void 0,$=void 0,ee="1.2.3"===n.get("id"),te=this.props.viewSettings.get("showVolumeChart",!0),ne=this.props.viewSettings.get("enableChartClamp",!1);if(c.size&&f.size&&n.size){if(z=c,J=(H=f).get("symbol"),X=z.get("symbol"),U=n.get("balances").toJS())for(var re in U)re===z.get("id")&&(Y=U[re]),re===H.get("id")&&(G=U[re]),"1.3.0"===re&&(Q=U[re]);K=this._getSettlementInfo()}var oe=!!c.get("bitasset_data_id"),ae=!!f.get("bitasset_data_id");_&&C&&(_.getPrice(),C.getPrice());if(s.size){var ie=s.take(3),se=ie.first(),ue=ie.last(),le=void 0,ce=void 0,fe=!1;se.pays.asset_id===H.get("id")?(le=H,ce=z,fe=!0):(le=z,ce=H);var pe=H.get("id").split(".")[2]>z.get("id").split(".")[2];if(Z=$t.a.parse_order_history(se,le,ce,fe,pe),fe=!1,ue){ue.pays.asset_id===H.get("id")?(le=H,ce=z,fe=!0):(le=z,ce=H);var de=$t.a.parse_order_history(ue,le,ce,fe,pe);$=Z.full===de.full?"":Z.full-de.full>0?"change-up":"change-down"}}if(!E||!this.state.feeStatus)return null;var he=this._getFeeAssets(z,H,E),ye=he.sellFeeAsset,me=he.sellFeeAssets,be=he.sellFee,ve=he.buyFeeAsset,ge=he.buyFeeAssets,we=he.buyFee,ke=H.getIn(["bitasset","is_prediction_market"])||z.getIn(["bitasset","is_prediction_market"]),Ee=null;ke&&(Ee=c.getIn(["options","description"]),Ee=hr.a.parseDescription(Ee).main);var Se=!1;L<1e3&&(Se=!0,A=!1);var Oe=A?2:1,_e=Math.max(this.state.height>1100?F:F-125,300);console.debug("Props: ",this.props);var Ce=W?null:r.createElement(vr,{onBorrow:!ee&&ae?this._borrowBase.bind(this):null,currentAccount:n,backedCoin:H.get("symbol")in this.props.backedCoins,currentBridges:this.props.bridgeCoins.get(H.get("symbol"))||null,smallScreen:Se,isOpen:this.state.buySellOpen,onToggleOpen:this._toggleOpenBuySell.bind(this),className:g()("bgcolor-primary small-12 medium-6 no-padding",{disabled:ee},this.state.flipBuySell?"order-"+(B?2:5*Oe)+" sell-form":"order-"+(B?1:4*Oe)+" buy-form"),type:"bid",amount:P.toReceiveText,price:P.priceText,total:P.forSaleText,quote:z,base:H,amountChange:this._onInputReceive.bind(this,"bid",!0),priceChange:this._onInputPrice.bind(this,"bid"),setPrice:this._currentPriceClick.bind(this),totalChange:this._onInputSell.bind(this,"bid",!1),balance:G,balanceId:H.get("id"),onSubmit:this._createLimitOrderConfirm.bind(this,z,H,G,Q,ve,"buy"),balancePrecision:H.get("precision"),quotePrecision:z.get("precision"),totalPrecision:H.get("precision"),currentPrice:_.getPrice(),currentPriceObject:_,account:n.get("name"),fee:we,hasFeeBalance:this.state.feeStatus[we.asset_id].hasBalance,feeAssets:ge,feeAsset:ve,onChangeFeeAsset:this.onChangeFeeAsset.bind(this,"buy"),isPredictionMarket:H.getIn(["bitasset","is_prediction_market"]),onFlip:this.state.flipBuySell?null:this._flipBuySell.bind(this),onTogglePosition:this._toggleBuySellPosition.bind(this)}),xe=W?null:r.createElement(vr,{onBorrow:!ee&&oe?this._borrowQuote.bind(this):null,currentAccount:n,backedCoin:z.get("symbol")in this.props.backedCoins,currentBridges:this.props.bridgeCoins.get(z.get("symbol"))||null,smallScreen:Se,isOpen:this.state.buySellOpen,onToggleOpen:this._toggleOpenBuySell.bind(this),className:g()("bgcolor-primary small-12 medium-6 no-padding",{disabled:ee},this.state.flipBuySell?"order-"+(B?1:4*Oe)+" buy-form":"order-"+(B?2:5*Oe)+" sell-form"),type:"ask",amount:D.forSaleText,price:D.priceText,total:D.toReceiveText,quote:z,base:H,amountChange:this._onInputSell.bind(this,"ask",!1),priceChange:this._onInputPrice.bind(this,"ask"),setPrice:this._currentPriceClick.bind(this),totalChange:this._onInputReceive.bind(this,"ask",!0),balance:Y,balanceId:z.get("id"),onSubmit:this._createLimitOrderConfirm.bind(this,H,z,Y,Q,ye,"sell"),balancePrecision:z.get("precision"),quotePrecision:z.get("precision"),totalPrecision:H.get("precision"),currentPrice:C.getPrice(),currentPriceObject:C,account:n.get("name"),fee:be,hasFeeBalance:this.state.feeStatus[be.asset_id].hasBalance,feeAssets:me,feeAsset:ye,onChangeFeeAsset:this.onChangeFeeAsset.bind(this,"sell"),isPredictionMarket:z.getIn(["bitasset","is_prediction_market"]),onFlip:this.state.flipBuySell?this._flipBuySell.bind(this):null}),Pe=r.createElement(Qt,{latest:Z,changeClass:$,orders:o,calls:a,invertedCalls:u,combinedBids:S,combinedAsks:O,highestBid:C,lowestAsk:_,totalBids:v.bid,totalAsks:v.ask,base:H,quote:z,baseSymbol:J,quoteSymbol:X,height:_e,width:L,onClick:this._orderbookClick.bind(this),horizontal:!1,moveOrderBook:this._moveOrderBook.bind(this),flipOrderBook:this.props.viewSettings.get("flipOrderBook"),marketReady:y,currentAccount:this.props.currentAccount.get("id")});return r.createElement("div",{className:"market-layout"},r.createElement("div",{className:"market-main _scroll-bar",style:{overflowX:"hidden",boxShadow:"0 0 2px 2px "+T.f.$colorNoir}},r.createElement(Wp,{quoteAsset:c,baseAsset:f,hasPrediction:ke,starredMarkets:l,lowestAsk:_,highestBid:C,lowestCallPrice:p,showCallLimit:K,feedPrice:w,marketReady:y,latestPrice:Z,showDepthChart:j,onSelectIndicators:this._onSelectIndicators.bind(this),marketStats:d,onToggleCharts:this._toggleCharts.bind(this),showVolumeChart:te}),r.createElement("div",{className:"grid-block shrink no-overflow",id:"market-charts"},r.createElement(lp,{priceData:this.props.priceData,volumeData:this.props.volumeData,base:H,quote:z,baseSymbol:J,quoteSymbol:X,height:I.macd?466:366,leftOrderBook:A,marketReady:y,indicators:I,indicatorSettings:q,latest:Z,theme:this.props.settings.get("themes"),zoom:this.state.currentPeriod,tools:R,showVolumeChart:te,enableChartClamp:ne,buckets:k,bucketSize:b,currentPeriod:this.state.currentPeriod,changeBucketSize:this._changeBucketSize.bind(this),changeZoomPeriod:this._changeZoomPeriod.bind(this),onSelectIndicators:this._onSelectIndicators.bind(this),onChangeIndicators:this._changeIndicator.bind(this),onChangeTool:function(t){var n=Object(Tn.cloneDeep)(e.state.tools);for(var r in n)n[r]=r===t&&!n[r];e.setState({tools:n},function(){e.setState({tools:{fib:!1,trendline:!1}})})},onChangeChartHeight:this.onChangeChartHeight.bind(this),chartHeight:F,onToggleVolume:function(){en.a.changeViewSetting({showVolumeChart:!te})},onToggleChartClamp:function(){en.a.changeViewSetting({enableChartClamp:!ne})},onChangeIndicatorSetting:this._changeIndicatorSetting.bind(this),onMouseMove:this._handleMouseMove.bind(this)})),r.createElement("div",{className:"grid-block no-padding exchange-forms"},Ce,xe,r.createElement(Ap,{type:"buy",ref:"buy",onForce:this._forceBuy.bind(this,"buy",ve,G,Q),diff:N,hasOrders:O.length>0}),r.createElement(Ap,{type:"sell",ref:"sell",onForce:this._forceSell.bind(this,"sell",ye,Y,Q),diff:M,hasOrders:S.length>0})),r.createElement(h.a,{smallScreen:this.props.smallScreen,className:g()({disabled:ee},"align-spaced ps-container middle-content order-6"),key:"open_orders",orders:o,currentAccount:n,base:H,quote:z,baseSymbol:J,quoteSymbol:X,onCancel:this._cancelLimitOrder.bind(this),flipMyOrders:this.props.viewSettings.get("flipMyOrders")}),r.createElement(Bp,{withHeader:!1,key:"settle_orders",className:g()(Se||A?"":"medium-6 xlarge-4 order-12","small-12 medium-6 no-padding align-spaced ps-container middle-content order-12"),orders:m,base:H,quote:z,baseSymbol:J,quoteSymbol:X})),r.createElement("div",{className:"market-markets"},r.createElement(Yn,{className:"left-order-book no-padding no-overflow",headerStyle:{paddingTop:0},columns:[{name:"star",index:1},{name:"market",index:2},{name:"vol",index:3},{name:"price",index:4},{name:"change",index:5}],findColumns:[{name:"market",index:1},{name:"issuer",index:2},{name:"vol",index:3},{name:"add",index:4}],current:X+"_"+J})),r.createElement("div",{className:"market-orders",style:{borderTop:"1px solid "+T.i.$colorDark}},r.createElement(hn,{className:"no-padding no-overflow middle-content small-12",headerStyle:{paddingTop:0},history:s,currentAccount:n,myHistory:n.get("history"),base:H,quote:z,baseSymbol:J,quoteSymbol:X,isNullAccount:ee})),r.createElement("div",{className:"market-orderbook",id:"orderBook"},Pe),r.createElement("div",null),!ee&&oe?r.createElement(cp.a,{ref:"borrowQuote",quote_asset:c.get("id"),backing_asset:c.getIn(["bitasset","options","short_backing_asset"]),account:n}):null,!ee&&ae?r.createElement(cp.a,{ref:"borrowBase",quote_asset:f.get("id"),backing_asset:f.getIn(["bitasset","options","short_backing_asset"]),account:n}):null,r.createElement(Pp,null))}}]),t}();Zp.propTypes={marketCallOrders:f.object.isRequired,activeMarketHistory:f.object.isRequired,viewSettings:f.object.isRequired,priceData:f.array.isRequired,volumeData:f.array.isRequired},Zp.defaultProps={marketCallOrders:[],activeMarketHistory:{},viewSettings:{},priceData:[],volumeData:[]};var $p=Zp,ed=n(187),td=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function nd(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rd(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function od(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var ad=function(e){function t(){return nd(this,t),rd(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return od(t,r["Component"]),td(t,[{key:"render",value:function(){var e=this.props.match.params.marketID.split("_");return r.createElement(c.a,{stores:[a.a,i.a,s.b],inject:{marketLimitOrders:function(){return a.a.getState().marketLimitOrders},marketCallOrders:function(){return a.a.getState().marketCallOrders},invertedCalls:function(){return a.a.getState().invertedCalls},marketSettleOrders:function(){return a.a.getState().marketSettleOrders},marketData:function(){return a.a.getState().marketData},totals:function(){return a.a.getState().totals},priceData:function(){return a.a.getState().priceData},volumeData:function(){return a.a.getState().volumeData},activeMarketHistory:function(){return a.a.getState().activeMarketHistory},bucketSize:function(){return a.a.getState().bucketSize},buckets:function(){return a.a.getState().buckets},lowestCallPrice:function(){return a.a.getState().lowestCallPrice},feedPrice:function(){return a.a.getState().feedPrice},currentAccount:function(){return i.a.getState().currentAccount},linkedAccounts:function(){return i.a.getState().linkedAccounts},viewSettings:function(){return s.b.getState().viewSettings},settings:function(){return s.b.getState().settings},preferredBases:function(){return s.b.getState().preferredBases},starredMarkets:function(){return s.b.getState().starredMarkets},marketDirections:function(){return s.b.getState().marketDirections},marketStats:function(){return a.a.getState().marketStats},marketReady:function(){return a.a.getState().marketReady},backedCoins:function(){return u.b.getState().backedCoins.get("JADE",[])},bridgeCoins:function(){return u.b.getState().bridgeCoins},miniDepthChart:function(){return s.b.getState().viewSettings.get("miniDepthChart",!0)}}},r.createElement(pd,{router:this.props.history,quoteAsset:e[0],baseAsset:e[1]}))}}]),t}(),id=Object(nn.e)(),sd=void 0,ud=void 0,ld=void 0,cd=void 0,fd=void 0,pd=((dd=function(e){function t(e){nd(this,t);var n=rd(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={sub:null},n._subToMarket=n._subToMarket.bind(n),n}return od(t,r["Component"]),td(t,[{key:"componentWillMount",value:function(){var e=this;this.props.quoteAsset.toJS&&this.props.baseAsset.toJS&&this._subToMarket(this.props),id.on("cancel-order",ud=d.a.cancelLimitOrderSuccess),id.on("close-call",sd=d.a.closeCallOrderSuccess),id.on("call-order-update",ld=d.a.callOrderUpdate),id.on("bitasset-update",cd=d.a.feedUpdate),id.on("settle-order-update",fd=function(t){var n=$t.a.isMarketAsset(e.props.quoteAsset,e.props.baseAsset),r=n.isMarketAsset,o=n.marketAsset;console.log("settle-order-update:",t,"isMarketAsset:",r,"marketAsset:",o),r&&o.id===t.balance.asset_id&&d.a.settleOrderUpdate(o.id)})}},{key:"componentWillReceiveProps",value:function(e){var t=e.baseAsset,n=e.quoteAsset,r=(e.preferredBases,Object(ed.a)(t.get("symbol"),n.get("symbol")));if(e.baseAsset&&e.baseAsset.getIn(["bitasset","is_prediction_market"])&&!e.quoteAsset&&e.quoteAsset.getIn(["bitasset","is_prediction_market"])?this.props.router.push("/market/"+e.baseAsset.get("symbol")+"_"+e.quoteAsset.get("symbol")):t.get("symbol")===r.base||e.baseAsset.getIn(["bitasset","is_prediction_market"])||e.quoteAsset.getIn(["bitasset","is_prediction_market"])||this.props.router.push("/market/"+e.baseAsset.get("symbol")+"_"+e.quoteAsset.get("symbol")),e.quoteAsset&&e.baseAsset&&!this.state.sub)return this._subToMarket(e);if(e.quoteAsset.get("symbol")!==this.props.quoteAsset.get("symbol")||e.baseAsset.get("symbol")!==this.props.baseAsset.get("symbol")){var o=this.state.sub.split("_");return d.a.unSubscribeMarket(o[0],o[1]),this._subToMarket(e)}}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.quoteAsset,n=e.baseAsset;d.a.unSubscribeMarket(t.get("id"),n.get("id")),id&&(id.off("cancel-order",ud),id.off("close-call",sd),id.off("call-order-update",ld),id.off("bitasset-update",cd),id.off("settle-order-update",fd))}},{key:"_subToMarket",value:function(e,t){var n=e.quoteAsset,r=e.baseAsset,o=e.bucketSize;t&&(o=t),n.get("id")&&r.get("id")&&(d.a.subscribeMarket.defer(r,n,o),this.setState({sub:n.get("id")+"_"+r.get("id")}))}},{key:"render",value:function(){return r.createElement(r.Fragment,null,this.props.marketReady?null:r.createElement(jn.a,null),r.createElement($p,Object.assign({},this.props,{sub:this.state.sub,subToMarket:this._subToMarket})))}}]),t}()).propTypes={currentAccount:mn.a.ChainAccount.isRequired,quoteAsset:mn.a.ChainAsset.isRequired,baseAsset:mn.a.ChainAsset.isRequired,coreAsset:mn.a.ChainAsset.isRequired},dd.defaultProps={currentAccount:"1.2.3",coreAsset:"1.3.0"},dd);pd=Object(bn.a)(pd,{keep_updating:!0,show_loader:!0}),ad=Object(En.a)(ad);var dd;t.default=ad},2272:function(e,t,n){"use strict";function r(e){return["StringValue","BooleanValue","EnumValue"].indexOf(e.kind)>-1}function o(e){return["IntValue","FloatValue"].indexOf(e.kind)>-1}function a(e,t,n,r){if(function(e){return"IntValue"===e.kind}(n)||function(e){return"FloatValue"===e.kind}(n))e[t.value]=Number(n.value);else if(function(e){return"BooleanValue"===e.kind}(n)||function(e){return"StringValue"===e.kind}(n))e[t.value]=n.value;else if(function(e){return"ObjectValue"===e.kind}(n)){var o={};n.fields.map(function(e){return a(o,e.name,e.value,r)}),e[t.value]=o}else if(function(e){return"Variable"===e.kind}(n)){var i=(r||{})[n.name.value];e[t.value]=i}else if(function(e){return"ListValue"===e.kind}(n))e[t.value]=n.values.map(function(e){var n={};return a(n,t,e,r),n[t.value]});else{if(!function(e){return"EnumValue"===e.kind}(n))throw new Error('The inline argument "'+t.value+'" of kind "'+n.kind+'" is not supported.\n                    Use variables instead of inline arguments to overcome this limitation.');e[t.value]=n.value}}function i(e,t){var n=null;e.directives&&(n={},e.directives.forEach(function(e){n[e.name.value]={},e.arguments&&e.arguments.forEach(function(r){var o=r.name,i=r.value;return a(n[e.name.value],o,i,t)})}));var r=null;return e.arguments&&e.arguments.length&&(r={},e.arguments.forEach(function(e){var n=e.name,o=e.value;return a(r,n,o,t)})),s(e.name.value,r,n)}function s(e,t,n){if(n&&n.connection&&n.connection.key){if(n.connection.filter&&n.connection.filter.length>0){var r=n.connection.filter?n.connection.filter:[];r.sort();var o=t,a={};return r.forEach(function(e){a[e]=o[e]}),n.connection.key+"("+JSON.stringify(a)+")"}return n.connection.key}return t?e+"("+JSON.stringify(t)+")":e}function u(e,t){if(e.arguments&&e.arguments.length){var n={};return e.arguments.forEach(function(e){var r=e.name,o=e.value;return a(n,r,o,t)}),n}return null}function l(e){return e.alias?e.alias.value:e.name.value}function c(e){return"Field"===e.kind}function f(e){return"InlineFragment"===e.kind}function p(e){return e&&"id"===e.type}function d(e,t){return void 0===t&&(t=!1),{type:"id",id:e,generated:t}}function h(e){return null!=e&&"object"==typeof e&&"json"===e.type}function y(e){throw new Error("Variable nodes are not supported by valueFromNode")}function m(e,t){switch(void 0===t&&(t=y),e.kind){case"Variable":return t(e);case"NullValue":return null;case"IntValue":return parseInt(e.value);case"FloatValue":return parseFloat(e.value);case"ListValue":return e.values.map(function(e){return m(e,t)});case"ObjectValue":for(var n={},r=0,o=e.fields;r<o.length;r++){var a=o[r];n[a.name.value]=m(a.value,t)}return n;default:return e.value}}function b(e,t){if(e.directives&&e.directives.length){var n={};return e.directives.forEach(function(e){n[e.name.value]=u(e,t)}),n}return null}function v(e,t){if(void 0===t&&(t={}),!e.directives)return!0;var n=!0;return e.directives.forEach(function(e){if("skip"===e.name.value||"include"===e.name.value){var r=e.arguments||[],o=e.name.value;if(1!==r.length)throw new Error("Incorrect number of arguments for the @"+o+" directive.");var a=r[0];if(!a.name||"if"!==a.name.value)throw new Error("Invalid argument for the @"+o+" directive.");var i=r[0].value,s=!1;if(i&&"BooleanValue"===i.kind)s=i.value;else{if("Variable"!==i.kind)throw new Error("Argument for the @"+o+" directive must be a variable or a bool ean value.");if(void 0===(s=t[i.name.value]))throw new Error("Invalid variable referenced in @"+o+" directive.")}"skip"===o&&(s=!s),s||(n=!1)}}),n}function g(e){return e.selectionSet&&e.selectionSet.selections.length>0?[e].concat(e.selectionSet.selections.map(function(e){return[e].concat(g(e))}).reduce(function(e,t){return e.concat(t)},[])):[e]}var w=new Map;function k(e){var t=w.get(e);if(t)return t;var n=e.definitions.filter(function(e){return e.selectionSet&&e.selectionSet.selections}).map(function(e){return g(e)}).reduce(function(e,t){return e.concat(t)},[]).filter(function(e){return e.directives&&e.directives.length>0}).map(function(e){return e.directives}).reduce(function(e,t){return e.concat(t)},[]).map(function(e){return e.name.value});return w.set(e,n),n}function E(e,t){return k(t).some(function(t){return e.indexOf(t)>-1})}var S=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e};function O(e,t){var n=t,r=[];if(e.definitions.forEach(function(e){if("OperationDefinition"===e.kind)throw new Error("Found a "+e.operation+" operation"+(e.name?" named '"+e.name.value+"'":"")+". No operations are allowed when using a fragment as a query. Only fragments are allowed.");"FragmentDefinition"===e.kind&&r.push(e)}),void 0===n){if(1!==r.length)throw new Error("Found "+r.length+" fragments. `fragmentName` must be provided when there is not exactly 1 fragment.");n=r[0].name.value}return S({},e,{definitions:[{kind:"OperationDefinition",operation:"query",selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:n}}]}}].concat(e.definitions)})}function _(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.forEach(function(t){void 0!==t&&null!==t&&Object.keys(t).forEach(function(n){e[n]=t[n]})}),e}function C(e){x(e);var t=e.definitions.filter(function(e){return"OperationDefinition"===e.kind&&"mutation"===e.operation})[0];if(!t)throw new Error("Must contain a mutation definition.");return t}function x(e){if("Document"!==e.kind)throw new Error('Expecting a parsed GraphQL document. Perhaps you need to wrap the query string in a "gql" tag? http://docs.apollostack.com/apollo-client/core.html#gql');var t=e.definitions.filter(function(e){return"FragmentDefinition"!==e.kind}).map(function(e){if("OperationDefinition"!==e.kind)throw new Error('Schema type definitions not allowed in queries. Found: "'+e.kind+'"');return e});if(t.length>1)throw new Error("Ambiguous GraphQL document: contains "+t.length+" operations")}function P(e){return x(e),e.definitions.filter(function(e){return"OperationDefinition"===e.kind})[0]}function D(e){var t=P(e);if(!t)throw new Error("GraphQL document is missing an operation");return t}function T(e){return e.definitions.filter(function(e){return"OperationDefinition"===e.kind&&e.name}).map(function(e){return e.name.value})[0]||null}function A(e){return e.definitions.filter(function(e){return"FragmentDefinition"===e.kind})}function j(e){var t=P(e);if(!t||"query"!==t.operation)throw new Error("Must contain a query definition.");return t}function R(e){if("Document"!==e.kind)throw new Error('Expecting a parsed GraphQL document. Perhaps you need to wrap the query string in a "gql" tag? http://docs.apollostack.com/apollo-client/core.html#gql');if(e.definitions.length>1)throw new Error("Fragment must have exactly one definition.");var t=e.definitions[0];if("FragmentDefinition"!==t.kind)throw new Error("Must be a fragment definition.");return t}function F(e){var t;x(e);for(var n=0,r=e.definitions;n<r.length;n++){var o=r[n];if("OperationDefinition"===o.kind){var a=o.operation;if("query"===a||"mutation"===a||"subscription"===a)return o}"FragmentDefinition"!==o.kind||t||(t=o)}if(t)return t;throw new Error("Expected a parsed GraphQL query with a query, mutation, subscription, or a fragment.")}function N(e){void 0===e&&(e=[]);var t={};return e.forEach(function(e){t[e.name.value]=e}),t}function M(e){if(e&&e.variableDefinitions&&e.variableDefinitions.length){var t=e.variableDefinitions.filter(function(e){return e.defaultValue}).map(function(e){var t=e.variable,n=e.defaultValue,r={};return a(r,t.name,n),r});return _.apply(void 0,[{}].concat(t))}return{}}function I(e){var t=new Set;if(e.variableDefinitions)for(var n=0,r=e.variableDefinitions;n<r.length;n++){var o=r[n];t.add(o.variable.name.value)}return t}function q(e){if(Array.isArray(e))return e.map(function(e){return q(e)});if(null!==e&&"object"==typeof e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=q(e[n]));return t}return e}var L={kind:"Field",name:{kind:"Name",value:"__typename"}};function B(e,t){var n=q(t);n.definitions.forEach(function(t){!function e(t,n){if(!n.selections)return n;var r=t.some(function(e){return e.remove});return n.selections=n.selections.map(function(e){return"Field"===e.kind&&e&&e.directives?(e.directives=e.directives.filter(function(e){var o=!t.some(function(t){return!(!t.name||t.name!==e.name.value)||!(!t.test||!t.test(e))});return n||o||!r||(n=!0),o}),n?null:e):e;var n}).filter(function(e){return!!e}),n.selections.forEach(function(n){"Field"!==n.kind&&"InlineFragment"!==n.kind||!n.selectionSet||e(t,n.selectionSet)}),n}(e,t.selectionSet)});var r=D(n),o=N(A(n)),a=function(e){return e.selectionSet.selections.filter(function(e){return!(e&&"FragmentSpread"===e.kind&&!a(o[e.name.value]))}).length>0};return a(r)?n:null}var V=new Map;function W(e){x(e);var t=V.get(e);if(t)return t;var n=q(e);return n.definitions.forEach(function(e){var t="OperationDefinition"===e.kind;!function e(t,n){void 0===n&&(n=!1),t.selections&&(n||t.selections.some(function(e){return"Field"===e.kind&&"__typename"===e.name.value})||t.selections.push(L),t.selections.forEach(function(t){"Field"===t.kind?0!==t.name.value.lastIndexOf("__",0)&&t.selectionSet&&e(t.selectionSet):"InlineFragment"===t.kind&&t.selectionSet&&e(t.selectionSet)}))}(e.selectionSet,t)}),V.set(e,n),n}var H={test:function(e){var t="connection"===e.name.value;return t&&(e.arguments&&e.arguments.some(function(e){return"key"===e.name.value})||console.warn("Removing an @connection directive even though it does not have a key. You may want to use the key parameter to specify a store key.")),t}},z=new Map;function U(e){x(e);var t=z.get(e);if(t)return t;var n=B([H],e);return z.set(e,n),n}var Y=n(2282);function G(e){try{return e()}catch(e){console.error&&console.error(e)}}function Q(e){return e.errors&&e.errors.length}function X(e,t){if(e===t)return!0;if(e instanceof Date&&t instanceof Date)return e.getTime()===t.getTime();if(null!=e&&"object"==typeof e&&null!=t&&"object"==typeof t){for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(!Object.prototype.hasOwnProperty.call(t,n))return!1;if(!X(e[n],t[n]))return!1}for(var n in t)if(!Object.prototype.hasOwnProperty.call(e,n))return!1;return!0}return!1}function J(e){return Object(Y.a)()||Object(Y.c)()?function e(t){return Object.freeze(t),Object.getOwnPropertyNames(t).forEach(function(n){!t.hasOwnProperty(n)||null===t[n]||"object"!=typeof t[n]&&"function"!=typeof t[n]||Object.isFrozen(t[n])||e(t[n])}),t}(e):e}var K=Object.create({});function Z(e,t){if(void 0===t&&(t="warn"),!Object(Y.b)()&&!K[e])switch(Object(Y.c)()||(K[e]=!0),t){case"error":console.error(e);break;default:console.warn(e)}}n.d(t,"f",function(){return b}),n.d(t,"A",function(){return v}),n.d(t,!1,function(){return g}),n.d(t,!1,function(){return k}),n.d(t,"p",function(){return E}),n.d(t,"h",function(){return O}),n.d(t,"j",function(){return C}),n.d(t,!1,function(){return x}),n.d(t,"k",function(){return P}),n.d(t,!1,function(){return D}),n.d(t,"l",function(){return T}),n.d(t,"g",function(){return A}),n.d(t,"m",function(){return j}),n.d(t,!1,function(){return R}),n.d(t,"i",function(){return F}),n.d(t,"d",function(){return N}),n.d(t,"e",function(){return M}),n.d(t,!1,function(){return I}),n.d(t,!1,function(){return B}),n.d(t,"a",function(){return W}),n.d(t,"y",function(){return U}),n.d(t,!1,function(){return r}),n.d(t,!1,function(){return o}),n.d(t,!1,function(){return a}),n.d(t,"B",function(){return i}),n.d(t,"n",function(){return s}),n.d(t,"b",function(){return u}),n.d(t,"z",function(){return l}),n.d(t,"r",function(){return c}),n.d(t,"t",function(){return f}),n.d(t,"s",function(){return p}),n.d(t,!1,function(){return d}),n.d(t,"u",function(){return h}),n.d(t,!1,function(){return m}),n.d(t,"c",function(){return _}),n.d(t,!1,function(){return q}),n.d(t,!1,function(){}),n.d(t,!1,function(){}),n.d(t,"v",function(){return Y.b}),n.d(t,!1,function(){return Y.a}),n.d(t,"w",function(){return Y.c}),n.d(t,"C",function(){return G}),n.d(t,"o",function(){return Q}),n.d(t,"q",function(){return X}),n.d(t,"x",function(){return J}),n.d(t,"D",function(){return Z})},2274:function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0}),t.isArray=t.first=t.overlayColors=t.TOUCHEND=t.TOUCHMOVE=t.MOUSEUP=t.MOUSEMOVE=t.MOUSELEAVE=t.MOUSEENTER=t.yes=t.PureComponent=t.accumulatingWindow=t.mappedSlidingWindow=t.shallowEqual=t.noop=t.identity=t.slidingWindow=t.merge=t.zipper=t.rebind=void 0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i="function"==typeof Symbol&&"symbol"===r(Symbol.iterator)?function(e){return void 0===e?"undefined":r(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":r(e)},s=n(2505);Object.defineProperty(t,"rebind",{enumerable:!0,get:function(){return S(s).default}});var u=n(2393);Object.defineProperty(t,"zipper",{enumerable:!0,get:function(){return S(u).default}});var l=n(2504);Object.defineProperty(t,"merge",{enumerable:!0,get:function(){return S(l).default}});var c=n(2503);Object.defineProperty(t,"slidingWindow",{enumerable:!0,get:function(){return S(c).default}});var f=n(2323);Object.defineProperty(t,"identity",{enumerable:!0,get:function(){return S(f).default}});var p=n(2322);Object.defineProperty(t,"noop",{enumerable:!0,get:function(){return S(p).default}});var d=n(2392);Object.defineProperty(t,"shallowEqual",{enumerable:!0,get:function(){return S(d).default}});var h=n(2502);Object.defineProperty(t,"mappedSlidingWindow",{enumerable:!0,get:function(){return S(h).default}});var y=n(2501);Object.defineProperty(t,"accumulatingWindow",{enumerable:!0,get:function(){return S(y).default}});var m=n(2500);Object.defineProperty(t,"PureComponent",{enumerable:!0,get:function(){return S(m).default}});var b=n(2499);Object.keys(b).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return b[e]}})});var v=n(2498);Object.keys(v).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return v[e]}})}),t.getLogger=function(e){var t=k.default;0;return t},t.sign=function(e){return(e>0)-(e<0)},t.path=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=Array.isArray(e)?e:[e],n=t.length;return function(e,r){if(0===n)return C(e)?e:r;for(var o=0;null!=e&&o<n;)e=e[t[o++]];return o===n?e:r}},t.functor=function(e){return"function"==typeof e?e:function(){return e}},t.getClosestItemIndexes2=function(e,t,n){var r=(0,w.bisector)(n).left(e,t);r=Math.max(r-1,0);var o=Math.min(r+1,e.length-1),a=n(e[r]);a>=t&&a<=t&&(o=r);return{left:r,right:o}},t.degrees=function(e){return 180*e/Math.PI},t.radians=function(e){return e*Math.PI/180},t.getClosestValue=function(e,t){var n=(x(e)?e:[e]).map(function(e){return e-t}).reduce(function(e,t){return Math.abs(e)<Math.abs(t)?e:t});return t+n},t.find=function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this,r=0;r<e.length;++r)if(t.call(n,e[r],r,e))return e[r];return},t.d3Window=function(e){return e&&(e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView)},t.getTouchProps=function(e){return e?{pageX:e.pageX,pageY:e.pageY,clientX:e.clientX,clientY:e.clientY}:{}},t.getClosestItemIndexes=O,t.getClosestItem=function(e,t,n,r){var o=O(e,t,n,r),a=o.left,i=o.right;if(a===i)return e[a];var s=Math.abs(n(e[a])-t)<Math.abs(n(e[i])-t)?e[a]:e[i];r&&console.log(e[a],e[i],s,a,i);return s},t.head=_,t.tail=function(e,t){if(t&&e)return e.map(t).slice(1);return e?e.slice(1):void 0},t.last=function(e,t){if(t&&e){for(var n=void 0,r=e.length-1;r>=0;r--)if(n=e[r],C(t(n)))return n;return}var o=e?e.length:0;return o?e[o-1]:void 0},t.isDefined=C,t.isNotDefined=function(e){return!C(e)},t.isObject=function(e){return C(e)&&"object"===(void 0===e?"undefined":i(e))&&!Array.isArray(e)},t.touchPosition=function(e,t){var n=t.target,r=n.getBoundingClientRect(),o=e.clientX-r.left-n.clientLeft,a=e.clientY-r.top-n.clientTop;return[Math.round(o),Math.round(a)]},t.mousePosition=function(e,t){var n=e.currentTarget,r=t||n.getBoundingClientRect(),o=e.clientX-r.left-n.clientLeft,a=e.clientY-r.top-n.clientTop;return[Math.round(o),Math.round(a)]},t.clearCanvas=function(e,t){e.forEach(function(e){e.setTransform(1,0,0,1,0,0),e.clearRect(-1,-1,e.canvas.width+2,e.canvas.height+2),e.scale(t,t)})},t.capitalizeFirst=function(e){return e.charAt(0).toUpperCase()+e.substring(1)},t.hexToRGBA=function(e,t){var n=e.replace("#","");if(e.indexOf("#")>-1&&(3===n.length||6===n.length)){var r=3===n.length?1:2,o=parseInt(n.substring(0,1*r),16),a=parseInt(n.substring(1*r,2*r),16),i=parseInt(n.substring(2*r,3*r),16),s="rgba("+o+", "+a+", "+i+", "+t+")";return s}return e},t.toObject=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:E.default;return e.reduce(function(e,n){var r=t(n),i=a(r,2),s=i[0],u=i[1];return o({},e,function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}({},s,u))},{})},t.mapValue=function(e,t){e=Object(e);var n={};return Object.keys(e).forEach(function(r){var o=t(e[r],r,e);C(o)&&(n[r]=o)}),n},t.mapObject=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:E.default,n=Object.keys(e),r=new Array(n.length);return n.forEach(function(n,o){r[o]=t(e[n],n,e)}),r},t.replaceAtIndex=function(e,t,n){if(C(e)&&e.length>t)return e.slice(0,t).concat(n).concat(e.slice(t+1));return e},t.forOwn=function(e,t){var n=Object(e);Object.keys(n).forEach(function(e){return t(n[e],e,n)})};var g=n(2317),w=n(2273),k=S(p),E=S(f);function S(e){return e&&e.__esModule?e:{default:e}}t.yes=function(){return!0};t.MOUSEENTER="mouseenter.interaction",t.MOUSELEAVE="mouseleave.interaction",t.MOUSEMOVE="mousemove.pan",t.MOUSEUP="mouseup.pan",t.TOUCHMOVE="touchmove.pan",t.TOUCHEND="touchend.pan touchcancel.pan";function O(e,t,n,r){for(var o=0,a=e.length-1;a-o>1;){var i=Math.round((o+a)/2);n(e[i])<=t?o=i:a=i}return n(e[o]).valueOf()===t.valueOf()&&(a=o),n(e[a]).valueOf()===t.valueOf()&&(o=a),n(e[o])<t&&n(e[a])<t&&(o=a),n(e[o])>t&&n(e[a])>t&&(a=o),{left:o,right:a}}t.overlayColors=(0,g.scaleOrdinal)(g.schemeCategory10);function _(e,t){if(!t||!e)return e?e[0]:void 0;for(var n=void 0,r=0;r<e.length;r++)if(C(t(n=e[r])))return n}t.first=_;function C(e){return null!==e&&void 0!==e}var x=t.isArray=Array.isArray},2275:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.print=function(e){return(0,r.visit)(e,{leave:o})};var r=n(2337);var o={Name:function(e){return e.value},Variable:function(e){return"$"+e.name},Document:function(e){return a(e.definitions,"\n\n")+"\n"},OperationDefinition:function(e){var t=e.operation,n=e.name,r=s("(",a(e.variableDefinitions,", "),")"),o=a(e.directives," "),i=e.selectionSet;return n||o||r||"query"!==t?a([t,a([n,r]),o,i]," "):i},VariableDefinition:function(e){return e.variable+": "+e.type+s(" = ",e.defaultValue)},SelectionSet:function(e){return i(e.selections)},Field:function(e){var t=e.alias,n=e.name,r=e.arguments,o=e.directives,i=e.selectionSet;return a([s("",t,": ")+n+s("(",a(r,", "),")"),a(o," "),i]," ")},Argument:function(e){return e.name+": "+e.value},FragmentSpread:function(e){return"..."+e.name+s(" ",a(e.directives," "))},InlineFragment:function(e){var t=e.typeCondition,n=e.directives,r=e.selectionSet;return a(["...",s("on ",t),a(n," "),r]," ")},FragmentDefinition:function(e){var t=e.name,n=e.typeCondition,r=e.variableDefinitions,o=e.directives,i=e.selectionSet;return"fragment "+t+s("(",a(r,", "),")")+" on "+n+" "+s("",a(o," ")," ")+i},IntValue:function(e){return e.value},FloatValue:function(e){return e.value},StringValue:function(e,t){var n=e.value;return e.block?function(e,t){return" "!==e[0]&&"\t"!==e[0]||-1!==e.indexOf("\n")?t?'"""\n'+e.replace(/"""/g,'\\"""')+'\n"""':u('"""\n'+e.replace(/"""/g,'\\"""'))+'\n"""':'"""'+e.replace(/"""/g,'\\"""')+'"""'}(n,"description"===t):JSON.stringify(n)},BooleanValue:function(e){var t=e.value;return JSON.stringify(t)},NullValue:function(){return"null"},EnumValue:function(e){return e.value},ListValue:function(e){return"["+a(e.values,", ")+"]"},ObjectValue:function(e){return"{"+a(e.fields,", ")+"}"},ObjectField:function(e){return e.name+": "+e.value},Directive:function(e){return"@"+e.name+s("(",a(e.arguments,", "),")")},NamedType:function(e){return e.name},ListType:function(e){return"["+e.type+"]"},NonNullType:function(e){return e.type+"!"},SchemaDefinition:function(e){var t=e.directives,n=e.operationTypes;return a(["schema",a(t," "),i(n)]," ")},OperationTypeDefinition:function(e){return e.operation+": "+e.type},ScalarTypeDefinition:function(e){return a([e.description,a(["scalar",e.name,a(e.directives," ")]," ")],"\n")},ObjectTypeDefinition:function(e){var t=e.description,n=e.name,r=e.interfaces,o=e.directives,u=e.fields;return a([t,a(["type",n,s("implements ",a(r,", ")),a(o," "),i(u)]," ")],"\n")},FieldDefinition:function(e){var t=e.description,n=e.name,r=e.arguments,o=e.type,i=e.directives;return a([t,n+s("(",a(r,", "),")")+": "+o+s(" ",a(i," "))],"\n")},InputValueDefinition:function(e){var t=e.description,n=e.name,r=e.type,o=e.defaultValue,i=e.directives;return a([t,a([n+": "+r,s("= ",o),a(i," ")]," ")],"\n")},InterfaceTypeDefinition:function(e){var t=e.description,n=e.name,r=e.directives,o=e.fields;return a([t,a(["interface",n,a(r," "),i(o)]," ")],"\n")},UnionTypeDefinition:function(e){var t=e.description,n=e.name,r=e.directives,o=e.types;return a([t,a(["union",n,a(r," "),o&&0!==o.length?"= "+a(o," | "):""]," ")],"\n")},EnumTypeDefinition:function(e){var t=e.description,n=e.name,r=e.directives,o=e.values;return a([t,a(["enum",n,a(r," "),i(o)]," ")],"\n")},EnumValueDefinition:function(e){return a([e.description,a([e.name,a(e.directives," ")]," ")],"\n")},InputObjectTypeDefinition:function(e){var t=e.description,n=e.name,r=e.directives,o=e.fields;return a([t,a(["input",n,a(r," "),i(o)]," ")],"\n")},ScalarTypeExtension:function(e){return a(["extend scalar",e.name,a(e.directives," ")]," ")},ObjectTypeExtension:function(e){var t=e.name,n=e.interfaces,r=e.directives,o=e.fields;return a(["extend type",t,s("implements ",a(n,", ")),a(r," "),i(o)]," ")},InterfaceTypeExtension:function(e){var t=e.name,n=e.directives,r=e.fields;return a(["extend interface",t,a(n," "),i(r)]," ")},UnionTypeExtension:function(e){var t=e.name,n=e.directives,r=e.types;return a(["extend union",t,a(n," "),r&&0!==r.length?"= "+a(r," | "):""]," ")},EnumTypeExtension:function(e){var t=e.name,n=e.directives,r=e.values;return a(["extend enum",t,a(n," "),i(r)]," ")},InputObjectTypeExtension:function(e){var t=e.name,n=e.directives,r=e.fields;return a(["extend input",t,a(n," "),i(r)]," ")},DirectiveDefinition:function(e){var t=e.description,n=e.name,r=e.arguments,o=e.locations;return a([t,"directive @"+n+s("(",a(r,", "),")")+" on "+a(o," | ")],"\n")}};function a(e,t){return e?e.filter(function(e){return e}).join(t||""):""}function i(e){return e&&0!==e.length?u("{\n"+a(e,"\n"))+"\n}":""}function s(e,t,n){return t?e+t+(n||""):""}function u(e){return e&&e.replace(/\n/g,"\n  ")}},2276:function(e,t,n){"use strict";var r=n(2281),o=n(2272),a=n(2275),i=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e};var u=function(e){function t(t,n){var r=e.call(this,t)||this;return r.link=n,r}return i(t,e),t}(Error);function l(e){return e.request.length<=1}function c(e){var t=!1;return new Promise(function(n,r){e.subscribe({next:function(e){t?console.warn("Promise Wrapper does not support multiple results from Observable"):(t=!0,n(e))},error:r})})}var f=c;function p(e){return new r(function(t){e.then(function(e){t.next(e),t.complete()}).catch(t.error.bind(t))})}function d(e,t){var n=s({},e);return Object.defineProperty(t,"setContext",{enumerable:!1,value:function(e){n=s({},n,"function"==typeof e?e(n):e)}}),Object.defineProperty(t,"getContext",{enumerable:!1,value:function(){return s({},n)}}),Object.defineProperty(t,"toKey",{enumerable:!1,value:function(){return function(e){return Object(a.print)(e.query)+"|"+JSON.stringify(e.variables)+"|"+e.operationName}(t)}}),t}var h=function(e,t){return t?t(e):r.of()},y=function(e){return"function"==typeof e?new w(e):e},m=function(){return new w(function(e,t){return r.of()})},b=function(e){return 0===e.length?m():e.map(y).reduce(function(e,t){return e.concat(t)})},v=function(e,t,n){void 0===n&&(n=new w(h));var o=y(t),a=y(n);return l(o)&&l(a)?new w(function(t){return e(t)?o.request(t)||r.of():a.request(t)||r.of()}):new w(function(t,n){return e(t)?o.request(t,n)||r.of():a.request(t,n)||r.of()})},g=function(e,t){var n=y(e);if(l(n))return console.warn(new u("You are calling concat on a terminating link, which will have no effect",n)),n;var o=y(t);return l(o)?new w(function(e){return n.request(e,function(e){return o.request(e)||r.of()})||r.of()}):new w(function(e,t){return n.request(e,function(e){return o.request(e,t)||r.of()})||r.of()})},w=function(){function e(e){e&&(this.request=e)}return e.prototype.split=function(t,n,r){return void 0===r&&(r=new e(h)),this.concat(v(t,n,r))},e.prototype.concat=function(e){return g(this,e)},e.prototype.request=function(e,t){throw new Error("request is not implemented")},e.empty=m,e.from=b,e.split=v,e}();function k(e,t){return e.request(d(t.context,function(e){var t={variables:e.variables||{},extensions:e.extensions||{},operationName:e.operationName,query:e.query};return t.operationName||(t.operationName="string"!=typeof t.query?Object(o.l)(t.query):""),t}(function(e){for(var t=["query","operationName","variables","extensions","context"],n=0,r=Object.keys(e);n<r.length;n++){var o=r[n];if(t.indexOf(o)<0)throw new Error("illegal argument: "+o)}return e}(t))))||r.of()}n.d(t,!1,function(){return m}),n.d(t,!1,function(){return b}),n.d(t,!1,function(){return v}),n.d(t,!1,function(){return g}),n.d(t,"a",function(){return w}),n.d(t,"c",function(){return k}),n.d(t,!1,function(){return d}),n.d(t,!1,function(){return f}),n.d(t,!1,function(){return c}),n.d(t,!1,function(){return p}),n.d(t,"b",function(){return r})},2277:function(e,t,n){"use strict";var r=n(0),o=n(2),a=n(1),i=n.n(a),s=n(22),u=n(24),l=n(19),c=n(339),f=n(5),p=n.n(f),d=n(9),h=n.n(d),y=n(58),m=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function g(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var w=function(e){function t(){return b(this,t),v(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return g(t,r["Component"]),m(t,[{key:"render",value:function(){return 0===this.props.assets.length?null:r.createElement(c.a,{entries:this.props.assets.map(function(e){return e&&e.get("symbol")}).filter(function(e){return!!e}),values:this.props.assets.reduce(function(e,t){return t&&t.get("symbol")&&(e[t.get("symbol")]=t),e},{}),singleEntry:this.props.assets[0]?r.createElement(l.a,{asset:this.props.assets[0].get("id"),amount:0,hide_amount:!0}):null,value:this.props.value,onChange:this.props.onChange})}}]),t}();w.propTypes={assets:s.a.ChainAssetsList,value:o.string,onChange:o.func},w=Object(u.a)(w);var k=function(e){function t(){return b(this,t),v(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return g(t,r["Component"]),m(t,[{key:"componentDidMount",value:function(){this.onAssetChange(this.props.asset)}},{key:"formatAmount",value:function(e){return e||(e=""),"number"==typeof e&&(e=e.toString()),e.trim().replace(/,/g,"")}},{key:"_onChange",value:function(e){var t=e.target.value;this.props.onChange({amount:t,asset:this.props.asset})}},{key:"onAssetChange",value:function(e){this.props.onChange({amount:this.props.amount,asset:e})}},{key:"render",value:function(){var e=this.props.error?h.a.translate(this.props.error):this.formatAmount(this.props.amount),t=this.props.isNumber;return r.createElement("div",{className:"amount-selector",style:this.props.style},r.createElement("label",{className:"right-label"},this.props.display_balance),r.createElement(i.a,{className:"left-label",component:"label",content:this.props.label}),r.createElement("div",{className:"inline-label input-wrapper"},t?r.createElement(y.l,{disabled:this.props.disabled,type:"number",valueFromOuter:!0,value:e||0,size:"small",placeholder:this.props.placeholder,onChange:this._onChange.bind(this),tabIndex:this.props.tabIndex,style:{width:"100%",marginBottom:0}}):r.createElement(y.l,{disabled:this.props.disabled,type:"text",valueFromOuter:!0,size:"small",value:e||"",placeholder:this.props.placeholder,onChange:this._onChange.bind(this),tabIndex:this.props.tabIndex,style:{width:"100%",marginBottom:0}}),r.createElement("div",{className:"form-label select floating-dropdown"},r.createElement(w,{ref:this.props.refCallback,value:this.props.asset.get("symbol"),assets:p.a.List(this.props.assets),onChange:this.onAssetChange.bind(this)}))))}}]),t}();k.propTypes={label:o.string,asset:s.a.ChainAsset.isRequired,assets:o.array,amount:o.any,placeholder:o.string,onChange:o.func.isRequired,tabIndex:o.number,error:o.string},k.defaultProps={disabled:!1},k=Object(u.a)(k),t.a=k},2278:function(e,t,n){"use strict";var r;n.d(t,"c",function(){return c}),n.d(t,"b",function(){return f}),n.d(t,"a",function(){return p}),n.d(t,"d",function(){return h});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s,u={BTC:"https://live.blockcypher.com/btc/tx/#{txid}",USDT:"www.omniexplorer.info/tx/#{txid}",ETH:"https://etherscan.io/tx/#{txid}",GAS:"https://neoscan.io/transaction/#{txid}",EOS:"https://eosflare.io/tx/#{txid}",LTC:"https://chain.so/tx/LTC/#{txid}",QTUM:"https://explorer.qtum.org/tx/#{txid}"},l={ERC20:"https://etherscan.io/token/#{contract}"},c="https://gateway.cybex.io/gateway",f="https://gateway-query.cybex.io/",p="CybexGateway";!function(e){e[e.ERC20=0]="ERC20",e[e.ETH=1]="ETH",e[e.BTC=2]="BTC",e[e.USDT=3]="USDT",e[e.EOS=4]="EOS",e[e.LTC=5]="LTC",e[e.QTUM=6]="QTUM",e[e.NEO=7]="NEO"}(s||(s={}));var d=function(){function e(t,n,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};i(this,e),this.asset=t,this.type=n,this.protocol=r,this.options=o,this.contractExplorer=o.contractAddress?this.getExplorerUrlByContract(o.contractAddress):null}return o(e,[{key:"getExplorerUrlByTx",value:function(t){if(!e.ExplorerAddress[this.protocol])return null;try{return(this.options.specificExplorer||e.ExplorerAddress[this.protocol]).replace("#{txid}",t)}catch(e){return null}}},{key:"getExplorerUrlByContract",value:function(t){if(!e.ContractAddress[this.protocol])return null;try{return(this.options.specificContractExplorer||e.ContractAddress[this.protocol]).replace("#{contract}",t)}catch(e){return null}}}]),e}();d.ExplorerAddress=(a(r={},s.BTC,u.BTC),a(r,s.USDT,u.USDT),a(r,s.ERC20,u.ETH),a(r,s.ETH,u.ETH),a(r,s.EOS,u.EOS),a(r,s.LTC,u.LTC),a(r,s.QTUM,u.QTUM),a(r,s.NEO,u.GAS),r),d.ContractAddress=a({},s.ERC20,l.ERC20);var h={GATEWAY_ACCOUNT:"cybex-jadegateway",ADDRESS_TYPES:{"JADE.ETH":new d("JADE.ETH","ETH",s.ETH,{name:"Ethereum"}),"JADE.BTC":new d("JADE.BTC","BTC",s.BTC,{name:"Bitcoin"}),"JADE.LTC":new d("JADE.LTC","LTC",s.LTC,{name:"Litecoin"}),"JADE.EOS":new d("JADE.EOS","EOS",s.EOS,{name:"EOS"}),"JADE.USDT":new d("JADE.USDT","USDT",s.USDT,{name:"Tether"}),"JADE.LHT":new d("JADE.LHT","LHT",s.ERC20,{name:"LongHash"}),"JADE.INK":new d("JADE.INK","INK",s.ERC20,{name:"Ink [QTUM]",contractAddress:"0xf4c90e18727c5c76499ea6369c856a6d61d3e92e"}),"JADE.BAT":new d("JADE.BAT","BAT",s.ERC20,{name:"Basic Attention Token",contractAddress:"0x0d8775f648430679a709e98d2b0cb6250d2887ef"}),"JADE.OMG":new d("JADE.OMG","OMG",s.ERC20,{name:"OmiseGO",contractAddress:"0xd26114cd6ee289accf82350c8d8487fedb8a0c07"}),"JADE.SNT":new d("JADE.SNT","SNT",s.ERC20,{name:"Status",contractAddress:"0x744d70fdbe2ba4cf95131626614a1763df805b9e"}),"JADE.NAS":new d("JADE.NAS","NAS",s.ERC20,{name:"Nebulas",contractAddress:"0x5d65d971895edc438f465c17db6992698a52318d"}),"JADE.KNC":new d("JADE.KNC","KNC",s.ERC20,{name:"Kyber Network",contractAddress:"0xdd974d5c2e2928dea5f71b9825b8b646686bd200"}),"JADE.PAY":new d("JADE.PAY","PAY",s.ERC20,{name:"TenX",contractAddress:"0xb97048628db6b661d4c2aa833e95dbe1a905b280"}),"JADE.GET":new d("JADE.GET","GET",s.ERC20,{name:"Global Escrow Token, Themis",contractAddress:"0x60c68a87be1e8a84144b543aacfa77199cd3d024"}),"JADE.MAD":new d("JADE.MAD","MAD",s.ERC20,{name:"MAD Network",contractAddress:"0x5b09a0371c1da44a8e24d36bf5deb1141a84d875"}),"JADE.TCT":new d("JADE.TCT","TCT",s.ERC20,{name:"TokenClub",contractAddress:"0x4824a7b64e3966b0133f4f4ffb1b9d6beb75fff7"}),"JADE.MCO":new d("JADE.MCO","MCO",s.ERC20,{name:"Monaco",contractAddress:"0xb63b606ac810a52cca15e44bb630fd42d8d1d83d"}),"JADE.JCT":new d("JADE.JCT","JCT",s.ERC20,{name:"JCT",contractAddress:"0x9288d6b823927f528aea244c5fa71a356b807112"}),"JADE.HER":new d("JADE.HER","HER",s.ERC20,{name:"Hero Node",contractAddress:"0x9ae559ac062de221eb5198d90c27e45e85fcaab2"}),"JADE.CTXC":new d("JADE.CTXC","CTXC",s.ERC20,{name:"Cortex",contractAddress:"0xea11755ae41d889ceec39a63e6ff75a02bc1c00d"}),"JADE.NES":new d("JADE.NES","NES",s.ERC20,{name:"Genesis Space",contractAddress:"0xa74ae2d3a4c3f6d9454634fee91dc7aab6724cf9"}),"JADE.PPT":new d("JADE.PPT","PPT",s.ERC20,{name:"Populous",contractAddress:"0xd4fa1460f537bb9085d22c7bccb5dd450ef28e3a"}),"JADE.RHOC":new d("JADE.RHOC","RHOC",s.ERC20,{name:"RChain",contractAddress:"0x168296bb09e24a88805cb9c33356536b980d3fc5"}),"JADE.MKR":new d("JADE.MKR","MKR",s.ERC20,{name:"Maker",contractAddress:"0x9f8f72aa9304c8b593d555f12ef6589cc3a579a2"}),"JADE.FUN":new d("JADE.FUN","FUN",s.ERC20,{name:"FunFair",contractAddress:"0x419d0d8bdd9af5e606ae2232ed285aff190e711b"}),"JADE.MVP":new d("JADE.MVP","MVP",s.ERC20,{name:"Merculet",contractAddress:"0x8a77e40936bbc27e80e9a3f526368c967869c86d"}),"JADE.GNT":new d("JADE.GNT","GNT",s.ERC20,{name:"Golem",contractAddress:"0xa74476443119a942de498590fe1f2454d7d4ac0d"}),"JADE.DPY":new d("JADE.DPY","DPY",s.ERC20,{name:"Delphy",contractAddress:"0x6c2adc2073994fb2ccc5032cc2906fa221e9b391"}),"JADE.GNX":new d("JADE.GNX","GNX",s.ERC20,{name:"Genaro Network",contractAddress:"0x6ec8a24cabdc339a06a172f8223ea557055adaa5"}),"JADE.KEY":new d("JADE.KEY","KEY",s.ERC20,{name:"Bihu KEY",contractAddress:"0x4cd988afbad37289baaf53c13e98e2bd46aaea8c"}),"JADE.MT":new d("JADE.MT","MT",s.ERC20,{name:"MyToken",contractAddress:"0x9b4e2b4b13d125238aa0480dd42b4f6fc71b37cc"}),"JADE.ENG":new d("JADE.ENG","ENG",s.ERC20,{name:"Enigma",contractAddress:"0xf0ee6b27b759c9893ce4f094b49ad28fd15a23e4"})}}},2279:function(e,t,n){"use strict";var r=n(13),o=n(11),a=n(10),i=n(177),s=n(2308),u=n(35),l=n(2278),c=n(3),f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var p=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.op=t,this.signer=""}return f(e,[{key:"addSigner",value:function(e){this.signer=e}}]),e}();n.d(t,"a",function(){return m}),n.d(t,"c",function(){return b}),n.d(t,"b",function(){return w});var d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var h=function(e,t,n,r){return new(n||(n=Promise))(function(o,a){function i(e){try{u(r.next(e))}catch(e){a(e)}}function s(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(i,s)}u((r=r.apply(e,t||[])).next())})},y=Object(i.a)("GatewayActions"),m="DEPOSIT_MODAL_ID",b="WITHDRAW_MODAL_ID",v=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=[],r=!0,a=!1,i=void 0;try{for(var s,u=e[Symbol.iterator]();!(r=(s=u.next()).done);r=!0){var l=s.value,c=o.a.getPrivateKey(l);if(c&&(n.push(c),n.length>=t))break}}catch(e){a=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(a)throw i}}return n},g=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return d(e,[{key:"showDepositModal",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:m;return h(this,void 0,void 0,regeneratorRuntime.mark(function r(){var o;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(o=l.d.ADDRESS_TYPES[t]&&l.d.ADDRESS_TYPES[t].type){r.next=3;break}return r.abrupt("return",u.a.error("No suitable asset for "+t+" to be deposited"));case 3:return r.next=5,this.updateDepositAddress(e,o);case 5:if(r.sent){r.next=8;break}return r.abrupt("return");case 8:this.openModal(n);case 9:case"end":return r.stop()}},r,this)}))}},{key:"showWithdrawModal",value:function(e){return h(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(y("Withdraw: ",e),n=l.d.ADDRESS_TYPES[e]&&l.d.ADDRESS_TYPES[e].type){t.next=4;break}return t.abrupt("return",u.a.error("No suitable asset for "+e+" to be withdrawn"));case 4:return t.next=6,this.updateWithdrawInfo(e,n);case 6:if(t.sent){t.next=9;break}return t.abrupt("return");case 9:this.openModal(b);case 10:case"end":return t.stop()}},t,this)}))}},{key:"updateDepositAddress",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return h(this,void 0,void 0,regeneratorRuntime.mark(function r(){var o,a,i;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return o=void 0,y("Update Deposit Address: ",e,t,n),r.prev=2,r.next=5,Object(s.a)(e,t,n);case 5:a=o=r.sent,i=a.address,y("Address: ",i),r.next=15;break;case 10:return r.prev=10,r.t0=r.catch(2),y(r.t0),u.a.error(r.t0.message),r.abrupt("return",!1);case 15:return this.afterUpdateDepositInfo(o),r.abrupt("return",o);case 17:case"end":return r.stop()}},r,this,[[2,10]])}))}},{key:"updateWithdrawInfo",value:function(e,t){return h(this,void 0,void 0,regeneratorRuntime.mark(function n(){var r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=void 0,n.prev=1,n.next=4,Object(s.b)(t);case 4:r=n.sent,y("WithdrawLimit: ",r),n.next=13;break;case 8:return n.prev=8,n.t0=n.catch(1),y(n.t0),u.a.error(n.t0.message),n.abrupt("return",!1);case 13:return this.afterUpdateWithdrawInfo(Object.assign({asset:e},r)),n.abrupt("return",!0);case 15:case"end":return n.stop()}},n,this,[[1,8]])}))}},{key:"queryFundRecords",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:200;return h(this,void 0,void 0,regeneratorRuntime.mark(function o(){var a,i,u,l;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return y("[QueryFundRecord]",e),a=new p({accountName:e.get("name"),offset:n,size:r}),t.accountName===e.get("name")&&t.signer&&a.addSigner(t.signer),o.next=5,Object(s.d)(a);case 5:if(i=o.sent){o.next=15;break}return o.next=9,this.loginGatewayQuery(e);case 9:return u=o.sent,l=u.signer,a.addSigner(l),o.next=14,Object(s.d)(a);case 14:i=o.sent;case 15:i&&this.updateFundRecords(i);case 16:case"end":return o.stop()}},o,this)}))}},{key:"updateFundRecords",value:function(e){return e}},{key:"loginGatewayQuery",value:function(e){return h(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n,r,o,i,u,l,f;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(y("[LoginGatewayQuery]",e),y("[LoginGatewayQuery]",a.b.getSetting("walletLockTimeout")),n=new p({accountName:e.get("name"),expiration:Date.now()+1e3*a.b.getSetting("walletLockTimeout")}),r=c.p.fund_query.fromObject(n.op),e.getIn(["active","weight_threshold"]),o=e.getIn(["active","key_auths"]).filter(function(e){return e.get(1)>=1}).map(function(e){return e.get(0)}).toJS(),i=v(o)[0]){t.next=9;break}throw Error("Privkey Not Found");case 9:return y("[LoginGatewayQuery privKey]",e.getIn(["options","memo_key"]),i),u=c.p.fund_query.toBuffer(r),l=c.k.signBuffer(u,i).toHex(),y("[LoginGatewayQuery Signed]",l),n.addSigner(l),t.next=16,Object(s.c)(n);case 16:return f=t.sent,y("[LoginGatewayQuery LoginRes]",f),f&&this.updateLogin(f),t.abrupt("return",f);case 20:case"end":return t.stop()}},t,this)}))}},{key:"updateLogin",value:function(e){return e}},{key:"afterUpdateWithdrawInfo",value:function(e){return e}},{key:"afterUpdateDepositInfo",value:function(e){return e}},{key:"closeModal",value:function(e){return e}},{key:"openModal",value:function(e){return e}}]),e}(),w=r.a.createActions(g);t.d=w},2281:function(e,t,n){e.exports=n(2336).Observable},2282:function(e,t,n){"use strict";(function(e){function r(t){return(void 0!==e?"production":"development")===t}function o(){return!0===r("production")}function a(){return!0===r("development")}function i(){return!0===r("test")}n.d(t,"b",function(){return o}),n.d(t,"a",function(){return a}),n.d(t,"c",function(){return i})}).call(this,n(62))},2284:function(e,t,n){"use strict";var r=n(13),o=n(4),a=n(8),i=n(153),s=n(154),u=n(11),l=n(3),c=n(273),f=n.n(c),p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var d={},h=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return p(e,[{key:"fundPool",value:function(e,t,n,r){var o=i.a.new_transaction(),s=a.a.get_asset_precision(t.get("precision"));return o.add_type_operation("asset_fund_fee_pool",{fee:{amount:0,asset_id:"1.3.0"},from_account:e,asset_id:n.get("id"),amount:r*s}),function(e){return u.a.process_transaction(o,null,!0).then(function(t){e(!0)}).catch(function(t){console.log("[AssetActions.js:150] ----- fundPool error -----\x3e",t),e(!1)})}}},{key:"claimPoolFees",value:function(e,t,n){var r=i.a.new_transaction(),o=a.a.get_asset_precision(t.get("precision"));return r.add_type_operation("asset_claim_fees",{fee:{amount:0,asset_id:0},issuer:e,amount_to_claim:{asset_id:t.get("id"),amount:n*o}}),function(e){return u.a.process_transaction(r,null,!0).then(function(t){e(!0)}).catch(function(t){console.log("[AssetActions.js:150] ----- claimFees error -----\x3e",t),e(!1)})}}},{key:"createAsset",value:function(e,t,n,r,o,s,c,p,d){console.log("create asset:",t,"flags:",n,"isBitAsset:",s,"bitasset_opts:",p);var h=i.a.new_transaction(),y=a.a.get_asset_precision(t.precision);f.a.config({DECIMAL_PLACES:t.precision});var m=new f.a(t.max_supply).times(y).toString(),b=new f.a(t.max_market_fee||0).times(y).toString(),v=(Date.now(),null);t.vesting_period&&(v=[[1,{vesting_period:1*t.vesting_period}]]);var g=a.a.get_asset_precision(l.b.getAsset(o.base.asset_id).get("precision")),w={fee:{amount:0,asset_id:0},issuer:e,symbol:t.symbol,precision:parseInt(t.precision,10),common_options:{max_supply:m,market_fee_percent:100*t.market_fee_percent||0,max_market_fee:b,issuer_permissions:r,flags:n,core_exchange_rate:{base:{amount:o.base.amount*g,asset_id:o.base.asset_id},quote:{amount:o.quote.amount*y,asset_id:"1.3.1"}},whitelist_authorities:[],blacklist_authorities:[],whitelist_markets:[],blacklist_markets:[],description:d,extensions:v},is_prediction_market:c,extensions:null};return s&&(w.bitasset_opts=p),console.debug("BitAsset: ",p),h.add_type_operation("asset_create",w),function(e){return u.a.process_transaction(h,null,!0).then(function(t){e(!0)}).catch(function(t){console.log("[AssetActions.js:150] ----- createAsset error -----\x3e",t),e(!1)})}}},{key:"updateAsset",value:function(e,t,n,r,o,s,c,p,d,h,y,m){var b=i.a.new_transaction(),v=a.a.get_asset_precision(o.get("precision"));f.a.config({DECIMAL_PLACES:o.get("precision")});var g=new f.a(n.max_supply).times(v).toString(),w=new f.a(n.max_market_fee||0).times(v).toString(),k=l.b.getAsset(r.quote.asset_id),E=a.a.get_asset_precision(k.get("precision")),S=l.b.getAsset(r.base.asset_id),O=a.a.get_asset_precision(S.get("precision")),_=new f.a(r.quote.amount).times(E).toString(),C=new f.a(r.base.amount).times(O).toString();console.log("auths:",m);var x={fee:{amount:0,asset_id:0},asset_to_update:o.get("id"),extensions:o.get("extensions"),issuer:e,new_issuer:t,new_options:{max_supply:g,max_market_fee:w,market_fee_percent:100*n.market_fee_percent,description:y,issuer_permissions:c,flags:s,whitelist_authorities:m.whitelist_authorities.toJS(),blacklist_authorities:m.blacklist_authorities.toJS(),whitelist_markets:m.whitelist_markets.toJS(),blacklist_markets:m.blacklist_markets.toJS(),extensions:o.getIn(["options","extensions"]),core_exchange_rate:{quote:{amount:_,asset_id:r.quote.asset_id},base:{amount:C,asset_id:r.base.asset_id}}}};if(e!==t&&t||delete x.new_issuer,b.add_type_operation("asset_update",x),console.log("bitasset_opts:",d,"original_bitasset_opts:",h),p&&(d.feed_lifetime_sec!==h.feed_lifetime_sec||d.minimum_feeds!==h.minimum_feeds||d.force_settlement_delay_sec!==h.force_settlement_delay_sec||d.force_settlement_offset_percent!==h.force_settlement_offset_percent||d.maximum_force_settlement_volume!==h.maximum_force_settlement_volume||d.short_backing_asset!==h.short_backing_asset)){var P={fee:{amount:0,asset_id:0},asset_to_update:o.get("id"),issuer:e,new_options:d};console.debug("Update: ",P),b.add_type_operation("asset_update_bitasset",P)}return u.a.process_transaction(b,null,!0).then(function(e){return!0}).catch(function(e){return console.log("[AssetActions.js:150] ----- createAsset error -----\x3e",e),!1})}},{key:"issueAsset",value:function(e,t,n,r,o,a){s.a.issue_asset(e,t,n,r,o,a)}},{key:"getAssetList",value:function(e,t){var n=e+"_"+t;return function(r){if(!d[n])return d[n]=!0,r({loading:!0}),o.a.instance().db_api().exec("list_assets",[e,t]).then(function(e){var t=[],a=[];e.forEach(function(e){l.b._updateObject(e,!1),a.push(e.dynamic_asset_data_id),e.bitasset_data_id&&t.push(e.bitasset_data_id)});var i=o.a.instance().db_api().exec("get_objects",[a]),s=t.length>0?o.a.instance().db_api().exec("get_objects",[t]):null;Promise.all([i,s]).then(function(t){delete d[n],r({assets:e,dynamic:t[0],bitasset_data:t[1],loading:!1})}),r({loading:!1}),delete d[n]})}}},{key:"lookupAsset",value:function(e,t){var n=l.b.getAsset(e);return n?{assets:[n],searchID:t,symbol:e}:function(n){setTimeout(function(){var r=l.b.getAsset(e);r&&n({assets:[r],searchID:t,symbol:e})},200)}}},{key:"reserveAsset",value:function(e,t,n){var r=i.a.new_transaction();return r.add_type_operation("asset_reserve",{fee:{amount:0,asset_id:0},amount_to_reserve:{amount:e,asset_id:t},payer:n,extensions:[]}),u.a.process_transaction(r,null,!0).then(function(e){return!0}).catch(function(e){return console.log("[AssetActions.js:150] ----- reserveAsset error -----\x3e",e),!1})}}]),e}();t.a=r.a.createActions(h)},2287:function(e,t,n){"use strict";var r=n(2311),o=n(2477),a=n(2385),i=n(2474),s=function(){function e(e){this._isScalar=!1,e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var r=this.operator,a=o.toSubscriber(e,t,n);if(r?r.call(a,this.source):a.add(this.source?this._subscribe(a):this._trySubscribe(a)),a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.syncErrorThrown=!0,e.syncErrorValue=t,e.error(t)}},e.prototype.forEach=function(e,t){var n=this;if(t||(r.root.Rx&&r.root.Rx.config&&r.root.Rx.config.Promise?t=r.root.Rx.config.Promise:r.root.Promise&&(t=r.root.Promise)),!t)throw new Error("no Promise impl found");return new t(function(t,r){var o;o=n.subscribe(function(t){if(o)try{e(t)}catch(e){r(e),o.unsubscribe()}else e(t)},r,t)})},e.prototype._subscribe=function(e){return this.source.subscribe(e)},e.prototype[a.observable]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return 0===e.length?this:i.pipeFromArray(e)(this)},e.prototype.toPromise=function(e){var t=this;if(e||(r.root.Rx&&r.root.Rx.config&&r.root.Rx.config.Promise?e=r.root.Rx.config.Promise:r.root.Promise&&(e=r.root.Promise)),!e)throw new Error("no Promise impl found");return new e(function(e,n){var r;t.subscribe(function(e){return r=e},function(e){return n(e)},function(){return e(r)})})},e.create=function(t){return new e(t)},e}();t.Observable=s},2288:function(e,t,n){"use strict";var r=n(0),o=(n(2),n(2331)),a=n.n(o),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var s=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={animateEnter:!1},e.timer=null,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),i(t,[{key:"componentDidMount",value:function(){this.enableAnimation()}},{key:"resetAnimation",value:function(){this.setState({animateEnter:!1}),this.enableAnimation()}},{key:"enableAnimation",value:function(){var e=this;this.timer=setTimeout(function(){e.timer&&e.setState({animateEnter:!0})},2e3)}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timer),this.timer=null}},{key:"render",value:function(){return this.props.children?r.createElement(a.a,{className:this.props.className,component:this.props.component,transitionName:this.props.transitionName,transitionEnterTimeout:this.props.enterTimeout,transitionEnter:this.state.animateEnter,transitionLeave:!1},this.props.children):r.createElement(this.props.component)}}]),t}();s.defaultProps={component:"span",enterTimeout:2e3},t.a=s},2289:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GraphQLError=a;var r=n(2303),o=n(2302);function a(e,t,n,r,i,s,u){var l=Array.isArray(t)?0!==t.length?t:void 0:t?[t]:void 0,c=n;if(!c&&l){var f=l[0];c=f&&f.loc&&f.loc.source}var p=r;!p&&l&&(p=l.reduce(function(e,t){return t.loc&&e.push(t.loc.start),e},[])),p&&0===p.length&&(p=void 0);var d=void 0;if(r&&n){var h=n;d=r.map(function(e){return(0,o.getLocation)(h,e)})}else l&&(d=l.reduce(function(e,t){return t.loc&&e.push((0,o.getLocation)(t.loc.source,t.loc.start)),e},[]));Object.defineProperties(this,{message:{value:e,enumerable:!0,writable:!0},locations:{value:d||void 0,enumerable:!0},path:{value:i||void 0,enumerable:!0},nodes:{value:l||void 0},source:{value:c||void 0},positions:{value:p||void 0},originalError:{value:s},extensions:{value:u||s&&s.extensions}}),s&&s.stack?Object.defineProperty(this,"stack",{value:s.stack,writable:!0,configurable:!0}):Error.captureStackTrace?Error.captureStackTrace(this,a):Object.defineProperty(this,"stack",{value:Error().stack,writable:!0,configurable:!0})}a.prototype=Object.create(Error.prototype,{constructor:{value:a},name:{value:"GraphQLError"},toString:{value:function(){return(0,r.printError)(this)}}})},2292:function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r=n(41),o=n(5),a=n(13),i=n(2279),s=n(2278),u=n(140),l=n(68),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var f=new l.a("__graphene__"),p=Object(u.a)("GatewayStore"),d=s.d.ADDRESS_TYPES,h=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={backedCoins:Object(o.Map)({JADE:d}),bridgeCoins:Object(o.Map)(Object(o.fromJS)(f.get("bridgeCoins",{}))),bridgeInputs:["btc","dash","eth","steem"],login:{accountName:"",signer:""},records:{total:0,records:[],offset:0,size:20},down:Object(o.Map)({}),modals:Object(o.Map)(),depositInfo:{},withdrawInfo:{}},e.bindListeners({handleDepositUpdate:i.b.afterUpdateDepositInfo,handleWithdrawUpdate:i.b.afterUpdateWithdrawInfo,handleLogin:i.b.updateLogin,handleRecordsUpdate:i.b.updateFundRecords,openModal:i.b.openModal,closeModal:i.b.closeModal}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["a"]),c(t,[{key:"handleDepositUpdate",value:function(e){var t=d[e.asset]||{},n=Object.assign({},e,{meta:t});p("Open: ",d,n),this.setState({depositInfo:n})}},{key:"handleWithdrawUpdate",value:function(e){this.setState({withdrawInfo:e})}},{key:"handleLogin",value:function(e){this.setState({login:e})}},{key:"handleRecordsUpdate",value:function(e){e.records.forEach(function(e){e.hash||(e.hash=t.findHash(e))}),this.setState({records:e})}},{key:"openModal",value:function(e){this.setState({modals:this.state.modals.set(e,!0)})}},{key:"closeModal",value:function(e){this.setState({modals:this.state.modals.set(e,!1)})}}]),t}();h.findHash=function(e){return e.details&&e.details.length?e.details[e.details.length-1].hash:null};var y=a.a.createStore(h,"GatewayStore");t.b=y},2294:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=i(n(0)),a=i(n(2));function i(e){return e&&e.__esModule?e:{default:e}}function s(e){return o.default.createElement("tspan",r({className:"react-stockcharts-tooltip-label"},e),e.children)}s.propTypes={children:a.default.node.isRequired,fill:a.default.string.isRequired},s.defaultProps={fill:"#4682B4"},t.default=s},2295:function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),s=l(i),u=l(n(2));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),a(t,[{key:"render",value:function(){return s.default.createElement("text",o({fontFamily:this.props.fontFamily,fontSize:this.props.fontSize},this.props,{className:"react-stockcharts-tooltip"}),this.props.children)}}]),t}();c.propTypes={fontFamily:u.default.string.isRequired,fontSize:u.default.number.isRequired,children:u.default.node.isRequired},c.defaultProps={fontFamily:"Helvetica Neue, Helvetica, Arial, sans-serif",fontSize:11},t.default=c},2296:function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in o)return o.value;var i=o.get;return void 0!==i?i.call(r):void 0},u=f(n(2)),l=f(n(2363)),c=n(2274);function f(e){return e&&e.__esModule?e:{default:e}}var p=["drag","dragend"],d=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return o.preCanvasDraw=o.preCanvasDraw.bind(o),o.postCanvasDraw=o.postCanvasDraw.bind(o),o.shouldTypeProceed=o.shouldTypeProceed.bind(o),o.preEvaluate=o.preEvaluate.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.default),i(t,[{key:"preCanvasDraw",value:function(e,n){s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"preCanvasDraw",this).call(this,e,n),e.save();var r=this.context,o=r.margin,a=r.ratio,i=n.chartConfig,u=.5*a+i.origin[0]+o.left,l=.5*a+i.origin[1]+o.top,c=n.chartConfig,f=c.width,p=c.height,d=this.props,h=d.clip,y=d.edgeClip;e.setTransform(1,0,0,1,0,0),e.scale(a,a),y&&(e.beginPath(),e.rect(-1,l-10,f+o.left+o.right+1,p+20),e.clip()),e.translate(u,l),h&&(e.beginPath(),e.rect(-1,-1,f+1,p+1),e.clip())}},{key:"postCanvasDraw",value:function(e,n){s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"postCanvasDraw",this).call(this,e,n),e.restore()}},{key:"updateMoreProps",value:function(e){s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateMoreProps",this).call(this,e);var n=e.chartConfig;if(n&&Array.isArray(n)){var r=this.context.chartId,o=(0,c.find)(n,function(e){return e.id===r});this.moreProps.chartConfig=o}if((0,c.isDefined)(this.moreProps.chartConfig)){var i=a(this.moreProps.chartConfig.origin,2),u=i[0],l=i[1];if((0,c.isDefined)(e.mouseXY)){var f=a(e.mouseXY,2),p=f[0],d=f[1];this.moreProps.mouseXY=[p-u,d-l]}if((0,c.isDefined)(e.startPos)){var h=a(e.startPos,2),y=h[0],m=h[1];this.moreProps.startPos=[y-u,m-l]}}}},{key:"preEvaluate",value:function(){}},{key:"shouldTypeProceed",value:function(e,t){return!("mousemove"!==e&&"click"!==e||!this.props.disablePan)||(-1!==p.indexOf(e)||!(0,c.isDefined)(t)||!(0,c.isDefined)(t.currentCharts)||t.currentCharts.indexOf(this.context.chartId)>-1)}}]),t}();d.propTypes=l.default.propTypes,d.defaultProps=l.default.defaultProps,d.contextTypes=o({},l.default.contextTypes,{canvasOriginX:u.default.number,canvasOriginY:u.default.number,chartId:u.default.oneOfType([u.default.number,u.default.string]).isRequired,chartConfig:u.default.object.isRequired,ratio:u.default.number.isRequired}),t.default=d},2299:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return t.currentItem}},2301:function(e,t,n){"use strict";n.d(t,"b",function(){return S}),n.d(t,"a",function(){return O});var r=n(0),o=(n(2),n(19)),a=n(22),i=n(24),s=n(8),u=n(16),l=n(99),c=n(1),f=n.n(c),p=n(9),d=n.n(p),h=n(69),y=n.n(h),m=n(342),b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},v=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function k(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var E=function(e){function t(e){return g(this,t),w(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return k(t,m["a"]),v(t,[{key:"componentDidMount",value:function(){y.a.rebuild()}},{key:"shouldComponentUpdate",value:function(e){return function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in o)return o.value;var i=o.get;return void 0!==i?i.call(r):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"shouldComponentUpdate",this).call(this,e)||e.toAsset!==this.props.toAsset||e.fromAsset!==this.props.fromAsset||e.amount!==this.props.amount}},{key:"getValue",value:function(){var e=this.props,t=e.amount,n=e.toAsset,r=e.fromAsset,o=e.fullPrecision,a=e.marketStats,i=e.coreAsset,u=void 0,l=void 0,c=n.get("id"),f=n.get("symbol"),p=r.get("id"),d=r.get("symbol");if(o||(t=s.a.get_asset_amount(t,r)),i&&a){var h=i.get("symbol");u=a.get(f+"_"+h),l=a.get(d+"_"+h)}var y=s.a.convertPrice(l&&l.close?l.close:"1.3.0"===p||r.has("bitasset")?r:null,u&&u.close?u.close:"1.3.0"===c||n.has("bitasset")?n:null,p,c);return y?s.a.convertValue(y,t,r,n):null}},{key:"render",value:function(){var e=this.props,t=e.amount,n=e.toAsset,a=e.fromAsset,i=e.fullPrecision,u=n.get("id");n.get("symbol");i||(t=s.a.get_asset_amount(t,a));var l=this.getValue();return l||0===l?r.createElement(o.a,{hide_asset:this.props.hide_asset,noPrefix:!0,amount:l,asset:u,decimalOffset:0}):r.createElement("div",{className:"tooltip inline-block","data-place":"bottom","data-tip":d.a.translate("tooltip.no_price"),style:{fontSize:"0.9rem"}},r.createElement(f.a,{content:"account.no_price"}))}}]),t}();E.propTypes={toAsset:a.a.ChainAsset.isRequired,fromAsset:a.a.ChainAsset.isRequired,coreAsset:a.a.ChainAsset.isRequired},E.defaultProps={toAsset:"1.3.0",fullPrecision:!0,noDecimals:!1,hide_asset:!1,coreAsset:"1.3.0"},E=Object(i.a)(E,{keep_updating:!0});var S=function(e){function t(){return g(this,t),w(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return k(t,r["Component"]),v(t,[{key:"render",value:function(){var e=this.props,t=e.refCallback,n=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["refCallback"]);return r.createElement(E,b({},n,{ref:t}))}}]),t}();S=Object(u.connect)(S,{listenTo:function(){return[l.a]},getProps:function(){return{marketStats:l.a.getState().allMarketStats}}});var O=function(e){function t(){return g(this,t),w(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return k(t,r["Component"]),v(t,[{key:"render",value:function(){var e=this.props.balance,t=!!e.getIn(["balance","amount"]),n=Number(t?e.getIn(["balance","amount"]):e.get("balance")),o=t?e.getIn(["balance","asset_id"]):e.get("asset_type");return isNaN(n)?r.createElement("span",null,"--"):r.createElement(S,{refCallback:this.props.refCallback,hide_asset:this.props.hide_asset,amount:n,fromAsset:o,noDecimals:!0,toAsset:this.props.toAsset})}}]),t}();O.propTypes={balance:a.a.ChainObject.isRequired},O=Object(i.a)(O,{keep_updating:!0})},2302:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getLocation=function(e,t){var n=/\r\n|[\n\r]/g,r=1,o=t+1,a=void 0;for(;(a=n.exec(e.body))&&a.index<t;)r+=1,o=t+1-(a.index+a[0].length);return{line:r,column:o}}},2303:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.printError=function(e){var t=[];if(e.nodes)e.nodes.forEach(function(e){e.loc&&t.push(o(e.loc.source,(0,r.getLocation)(e.loc.source,e.loc.start)))});else if(e.source&&e.locations){var n=e.source;e.locations.forEach(function(e){t.push(o(n,e))})}return 0===t.length?e.message:[e.message].concat(t).join("\n\n")+"\n"};var r=n(2302);function o(e,t){var n=t.line,r=e.locationOffset.line-1,o=function(e,t){return 1===t.line?e.locationOffset.column-1:0}(e,t),s=n+r,u=t.column+o,l=(s-1).toString(),c=s.toString(),f=(s+1).toString(),p=f.length,d=e.body.split(/\r\n|[\n\r]/g);return d[0]=a(e.locationOffset.column-1)+d[0],[e.name+" ("+s+":"+u+")",n>=2&&i(p,l)+": "+d[n-2],i(p,c)+": "+d[n-1],a(2+p+u-1)+"^",n<d.length&&i(p,f)+": "+d[n]].filter(Boolean).join("\n")}function a(e){return Array(e+1).join(" ")}function i(e,t){return a(e-t.length)+t}},2304:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2289);Object.defineProperty(t,"GraphQLError",{enumerable:!0,get:function(){return r.GraphQLError}});var o=n(2344);Object.defineProperty(t,"syntaxError",{enumerable:!0,get:function(){return o.syntaxError}});var a=n(2343);Object.defineProperty(t,"locatedError",{enumerable:!0,get:function(){return a.locatedError}});var i=n(2303);Object.defineProperty(t,"printError",{enumerable:!0,get:function(){return i.printError}});var s=n(2342);Object.defineProperty(t,"formatError",{enumerable:!0,get:function(){return s.formatError}})},2305:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(!e)throw new Error(t)}},2306:function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=n(0),a=n(2371),i=n(2368),s=n(2326);var u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),r(t,[{key:"shouldComponentUpdate",value:function(e){var n=this;return Object.keys(t.propTypes).some(function(t){return n.props[t]!==e[t]})}},{key:"componentDidMount",value:function(){this.update()}},{key:"componentDidUpdate",value:function(){this.update()}},{key:"update",value:function(){var e=this.props,t=e.value,n=e.size,r=e.level,o=e.bgColor,a=e.fgColor,u=new i(-1,s[r]);if(u.addData(t),u.make(),null!=this._canvas){var l=this._canvas,c=l.getContext("2d");if(!c)return;var f=u.modules;if(null===f)return;var p=n/f.length,d=n/f.length,h=(window.devicePixelRatio||1)/function(e){return e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1}(c);l.height=l.width=n*h,c.scale(h,h),f.forEach(function(e,t){e.forEach(function(e,n){c&&(c.fillStyle=e?a:o);var r=Math.ceil((n+1)*p)-Math.floor(n*p),i=Math.ceil((t+1)*d)-Math.floor(t*d);c&&c.fillRect(Math.round(n*p),Math.round(t*d),r,i)})})}}},{key:"render",value:function(){var e=this;return o.createElement("canvas",{style:{height:this.props.size,width:this.props.size},height:this.props.size,width:this.props.size,ref:function(t){return e._canvas=t}})}}]),t}();Object.defineProperty(u,"defaultProps",{enumerable:!0,writable:!0,value:{size:128,level:"L",bgColor:"#FFFFFF",fgColor:"#000000"}}),Object.defineProperty(u,"propTypes",{enumerable:!0,writable:!0,value:{value:a.string.isRequired,size:a.number,level:a.oneOf(["L","M","Q","H"]),bgColor:a.string,fgColor:a.string}}),e.exports=u},2308:function(e,t,n){"use strict";n.d(t,"a",function(){return w}),n.d(t,"b",function(){return k}),n.d(t,"e",function(){return E}),n.d(t,"d",function(){return S}),n.d(t,"c",function(){return O});var r=n(2278),o=n(177),a=n(2347),i=n.n(a),s=n(2316),u=n(2313),l=n(2315),c=h(["\n    mutation GenNewAddress($accountName: String!, $asset: String!) {\n      newDepositAddress(accountName: $accountName, asset: $asset) {\n        address\n        accountName\n        asset\n        type\n        createAt\n      }\n    }\n  "],["\n    mutation GenNewAddress($accountName: String!, $asset: String!) {\n      newDepositAddress(accountName: $accountName, asset: $asset) {\n        address\n        accountName\n        asset\n        type\n        createAt\n      }\n    }\n  "]),f=h(["\n    query GetAddress($accountName: String!, $asset: String!) {\n      getDepositAddress(accountName: $accountName, asset: $asset) {\n        address\n        accountName\n        asset\n        type\n        createAt\n      }\n    }\n  "],["\n    query GetAddress($accountName: String!, $asset: String!) {\n      getDepositAddress(accountName: $accountName, asset: $asset) {\n        address\n        accountName\n        asset\n        type\n        createAt\n      }\n    }\n  "]),p=h(["\n    query WithdrawInfo($type: String!) {\n      withdrawInfo(type: $type) {\n        fee\n        minValue\n        precision\n        asset\n        type\n        gatewayAccount\n      }\n    }\n  "],["\n    query WithdrawInfo($type: String!) {\n      withdrawInfo(type: $type) {\n        fee\n        minValue\n        precision\n        asset\n        type\n        gatewayAccount\n      }\n    }\n  "]),d=h(["\n    query VerifyAddress(\n      $asset: String!\n      $accountName: String!\n      $address: String!\n    ) {\n      verifyAddress(\n        asset: $asset\n        accountName: $accountName\n        address: $address\n      ) {\n        valid\n        asset\n      }\n    }\n  "],["\n    query VerifyAddress(\n      $asset: String!\n      $accountName: String!\n      $address: String!\n    ) {\n      verifyAddress(\n        asset: $asset\n        accountName: $accountName\n        address: $address\n      ) {\n        valid\n        asset\n      }\n    }\n  "]);function h(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var y=function(e,t,n,r){return new(n||(n=Promise))(function(o,a){function i(e){try{u(r.next(e))}catch(e){a(e)}}function s(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(i,s)}u((r=r.apply(e,t||[])).next())})},m=Object(o.a)("GatewayService"),b=new Headers;b.append("Content-Type","application/x-www-form-urlencoded");var v=new u.a({uri:r.c}),g=new s.a({link:v,cache:new l.a});function w(e,t,n){return y(this,void 0,void 0,regeneratorRuntime.mark(function r(){var o,a;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(m("Get Deposit: ",e,t,n),o=i()(c),a=i()(f),!n){r.next=9;break}return r.next=6,C("mutate",{mutation:o,variables:{accountName:e,asset:t}},"newDepositAddress");case 6:r.t0=r.sent,r.next=12;break;case 9:return r.next=11,C("query",{query:a,variables:{accountName:e,asset:t}},"getDepositAddress");case 11:r.t0=r.sent;case 12:return r.abrupt("return",r.t0);case 13:case"end":return r.stop()}},r,this)}))}function k(e){return y(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=i()(p),t.next=3,C("query",{query:n,variables:{type:e}},"withdrawInfo");case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}},t,this)}))}function E(e,t,n){return y(this,void 0,void 0,regeneratorRuntime.mark(function r(){var o;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return o=i()(d),r.next=3,C("query",{query:o,variables:{asset:n,accountName:t,address:e}},"verifyAddress");case 3:return r.abrupt("return",r.sent);case 4:case"end":return r.stop()}},r,this)}))}function S(e){return y(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_("records",e).then(function(e){return e.data});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}))}function O(e){return y(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_("login",e).then(function(e){return e.data});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}))}function _(e,t){return y(this,void 0,void 0,regeneratorRuntime.mark(function n(){var o,a;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return(o=new Headers).append("Content-Type","application/json"),a={headers:o,method:"POST",body:JSON.stringify(t)},n.next=5,fetch(""+r.b+e,a).then(function(e){return e.json()}).catch(function(e){return{code:400,error:e.message}});case 5:return n.abrupt("return",n.sent);case 6:case"end":return n.stop()}},n,this)}))}function C(e,t,n){return y(this,void 0,void 0,regeneratorRuntime.mark(function r(){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if("newDepositAddress"!==n){r.next=3;break}return r.next=3,g.resetStore();case 3:return r.prev=3,r.next=6,g[e](t);case 6:return r.t0=n,r.abrupt("return",r.sent.data[r.t0]);case 10:throw r.prev=10,r.t1=r.catch(3),console.error("GatewayError: ",r.t1),r.t1;case 14:case"end":return r.stop()}},r,this,[[3,10]])}))}},2311:function(e,t,n){"use strict";(function(e){var n="undefined"!=typeof window&&window,r="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,o=n||void 0!==e&&e||r;t.root=o,function(){if(!o)throw new Error("RxJS could not find any global context (window, self, global)")}()}).call(this,n(52))},2312:function(e,t,n){"use strict";var r=n(0),o=n(8),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),a(t,[{key:"render",value:function(){var e=this.props,t=e.price,n=e.preFormattedPrice,a=e.quote,i=e.base,s=(e.component,e.precision),u=n||o.a.price_to_text(t,a,i,s);return u.full>=1?r.createElement("span",null,r.createElement("span",{className:"price-integer"},u.int,"."),u.dec?r.createElement("span",{className:"price-integer"},u.dec):null,u.trailing?r.createElement("span",{className:"price-decimal"},u.trailing):null):u.full>=.1?r.createElement("span",null,r.createElement("span",{className:"price-decimal"},u.int,"."),u.dec?r.createElement("span",{className:"price-integer"},u.dec):null,u.trailing?r.createElement("span",{className:"price-decimal"},u.trailing):null):r.createElement("span",null,r.createElement("span",{className:"price-decimal"},u.int,"."),u.dec?r.createElement("span",{className:"price-decimal"},u.dec):null,u.trailing?r.createElement("span",{className:"price-integer"},u.trailing):null)}}]),t}();t.a=i},2313:function(e,t,n){"use strict";var r=n(2276),o=n(2275),a=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},s=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n},u=function(e,t,n){var r=new Error(n);throw r.response=e,r.statusCode=e.status,r.result=t,r},l={includeQuery:!0,includeExtensions:!1},c=function(e){void 0===e&&(e={});var t=e.uri,n=e.fetch,a=e.includeExtensions,c=s(e,["uri","fetch","includeExtensions"]);return function(e){if(!e&&"undefined"==typeof fetch){var t="unfetch";throw"undefined"==typeof window&&(t="node-fetch"),new Error("fetch is not found globally and no fetcher passed, to fix pass a fetch for\n      your environment like https://www.npmjs.com/package/"+t+".\n\n      For example:\n        import fetch from '"+t+"';\n        import { createHttpLink } from 'apollo-link-http';\n\n        const link = createHttpLink({ uri: '/graphql', fetch: fetch });\n      ")}}(n),n&&function(e){if(e.use)throw new Error("\n      It looks like you're using apollo-fetch! Apollo Link now uses native fetch\n      implementation, so apollo-fetch is not needed. If you want to use your existing\n      apollo-fetch middleware, please check this guide to upgrade:\n        https://github.com/apollographql/apollo-link/blob/master/docs/implementation.md\n    ")}(n),n||(n=fetch),t||(t="/graphql"),new r.a(function(e){return new r.b(function(r){var s,f=e.getContext(),p=f.headers,d=f.credentials,h=f.fetchOptions,y=void 0===h?{}:h,m=f.uri,b=f.http,v=void 0===b?{}:b,g=e.operationName,w=e.extensions,k=e.variables,E=e.query,S=i({},l,v),O={operationName:g,variables:k};(a||S.includeExtensions)&&(O.extensions=w),S.includeQuery&&(O.query=Object(o.print)(E));try{s=JSON.stringify(O)}catch(e){var _=new Error("Network request failed. Payload is not serializable: "+e.message);throw _.parseError=e,_}var C=y;c.fetchOptions&&(C=i({},c.fetchOptions,C));var x=i({method:"POST"},C,{headers:{accept:"*/*","content-type":"application/json"},body:s});c.credentials&&(x.credentials=c.credentials),d&&(x.credentials=d),c.headers&&(x.headers=i({},x.headers,c.headers)),p&&(x.headers=i({},x.headers,p));var P=function(){if("undefined"==typeof AbortController)return{controller:!1,signal:!1};var e=new AbortController;return{controller:e,signal:e.signal}}(),D=P.controller,T=P.signal;return D&&(x.signal=T),n(m||t,x).then(function(t){return e.setContext({response:t}),t}).then(function(e){return function(t){return t.text().then(function(e){try{return JSON.parse(e)}catch(r){var n=r;return n.response=t,n.statusCode=t.status,n.bodyText=e,Promise.reject(n)}}).then(function(n){return t.status>=300&&u(t,n,"Response not successful: Received status code "+t.status),n.hasOwnProperty("data")||n.hasOwnProperty("errors")||u(t,n,"Server response was missing for query '"+e.operationName+"'."),n})}}(e)).then(function(e){return r.next(e),r.complete(),e}).catch(function(e){"AbortError"!==e.name&&r.error(e)}),function(){D&&D.abort()}})})},f=function(e){function t(t){return e.call(this,c(t).request)||this}return a(t,e),t}(r.a);n.d(t,!1,function(){return c}),n.d(t,"a",function(){return f})},2315:function(e,t,n){"use strict";var r,o=n(2272),a=function(){function e(){}return e.prototype.transformDocument=function(e){return e},e.prototype.transformForLink=function(e){return e},e.prototype.readQuery=function(e,t){return void 0===t&&(t=!1),this.read({query:e.query,variables:e.variables,optimistic:t})},e.prototype.readFragment=function(e,t){return void 0===t&&(t=!1),this.read({query:Object(o.h)(e.fragment,e.fragmentName),variables:e.variables,rootId:e.id,optimistic:t})},e.prototype.writeQuery=function(e){this.write({dataId:"ROOT_QUERY",result:e.data,query:e.query,variables:e.variables})},e.prototype.writeFragment=function(e){this.write({dataId:e.id,result:e.data,variables:e.variables,query:Object(o.h)(e.fragment,e.fragmentName)})},e}();r||(r={});var i=!1,s=function(){function e(){}return e.prototype.ensureReady=function(){return Promise.resolve()},e.prototype.canBypassInit=function(){return!0},e.prototype.match=function(e,t,n){var r=n.store.get(e.id);return!!r&&(r.__typename?r.__typename===t||(Object(o.D)("You are using the simple (heuristic) fragment matcher, but your queries contain union or interface types.\n     Apollo Client will not be able to able to accurately map fragments.To make this error go away, use the IntrospectionFragmentMatcher as described in the docs: http://dev.apollodata.com/react/initialization.html#fragment-matcher","error"),n.returnPartialData=!0,!0):(i||(console.warn("You're using fragments in your queries, but either don't have the addTypename:\n  true option set in Apollo Client, or you are trying to write a fragment to the store without the __typename.\n   Please turn on the addTypename option and include __typename when writing fragments so that Apollo Client\n   can accurately match fragments."),console.warn("Could not find __typename on Fragment ",t,r),console.warn("DEPRECATION WARNING: using fragments without __typename is unsupported behavior and will be removed in future versions of Apollo client. You should fix this and set addTypename to true now."),Object(o.w)()||(i=!0)),n.returnPartialData=!0,!0))},e}(),u=function(){function e(e){e&&e.introspectionQueryResultData?(this.possibleTypesMap=this.parseIntrospectionResult(e.introspectionQueryResultData),this.isReady=!0):this.isReady=!1,this.match=this.match.bind(this)}return e.prototype.match=function(e,t,n){if(!this.isReady)throw new Error("FragmentMatcher.match() was called before FragmentMatcher.init()");var r=n.store.get(e.id);if(!r)return!1;if(!r.__typename)throw new Error("Cannot match fragment because __typename property is missing: "+JSON.stringify(r));if(r.__typename===t)return!0;var o=this.possibleTypesMap[t];return!!(o&&o.indexOf(r.__typename)>-1)},e.prototype.parseIntrospectionResult=function(e){var t={};return e.__schema.types.forEach(function(e){"UNION"!==e.kind&&"INTERFACE"!==e.kind||(t[e.name]=e.possibleTypes.map(function(e){return e.name}))}),t},e}(),l=n(2275),c=function(){function e(e){void 0===e&&(e={}),this.data=e}return e.prototype.toObject=function(){return this.data},e.prototype.get=function(e){return this.data[e]},e.prototype.set=function(e,t){this.data[e]=t},e.prototype.delete=function(e){this.data[e]=void 0},e.prototype.clear=function(){this.data={}},e.prototype.replace=function(e){this.data=e||{}},e}();function f(e){return new c(e)}var p=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),d=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="WriteError",t}return p(t,e),t}(Error);function y(e,t){var n=new h("Error writing result to store for query:\n "+Object(l.print)(t));return n.message+="\n"+e.message,n.stack=e.stack,n}function m(e){var t=e.result,n=e.query,r=e.storeFactory,a=void 0===r?f:r,i=e.store,s=void 0===i?a():i,u=e.variables,l=e.dataIdFromObject,c=e.fragmentMap,p=void 0===c?{}:c,d=e.fragmentMatcherFunction,h=Object(o.m)(n);u=Object(o.c)({},Object(o.e)(h),u);try{return v({dataId:"ROOT_QUERY",result:t,selectionSet:h.selectionSet,context:{store:s,storeFactory:a,processedData:{},variables:u,dataIdFromObject:l,fragmentMap:p,fragmentMatcherFunction:d}})}catch(e){throw y(e,n)}}function b(e){var t=e.dataId,n=e.result,r=e.document,a=e.storeFactory,i=void 0===a?f:a,s=e.store,u=void 0===s?i():s,l=e.variables,c=e.dataIdFromObject,p=e.fragmentMatcherFunction,d=Object(o.k)(r),h=d.selectionSet,m=Object(o.d)(Object(o.g)(r));l=Object(o.c)({},Object(o.e)(d),l);try{return v({result:n,dataId:t,selectionSet:h,context:{store:u,storeFactory:i,processedData:{},variables:l,dataIdFromObject:c,fragmentMap:m,fragmentMatcherFunction:p}})}catch(e){throw y(e,r)}}function v(e){var t=e.result,n=e.dataId,r=e.selectionSet,a=e.context,i=a.variables,s=a.store,u=a.fragmentMap;return r.selections.forEach(function(e){var r=Object(o.A)(e,i);if(Object(o.r)(e)){var s=Object(o.z)(e),f=t[s];if(r)if(void 0!==f)!function(e){var t,n,r=e.field,a=e.value,i=e.dataId,s=e.context,u=s.variables,c=s.dataIdFromObject,f=s.store,p=Object(o.B)(r,u),h=!1,y="";if(r.selectionSet&&null!==a)if(Array.isArray(a)){var m=i+"."+p;t=function e(t,n,r,o){return t.map(function(t,a){if(null===t)return null;var i=n+"."+a;if(Array.isArray(t))return e(t,i,r,o);var s=!0;if(o.dataIdFromObject){var u=o.dataIdFromObject(t);u&&(i=u,s=!1)}w(i,r,o.processedData)||v({dataId:i,result:t,selectionSet:r,context:o});var l={type:"id",id:i,generated:s};return l})}(a,m,r.selectionSet,s)}else{var b=i+"."+p,k=!0;if(g(b)||(b="$"+b),c){var E=c(a);if(E&&g(E))throw new Error('IDs returned by dataIdFromObject cannot begin with the "$" character.');E&&(b=E,k=!1)}if(w(b,r,s.processedData)||v({dataId:b,result:a,selectionSet:r.selectionSet,context:s}),t={type:"id",id:b,generated:k},(n=f.get(i))&&n[p]!==t){var S=n[p];if(Object(o.s)(t)&&t.generated&&Object(o.s)(S)&&!S.generated)throw new Error("Store error: the application attempted to write an object with no provided id but the store already contains an id of "+S.id+" for this object. The selectionSet that was trying to be written is:\n"+Object(l.print)(r));Object(o.s)(S)&&S.generated&&(y=S.id,h=!0)}}else t=null!=a&&"object"==typeof a?{type:"json",json:a}:a;var O,_=d({},f.get(i),((O={})[p]=t,O));h&&function e(t,n,r){var a=r.get(t);var i=r.get(n);Object.keys(a).forEach(function(s){var u=a[s],l=i[s];Object(o.s)(u)&&g(u.id)&&Object(o.s)(l)&&e(u.id,l.id,r),r.delete(t),r.set(n,d({},a,i))})}(y,t.id,f);(n=f.get(i))&&t===n[p]||f.set(i,_)}({dataId:n,value:f,field:e,context:a});else!(e.directives&&e.directives.length&&e.directives.some(function(e){return e.name&&"defer"===e.name.value}))&&a.fragmentMatcherFunction&&(Object(o.v)()||console.warn("Missing field "+s+" in "+JSON.stringify(t,null,2).substring(0,100)))}else{var p=void 0;if(Object(o.t)(e))p=e;else if(!(p=(u||{})[e.name.value]))throw new Error("No fragment named "+e.name.value+".");var h=!0;if(a.fragmentMatcherFunction&&p.typeCondition){var y={store:new c({self:t}),returnPartialData:!1,hasMissingField:!1,cacheResolvers:{}};h=a.fragmentMatcherFunction({type:"id",id:"self",generated:!1},p.typeCondition.name.value,y),!Object(o.v)()&&y.returnPartialData&&console.error("WARNING: heuristic fragment matching going on!")}r&&h&&v({result:t,selectionSet:p.selectionSet,dataId:n,context:a})}}),s}function g(e){return"$"===e[0]}function w(e,t,n){if(!n)return!1;if(n[e]){if(n[e].indexOf(t)>=0)return!0;n[e].push(t)}else n[e]=[t];return!1}function k(e,t,n,r,a,i){void 0===i&&(i={});var s=Object(o.i)(t),u=Object(o.g)(t),l={fragmentMap:Object(o.d)(u),contextValue:r,variableValues:a,resultMapper:i.resultMapper,resolver:e,fragmentMatcher:i.fragmentMatcher||function(){return!0}};return E(s.selectionSet,n,l)}function E(e,t,n){var r=n.fragmentMap,a=n.contextValue,i=n.variableValues,s={};return e.selections.forEach(function(e){if(Object(o.A)(e,i))if(Object(o.r)(e)){var u=function(e,t,n){var r=n.variableValues,a=n.contextValue,i=n.resolver,s=e.name.value,u=Object(o.b)(e,r),l={isLeaf:!e.selectionSet,resultKey:Object(o.z)(e),directives:Object(o.f)(e,r)},c=i(s,t,u,a,l);if(!e.selectionSet)return c;if(null==c)return c;if(Array.isArray(c))return function e(t,n,r){return n.map(function(n){return null===n?null:Array.isArray(n)?e(t,n,r):E(t.selectionSet,n,r)})}(e,c,n);return E(e.selectionSet,c,n)}(e,t,n),l=Object(o.z)(e);void 0!==u&&(void 0===s[l]?s[l]=u:S(s[l],u))}else{var c=void 0;if(Object(o.t)(e))c=e;else if(!(c=r[e.name.value]))throw new Error("No fragment named "+e.name.value);var f=c.typeCondition.name.value;if(n.fragmentMatcher(t,f,a)){var p=E(c.selectionSet,t,n);S(s,p)}}}),n.resultMapper?n.resultMapper(s,t):s}function S(e,t){if(null===t||"object"!=typeof t)return t;Object.keys(e).forEach(function(n){t.hasOwnProperty(n)&&S(e[n],t[n])}),Object.keys(t).forEach(function(n){e.hasOwnProperty(n)||(e[n]=t[n])})}function O(e){this.message=e,this.stack=""}O.prototype=Error.prototype;var _=k,C=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},x="undefined"!=typeof Symbol?Symbol("id"):"@@id";function P(e){return T(C({},e,{returnPartialData:!1})).result}var D=function(e,t,n,r,a){var i=a.resultKey,s=a.directives;A(t);var u=t.id,l=r.store.get(u),c=Object(o.n)(e,n,s),f=(l||{})[c];if(void 0===f&&r.cacheResolvers&&l&&(l.__typename||"ROOT_QUERY"===u)){var p=l.__typename||"Query",d=r.cacheResolvers[p];if(d){var h=d[e];h&&(f=h(l,n))}}if(void 0===f){if(!r.returnPartialData)throw new Error("Can't find field "+c+" on object ("+u+") "+JSON.stringify(l,null,2)+".");return r.hasMissingField=!0,f}return Object(o.u)(f)?t.previousResult&&Object(o.q)(t.previousResult[i],f.json)?t.previousResult[i]:f.json:(t.previousResult&&(f=function e(t,n){if(Object(o.s)(t))return C({},t,{previousResult:n});if(Array.isArray(t)){var r=new Map;return Array.isArray(n)&&n.forEach(function(e){e&&e[x]&&r.set(e[x],e)}),t.map(function(t,a){var i=n&&n[a];return Object(o.s)(t)&&(i=r.get(t.id)||i),e(t,i)})}return t}(f,t.previousResult[i])),f)};function T(e){var t=e.store,n=e.query,r=e.variables,a=e.previousResult,i=e.returnPartialData,s=void 0===i||i,u=e.rootId,l=void 0===u?"ROOT_QUERY":u,c=e.fragmentMatcherFunction,f=e.config,p=Object(o.m)(n);r=Object(o.c)({},Object(o.e)(p),r);var d={store:t,returnPartialData:s,cacheResolvers:f&&f.cacheResolvers||{},hasMissingField:!1};return{result:_(D,n,{type:"id",id:l,previousResult:a},d,r,{fragmentMatcher:c,resultMapper:j}),complete:!d.hasMissingField}}function A(e){if(!Object(o.s)(e))throw new Error("Encountered a sub-selection on the query, but the store doesn't have an object reference. This should never happen during normal use unless you have custom code that is directly manipulating the store; please file an issue.")}function j(e,t){if(t.previousResult){var n=Object.keys(e);if(Object.keys(t.previousResult).reduce(function(e,t){return e&&n.indexOf(t)>-1},!0)&&n.every(function(n){return function e(t,n){if(t===n)return!0;if(!Array.isArray(t)||!Array.isArray(n)||t.length!==n.length)return!1;return t.every(function(t,r){return e(t,n[r])})}(e[n],t.previousResult[n])}))return t.previousResult}return Object.defineProperty(e,x,{enumerable:!1,configurable:!1,writable:!1,value:t.id}),e}var R=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},F=function(){function e(e){void 0===e&&(e={}),this.data=e,this.recordedData={}}return e.prototype.record=function(e){e(this);var t=this.recordedData;return this.recordedData={},t},e.prototype.toObject=function(){return R({},this.data,this.recordedData)},e.prototype.get=function(e){return this.recordedData.hasOwnProperty(e)?this.recordedData[e]:this.data[e]},e.prototype.set=function(e,t){this.get(e)!==t&&(this.recordedData[e]=t)},e.prototype.delete=function(e){this.recordedData[e]=void 0},e.prototype.clear=function(){var e=this;Object.keys(this.data).forEach(function(t){return e.delete(t)}),this.recordedData={}},e.prototype.replace=function(e){this.clear(),this.recordedData=R({},e)},e}();function N(e,t){return new F(e).record(t)}var M=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),I=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},q={fragmentMatcher:new s,dataIdFromObject:L,addTypename:!0,storeFactory:f};function L(e){if(e.__typename){if(void 0!==e.id)return e.__typename+":"+e.id;if(void 0!==e._id)return e.__typename+":"+e._id}return null}var B=function(e){function t(t){void 0===t&&(t={});var n=e.call(this)||this;return n.optimistic=[],n.watches=[],n.silenceBroadcast=!1,n.config=I({},q,t),n.config.customResolvers&&(n.config.cacheResolvers=n.config.customResolvers),n.addTypename=!!n.config.addTypename,n.data=n.config.storeFactory(),n}return M(t,e),t.prototype.restore=function(e){return e&&this.data.replace(e),this},t.prototype.extract=function(e){if(void 0===e&&(e=!1),e&&this.optimistic.length>0){var t=this.optimistic.map(function(e){return e.data});return Object.assign.apply(Object,[{},this.data.toObject()].concat(t))}return this.data.toObject()},t.prototype.read=function(e){return e.rootId&&void 0===this.data.get(e.rootId)?null:P({store:this.config.storeFactory(this.extract(e.optimistic)),query:this.transformDocument(e.query),variables:e.variables,rootId:e.rootId,fragmentMatcherFunction:this.config.fragmentMatcher.match,previousResult:e.previousResult,config:this.config})},t.prototype.write=function(e){b({dataId:e.dataId,result:e.result,variables:e.variables,document:this.transformDocument(e.query),store:this.data,dataIdFromObject:this.config.dataIdFromObject,fragmentMatcherFunction:this.config.fragmentMatcher.match}),this.broadcastWatches()},t.prototype.diff=function(e){return T({store:this.config.storeFactory(this.extract(e.optimistic)),query:this.transformDocument(e.query),variables:e.variables,returnPartialData:e.returnPartialData,previousResult:e.previousResult,fragmentMatcherFunction:this.config.fragmentMatcher.match,config:this.config})},t.prototype.watch=function(e){var t=this;return this.watches.push(e),function(){t.watches=t.watches.filter(function(t){return t!==e})}},t.prototype.evict=function(e){throw new Error("eviction is not implemented on InMemory Cache")},t.prototype.reset=function(){return this.data.clear(),this.broadcastWatches(),Promise.resolve()},t.prototype.removeOptimistic=function(e){var t=this,n=this.optimistic.filter(function(t){return t.id!==e});this.optimistic=[],n.forEach(function(e){t.recordOptimisticTransaction(e.transaction,e.id)}),this.broadcastWatches()},t.prototype.performTransaction=function(e){var t=this.silenceBroadcast;this.silenceBroadcast=!0,e(this),t||(this.silenceBroadcast=!1),this.broadcastWatches()},t.prototype.recordOptimisticTransaction=function(e,t){var n=this;this.silenceBroadcast=!0;var r=N(this.extract(!0),function(t){var r=n.data;n.data=t,n.performTransaction(e),n.data=r});this.optimistic.push({id:t,transaction:e,data:r}),this.silenceBroadcast=!1,this.broadcastWatches()},t.prototype.transformDocument=function(e){return this.addTypename?Object(o.a)(e):e},t.prototype.readQuery=function(e,t){return void 0===t&&(t=!1),this.read({query:e.query,variables:e.variables,optimistic:t})},t.prototype.readFragment=function(e,t){return void 0===t&&(t=!1),this.read({query:this.transformDocument(Object(o.h)(e.fragment,e.fragmentName)),variables:e.variables,rootId:e.id,optimistic:t})},t.prototype.writeQuery=function(e){this.write({dataId:"ROOT_QUERY",result:e.data,query:this.transformDocument(e.query),variables:e.variables})},t.prototype.writeFragment=function(e){this.write({dataId:e.id,result:e.data,query:this.transformDocument(Object(o.h)(e.fragment,e.fragmentName)),variables:e.variables})},t.prototype.broadcastWatches=function(){var e=this;this.silenceBroadcast||this.watches.forEach(function(t){var n=e.diff({query:t.query,variables:t.variables,previousResult:t.previousResult&&t.previousResult(),optimistic:t.optimistic});t.callback(n)})},t}(a);n.d(t,"a",function(){return B}),n.d(t,!1,function(){return L}),n.d(t,!1,function(){return x}),n.d(t,!1,function(){return P}),n.d(t,!1,function(){return T}),n.d(t,!1,function(){return A}),n.d(t,!1,function(){return h}),n.d(t,!1,function(){return y}),n.d(t,!1,function(){return m}),n.d(t,!1,function(){return b}),n.d(t,!1,function(){return v}),n.d(t,!1,function(){return s}),n.d(t,!1,function(){return u}),n.d(t,!1,function(){return c}),n.d(t,!1,function(){return f}),n.d(t,!1,function(){return F}),n.d(t,!1,function(){return N})},2316:function(e,t,n){"use strict";var r,o=n(2275),a=n(2272);function i(e){return e<7}!function(e){e[e.loading=1]="loading",e[e.setVariables=2]="setVariables",e[e.fetchMore=3]="fetchMore",e[e.refetch=4]="refetch",e[e.poll=6]="poll",e[e.ready=7]="ready",e[e.error=8]="error"}(r||(r={}));var s=n(2276),u=n(2335),l=n.n(u),c=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return c(t,e),t.prototype[l.a]=function(){return this},t}(s.b),p=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();var d,h=function(e){var t="";return Array.isArray(e.graphQLErrors)&&0!==e.graphQLErrors.length&&e.graphQLErrors.forEach(function(e){var n=e?e.message:"Error message not found.";t+="GraphQL error: "+n+"\n"}),e.networkError&&(t+="Network error: "+e.networkError.message+"\n"),t=t.replace(/\n$/,"")},y=function(e){function t(t){var n=t.graphQLErrors,r=t.networkError,o=t.errorMessage,a=t.extraInfo,i=e.call(this,o)||this;return i.graphQLErrors=n||[],i.networkError=r||null,i.message=o||h(i),i.extraInfo=a,i}return p(t,e),t}(Error);!function(e){e[e.normal=1]="normal",e[e.refetch=2]="refetch",e[e.poll=3]="poll"}(d||(d={}));var m=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),b=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},v=function(e){function t(t){var n=t.scheduler,r=t.options,o=t.shouldSubscribe,a=void 0===o||o,i=e.call(this,function(e){return i.onSubscribe(e)})||this;return i.isCurrentlyPolling=!1,i.isTornDown=!1,i.options=r,i.variables=r.variables||{},i.queryId=n.queryManager.generateQueryId(),i.shouldSubscribe=a,i.scheduler=n,i.queryManager=n.queryManager,i.observers=[],i.subscriptionHandles=[],i}return m(t,e),t.prototype.result=function(){var e=this;return new Promise(function(t,n){var r,o={next:function(n){t(n),e.observers.some(function(e){return e!==o})||e.queryManager.removeQuery(e.queryId),setTimeout(function(){r.unsubscribe()},0)},error:function(e){n(e)}};r=e.subscribe(o)})},t.prototype.currentResult=function(){if(this.isTornDown)return{data:this.lastError?{}:this.lastResult?this.lastResult.data:{},error:this.lastError,loading:!1,networkStatus:r.error};var e=this.queryManager.queryStore.get(this.queryId);if(function(e,t){return void 0===t&&(t="none"),e&&(e.graphQLErrors&&e.graphQLErrors.length>0&&"none"===t||e.networkError)}(e,this.options.errorPolicy))return{data:{},loading:!1,networkStatus:e.networkStatus,error:new y({graphQLErrors:e.graphQLErrors,networkError:e.networkError})};var t,n=this.queryManager.getCurrentQueryResult(this),o=n.data,a=n.partial,s=!e||e.networkStatus===r.loading,u="network-only"===this.options.fetchPolicy&&s||a&&"cache-only"!==this.options.fetchPolicy,l={data:o,loading:i(t=e?e.networkStatus:u?r.loading:r.ready),networkStatus:t};if(e&&e.graphQLErrors&&"all"===this.options.errorPolicy&&(l.errors=e.graphQLErrors),!a){this.lastResult=b({},l,{stale:!1})}return b({},l,{partial:a})},t.prototype.getLastResult=function(){return this.lastResult},t.prototype.getLastError=function(){return this.lastError},t.prototype.resetLastResults=function(){delete this.lastResult,delete this.lastError,this.isTornDown=!1},t.prototype.refetch=function(e){if("cache-only"===this.options.fetchPolicy)return Promise.reject(new Error("cache-only fetchPolicy option should not be used together with query refetch."));Object(a.q)(this.variables,e)||(this.variables=b({},this.variables,e)),Object(a.q)(this.options.variables,this.variables)||(this.options.variables=b({},this.options.variables,this.variables));var t=b({},this.options,{fetchPolicy:"network-only"});return this.queryManager.fetchQuery(this.queryId,t,d.refetch).then(function(e){return Object(a.x)(e)})},t.prototype.fetchMore=function(e){var t=this;if(!e.updateQuery)throw new Error("updateQuery option is required. This function defines how to update the query data with the new results.");return Promise.resolve().then(function(){var n,r=t.queryManager.generateQueryId();return(n=e.query?e:b({},t.options,e,{variables:b({},t.variables,e.variables)})).fetchPolicy="network-only",t.queryManager.fetchQuery(r,n,d.normal,t.queryId)}).then(function(n){return t.updateQuery(function(t,r){var o=r.variables;return e.updateQuery(t,{fetchMoreResult:n.data,variables:o})}),n})},t.prototype.subscribeToMore=function(e){var t=this,n=this.queryManager.startGraphQLSubscription({query:e.document,variables:e.variables}).subscribe({next:function(n){e.updateQuery&&t.updateQuery(function(t,r){var o=r.variables;return e.updateQuery(t,{subscriptionData:n,variables:o})})},error:function(t){e.onError?e.onError(t):console.error("Unhandled GraphQL subscription error",t)}});return this.subscriptionHandles.push(n),function(){var e=t.subscriptionHandles.indexOf(n);e>=0&&(t.subscriptionHandles.splice(e,1),n.unsubscribe())}},t.prototype.setOptions=function(e){var t=this.options;this.options=b({},this.options,e),e.pollInterval?this.startPolling(e.pollInterval):0===e.pollInterval&&this.stopPolling();var n="network-only"!==t.fetchPolicy&&"network-only"===e.fetchPolicy||"cache-only"===t.fetchPolicy&&"cache-only"!==e.fetchPolicy||"standby"===t.fetchPolicy&&"standby"!==e.fetchPolicy||!1;return this.setVariables(this.options.variables,n,e.fetchResults)},t.prototype.setVariables=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!0),this.isTornDown=!1;var r=b({},this.variables,e);return Object(a.q)(r,this.variables)&&!t?0!==this.observers.length&&n?this.result():new Promise(function(e){return e()}):(this.lastVariables=this.variables,this.variables=r,this.options.variables=r,0===this.observers.length?new Promise(function(e){return e()}):this.queryManager.fetchQuery(this.queryId,b({},this.options,{variables:this.variables})).then(function(e){return Object(a.x)(e)}))},t.prototype.updateQuery=function(e){var t=this.queryManager.getQueryWithPreviousResult(this.queryId),n=t.previousResult,r=t.variables,o=t.document,i=Object(a.C)(function(){return e(n,{variables:r})});i&&(this.queryManager.dataStore.markUpdateQueryResult(o,r,i),this.queryManager.broadcastQueries())},t.prototype.stopPolling=function(){this.isCurrentlyPolling&&(this.scheduler.stopPollingQuery(this.queryId),this.options.pollInterval=void 0,this.isCurrentlyPolling=!1)},t.prototype.startPolling=function(e){if("cache-first"===this.options.fetchPolicy||"cache-only"===this.options.fetchPolicy)throw new Error("Queries that specify the cache-first and cache-only fetchPolicies cannot also be polling queries.");this.isCurrentlyPolling&&(this.scheduler.stopPollingQuery(this.queryId),this.isCurrentlyPolling=!1),this.options.pollInterval=e,this.isCurrentlyPolling=!0,this.scheduler.startPollingQuery(this.options,this.queryId)},t.prototype.onSubscribe=function(e){var t=this;return e._subscription&&e._subscription._observer&&!e._subscription._observer.error&&(e._subscription._observer.error=function(e){console.error("Unhandled error",e.message,e.stack)}),this.observers.push(e),e.next&&this.lastResult&&e.next(this.lastResult),e.error&&this.lastError&&e.error(this.lastError),1===this.observers.length&&this.setUpQuery(),function(){t.observers=t.observers.filter(function(t){return t!==e}),0===t.observers.length&&t.tearDownQuery()}},t.prototype.setUpQuery=function(){var e=this;if(this.shouldSubscribe&&this.queryManager.addObservableQuery(this.queryId,this),this.options.pollInterval){if("cache-first"===this.options.fetchPolicy||"cache-only"===this.options.fetchPolicy)throw new Error("Queries that specify the cache-first and cache-only fetchPolicies cannot also be polling queries.");this.isCurrentlyPolling=!0,this.scheduler.startPollingQuery(this.options,this.queryId)}var t={next:function(t){e.lastResult=t,e.observers.forEach(function(e){return e.next&&e.next(t)})},error:function(t){e.lastError=t,e.observers.forEach(function(e){return e.error&&e.error(t)})}};this.queryManager.startQuery(this.queryId,this.options,this.queryManager.queryListenerForObserver(this.queryId,this.options,t))},t.prototype.tearDownQuery=function(){this.isTornDown=!0,this.isCurrentlyPolling&&(this.scheduler.stopPollingQuery(this.queryId),this.isCurrentlyPolling=!1),this.subscriptionHandles.forEach(function(e){return e.unsubscribe()}),this.subscriptionHandles=[],this.queryManager.removeObservableQuery(this.queryId),this.queryManager.stopQuery(this.queryId),this.observers=[]},t}(f),g=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),w=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.inFlightRequestObservables=new Map,t.subscribers=new Map,t}return g(t,e),t.prototype.request=function(e,t){var n=this;if(e.getContext().forceFetch)return t(e);var r=e.toKey(),o=function(e){return n.inFlightRequestObservables.delete(e),n.subscribers.get(e)};if(!this.inFlightRequestObservables.get(r)){var a,i=t(e),u=new s.b(function(e){var t=n.subscribers.get(r);return t||(t={next:[],error:[],complete:[]}),n.subscribers.set(r,{next:t.next.concat([e.next.bind(e)]),error:t.error.concat([e.error.bind(e)]),complete:t.complete.concat([e.complete.bind(e)])}),a||(a=i.subscribe({next:function(e){var t=o(r);n.subscribers.delete(r),t&&(t.next.forEach(function(t){return t(e)}),t.complete.forEach(function(e){return e()}))},error:function(e){var t=o(r);n.subscribers.delete(r),t&&t.error.forEach(function(t){return t(e)})}})),function(){a&&a.unsubscribe(),n.inFlightRequestObservables.delete(r)}});this.inFlightRequestObservables.set(r,u)}return this.inFlightRequestObservables.get(r)},t}(s.a),k=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},E=function(){function e(e){var t=e.queryManager,n=e.ssrMode;this.inFlightQueries={},this.registeredQueries={},this.intervalQueries={},this.pollingTimers={},this.ssrMode=!1,this.queryManager=t,this.ssrMode=n||!1}return e.prototype.checkInFlight=function(e){var t=this.queryManager.queryStore.get(e);return t&&t.networkStatus!==r.ready&&t.networkStatus!==r.error},e.prototype.fetchQuery=function(e,t,n){var r=this;return new Promise(function(o,a){r.queryManager.fetchQuery(e,t,n).then(function(e){o(e)}).catch(function(e){a(e)})})},e.prototype.startPollingQuery=function(e,t,n){if(!e.pollInterval)throw new Error("Attempted to start a polling query without a polling interval.");return this.ssrMode?t:(this.registeredQueries[t]=e,n&&this.queryManager.addQueryListener(t,n),this.addQueryOnInterval(t,e),t)},e.prototype.stopPollingQuery=function(e){delete this.registeredQueries[e]},e.prototype.fetchQueriesOnInterval=function(e){var t=this;this.intervalQueries[e]=this.intervalQueries[e].filter(function(n){if(!t.registeredQueries.hasOwnProperty(n)||t.registeredQueries[n].pollInterval!==e)return!1;if(t.checkInFlight(n))return!0;var r=t.registeredQueries[n],o=k({},r);return o.fetchPolicy="network-only",t.fetchQuery(n,o,d.poll).catch(function(){}),!0}),0===this.intervalQueries[e].length&&(clearInterval(this.pollingTimers[e]),delete this.intervalQueries[e])},e.prototype.addQueryOnInterval=function(e,t){var n=this,r=t.pollInterval;if(!r)throw new Error("A poll interval is required to start polling query with id '"+e+"'.");this.intervalQueries.hasOwnProperty(r.toString())&&this.intervalQueries[r].length>0?this.intervalQueries[r].push(e):(this.intervalQueries[r]=[e],this.pollingTimers[r]=setInterval(function(){n.fetchQueriesOnInterval(r)},r))},e.prototype.registerPollingQuery=function(e){if(!e.pollInterval)throw new Error("Attempted to register a non-polling query with the scheduler.");return new v({scheduler:this,options:e})},e}(),S=function(){function e(){this.store={}}return e.prototype.getStore=function(){return this.store},e.prototype.get=function(e){return this.store[e]},e.prototype.initMutation=function(e,t,n){this.store[e]={mutationString:t,variables:n||{},loading:!0,error:null}},e.prototype.markMutationError=function(e,t){this.store[e].loading=!1,this.store[e].error=t},e.prototype.markMutationResult=function(e){this.store[e].loading=!1,this.store[e].error=null},e.prototype.reset=function(){this.store={}},e}(),O=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},_=function(){function e(){this.store={}}return e.prototype.getStore=function(){return this.store},e.prototype.get=function(e){return this.store[e]},e.prototype.initQuery=function(e){var t=this.store[e.queryId];if(t&&t.queryString!==e.queryString)throw new Error("Internal Error: may not update existing query string in store");var n,o=!1,i=null;e.storePreviousVariables&&t&&t.networkStatus!==r.loading&&(Object(a.q)(t.variables,e.variables)||(o=!0,i=t.variables)),n=o?r.setVariables:e.isPoll?r.poll:e.isRefetch?r.refetch:r.loading;var s=[];t&&t.graphQLErrors&&(s=t.graphQLErrors),this.store[e.queryId]={queryString:e.queryString,document:e.document,variables:e.variables,previousVariables:i,networkError:null,graphQLErrors:s,networkStatus:n,metadata:e.metadata},"string"==typeof e.fetchMoreForQueryId&&(this.store[e.fetchMoreForQueryId].networkStatus=r.fetchMore)},e.prototype.markQueryResult=function(e,t,n){this.store[e]&&(this.store[e].networkError=null,this.store[e].graphQLErrors=t.errors&&t.errors.length?t.errors:[],this.store[e].previousVariables=null,this.store[e].networkStatus=r.ready,"string"==typeof n&&(this.store[n].networkStatus=r.ready))},e.prototype.markQueryError=function(e,t,n){this.store[e]&&(this.store[e].networkError=t,this.store[e].networkStatus=r.error,"string"==typeof n&&this.markQueryError(n,t,void 0))},e.prototype.markQueryResultClient=function(e,t){this.store[e]&&(this.store[e].networkError=null,this.store[e].previousVariables=null,this.store[e].networkStatus=t?r.ready:r.loading)},e.prototype.stopQuery=function(e){delete this.store[e]},e.prototype.reset=function(e){var t=this;this.store=Object.keys(this.store).filter(function(t){return e.indexOf(t)>-1}).reduce(function(e,n){return e[n]=O({},t.store[n],{networkStatus:r.loading}),e},{})},e}(),C=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},x={listeners:[],invalidated:!1,document:null,newData:null,lastRequestId:null,observableQuery:null,subscriptions:[]},P=function(){function e(e){var t=e.link,n=e.queryDeduplication,r=void 0!==n&&n,o=e.store,a=e.onBroadcast,i=void 0===a?function(){}:a,u=e.ssrMode,l=void 0!==u&&u;this.mutationStore=new S,this.queryStore=new _,this.idCounter=1,this.queries=new Map,this.fetchQueryPromises=new Map,this.queryIdsByName={},this.link=t,this.deduplicator=s.a.from([new w,t]),this.queryDeduplication=r,this.dataStore=o,this.onBroadcast=i,this.scheduler=new E({queryManager:this,ssrMode:l})}return e.prototype.mutate=function(e){var t=this,n=e.mutation,r=e.variables,i=e.optimisticResponse,u=e.updateQueries,l=e.refetchQueries,c=void 0===l?[]:l,f=e.update,p=e.errorPolicy,d=void 0===p?"none":p,h=e.context,m=void 0===h?{}:h;if(!n)throw new Error("mutation option is required. You must specify your GraphQL document in the mutation option.");var b=this.generateQueryId(),v=this.dataStore.getCache();n=v.transformDocument(n),r=Object(a.c)({},Object(a.e)(Object(a.j)(n)),r);var g=Object(o.print)(n),w={query:n,variables:r,operationName:Object(a.l)(n)||void 0,context:m};this.setQuery(b,function(){return{document:n}});var k=function(){var e={};return u&&Object.keys(u).forEach(function(n){return(t.queryIdsByName[n]||[]).forEach(function(r){e[r]={updater:u[n],query:t.queryStore.get(r)}})}),e};return this.mutationStore.initMutation(b,g,r),this.dataStore.markMutationInit({mutationId:b,document:n,variables:r||{},updateQueries:k(),update:f,optimisticResponse:i}),this.broadcastQueries(),new Promise(function(e,o){var a,u,l=C({context:{}},w,{query:v.transformForLink?v.transformForLink(w.query):w.query});l.context.cache=t.dataStore.getCache(),Object(s.c)(t.link,l).subscribe({next:function(e){e.errors&&"none"===d?u=new y({graphQLErrors:e.errors}):(t.mutationStore.markMutationResult(b),t.dataStore.markMutationResult({mutationId:b,result:e,document:n,variables:r||{},updateQueries:k(),update:f}),a=e)},error:function(e){t.mutationStore.markMutationError(b,e),t.dataStore.markMutationComplete({mutationId:b,optimisticResponse:i}),t.broadcastQueries(),t.setQuery(b,function(){return{document:void 0}}),o(new y({networkError:e}))},complete:function(){u&&t.mutationStore.markMutationError(b,u),t.dataStore.markMutationComplete({mutationId:b,optimisticResponse:i}),t.broadcastQueries(),u?o(u):("function"==typeof c&&(c=c(a)),c.forEach(function(e){"string"!=typeof e?t.query({query:e.query,variables:e.variables,fetchPolicy:"network-only"}):t.refetchQueryByName(e)}),t.setQuery(b,function(){return{document:void 0}}),"ignore"===d&&a&&a.errors&&delete a.errors,e(a))}})})},e.prototype.fetchQuery=function(e,t,n,r){var i,s=this,u=t.variables,l=void 0===u?{}:u,c=t.metadata,f=void 0===c?null:c,p=t.fetchPolicy,h=void 0===p?"cache-first":p,m=this.dataStore.getCache(),b=m.transformDocument(t.query),v="network-only"===h;if(n!==d.refetch&&"network-only"!==h){var g=this.dataStore.getCache().diff({query:b,variables:l,returnPartialData:!0,optimistic:!1}),w=g.complete,k=g.result;v=!w||"cache-and-network"===h,i=k}var E=v&&"cache-only"!==h&&"standby"!==h;Object(a.p)(["live"],b)&&(E=!0);var S=this.generateRequestId(),O=this.updateQueryWatch(e,b,t);if(this.setQuery(e,function(){return{document:b,lastRequestId:S,invalidated:!0,cancel:O}}),this.invalidate(!0,r),this.queryStore.initQuery({queryId:e,queryString:Object(o.print)(b),document:b,storePreviousVariables:E,variables:l,isPoll:n===d.poll,isRefetch:n===d.refetch,metadata:f,fetchMoreForQueryId:r}),this.broadcastQueries(),(!E||"cache-and-network"===h)&&(this.queryStore.markQueryResultClient(e,!E),this.invalidate(!0,e,r),this.broadcastQueries()),E){var _=this.fetchRequest({requestId:S,queryId:e,document:m.transformForLink?m.transformForLink(b):b,options:t,fetchMoreForQueryId:r}).catch(function(t){if(function(e){return e.hasOwnProperty("graphQLErrors")}(t))throw t;var n=s.getQuery(e).lastRequestId;throw S>=(n||1)&&(s.queryStore.markQueryError(e,t,r),s.invalidate(!0,e,r),s.broadcastQueries()),s.removeFetchQueryPromise(S),new y({networkError:t})});if("cache-and-network"!==h)return _;_.catch(function(){})}return Promise.resolve({data:i})},e.prototype.queryListenerForObserver=function(e,t,n){var r=this,o=!1;return function(s,u){if(r.invalidate(!1,e),s){var l=r.getQuery(e).observableQuery,c=l?l.options.fetchPolicy:t.fetchPolicy;if("standby"!==c){var f=l?l.options.errorPolicy:t.errorPolicy,p=l?l.getLastResult():null,d=l?l.getLastError():null,h=!u&&null!=s.previousVariables||"cache-only"===c||"cache-and-network"===c,m=Boolean(p&&s.networkStatus!==p.networkStatus),b=f&&(d&&d.graphQLErrors)!==s.graphQLErrors&&"none"!==f;if(!i(s.networkStatus)||m&&t.notifyOnNetworkStatusChange||h){if((!f||"none"===f)&&s.graphQLErrors&&s.graphQLErrors.length>0||s.networkError){var v=new y({graphQLErrors:s.graphQLErrors,networkError:s.networkError});if(o=!0,n.error)try{n.error(v)}catch(e){setTimeout(function(){throw e},0)}else setTimeout(function(){throw v},0),Object(a.v)()||console.info("An unhandled error was thrown because no error handler is registered for the query "+s.queryString);return}try{var g=void 0,w=void 0;if(u)r.setQuery(e,function(){return{newData:null}}),g=u.result,w=!u.complete&&!u.complete;else if(p&&p.data&&!b)g=p.data,w=!1;else{var k=r.getQuery(e).document,E=r.dataStore.getCache().diff({query:k,variables:s.previousVariables||s.variables,optimistic:!0});g=E.result,w=!E.complete}var S=void 0;if(S=w&&"cache-only"!==c?{data:p&&p.data,loading:i(s.networkStatus),networkStatus:s.networkStatus,stale:!0}:{data:g,loading:i(s.networkStatus),networkStatus:s.networkStatus,stale:!1},"all"===f&&s.graphQLErrors&&s.graphQLErrors.length>0&&(S.errors=s.graphQLErrors),n.next)if(!(p&&S&&p.networkStatus===S.networkStatus&&p.stale===S.stale&&p.data===S.data)||o)try{n.next(Object(a.x)(S))}catch(e){setTimeout(function(){throw e},0)}o=!1}catch(e){return o=!0,void(n.error&&n.error(new y({networkError:e})))}}}}}},e.prototype.watchQuery=function(e,t){if(void 0===t&&(t=!0),"standby"===e.fetchPolicy)throw new Error('client.watchQuery cannot be called with fetchPolicy set to "standby"');var n=Object(a.m)(e.query);if(n.variableDefinitions&&n.variableDefinitions.length){var r=Object(a.e)(n);e.variables=Object(a.c)({},r,e.variables)}void 0===e.notifyOnNetworkStatusChange&&(e.notifyOnNetworkStatusChange=!1);var o=C({},e);return new v({scheduler:this.scheduler,options:o,shouldSubscribe:t})},e.prototype.query=function(e){var t=this;if(!e.query)throw new Error("query option is required. You must specify your GraphQL document in the query option.");if("Document"!==e.query.kind)throw new Error('You must wrap the query string in a "gql" tag.');if(e.returnPartialData)throw new Error("returnPartialData option only supported on watchQuery.");if(e.pollInterval)throw new Error("pollInterval option only supported on watchQuery.");if(void 0!==e.notifyOnNetworkStatusChange)throw new Error('Cannot call "query" with "notifyOnNetworkStatusChange" option. Only "watchQuery" has that option.');e.notifyOnNetworkStatusChange=!1;var n=this.idCounter,r=new Promise(function(o,a){return t.addFetchQueryPromise(n,r,o,a),t.watchQuery(e,!1).result().then(function(e){t.removeFetchQueryPromise(n),o(e)}).catch(function(e){t.removeFetchQueryPromise(n),a(e)})});return r},e.prototype.generateQueryId=function(){var e=this.idCounter.toString();return this.idCounter++,e},e.prototype.stopQueryInStore=function(e){this.queryStore.stopQuery(e),this.invalidate(!0,e),this.broadcastQueries()},e.prototype.addQueryListener=function(e,t){this.setQuery(e,function(e){var n=e.listeners;return{listeners:(void 0===n?[]:n).concat([t]),invalidate:!1}})},e.prototype.updateQueryWatch=function(e,t,n){var r=this,o=this.getQuery(e).cancel;o&&o();return this.dataStore.getCache().watch({query:t,variables:n.variables,optimistic:!0,previousResult:function(){var t=null,n=r.getQuery(e).observableQuery;if(n){var o=n.getLastResult();o&&(t=o.data)}return t},callback:function(t){r.setQuery(e,function(){return{invalidated:!0,newData:t}})}})},e.prototype.addFetchQueryPromise=function(e,t,n,r){this.fetchQueryPromises.set(e.toString(),{promise:t,resolve:n,reject:r})},e.prototype.removeFetchQueryPromise=function(e){this.fetchQueryPromises.delete(e.toString())},e.prototype.addObservableQuery=function(e,t){this.setQuery(e,function(){return{observableQuery:t}});var n=Object(a.m)(t.options.query);if(n.name&&n.name.value){var r=n.name.value;this.queryIdsByName[r]=this.queryIdsByName[r]||[],this.queryIdsByName[r].push(t.queryId)}},e.prototype.removeObservableQuery=function(e){var t=this.getQuery(e),n=t.observableQuery,r=t.cancel;if(r&&r(),n){var o=Object(a.m)(n.options.query),i=o.name?o.name.value:null;this.setQuery(e,function(){return{observableQuery:null}}),i&&(this.queryIdsByName[i]=this.queryIdsByName[i].filter(function(e){return!(n.queryId===e)}))}},e.prototype.resetStore=function(){this.fetchQueryPromises.forEach(function(e){(0,e.reject)(new Error("Store reset while query was in flight."))});var e=[];this.queries.forEach(function(t,n){t.observableQuery&&e.push(n)}),this.queryStore.reset(e),this.mutationStore.reset();var t=this.dataStore.reset(),n=this.getObservableQueryPromises();return this.broadcastQueries(),t.then(function(){return Promise.all(n)})},e.prototype.getObservableQueryPromises=function(){var e=this,t=[];return this.queries.forEach(function(n,r){var o=n.observableQuery;if(o){var a=o.options.fetchPolicy;o.resetLastResults(),"cache-only"!==a&&"standby"!==a&&t.push(o.refetch()),e.setQuery(r,function(){return{newData:null}}),e.invalidate(!0,r)}}),t},e.prototype.reFetchObservableQueries=function(){var e=this.getObservableQueryPromises();return this.broadcastQueries(),Promise.all(e)},e.prototype.startQuery=function(e,t,n){return this.addQueryListener(e,n),this.fetchQuery(e,t).catch(function(){}),e},e.prototype.startGraphQLSubscription=function(e){var t,n=this,r=e.query,o=this.dataStore.getCache(),i=o.transformDocument(r),u=Object(a.c)({},Object(a.e)(Object(a.k)(r)),e.variables),l={query:i,variables:u,operationName:Object(a.l)(i)||void 0},c=[];return new f(function(e){if(c.push(e),1===c.length){var r={next:function(e){n.dataStore.markSubscriptionResult(e,i,u),n.broadcastQueries(),c.forEach(function(t){t.next&&t.next(e)})},error:function(e){c.forEach(function(t){t.error&&t.error(e)})}},a=C({},l,{query:o.transformForLink?o.transformForLink(l.query):l.query});t=Object(s.c)(n.link,a).subscribe(r)}return function(){0===(c=c.filter(function(t){return t!==e})).length&&t&&t.unsubscribe()}})},e.prototype.stopQuery=function(e){this.removeQuery(e),this.stopQueryInStore(e)},e.prototype.removeQuery=function(e){this.getQuery(e).subscriptions.forEach(function(e){return e.unsubscribe()}),this.queries.delete(e)},e.prototype.getCurrentQueryResult=function(e){var t=e.options,n=t.variables,r=t.query,o=e.getLastResult(),i=this.getQuery(e.queryId).newData;if(i)return Object(a.x)({data:i.result,partial:!1});try{var s=this.dataStore.getCache().read({query:r,variables:n,previousResult:o?o.data:void 0,optimistic:!0});return Object(a.x)({data:s,partial:!1})}catch(e){return Object(a.x)({data:{},partial:!0})}},e.prototype.getQueryWithPreviousResult=function(e){var t;if("string"==typeof e){var n=this.getQuery(e).observableQuery;if(!n)throw new Error("ObservableQuery with this id doesn't exist: "+e);t=n}else t=e;var r=t.options,o=r.variables,a=r.query;return{previousResult:this.getCurrentQueryResult(t).data,variables:o,document:a}},e.prototype.broadcastQueries=function(){var e=this;this.onBroadcast(),this.queries.forEach(function(t,n){t.invalidated&&t.listeners&&t.listeners.filter(function(e){return!!e}).forEach(function(r){r(e.queryStore.get(n),t.newData)})})},e.prototype.fetchRequest=function(e){var t,n,o=this,i=e.requestId,u=e.queryId,l=e.document,c=e.options,f=e.fetchMoreForQueryId,p=c.variables,d=c.context,h=c.errorPolicy,m=void 0===h?"none":h,b={query:l,variables:p,operationName:Object(a.l)(l)||void 0,context:d||{}};b.context.forceFetch=!this.queryDeduplication,b.context.cache=this.dataStore.getCache();var v=new Promise(function(e,a){o.addFetchQueryPromise(i,v,e,a);var c=Object(s.c)(o.deduplicator,b).subscribe({next:function(e){var r=o.getQuery(u).lastRequestId;if(i>=(r||1)){try{o.dataStore.markQueryResult(e,l,p,f,"ignore"===m)}catch(e){return void a(e)}o.queryStore.markQueryResult(u,e,f),o.invalidate(!0,u,f),o.broadcastQueries()}if(e.errors&&"none"===m)a(new y({graphQLErrors:e.errors}));else if("all"===m&&(n=e.errors),f)t=e.data;else try{t=o.dataStore.getCache().read({variables:p,query:l,optimistic:!1})}catch(e){}},error:function(e){o.removeFetchQueryPromise(i),o.setQuery(u,function(e){return{subscriptions:e.subscriptions.filter(function(e){return e!==c})}}),a(e)},complete:function(){o.removeFetchQueryPromise(i),o.setQuery(u,function(e){return{subscriptions:e.subscriptions.filter(function(e){return e!==c})}}),e({data:t,errors:n,loading:!1,networkStatus:r.ready,stale:!1})}});o.setQuery(u,function(e){return{subscriptions:e.subscriptions.concat([c])}})});return v},e.prototype.refetchQueryByName=function(e){var t=this,n=this.queryIdsByName[e];if(void 0!==n)return Promise.all(n.map(function(e){return t.getQuery(e).observableQuery}).filter(function(e){return!!e}).map(function(e){return e.refetch()}))},e.prototype.generateRequestId=function(){var e=this.idCounter;return this.idCounter++,e},e.prototype.getQuery=function(e){return this.queries.get(e)||C({},x)},e.prototype.setQuery=function(e,t){var n=this.getQuery(e),r=C({},n,t(n));this.queries.set(e,r)},e.prototype.invalidate=function(e,t,n){t&&this.setQuery(t,function(){return{invalidated:e}}),n&&this.setQuery(n,function(){return{invalidated:e}})},e}(),D=function(){function e(e){this.cache=e}return e.prototype.getCache=function(){return this.cache},e.prototype.markQueryResult=function(e,t,n,r,o){void 0===o&&(o=!1);var i=!Object(a.o)(e);o&&Object(a.o)(e)&&e.data&&(i=!0),!r&&i&&this.cache.write({result:e.data,dataId:"ROOT_QUERY",query:t,variables:n})},e.prototype.markSubscriptionResult=function(e,t,n){Object(a.o)(e)||this.cache.write({result:e.data,dataId:"ROOT_SUBSCRIPTION",query:t,variables:n})},e.prototype.markMutationInit=function(e){var t=this;if(e.optimisticResponse){var n;n="function"==typeof e.optimisticResponse?e.optimisticResponse(e.variables):e.optimisticResponse;this.cache.recordOptimisticTransaction(function(r){var o=t.cache;t.cache=r;try{t.markMutationResult({mutationId:e.mutationId,result:{data:n},document:e.document,variables:e.variables,updateQueries:e.updateQueries,update:e.update})}finally{t.cache=o}},e.mutationId)}},e.prototype.markMutationResult=function(e){var t=this;if(!Object(a.o)(e.result)){var n=[];n.push({result:e.result.data,dataId:"ROOT_MUTATION",query:e.document,variables:e.variables}),e.updateQueries&&Object.keys(e.updateQueries).filter(function(t){return e.updateQueries[t]}).forEach(function(r){var o=e.updateQueries[r],i=o.query,s=o.updater,u=t.cache.diff({query:i.document,variables:i.variables,returnPartialData:!0,optimistic:!1}),l=u.result;if(u.complete){var c=Object(a.C)(function(){return s(l,{mutationResult:e.result,queryName:Object(a.l)(i.document)||void 0,queryVariables:i.variables})});c&&n.push({result:c,dataId:"ROOT_QUERY",query:i.document,variables:i.variables})}}),this.cache.performTransaction(function(e){n.forEach(function(t){return e.write(t)})});var r=e.update;r&&this.cache.performTransaction(function(t){Object(a.C)(function(){return r(t,e.result)})})}},e.prototype.markMutationComplete=function(e){var t=e.mutationId;e.optimisticResponse&&this.cache.removeOptimistic(t)},e.prototype.markUpdateQueryResult=function(e,t,n){this.cache.write({result:n,dataId:"ROOT_QUERY",variables:t,query:e})},e.prototype.reset=function(){return this.cache.reset()},e}(),T=n(2332),A=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},j=!1,R=new s.a(function(e,t){return e.query=Object(a.y)(e.query),t(e)}),F=function(){function e(e){var t=this;this.defaultOptions={};var n=e.link,r=e.cache,o=e.ssrMode,i=void 0!==o&&o,s=e.ssrForceFetchDelay,u=void 0===s?0:s,l=e.connectToDevTools,c=e.queryDeduplication,f=void 0===c||c,p=e.defaultOptions;if(!n||!r)throw new Error("\n        In order to initialize Apollo Client, you must specify link & cache properties on the config object.\n        This is part of the required upgrade when migrating from Apollo Client 1.0 to Apollo Client 2.0.\n        For more information, please visit:\n          https://www.apollographql.com/docs/react/basics/setup.html\n        to help you get started.\n      ");this.link=R.concat(n),this.cache=r,this.store=new D(r),this.disableNetworkFetches=i||u>0,this.queryDeduplication=f,this.ssrMode=i,this.defaultOptions=p||{},u&&setTimeout(function(){return t.disableNetworkFetches=!1},u),this.watchQuery=this.watchQuery.bind(this),this.query=this.query.bind(this),this.mutate=this.mutate.bind(this),this.resetStore=this.resetStore.bind(this),this.reFetchObservableQueries=this.reFetchObservableQueries.bind(this);var d=!Object(a.v)()&&"undefined"!=typeof window&&!window.__APOLLO_CLIENT__;(void 0===l?d:l&&"undefined"!=typeof window)&&(window.__APOLLO_CLIENT__=this),j||Object(a.v)()||(j=!0,"undefined"!=typeof window&&window.document&&window.top===window.self&&void 0===window.__APOLLO_DEVTOOLS_GLOBAL_HOOK__&&navigator.userAgent.indexOf("Chrome")>-1&&console.debug("Download the Apollo DevTools for a better development experience: https://chrome.google.com/webstore/detail/apollo-client-developer-t/jdkknkkbebbapilgoeccciglkfbmbnfm")),this.version=T.version}return e.prototype.watchQuery=function(e){return this.initQueryManager(),this.defaultOptions.watchQuery&&(e=A({},this.defaultOptions.watchQuery,e)),this.disableNetworkFetches&&"network-only"===e.fetchPolicy&&(e=A({},e,{fetchPolicy:"cache-first"})),this.queryManager.watchQuery(e)},e.prototype.query=function(e){if(this.initQueryManager(),"cache-and-network"===e.fetchPolicy)throw new Error("cache-and-network fetchPolicy can only be used with watchQuery");return this.defaultOptions.query&&(e=A({},this.defaultOptions.query,e)),this.disableNetworkFetches&&"network-only"===e.fetchPolicy&&(e=A({},e,{fetchPolicy:"cache-first"})),this.queryManager.query(e)},e.prototype.mutate=function(e){return this.initQueryManager(),this.defaultOptions.mutate&&(e=A({},this.defaultOptions.mutate,e)),this.queryManager.mutate(e)},e.prototype.subscribe=function(e){return this.initQueryManager(),this.queryManager.startGraphQLSubscription(e)},e.prototype.readQuery=function(e){return this.initProxy().readQuery(e)},e.prototype.readFragment=function(e){return this.initProxy().readFragment(e)},e.prototype.writeQuery=function(e){var t=this.initProxy().writeQuery(e);return this.queryManager.broadcastQueries(),t},e.prototype.writeFragment=function(e){var t=this.initProxy().writeFragment(e);return this.queryManager.broadcastQueries(),t},e.prototype.__actionHookForDevTools=function(e){this.devToolsHookCb=e},e.prototype.__requestRaw=function(e){return Object(s.c)(this.link,e)},e.prototype.initQueryManager=function(){var e=this;this.queryManager||(this.queryManager=new P({link:this.link,store:this.store,queryDeduplication:this.queryDeduplication,ssrMode:this.ssrMode,onBroadcast:function(){e.devToolsHookCb&&e.devToolsHookCb({action:{},state:{queries:e.queryManager.queryStore.getStore(),mutations:e.queryManager.mutationStore.getStore()},dataWithOptimisticResults:e.cache.extract(!0)})}}))},e.prototype.resetStore=function(){return this.queryManager?this.queryManager.resetStore():Promise.resolve(null)},e.prototype.reFetchObservableQueries=function(){return this.queryManager?this.queryManager.reFetchObservableQueries():Promise.resolve(null)},e.prototype.extract=function(e){return this.initProxy().extract(e)},e.prototype.restore=function(e){return this.initProxy().restore(e)},e.prototype.initProxy=function(){return this.proxy||(this.initQueryManager(),this.proxy=this.cache),this.proxy},e}();n.d(t,!1,function(){return o.print}),n.d(t,!1,function(){return v}),n.d(t,!1,function(){return r}),n.d(t,!1,function(){return d}),n.d(t,!1,function(){return y}),n.d(t,"a",function(){return F})},2320:function(e,t,n){"use strict";var r=n(2476),o=n(2388),a=n(2362),i=n(2387),s=n(2361),u=n(2475),l=function(){function e(e){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}return e.prototype.unsubscribe=function(){var e,t=!1;if(!this.closed){var n=this._parent,l=this._parents,f=this._unsubscribe,p=this._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var d=-1,h=l?l.length:0;n;)n.remove(this),n=++d<h&&l[d]||null;if(a.isFunction(f))i.tryCatch(f).call(this)===s.errorObject&&(t=!0,e=e||(s.errorObject.e instanceof u.UnsubscriptionError?c(s.errorObject.e.errors):[s.errorObject.e]));if(r.isArray(p))for(d=-1,h=p.length;++d<h;){var y=p[d];if(o.isObject(y))if(i.tryCatch(y.unsubscribe).call(y)===s.errorObject){t=!0,e=e||[];var m=s.errorObject.e;m instanceof u.UnsubscriptionError?e=e.concat(c(m.errors)):e.push(m)}}if(t)throw new u.UnsubscriptionError(e)}},e.prototype.add=function(t){if(!t||t===e.EMPTY)return e.EMPTY;if(t===this)return this;var n=t;switch(typeof t){case"function":n=new e(t);case"object":if(n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if("function"!=typeof n._addParent){var r=n;(n=new e)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}return(this._subscriptions||(this._subscriptions=[])).push(n),n._addParent(this),n},e.prototype.remove=function(e){var t=this._subscriptions;if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}},e.prototype._addParent=function(e){var t=this._parent,n=this._parents;t&&t!==e?n?-1===n.indexOf(e)&&n.push(e):this._parents=[e]:this._parent=e},e.EMPTY=function(e){return e.closed=!0,e}(new e),e}();function c(e){return e.reduce(function(e,t){return e.concat(t instanceof u.UnsubscriptionError?t.errors:t)},[])}t.Subscription=l},2321:function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=n(2362),a=n(2320),i=n(2386),s=n(2360),u=function(e){function t(n,r,o){switch(e.call(this),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.empty;break;case 1:if(!n){this.destination=i.empty;break}if("object"==typeof n){n instanceof t?(this.destination=n,this.destination.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,n));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,n,r,o)}}return r(t,e),t.prototype[s.rxSubscriber]=function(){return this},t.create=function(e,n,r){var o=new t(e,n,r);return o.syncErrorThrowable=!1,o},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this))},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},t.prototype._unsubscribeAndRecycle=function(){var e=this._parent,t=this._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=e,this._parents=t,this},t}(a.Subscription);t.Subscriber=u;var l=function(e){function t(t,n,r,a){var s;e.call(this),this._parentSubscriber=t;var u=this;o.isFunction(n)?s=n:n&&(s=n.next,r=n.error,a=n.complete,n!==i.empty&&(u=Object.create(n),o.isFunction(u.unsubscribe)&&this.add(u.unsubscribe.bind(u)),u.unsubscribe=this.unsubscribe.bind(this))),this._context=u,this._next=s,this._error=r,this._complete=a}return r(t,e),t.prototype.next=function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}},t.prototype.error=function(e){if(!this.isStopped){var t=this._parentSubscriber;if(this._error)t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else{if(!t.syncErrorThrowable)throw this.unsubscribe(),e;t.syncErrorValue=e,t.syncErrorThrown=!0,this.unsubscribe()}}},t.prototype.complete=function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var n=function(){return e._complete.call(e._context)};t.syncErrorThrowable?(this.__tryOrSetError(t,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},t.prototype.__tryOrUnsub=function(e,t){try{e.call(this._context,t)}catch(e){throw this.unsubscribe(),e}},t.prototype.__tryOrSetError=function(e,t,n){try{t.call(this._context,n)}catch(t){return e.syncErrorValue=t,e.syncErrorThrown=!0,!0}return!1},t.prototype._unsubscribe=function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()},t}(u)},2322:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){}},2323:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e}},2324:function(e,t){for(var n={glog:function(e){if(e<1)throw new Error("glog("+e+")");return n.LOG_TABLE[e]},gexp:function(e){for(;e<0;)e+=255;for(;e>=256;)e-=255;return n.EXP_TABLE[e]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},r=0;r<8;r++)n.EXP_TABLE[r]=1<<r;for(r=8;r<256;r++)n.EXP_TABLE[r]=n.EXP_TABLE[r-4]^n.EXP_TABLE[r-5]^n.EXP_TABLE[r-6]^n.EXP_TABLE[r-8];for(r=0;r<255;r++)n.LOG_TABLE[n.EXP_TABLE[r]]=r;e.exports=n},2325:function(e,t,n){var r=n(2324);function o(e,t){if(void 0==e.length)throw new Error(e.length+"/"+t);for(var n=0;n<e.length&&0==e[n];)n++;this.num=new Array(e.length-n+t);for(var r=0;r<e.length-n;r++)this.num[r]=e[r+n]}o.prototype={get:function(e){return this.num[e]},getLength:function(){return this.num.length},multiply:function(e){for(var t=new Array(this.getLength()+e.getLength()-1),n=0;n<this.getLength();n++)for(var a=0;a<e.getLength();a++)t[n+a]^=r.gexp(r.glog(this.get(n))+r.glog(e.get(a)));return new o(t,0)},mod:function(e){if(this.getLength()-e.getLength()<0)return this;for(var t=r.glog(this.get(0))-r.glog(e.get(0)),n=new Array(this.getLength()),a=0;a<this.getLength();a++)n[a]=this.get(a);for(a=0;a<e.getLength();a++)n[a]^=r.gexp(r.glog(e.get(a))+t);return new o(n,0).mod(e)}},e.exports=o},2326:function(e,t){e.exports={L:1,M:0,Q:3,H:2}},2327:function(e,t){e.exports={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8}},2328:function(e,t,n){"use strict";var r=n(0),o=n(2),a=n(1),i=n.n(a),s=n(3),u=n(22),l=n(24),c=n(9),f=n.n(c),p=n(339),d=n(19),h=n(5),y=n(26),m=n.n(y),b=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function w(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var k=((E=function(e){function t(){return v(this,t),g(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return w(t,r["Component"]),b(t,[{key:"render",value:function(){return 0!==this.props.assets.length&&this.props.value?r.createElement(p.a,{isAsset:!0,entries:this.props.assets.map(function(e){return e&&e.get("symbol")}).filter(function(e){return!!e}),values:this.props.assets.reduce(function(e,t){return t&&t.get("symbol")&&(e[t.get("symbol")]=t),e},{}),singleEntry:this.props.assets[0]?r.createElement(d.a,{asset:this.props.assets[0].get("id"),amount:0,hide_amount:!0}):null,value:"",onChange:this.props.onChange}):null}}]),t}()).propTypes={assets:u.a.ChainAssetsList,value:o.string,onChange:o.func},E);k=Object(l.a)(k);var E,S=function(e){function t(){return v(this,t),g(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return w(t,r["Component"]),b(t,[{key:"getAsset",value:function(){return this.props.asset}},{key:"getError",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props.assetInput,t=this.props.error;return t||!e||this.getNameType(e)||(t=f.a.translate("explorer.asset.invalid",{name:e})),t}},{key:"getNameType",value:function(e){return e?s.d.is_valid_symbol_error(e,!0)?null:"symbol":null}},{key:"onInputChanged",value:function(e){var t=e.target.value.trim().substr(0,16).toUpperCase();this.props.onChange&&t!==this.props.assetInput&&this.props.onChange(t)}},{key:"onKeyDown",value:function(e){13===e.keyCode&&(this.onFound(e),this.onAction(e))}},{key:"componentDidMount",value:function(){this.props.onFound&&this.props.asset&&this.props.onFound(this.props.asset)}},{key:"componentWillReceiveProps",value:function(e){this.props.onFound&&e.asset!==this.props.asset&&this.props.onFound(e.asset)}},{key:"onFound",value:function(e){e.preventDefault(),!this.props.onFound||this.getError()||this.props.disableActionButton||this.props.asset&&this.props.onFound(this.props.asset)}},{key:"onAssetSelect",value:function(e){e&&(this.props.onFound(e),this.props.onChange(e.get("symbol")))}},{key:"onAction",value:function(e){e.preventDefault(),!this.props.onAction||this.getError()||this.props.disableActionButton||this.props.asset&&this.props.onAction(this.props.asset)}},{key:"render",value:function(){var e=this.props,t=e.disabled,n=e.noLabel,o=this.getError(),a=void 0;t||(this.props.asset?a=this.props.asset.get("symbol"):!o&&this.props.assetInput&&(o=f.a.translate("explorer.asset.not_found",{name:this.props.assetInput})));var s=m()("button",{disabled:!this.props.asset||o||this.props.disableActionButton});return r.createElement("div",{className:this.props.className?this.props.className+" asset-selector":"asset-selector",style:this.props.style},r.createElement("div",{className:"header-area"},o||n?null:r.createElement("label",{className:"right-label"},"  ",r.createElement("span",null,a)),r.createElement(i.a,{component:"label",content:this.props.label})),r.createElement("div",{className:"input-area"},r.createElement("div",{className:"inline-label input-wrapper"},r.createElement("input",{style:this.props.inputStyle,disabled:this.props.disabled,type:"text",value:this.props.assetInput||"",placeholder:f.a.translate("explorer.assets.symbol"),ref:"user_input",onChange:this.onInputChanged.bind(this),onKeyDown:this.onKeyDown.bind(this),tabIndex:this.props.tabIndex}),r.createElement("div",{className:"form-label select floating-dropdown"},this.props.asset?r.createElement(k,{ref:this.props.refCallback,value:this.props.asset.get("symbol"),assets:h.List(this.props.assets),onChange:this.onAssetSelect.bind(this)}):null),this.props.children,this.props.onAction?r.createElement("button",{className:s,onClick:this.onAction.bind(this)},r.createElement(i.a,{content:this.props.action_label})):null)),r.createElement("div",{className:"error-area",style:{paddingBottom:"10px"}},r.createElement("span",{style:{wordBreak:"break-all"}},o)))}}]),t}();S.propTypes={label:o.string,error:o.string,placeholder:o.string,onChange:o.func,onFound:o.func,assetInput:o.string,asset:u.a.ChainAsset,tabIndex:o.number,disableActionButton:o.string},S.defaultProps={disabled:!1},t.a=Object(l.a)(S)},2329:function(e,t,n){"use strict";var r=n(41),o=n(5),a=n.n(o),i=n(13),s=n(2284),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var l=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.assets=a.a.Map(),e.asset_symbol_to_id={},e.searchTerms={},e.lookupResults=[],e.assetsLoading=!1,e.bindListeners({onGetAssetList:s.a.getAssetList,onLookupAsset:s.a.lookupAsset}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["a"]),u(t,[{key:"onGetAssetList",value:function(e){var t=this;if(!e)return!1;this.assetsLoading=e.loading,e.assets&&e.assets.forEach(function(n){for(var r=0;r<e.dynamic.length;r++)if(e.dynamic[r].id===n.dynamic_asset_data_id){n.dynamic=e.dynamic[r];break}if(n.bitasset_data_id){n.market_asset=!0;for(r=0;r<e.bitasset_data.length;r++)if(e.bitasset_data[r].id===n.bitasset_data_id){n.bitasset_data=e.bitasset_data[r];break}}else n.market_asset=!1;t.assets=t.assets.set(n.id,n),t.asset_symbol_to_id[n.symbol]=n.id})}},{key:"onLookupAsset",value:function(e){this.searchTerms[e.searchID]=e.symbol,this.lookupResults=e.assets}}]),t}();t.a=i.a.createStore(l,"AssetStore")},2332:function(e,t){t.version="2.1.0"},2333:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,n=e.Symbol;"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable";return t}},2334:function(e,t,n){"use strict";(function(e,r){Object.defineProperty(t,"__esModule",{value:!0});var o,a=function(e){return e&&e.__esModule?e:{default:e}}(n(2333));o="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:r;var i=(0,a.default)(o);t.default=i}).call(this,n(52),n(178)(e))},2335:function(e,t,n){e.exports=n(2334)},2336:function(e,t,n){"use strict";(function(e){!function(e,t){function n(e){return"function"==typeof Symbol&&Boolean(Symbol[e])}function r(e){return n(e)?Symbol[e]:"@@"+e}function o(e,t){var n=e[t];if(null!=n){if("function"!=typeof n)throw new TypeError(n+" is not a function");return n}}function a(e){var t=e.constructor;return void 0!==t&&null===(t=t[r("species")])&&(t=void 0),void 0!==t?t:f}function i(e,t){Object.keys(t).forEach(function(n){var r=Object.getOwnPropertyDescriptor(t,n);r.enumerable=!1,Object.defineProperty(e,n,r)})}function s(e){var t=e._cleanup;t&&(e._cleanup=void 0,t())}function u(e){return void 0===e._observer}function l(e,t){if(Object(e)!==e)throw new TypeError("Observer must be an object");this._cleanup=void 0,this._observer=e;var n=o(e,"start");if(n&&n.call(e,this),!u(this)){e=new c(this);try{var r=t.call(void 0,e);if(null!=r){if("function"==typeof r.unsubscribe)r=function(e){return function(){e.unsubscribe()}}(r);else if("function"!=typeof r)throw new TypeError(r+" is not a function");this._cleanup=r}}catch(t){return void e.error(t)}u(this)&&s(this)}}function c(e){this._subscription=e}function f(e){if("function"!=typeof e)throw new TypeError("Observable initializer must be a function");this._subscriber=e}"function"!=typeof Symbol||Symbol.observable||(Symbol.observable=Symbol("observable")),i(l.prototype={},{get closed(){return u(this)},unsubscribe:function(){!function(e){u(e)||(e._observer=void 0,s(e))}(this)}}),i(c.prototype={},{get closed(){return u(this._subscription)},next:function(e){var t=this._subscription;if(!u(t)){var n=t._observer,r=o(n,"next");if(r)return r.call(n,e)}},error:function(e){var t=this._subscription;if(u(t))throw e;var n=t._observer;t._observer=void 0;try{var r=o(n,"error");if(!r)throw e;e=r.call(n,e)}catch(e){try{s(t)}finally{throw e}}return s(t),e},complete:function(e){var t=this._subscription;if(!u(t)){var n=t._observer;t._observer=void 0;try{var r=o(n,"complete");e=r?r.call(n,e):void 0}catch(e){try{s(t)}finally{throw e}}return s(t),e}}}),i(f.prototype,{subscribe:function(e){for(var t=[],n=1;n<arguments.length;++n)t.push(arguments[n]);return"function"==typeof e&&(e={next:e,error:t[0],complete:t[1]}),new l(e,this._subscriber)},forEach:function(e){var t=this;return new Promise(function(n,r){if("function"!=typeof e)return Promise.reject(new TypeError(e+" is not a function"));t.subscribe({_subscription:null,start:function(e){if(Object(e)!==e)throw new TypeError(e+" is not an object");this._subscription=e},next:function(t){var n=this._subscription;if(!n.closed)try{return e(t)}catch(e){r(e),n.unsubscribe()}},error:r,complete:n})})},map:function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");var n=a(this);return new n(function(n){return t.subscribe({next:function(t){if(!n.closed){try{t=e(t)}catch(e){return n.error(e)}return n.next(t)}},error:function(e){return n.error(e)},complete:function(e){return n.complete(e)}})})},filter:function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");var n=a(this);return new n(function(n){return t.subscribe({next:function(t){if(!n.closed){try{if(!e(t))return}catch(e){return n.error(e)}return n.next(t)}},error:function(e){return n.error(e)},complete:function(){return n.complete()}})})},reduce:function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");var n=a(this),r=arguments.length>1,o=!1,i=arguments[1],s=i;return new n(function(n){return t.subscribe({next:function(t){if(!n.closed){var a=!o;if(o=!0,!a||r)try{s=e(s,t)}catch(e){return n.error(e)}else s=t}},error:function(e){n.error(e)},complete:function(){o||r?(n.next(s),n.complete()):n.error(new TypeError("Cannot reduce an empty sequence"))}})})},flatMap:function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");var n=a(this);return new n(function(n){var r=!1,o=[],a=t.subscribe({next:function(t){if(e)try{t=e(t)}catch(e){return void n.error(e)}f.from(t).subscribe({_subscription:null,start:function(e){o.push(this._subscription=e)},next:function(e){n.next(e)},error:function(e){n.error(e)},complete:function(){var e=o.indexOf(this._subscription);e>=0&&o.splice(e,1),i()}})},error:function(e){return n.error(e)},complete:function(){r=!0,i()}});function i(){r&&0===o.length&&n.complete()}return function(){o.forEach(function(e){return e.unsubscribe()}),a.unsubscribe()}})}}),Object.defineProperty(f.prototype,r("observable"),{value:function(){return this},writable:!0,configurable:!0}),i(f,{from:function(e){var t="function"==typeof this?this:f;if(null==e)throw new TypeError(e+" is not an object");var a=o(e,r("observable"));if(a){var i=a.call(e);if(Object(i)!==i)throw new TypeError(i+" is not an object");return i.constructor===t?i:new t(function(e){return i.subscribe(e)})}if(n("iterator")&&(a=o(e,r("iterator"))))return new t(function(t){for(var n,r=a.call(e)[Symbol.iterator]();!(n=r.next()).done;){var o=n.value;if(t.next(o),t.closed)return}t.complete()});if(Array.isArray(e))return new t(function(t){for(var n=0;n<e.length;++n)if(t.next(e[n]),t.closed)return;t.complete()});throw new TypeError(e+" is not observable")},of:function(){for(var e=[],t=0;t<arguments.length;++t)e.push(arguments[t]);var n="function"==typeof this?this:f;return new n(function(t){for(var n=0;n<e.length;++n)if(t.next(e[n]),t.closed)return;t.complete()})}}),Object.defineProperty(f,r("species"),{get:function(){return this},configurable:!0}),Object.defineProperty(f,"observableSymbol",{value:r("observable")}),e.Observable=f}(t)}).call(this,n(178)(e))},2337:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.visit=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r,s=void 0,u=Array.isArray(e),l=[e],c=-1,f=[],p=void 0,d=void 0,h=void 0,y=[],m=[],b=e;do{var v=++c===l.length,g=v&&0!==f.length;if(v){if(d=0===m.length?void 0:y[y.length-1],p=h,h=m.pop(),g){if(u)p=p.slice();else{var w={};for(var k in p)p.hasOwnProperty(k)&&(w[k]=p[k]);p=w}for(var E=0,S=0;S<f.length;S++){var O=f[S][0],_=f[S][1];u&&(O-=E),u&&null===_?(p.splice(O,1),E++):p[O]=_}}c=s.index,l=s.keys,f=s.edits,u=s.inArray,s=s.prev}else{if(d=h?u?c:l[c]:void 0,null===(p=h?h[d]:b)||void 0===p)continue;h&&y.push(d)}var C=void 0;if(!Array.isArray(p)){if(!a(p))throw new Error("Invalid AST Node: "+JSON.stringify(p));var x=i(t,p.kind,v);if(x){if((C=x.call(t,p,d,h,y,m))===o)break;if(!1===C){if(!v){y.pop();continue}}else if(void 0!==C&&(f.push([d,C]),!v)){if(!a(C)){y.pop();continue}p=C}}}void 0===C&&g&&f.push([d,p]),v?y.pop():(s={inArray:u,index:c,keys:l,edits:f,prev:s},u=Array.isArray(p),l=u?p:n[p.kind]||[],c=-1,f=[],h&&m.push(h),h=p)}while(void 0!==s);0!==f.length&&(b=f[f.length-1][1]);return b},t.visitInParallel=function(e){var t=new Array(e.length);return{enter:function(n){for(var r=0;r<e.length;r++)if(!t[r]){var a=i(e[r],n.kind,!1);if(a){var s=a.apply(e[r],arguments);if(!1===s)t[r]=n;else if(s===o)t[r]=o;else if(void 0!==s)return s}}},leave:function(n){for(var r=0;r<e.length;r++)if(t[r])t[r]===n&&(t[r]=null);else{var a=i(e[r],n.kind,!0);if(a){var s=a.apply(e[r],arguments);if(s===o)t[r]=o;else if(void 0!==s&&!1!==s)return s}}}}},t.visitWithTypeInfo=function(e,t){return{enter:function(n){e.enter(n);var r=i(t,n.kind,!1);if(r){var o=r.apply(t,arguments);return void 0!==o&&(e.leave(n),a(o)&&e.enter(o)),o}},leave:function(n){var r=i(t,n.kind,!0),o=void 0;return r&&(o=r.apply(t,arguments)),e.leave(n),o}}},t.getVisitFn=i;var r=t.QueryDocumentKeys={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"]},o=t.BREAK={};function a(e){return Boolean(e&&"string"==typeof e.kind)}function i(e,t,n){var r=e[t];if(r){if(!n&&"function"==typeof r)return r;var o=n?r.leave:r.enter;if("function"==typeof o)return o}else{var a=n?e.leave:e.enter;if(a){if("function"==typeof a)return a;var i=a[t];if("function"==typeof i)return i}}}},2338:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.DirectiveLocation={QUERY:"QUERY",MUTATION:"MUTATION",SUBSCRIPTION:"SUBSCRIPTION",FIELD:"FIELD",FRAGMENT_DEFINITION:"FRAGMENT_DEFINITION",FRAGMENT_SPREAD:"FRAGMENT_SPREAD",INLINE_FRAGMENT:"INLINE_FRAGMENT",SCHEMA:"SCHEMA",SCALAR:"SCALAR",OBJECT:"OBJECT",FIELD_DEFINITION:"FIELD_DEFINITION",ARGUMENT_DEFINITION:"ARGUMENT_DEFINITION",INTERFACE:"INTERFACE",UNION:"UNION",ENUM:"ENUM",ENUM_VALUE:"ENUM_VALUE",INPUT_OBJECT:"INPUT_OBJECT",INPUT_FIELD_DEFINITION:"INPUT_FIELD_DEFINITION"}},2339:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.NAME="Name",t.DOCUMENT="Document",t.OPERATION_DEFINITION="OperationDefinition",t.VARIABLE_DEFINITION="VariableDefinition",t.VARIABLE="Variable",t.SELECTION_SET="SelectionSet",t.FIELD="Field",t.ARGUMENT="Argument",t.FRAGMENT_SPREAD="FragmentSpread",t.INLINE_FRAGMENT="InlineFragment",t.FRAGMENT_DEFINITION="FragmentDefinition",t.INT="IntValue",t.FLOAT="FloatValue",t.STRING="StringValue",t.BOOLEAN="BooleanValue",t.NULL="NullValue",t.ENUM="EnumValue",t.LIST="ListValue",t.OBJECT="ObjectValue",t.OBJECT_FIELD="ObjectField",t.DIRECTIVE="Directive",t.NAMED_TYPE="NamedType",t.LIST_TYPE="ListType",t.NON_NULL_TYPE="NonNullType",t.SCHEMA_DEFINITION="SchemaDefinition",t.OPERATION_TYPE_DEFINITION="OperationTypeDefinition",t.SCALAR_TYPE_DEFINITION="ScalarTypeDefinition",t.OBJECT_TYPE_DEFINITION="ObjectTypeDefinition",t.FIELD_DEFINITION="FieldDefinition",t.INPUT_VALUE_DEFINITION="InputValueDefinition",t.INTERFACE_TYPE_DEFINITION="InterfaceTypeDefinition",t.UNION_TYPE_DEFINITION="UnionTypeDefinition",t.ENUM_TYPE_DEFINITION="EnumTypeDefinition",t.ENUM_VALUE_DEFINITION="EnumValueDefinition",t.INPUT_OBJECT_TYPE_DEFINITION="InputObjectTypeDefinition",t.SCALAR_TYPE_EXTENSION="ScalarTypeExtension",t.OBJECT_TYPE_EXTENSION="ObjectTypeExtension",t.INTERFACE_TYPE_EXTENSION="InterfaceTypeExtension",t.UNION_TYPE_EXTENSION="UnionTypeExtension",t.ENUM_TYPE_EXTENSION="EnumTypeExtension",t.INPUT_OBJECT_TYPE_EXTENSION="InputObjectTypeExtension",t.DIRECTIVE_DEFINITION="DirectiveDefinition"},2340:function(e,t,n){"use strict";function r(e){for(var t=0;t<e.length&&(" "===e[t]||"\t"===e[t]);)t++;return t}function o(e){return r(e)===e.length}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){for(var t=e.split(/\r\n|[\n\r]/g),n=null,a=1;a<t.length;a++){var i=t[a],s=r(i);if(s<i.length&&(null===n||s<n)&&0===(n=s))break}if(n)for(var u=1;u<t.length;u++)t[u]=t[u].slice(n);for(;t.length>0&&o(t[0]);)t.shift();for(;t.length>0&&o(t[t.length-1]);)t.pop();return t.join("\n")}},2341:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TokenKind=void 0,t.createLexer=function(e,t){var n=new T(s,0,0,0,0,null);return{source:e,options:t,lastToken:n,token:n,line:1,lineStart:0,advance:a,lookahead:i}},t.getTokenDesc=function(e){var t=e.value;return t?e.kind+' "'+t+'"':e.kind};var r=n(2304),o=function(e){return e&&e.__esModule?e:{default:e}}(n(2340));function a(){return this.lastToken=this.token,this.token=this.lookahead()}function i(){var e=this.token;if(e.kind!==u)do{e=e.next||(e.next=j(this,e))}while(e.kind===x);return e}var s="<SOF>",u="<EOF>",l="!",c="$",f="(",p=")",d="...",h=":",y="=",m="@",b="[",v="]",g="{",w="|",k="}",E="Name",S="Int",O="Float",_="String",C="BlockString",x="Comment";t.TokenKind={SOF:s,EOF:u,BANG:l,DOLLAR:c,PAREN_L:f,PAREN_R:p,SPREAD:d,COLON:h,EQUALS:y,AT:m,BRACKET_L:b,BRACKET_R:v,BRACE_L:g,PIPE:w,BRACE_R:k,NAME:E,INT:S,FLOAT:O,STRING:_,BLOCK_STRING:C,COMMENT:x};var P=String.prototype.charCodeAt,D=String.prototype.slice;function T(e,t,n,r,o,a,i){this.kind=e,this.start=t,this.end=n,this.line=r,this.column=o,this.value=i,this.prev=a,this.next=null}function A(e){return isNaN(e)?u:e<127?JSON.stringify(String.fromCharCode(e)):'"\\u'+("00"+e.toString(16).toUpperCase()).slice(-4)+'"'}function j(e,t){var n=e.source,a=n.body,i=a.length,s=function(e,t,n){var r=e.length,o=t;for(;o<r;){var a=P.call(e,o);if(9===a||32===a||44===a||65279===a)++o;else if(10===a)++o,++n.line,n.lineStart=o;else{if(13!==a)break;10===P.call(e,o+1)?o+=2:++o,++n.line,n.lineStart=o}}return o}(a,t.end,e),j=e.line,N=1+s-e.lineStart;if(s>=i)return new T(u,i,i,j,N,t);var M=P.call(a,s);if(M<32&&9!==M&&10!==M&&13!==M)throw(0,r.syntaxError)(n,s,"Cannot contain the invalid character "+A(M)+".");switch(M){case 33:return new T(l,s,s+1,j,N,t);case 35:return function(e,t,n,r,o){var a=e.body,i=void 0,s=t;do{i=P.call(a,++s)}while(null!==i&&(i>31||9===i));return new T(x,t,s,n,r,o,D.call(a,t+1,s))}(n,s,j,N,t);case 36:return new T(c,s,s+1,j,N,t);case 40:return new T(f,s,s+1,j,N,t);case 41:return new T(p,s,s+1,j,N,t);case 46:if(46===P.call(a,s+1)&&46===P.call(a,s+2))return new T(d,s,s+3,j,N,t);break;case 58:return new T(h,s,s+1,j,N,t);case 61:return new T(y,s,s+1,j,N,t);case 64:return new T(m,s,s+1,j,N,t);case 91:return new T(b,s,s+1,j,N,t);case 93:return new T(v,s,s+1,j,N,t);case 123:return new T(g,s,s+1,j,N,t);case 124:return new T(w,s,s+1,j,N,t);case 125:return new T(k,s,s+1,j,N,t);case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 95:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:return function(e,t,n,r,o){var a=e.body,i=a.length,s=t+1,u=0;for(;s!==i&&null!==(u=P.call(a,s))&&(95===u||u>=48&&u<=57||u>=65&&u<=90||u>=97&&u<=122);)++s;return new T(E,t,s,n,r,o,D.call(a,t,s))}(n,s,j,N,t);case 45:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return function(e,t,n,o,a,i){var s=e.body,u=n,l=t,c=!1;45===u&&(u=P.call(s,++l));if(48===u){if((u=P.call(s,++l))>=48&&u<=57)throw(0,r.syntaxError)(e,l,"Invalid number, unexpected digit after 0: "+A(u)+".")}else l=R(e,l,u),u=P.call(s,l);46===u&&(c=!0,u=P.call(s,++l),l=R(e,l,u),u=P.call(s,l));69!==u&&101!==u||(c=!0,43!==(u=P.call(s,++l))&&45!==u||(u=P.call(s,++l)),l=R(e,l,u));return new T(c?O:S,t,l,o,a,i,D.call(s,t,l))}(n,s,M,j,N,t);case 34:return 34===P.call(a,s+1)&&34===P.call(a,s+2)?function(e,t,n,a,i){var s=e.body,u=t+3,l=u,c=0,f="";for(;u<s.length&&null!==(c=P.call(s,u));){if(34===c&&34===P.call(s,u+1)&&34===P.call(s,u+2))return f+=D.call(s,l,u),new T(C,t,u+3,n,a,i,(0,o.default)(f));if(c<32&&9!==c&&10!==c&&13!==c)throw(0,r.syntaxError)(e,u,"Invalid character within String: "+A(c)+".");92===c&&34===P.call(s,u+1)&&34===P.call(s,u+2)&&34===P.call(s,u+3)?(f+=D.call(s,l,u)+'"""',l=u+=4):++u}throw(0,r.syntaxError)(e,u,"Unterminated string.")}(n,s,j,N,t):function(e,t,n,o,a){var i=e.body,s=t+1,u=s,l=0,c="";for(;s<i.length&&null!==(l=P.call(i,s))&&10!==l&&13!==l;){if(34===l)return c+=D.call(i,u,s),new T(_,t,s+1,n,o,a,c);if(l<32&&9!==l)throw(0,r.syntaxError)(e,s,"Invalid character within String: "+A(l)+".");if(++s,92===l){switch(c+=D.call(i,u,s-1),l=P.call(i,s)){case 34:c+='"';break;case 47:c+="/";break;case 92:c+="\\";break;case 98:c+="\b";break;case 102:c+="\f";break;case 110:c+="\n";break;case 114:c+="\r";break;case 116:c+="\t";break;case 117:var f=F(P.call(i,s+1),P.call(i,s+2),P.call(i,s+3),P.call(i,s+4));if(f<0)throw(0,r.syntaxError)(e,s,"Invalid character escape sequence: \\u"+i.slice(s+1,s+5)+".");c+=String.fromCharCode(f),s+=4;break;default:throw(0,r.syntaxError)(e,s,"Invalid character escape sequence: \\"+String.fromCharCode(l)+".")}u=++s}}throw(0,r.syntaxError)(e,s,"Unterminated string.")}(n,s,j,N,t)}throw(0,r.syntaxError)(n,s,function(e){if(39===e)return"Unexpected single quote character ('), did you mean to use a double quote (\")?";return"Cannot parse the unexpected character "+A(e)+"."}(M))}function R(e,t,n){var o=e.body,a=t,i=n;if(i>=48&&i<=57){do{i=P.call(o,++a)}while(i>=48&&i<=57);return a}throw(0,r.syntaxError)(e,a,"Invalid number, expected digit but got: "+A(i)+".")}function F(e,t,n,r){return N(e)<<12|N(t)<<8|N(n)<<4|N(r)}function N(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:-1}T.prototype.toJSON=T.prototype.inspect=function(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}}},2342:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.formatError=function(e){return e||(0,o.default)(0,"Received null or undefined error."),r({},e.extensions,{message:e.message||"An unknown error occurred.",locations:e.locations,path:e.path})};var o=function(e){return e&&e.__esModule?e:{default:e}}(n(2305))},2343:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.locatedError=function(e,t,n){if(e&&Array.isArray(e.path))return e;return new r.GraphQLError(e&&e.message,e&&e.nodes||t,e&&e.source,e&&e.positions,n,e)};var r=n(2289)},2344:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.syntaxError=function(e,t,n){return new r.GraphQLError("Syntax Error: "+n,void 0,e,[t])};var r=n(2289)},2345:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Source=void 0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n(2305));t.Source=function e(t,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.body=t,this.name=n||"GraphQL request",this.locationOffset=o||{line:1,column:1},this.locationOffset.line>0||(0,r.default)(0,"line in locationOffset is 1-indexed and must be positive"),this.locationOffset.column>0||(0,r.default)(0,"column in locationOffset is 1-indexed and must be positive")}},2346:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parse=function(e,t){var n="string"==typeof e?new r.Source(e):e;if(!(n instanceof r.Source))throw new TypeError("Must provide Source. Received: "+String(n));return function(e){var t=e.token;X(e,a.TokenKind.SOF);var n=[];do{n.push(l(e))}while(!Q(e,a.TokenKind.EOF));return{kind:i.DOCUMENT,definitions:n,loc:U(e,t)}}((0,a.createLexer)(n,t||{}))},t.parseValue=function(e,t){var n="string"==typeof e?new r.Source(e):e,o=(0,a.createLexer)(n,t||{});X(o,a.TokenKind.SOF);var i=E(o,!1);return X(o,a.TokenKind.EOF),i},t.parseType=function(e,t){var n="string"==typeof e?new r.Source(e):e,o=(0,a.createLexer)(n,t||{});X(o,a.TokenKind.SOF);var i=D(o);return X(o,a.TokenKind.EOF),i},t.parseConstValue=O,t.parseTypeReference=D,t.parseNamedType=T;var r=n(2345),o=n(2304),a=n(2341),i=n(2339),s=n(2338);function u(e){var t=X(e,a.TokenKind.NAME);return{kind:i.NAME,value:t.value,loc:U(e,t)}}function l(e){if(G(e,a.TokenKind.NAME))switch(e.token.value){case"query":case"mutation":case"subscription":case"fragment":return c(e);case"schema":case"scalar":case"type":case"interface":case"union":case"enum":case"input":case"extend":case"directive":return A(e)}else{if(G(e,a.TokenKind.BRACE_L))return c(e);if(j(e))return A(e)}throw K(e)}function c(e){if(G(e,a.TokenKind.NAME))switch(e.token.value){case"query":case"mutation":case"subscription":return f(e);case"fragment":return function(e){var t=e.token;if(J(e,"fragment"),e.options.experimentalFragmentVariables)return{kind:i.FRAGMENT_DEFINITION,name:k(e),variableDefinitions:d(e),typeCondition:(J(e,"on"),T(e)),directives:x(e,!1),selectionSet:m(e),loc:U(e,t)};return{kind:i.FRAGMENT_DEFINITION,name:k(e),typeCondition:(J(e,"on"),T(e)),directives:x(e,!1),selectionSet:m(e),loc:U(e,t)}}(e)}else if(G(e,a.TokenKind.BRACE_L))return f(e);throw K(e)}function f(e){var t=e.token;if(G(e,a.TokenKind.BRACE_L))return{kind:i.OPERATION_DEFINITION,operation:"query",name:void 0,variableDefinitions:[],directives:[],selectionSet:m(e),loc:U(e,t)};var n=p(e),r=void 0;return G(e,a.TokenKind.NAME)&&(r=u(e)),{kind:i.OPERATION_DEFINITION,operation:n,name:r,variableDefinitions:d(e),directives:x(e,!1),selectionSet:m(e),loc:U(e,t)}}function p(e){var t=X(e,a.TokenKind.NAME);switch(t.value){case"query":return"query";case"mutation":return"mutation";case"subscription":return"subscription"}throw K(e,t)}function d(e){return G(e,a.TokenKind.PAREN_L)?Z(e,a.TokenKind.PAREN_L,h,a.TokenKind.PAREN_R):[]}function h(e){var t=e.token;return{kind:i.VARIABLE_DEFINITION,variable:y(e),type:(X(e,a.TokenKind.COLON),D(e)),defaultValue:Q(e,a.TokenKind.EQUALS)?E(e,!0):void 0,loc:U(e,t)}}function y(e){var t=e.token;return X(e,a.TokenKind.DOLLAR),{kind:i.VARIABLE,name:u(e),loc:U(e,t)}}function m(e){var t=e.token;return{kind:i.SELECTION_SET,selections:Z(e,a.TokenKind.BRACE_L,b,a.TokenKind.BRACE_R),loc:U(e,t)}}function b(e){return G(e,a.TokenKind.SPREAD)?function(e){var t=e.token;if(X(e,a.TokenKind.SPREAD),G(e,a.TokenKind.NAME)&&"on"!==e.token.value)return{kind:i.FRAGMENT_SPREAD,name:k(e),directives:x(e,!1),loc:U(e,t)};var n=void 0;"on"===e.token.value&&(e.advance(),n=T(e));return{kind:i.INLINE_FRAGMENT,typeCondition:n,directives:x(e,!1),selectionSet:m(e),loc:U(e,t)}}(e):function(e){var t=e.token,n=u(e),r=void 0,o=void 0;Q(e,a.TokenKind.COLON)?(r=n,o=u(e)):o=n;return{kind:i.FIELD,alias:r,name:o,arguments:v(e,!1),directives:x(e,!1),selectionSet:G(e,a.TokenKind.BRACE_L)?m(e):void 0,loc:U(e,t)}}(e)}function v(e,t){var n=t?w:g;return G(e,a.TokenKind.PAREN_L)?Z(e,a.TokenKind.PAREN_L,n,a.TokenKind.PAREN_R):[]}function g(e){var t=e.token;return{kind:i.ARGUMENT,name:u(e),value:(X(e,a.TokenKind.COLON),E(e,!1)),loc:U(e,t)}}function w(e){var t=e.token;return{kind:i.ARGUMENT,name:u(e),value:(X(e,a.TokenKind.COLON),O(e)),loc:U(e,t)}}function k(e){if("on"===e.token.value)throw K(e);return u(e)}function E(e,t){var n=e.token;switch(n.kind){case a.TokenKind.BRACKET_L:return function(e,t){var n=e.token,r=t?O:_;return{kind:i.LIST,values:function(e,t,n,r){X(e,t);var o=[];for(;!Q(e,r);)o.push(n(e));return o}(e,a.TokenKind.BRACKET_L,r,a.TokenKind.BRACKET_R),loc:U(e,n)}}(e,t);case a.TokenKind.BRACE_L:return function(e,t){var n=e.token;X(e,a.TokenKind.BRACE_L);var r=[];for(;!Q(e,a.TokenKind.BRACE_R);)r.push(C(e,t));return{kind:i.OBJECT,fields:r,loc:U(e,n)}}(e,t);case a.TokenKind.INT:return e.advance(),{kind:i.INT,value:n.value,loc:U(e,n)};case a.TokenKind.FLOAT:return e.advance(),{kind:i.FLOAT,value:n.value,loc:U(e,n)};case a.TokenKind.STRING:case a.TokenKind.BLOCK_STRING:return S(e);case a.TokenKind.NAME:return"true"===n.value||"false"===n.value?(e.advance(),{kind:i.BOOLEAN,value:"true"===n.value,loc:U(e,n)}):"null"===n.value?(e.advance(),{kind:i.NULL,loc:U(e,n)}):(e.advance(),{kind:i.ENUM,value:n.value,loc:U(e,n)});case a.TokenKind.DOLLAR:if(!t)return y(e)}throw K(e)}function S(e){var t=e.token;return e.advance(),{kind:i.STRING,value:t.value,block:t.kind===a.TokenKind.BLOCK_STRING,loc:U(e,t)}}function O(e){return E(e,!0)}function _(e){return E(e,!1)}function C(e,t){var n=e.token;return{kind:i.OBJECT_FIELD,name:u(e),value:(X(e,a.TokenKind.COLON),E(e,t)),loc:U(e,n)}}function x(e,t){for(var n=[];G(e,a.TokenKind.AT);)n.push(P(e,t));return n}function P(e,t){var n=e.token;return X(e,a.TokenKind.AT),{kind:i.DIRECTIVE,name:u(e),arguments:v(e,t),loc:U(e,n)}}function D(e){var t=e.token,n=void 0;return Q(e,a.TokenKind.BRACKET_L)?(n=D(e),X(e,a.TokenKind.BRACKET_R),n={kind:i.LIST_TYPE,type:n,loc:U(e,t)}):n=T(e),Q(e,a.TokenKind.BANG)?{kind:i.NON_NULL_TYPE,type:n,loc:U(e,t)}:n}function T(e){var t=e.token;return{kind:i.NAMED_TYPE,name:u(e),loc:U(e,t)}}function A(e){var t=j(e)?e.lookahead():e.token;if(t.kind===a.TokenKind.NAME)switch(t.value){case"schema":return function(e){var t=e.token;J(e,"schema");var n=x(e,!0),r=Z(e,a.TokenKind.BRACE_L,F,a.TokenKind.BRACE_R);return{kind:i.SCHEMA_DEFINITION,directives:n,operationTypes:r,loc:U(e,t)}}(e);case"scalar":return function(e){var t=e.token,n=R(e);J(e,"scalar");var r=u(e),o=x(e,!0);return{kind:i.SCALAR_TYPE_DEFINITION,description:n,name:r,directives:o,loc:U(e,t)}}(e);case"type":return function(e){var t=e.token,n=R(e);J(e,"type");var r=u(e),o=N(e),a=x(e,!0),s=M(e);return{kind:i.OBJECT_TYPE_DEFINITION,description:n,name:r,interfaces:o,directives:a,fields:s,loc:U(e,t)}}(e);case"interface":return function(e){var t=e.token,n=R(e);J(e,"interface");var r=u(e),o=x(e,!0),a=M(e);return{kind:i.INTERFACE_TYPE_DEFINITION,description:n,name:r,directives:o,fields:a,loc:U(e,t)}}(e);case"union":return function(e){var t=e.token,n=R(e);J(e,"union");var r=u(e),o=x(e,!0),a=B(e);return{kind:i.UNION_TYPE_DEFINITION,description:n,name:r,directives:o,types:a,loc:U(e,t)}}(e);case"enum":return function(e){var t=e.token,n=R(e);J(e,"enum");var r=u(e),o=x(e,!0),a=V(e);return{kind:i.ENUM_TYPE_DEFINITION,description:n,name:r,directives:o,values:a,loc:U(e,t)}}(e);case"input":return function(e){var t=e.token,n=R(e);J(e,"input");var r=u(e),o=x(e,!0),a=H(e);return{kind:i.INPUT_OBJECT_TYPE_DEFINITION,description:n,name:r,directives:o,fields:a,loc:U(e,t)}}(e);case"extend":return function(e){var t=e.lookahead();if(t.kind===a.TokenKind.NAME)switch(t.value){case"scalar":return function(e){var t=e.token;J(e,"extend"),J(e,"scalar");var n=u(e),r=x(e,!0);if(0===r.length)throw K(e);return{kind:i.SCALAR_TYPE_EXTENSION,name:n,directives:r,loc:U(e,t)}}(e);case"type":return function(e){var t=e.token;J(e,"extend"),J(e,"type");var n=u(e),r=N(e),o=x(e,!0),a=M(e);if(0===r.length&&0===o.length&&0===a.length)throw K(e);return{kind:i.OBJECT_TYPE_EXTENSION,name:n,interfaces:r,directives:o,fields:a,loc:U(e,t)}}(e);case"interface":return function(e){var t=e.token;J(e,"extend"),J(e,"interface");var n=u(e),r=x(e,!0),o=M(e);if(0===r.length&&0===o.length)throw K(e);return{kind:i.INTERFACE_TYPE_EXTENSION,name:n,directives:r,fields:o,loc:U(e,t)}}(e);case"union":return function(e){var t=e.token;J(e,"extend"),J(e,"union");var n=u(e),r=x(e,!0),o=B(e);if(0===r.length&&0===o.length)throw K(e);return{kind:i.UNION_TYPE_EXTENSION,name:n,directives:r,types:o,loc:U(e,t)}}(e);case"enum":return function(e){var t=e.token;J(e,"extend"),J(e,"enum");var n=u(e),r=x(e,!0),o=V(e);if(0===r.length&&0===o.length)throw K(e);return{kind:i.ENUM_TYPE_EXTENSION,name:n,directives:r,values:o,loc:U(e,t)}}(e);case"input":return function(e){var t=e.token;J(e,"extend"),J(e,"input");var n=u(e),r=x(e,!0),o=H(e);if(0===r.length&&0===o.length)throw K(e);return{kind:i.INPUT_OBJECT_TYPE_EXTENSION,name:n,directives:r,fields:o,loc:U(e,t)}}(e)}throw K(e,t)}(e);case"directive":return function(e){var t=e.token,n=R(e);J(e,"directive"),X(e,a.TokenKind.AT);var r=u(e),o=q(e);J(e,"on");var s=function(e){Q(e,a.TokenKind.PIPE);var t=[];do{t.push(z(e))}while(Q(e,a.TokenKind.PIPE));return t}(e);return{kind:i.DIRECTIVE_DEFINITION,description:n,name:r,arguments:o,locations:s,loc:U(e,t)}}(e)}throw K(e,t)}function j(e){return G(e,a.TokenKind.STRING)||G(e,a.TokenKind.BLOCK_STRING)}function R(e){if(j(e))return S(e)}function F(e){var t=e.token,n=p(e);X(e,a.TokenKind.COLON);var r=T(e);return{kind:i.OPERATION_TYPE_DEFINITION,operation:n,type:r,loc:U(e,t)}}function N(e){var t=[];if("implements"===e.token.value){e.advance();do{t.push(T(e))}while(G(e,a.TokenKind.NAME))}return t}function M(e){return G(e,a.TokenKind.BRACE_L)?Z(e,a.TokenKind.BRACE_L,I,a.TokenKind.BRACE_R):[]}function I(e){var t=e.token,n=R(e),r=u(e),o=q(e);X(e,a.TokenKind.COLON);var s=D(e),l=x(e,!0);return{kind:i.FIELD_DEFINITION,description:n,name:r,arguments:o,type:s,directives:l,loc:U(e,t)}}function q(e){return G(e,a.TokenKind.PAREN_L)?Z(e,a.TokenKind.PAREN_L,L,a.TokenKind.PAREN_R):[]}function L(e){var t=e.token,n=R(e),r=u(e);X(e,a.TokenKind.COLON);var o=D(e),s=void 0;Q(e,a.TokenKind.EQUALS)&&(s=O(e));var l=x(e,!0);return{kind:i.INPUT_VALUE_DEFINITION,description:n,name:r,type:o,defaultValue:s,directives:l,loc:U(e,t)}}function B(e){var t=[];if(Q(e,a.TokenKind.EQUALS)){Q(e,a.TokenKind.PIPE);do{t.push(T(e))}while(Q(e,a.TokenKind.PIPE))}return t}function V(e){return G(e,a.TokenKind.BRACE_L)?Z(e,a.TokenKind.BRACE_L,W,a.TokenKind.BRACE_R):[]}function W(e){var t=e.token,n=R(e),r=u(e),o=x(e,!0);return{kind:i.ENUM_VALUE_DEFINITION,description:n,name:r,directives:o,loc:U(e,t)}}function H(e){return G(e,a.TokenKind.BRACE_L)?Z(e,a.TokenKind.BRACE_L,L,a.TokenKind.BRACE_R):[]}function z(e){var t=e.token,n=u(e);if(s.DirectiveLocation.hasOwnProperty(n.value))return n;throw K(e,t)}function U(e,t){if(!e.options.noLocation)return new Y(t,e.lastToken,e.source)}function Y(e,t,n){this.start=e.start,this.end=t.end,this.startToken=e,this.endToken=t,this.source=n}function G(e,t){return e.token.kind===t}function Q(e,t){var n=e.token.kind===t;return n&&e.advance(),n}function X(e,t){var n=e.token;if(n.kind===t)return e.advance(),n;throw(0,o.syntaxError)(e.source,n.start,"Expected "+t+", found "+(0,a.getTokenDesc)(n))}function J(e,t){var n=e.token;if(n.kind===a.TokenKind.NAME&&n.value===t)return e.advance(),n;throw(0,o.syntaxError)(e.source,n.start,'Expected "'+t+'", found '+(0,a.getTokenDesc)(n))}function K(e,t){var n=t||e.token;return(0,o.syntaxError)(e.source,n.start,"Unexpected "+(0,a.getTokenDesc)(n))}function Z(e,t,n,r){X(e,t);for(var o=[n(e)];!Q(e,r);)o.push(n(e));return o}Y.prototype.toJSON=Y.prototype.inspect=function(){return{start:this.start,end:this.end}}},2347:function(e,t,n){var r=n(2346).parse;function o(e){return e.replace(/[\s,]+/g," ").trim()}var a={},i={};function s(e){return o(e.source.body.substring(e.start,e.end))}var u=!0;function l(e){var t=o(e);if(a[t])return a[t];var n=r(e);if(!n||"Document"!==n.kind)throw new Error("Not a valid GraphQL document.");return n=function e(t,n){var r=Object.prototype.toString.call(t);if("[object Array]"===r)return t.map(function(t){return e(t,n)});if("[object Object]"!==r)throw new Error("Unexpected input.");n&&t.loc&&delete t.loc,t.loc&&(delete t.loc.startToken,delete t.loc.endToken);var o,a,i,s=Object.keys(t);for(o in s)s.hasOwnProperty(o)&&(a=t[s[o]],"[object Object]"!==(i=Object.prototype.toString.call(a))&&"[object Array]"!==i||(t[s[o]]=e(a,!0)));return t}(n=function(e){for(var t={},n=[],r=0;r<e.definitions.length;r++){var o=e.definitions[r];if("FragmentDefinition"===o.kind){var a=o.name.value,l=s(o.loc);i.hasOwnProperty(a)&&!i[a][l]?(u&&console.warn("Warning: fragment with name "+a+" already exists.\ngraphql-tag enforces all fragment names across your application to be unique; read more about\nthis in the docs: http://dev.apollodata.com/core/fragments.html#unique-names"),i[a][l]=!0):i.hasOwnProperty(a)||(i[a]={},i[a][l]=!0),t[l]||(t[l]=!0,n.push(o))}else n.push(o)}return e.definitions=n,e}(n),!1),a[t]=n,n}function c(){for(var e=Array.prototype.slice.call(arguments),t=e[0],n="string"==typeof t?t:t[0],r=1;r<e.length;r++)e[r]&&e[r].kind&&"Document"===e[r].kind?n+=e[r].loc.source.body:n+=e[r],n+=t[r];return l(n)}c.default=c,c.resetCaches=function(){a={},i={}},c.disableFragmentWarnings=function(){u=!1},e.exports=c},2349:function(e,t,n){"use strict";var r=n(0),o=n(2),a=n(30),i=n(39),s=n.n(i),u=n(124),l=n(92),c=n(1),f=n.n(c),p=n(22),d=n(24),h=n(19),y=n(8),m=n(26),b=n.n(m),v=n(2277),g=n(337),w=n(153),k=n(11),E=n(85),S=n(9),O=n.n(S),_=n(338),C=n(5),x=n.n(C),P=n(3),D=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function T(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function j(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var R=function(e){function t(e){T(this,t);var n=A(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.state=n._initialState(e),n}return j(t,r["Component"]),D(t,[{key:"_initialState",value:function(e){var t=e?this._getCurrentPosition(e):{};if(t.collateral){var n=y.a.get_asset_amount(t.debt,e.quote_asset),r=y.a.get_asset_amount(t.collateral,e.backing_asset);return{short_amount:n?n.toString():null,collateral:r?r.toString():null,collateral_ratio:this._getCollateralRatio(n,r),errors:this._getInitialErrors(),isValid:!1,original_position:{debt:n,collateral:r}}}return{short_amount:0,collateral:0,collateral_ratio:this._getInitialCollateralRatio(e),errors:this._getInitialErrors(),isValid:!1,original_position:{debt:0,collateral:0}}}},{key:"componentDidMount",value:function(){var e=this._initialState(this.props);this.setState(e),this._setUpdatedPosition(e)}},{key:"shouldComponentUpdate",value:function(e,t){return!(y.a.are_equal_shallow(t,this.state)&&x.a.is(e.quote_asset,this.props.quote_asset)&&!e.backing_asset.get("symbol")!==this.props.backing_asset.get("symbol")&&x.a.is(e.account,this.props.account)&&x.a.is(e.call_orders,this.props.call_orders))}},{key:"componentWillReceiveProps",value:function(e){e.account===this.props.account&&e.hasCallOrders===this.props.hasCallOrders&&e.quote_asset.get("id")===this.props.quote_asset.get("id")||this.setState(this._initialState(e))}},{key:"_getInitialErrors",value:function(){return{collateral_balance:null,ratio_too_high:null}}},{key:"confirmClicked",value:function(e){e.preventDefault(),s.a.publish(this.props.modalId,"close")}},{key:"_onBorrowChange",value:function(e){var t=this._getFeedPrice(),n=e.amount.replace(/,/g,""),r={short_amount:n,collateral:(this.state.collateral_ratio*(n/t)).toFixed(this.props.backing_asset.get("precision")),collateral_ratio:this.state.collateral_ratio};this.setState(r),this._validateFields(r),this._setUpdatedPosition(r)}},{key:"_onCollateralChange",value:function(e){var t=e.amount.replace(/,/g,""),n=this._getFeedPrice(),r=t/(this.state.short_amount/n),o=this._isPredictionMarket(this.props)?{short_amount:t,collateral:t,collateral_ratio:1}:{short_amount:this.state.short_amount,collateral:t,collateral_ratio:Object(a.isFinite)(r)?r:this._getInitialCollateralRatio(this.props)};this.setState(o),this._validateFields(o),this._setUpdatedPosition(o)}},{key:"_onRatioChange",value:function(e){var t=this._getFeedPrice(),n=e.target.value,r={short_amount:this.state.short_amount,collateral:(this.state.short_amount/t*n).toFixed(this.props.backing_asset.get("precision")),collateral_ratio:n};this.setState(r),this._validateFields(r),this._setUpdatedPosition(r)}},{key:"_setUpdatedPosition",value:function(e){this.setState({newPosition:parseFloat(e.short_amount)/parseFloat(e.collateral)})}},{key:"_validateFields",value:function(e){var t=this._getInitialErrors(),n=this.state.original_position,r=this.props.backing_balance?this.props.backing_balance.toJS():{balance:0};parseFloat(e.collateral)-n.collateral>y.a.get_asset_amount(r.balance,this.props.backing_asset.toJS())&&(t.collateral_balance=O.a.translate("borrow.errors.collateral"));var o=e.short_amount>=0&&e.collateral>=0&&(e.short_amount!=n.debt||e.collateral!=n.collateral),a=this.props.quote_asset.getIn(["bitasset","current_feed","maintenance_collateral_ratio"])/1e3;parseFloat(e.collateral_ratio)<(this._isPredictionMarket(this.props)?1:a)?(t.below_maintenance=O.a.translate("borrow.errors.below",{mr:a}),o=!1):parseFloat(e.collateral_ratio)<(this._isPredictionMarket(this.props)?1:a+.5)&&(t.close_maintenance=O.a.translate("borrow.errors.close",{mr:a}),o=!0),this.setState({errors:t,isValid:o})}},{key:"_onSubmit",value:function(e){e.preventDefault();var t=y.a.get_asset_precision(this.props.quote_asset.get("precision")),n=y.a.get_asset_precision(this.props.backing_asset.get("precision")),r=this._getCurrentPosition(this.props),o=w.a.new_transaction();o.add_type_operation("call_order_update",{fee:{amount:0,asset_id:0},funding_account:this.props.account.get("id"),delta_collateral:{amount:parseInt(this.state.collateral*n-r.collateral,10),asset_id:this.props.backing_asset.get("id")},delta_debt:{amount:parseInt(this.state.short_amount*t-r.debt,10),asset_id:this.props.quote_asset.get("id")}}),k.a.process_transaction(o,null,!0).catch(function(e){}),s.a.publish(this.props.modalId,"close")}},{key:"_getCurrentPosition",value:function(e){var t={collateral:null,debt:null};if(e&&e.hasCallOrders&&e.call_orders)for(var n in e.call_orders)e.call_orders.hasOwnProperty(n)&&e.call_orders[n]&&e.quote_asset.get("id")===e.call_orders[n].getIn(["call_price","quote","asset_id"])&&(t=e.call_orders[n].toJS());return t}},{key:"_getFeedPrice",value:function(){return this.props?this._isPredictionMarket(this.props)?1:1/y.a.get_asset_price(this.props.quote_asset.getIn(["bitasset","current_feed","settlement_price","quote","amount"]),this.props.backing_asset,this.props.quote_asset.getIn(["bitasset","current_feed","settlement_price","base","amount"]),this.props.quote_asset):1}},{key:"_getInitialCollateralRatio",value:function(e){return this._isPredictionMarket(e)?1:0}},{key:"_getCollateralRatio",value:function(e,t){return t/(e/this._getFeedPrice())}},{key:"_isPredictionMarket",value:function(e){return e.quote_asset.getIn(["bitasset","is_prediction_market"])}},{key:"render",value:function(){var e=this,t=this.props,n=t.quote_asset,o=t.bitasset_balance,a=t.backing_asset,i=t.backing_balance,s=this.state,u=s.short_amount,c=s.collateral,p=s.collateral_ratio,d=s.errors,m=s.isValid,w=y.a.get_asset_precision(this.props.quote_asset.get("precision")),k=y.a.get_asset_precision(this.props.backing_asset.get("precision"));p&&!isNaN(p)&&p>0&&p<1e3||(p=0),o=o?o.toJS():{balance:0,id:null},i=i?i.toJS():{balance:0,id:null};var S=b()("form-group",{"has-error":d.collateral_balance}),O=b()("form-group",{"has-error":d.below_maintenance},{"has-warning":d.close_maintenance}),C=b()("button",{disabled:d.collateral_balance||!m},{success:m}),x=this._getCurrentPosition(this.props),D=i.id?P.b.getObject(i.id):null,T=(D?D.get("balance"):0)-parseInt(this.state.collateral*k-x.collateral,10),A=r.createElement("span",null,r.createElement(f.a,{component:"span",content:"transfer.available"}),":"," ",o.id?r.createElement(g.a,{balance:o.id}):r.createElement(h.a,{amount:0,asset:n.get("id")})),j=r.createElement("span",null,r.createElement(f.a,{component:"span",content:"transfer.available"}),":"," ",i.id?r.createElement(h.a,{amount:T,asset:a.get("id")}):r.createElement(h.a,{amount:0,asset:a.get("id")})),R=this._getFeedPrice(),F=this.props.quote_asset.getIn(["bitasset","current_feed","maintenance_collateral_ratio"])/1e3,N=(this.props.quote_asset.getIn(["bitasset","current_feed","maximum_short_squeeze_ratio"]),this._isPredictionMarket(this.props));return!N&&isNaN(R)?r.createElement("div",null,r.createElement("form",{className:"grid-container text-center no-overflow",noValidate:!0},r.createElement(f.a,{component:"h3",content:"borrow.no_valid",asset_symbol:n.get("symbol")})),r.createElement("div",{className:"grid-content button-group text-center no-overflow"},r.createElement(l.a,{close:this.props.modalId},r.createElement("div",{className:" button warning"},r.createElement(f.a,{content:"account.perm.cancel"}))))):r.createElement("div",null,r.createElement("form",{className:"grid-container small-10 small-offset-1 no-overflow",noValidate:!0},r.createElement(f.a,{component:"h3",content:"borrow.title",asset_symbol:n.get("symbol")}),r.createElement("div",{style:{textAlign:"left"}},this.props.hide_help?null:r.createElement(_.a,{path:"components/"+(N?"BorrowModalPrediction":"BorrowModal"),debt:n.get("symbol"),collateral:a.get("symbol"),borrower:this.props.account.get("name"),mr:F}),N?null:r.createElement("div",{style:{paddingBottom:"1rem"}},r.createElement("div",{className:"borrow-price-feeds"},r.createElement("span",{className:"borrow-price-label"},r.createElement(f.a,{content:"transaction.feed_price"}),": "),r.createElement(E.a,{noPopOver:!0,quote_amount:n.getIn(["bitasset","current_feed","settlement_price","base","amount"]),quote_asset:n.getIn(["bitasset","current_feed","settlement_price","base","asset_id"]),base_asset:n.getIn(["bitasset","current_feed","settlement_price","quote","asset_id"]),base_amount:n.getIn(["bitasset","current_feed","settlement_price","quote","amount"])})),r.createElement("b",null),r.createElement("div",{className:"borrow-price-final "+(d.below_maintenance?"has-error":d.close_maintenance?"has-warning":"")},r.createElement("span",{className:"borrow-price-label"},r.createElement(f.a,{content:"exchange.your_price"}),": "),this.state.newPosition?r.createElement(E.a,{noPopOver:!0,quote_amount:F*this.state.short_amount*w,quote_asset:n.get("id"),base_asset:a.get("id"),base_amount:this.state.collateral*k}):null)),r.createElement("div",{className:"form-group"},r.createElement(v.a,{label:"transaction.borrow_amount",amount:u.toString(),onChange:this._onBorrowChange.bind(this),asset:n.get("id"),assets:[n.get("id")],display_balance:A,placeholder:"0.0",tabIndex:1})),r.createElement("div",{className:S},r.createElement(v.a,{label:"transaction.collateral",amount:c.toString(),onChange:this._onCollateralChange.bind(this),asset:a.get("id"),assets:[a.get("id")],display_balance:j,placeholder:"0.0",tabIndex:1}),d.collateral_balance?r.createElement("div",{style:{paddingTop:"0.5rem"}},d.collateral_balance):null),N?null:r.createElement("div",{className:O},r.createElement(f.a,{component:"label",content:"borrow.coll_ratio"}),r.createElement("input",{min:"0",max:"6",step:"0.05",onChange:this._onRatioChange.bind(this),value:p,type:"range",disabled:!u}),r.createElement("div",{className:"inline-block"},y.a.format_number(p,2)),d.below_maintenance||d.close_maintenance?r.createElement("div",{style:{maxWidth:"calc(100% - 50px)"},className:"float-right"},d.below_maintenance,d.close_maintenance):null),r.createElement("div",{className:"no-padding grid-content button-group no-overflow"},r.createElement("div",{onClick:this._onSubmit.bind(this),href:!0,className:C},r.createElement(f.a,{content:"borrow.adjust"})),r.createElement("div",{onClick:function(t){t.preventDefault(),e.setState(e._initialState(e.props))},href:!0,className:"button info"},r.createElement(f.a,{content:"wallet.reset"}))))))}}]),t}();R.propTypes={quote_asset:p.a.ChainAsset.isRequired,bitasset_balance:p.a.ChainObject,backing_asset:p.a.ChainAsset.isRequired,backing_balance:p.a.ChainObject,call_orders:p.a.ChainObjectsList,hasCallOrders:o.bool},R=Object(d.a)(R,{keep_updating:!0});var F=function(e){function t(){T(this,t);var e=A(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={smallScreen:!1},e}return j(t,r["Component"]),D(t,[{key:"show",value:function(){var e="borrow_modal_"+this.props.quote_asset;s.a.publish(e,"open")}},{key:"componentWillMount",value:function(){this.setState({smallScreen:window.innerHeight<=800})}},{key:"render",value:function(){var e=this.props,t=e.quote_asset,n=e.backing_asset,o=e.account,a="borrow_modal_"+t,i=o.get("balances").toJS(),s=void 0,l=void 0;if(i)for(var c in i)c===n&&(s=i[c]),c===t&&(l=i[c]);return r.createElement(u.a,{id:a,overlay:!0,ref:a},r.createElement("div",{className:"grid-block vertical"},r.createElement(R,{quote_asset:t,call_orders:o.get("call_orders"),hasCallOrders:o.get("call_orders")&&o.get("call_orders").size>0,modalId:a,bitasset_balance:l,backing_balance:s,backing_asset:n,hide_help:this.state.smallScreen,account:o})))}}]),t}();t.a=F},2360:function(e,t,n){"use strict";var r=n(2311).root.Symbol;t.rxSubscriber="function"==typeof r&&"function"==typeof r.for?r.for("rxSubscriber"):"@@rxSubscriber",t.$$rxSubscriber=t.rxSubscriber},2361:function(e,t,n){"use strict";t.errorObject={e:{}}},2362:function(e,t,n){"use strict";t.isFunction=function(e){return"function"==typeof e}},2363:function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.getAxisCanvas=function(e){return e.axes},t.getMouseCanvas=function(e){return e.mouseCoord};var i=n(0),s=c(i),u=c(n(2)),l=n(2274);function c(e){return e&&e.__esModule?e:{default:e}}var f={mouseleave:"mousemove",panend:"pan",pinchzoom:"pan",mousedown:"mousemove",click:"mousemove",contextmenu:"mousemove",dblclick:"mousemove",dragstart:"drag",dragend:"drag",dragcancel:"drag"},p=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));o.drawOnCanvas=o.drawOnCanvas.bind(o),o.getMoreProps=o.getMoreProps.bind(o),o.listener=o.listener.bind(o),o.draw=o.draw.bind(o),o.updateMoreProps=o.updateMoreProps.bind(o),o.evaluateType=o.evaluateType.bind(o),o.isHover=o.isHover.bind(o),o.preCanvasDraw=o.preCanvasDraw.bind(o),o.postCanvasDraw=o.postCanvasDraw.bind(o),o.getPanConditions=o.getPanConditions.bind(o),o.shouldTypeProceed=o.shouldTypeProceed.bind(o),o.preEvaluate=o.preEvaluate.bind(o);var a=n.generateSubscriptionId;return o.suscriberId=a(),o.moreProps={},o.state={updateCount:0},o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),a(t,[{key:"updateMoreProps",value:function(e){var t=this;Object.keys(e).forEach(function(n){t.moreProps[n]=e[n]})}},{key:"shouldTypeProceed",value:function(){return!0}},{key:"preEvaluate",value:function(){}},{key:"listener",value:function(e,t,n,r){(0,l.isDefined)(t)&&this.updateMoreProps(t),this.evaluationInProgress=!0,this.evaluateType(e,r),this.evaluationInProgress=!1}},{key:"evaluateType",value:function(e,t){var n=f[e]||e;if(this.props.drawOn.indexOf(n)>-1&&(this.preEvaluate(e,this.moreProps,t),this.shouldTypeProceed(e,this.moreProps)))switch(e){case"zoom":case"mouseenter":break;case"mouseleave":this.moreProps.hovering=!1;var r=this.getMoreProps();this.props.onUnHover&&this.props.onUnHover(r,t);break;case"contextmenu":this.props.onContextMenu&&this.props.onContextMenu(this.getMoreProps(),t),this.moreProps.hovering&&this.props.onContextMenuWhenHover&&this.props.onContextMenuWhenHover(this.getMoreProps(),t);break;case"mousedown":this.props.onMouseDown&&this.props.onMouseDown(this.getMoreProps(),t);break;case"click":var o=this.getMoreProps();this.moreProps.hovering?this.props.onClickWhenHover(o,t):this.props.onClickOutside(o,t),this.props.onClick&&this.props.onClick(o,t);break;case"mousemove":var a=this.moreProps.hovering;this.moreProps.hovering=this.isHover(t);var i=this.context,s=i.amIOnTop,u=i.setCursorClass;this.moreProps.hovering&&!this.props.selected&&s(this.suscriberId)&&(0,l.isDefined)(this.props.onHover)?(u("react-stockcharts-pointer-cursor"),this.iSetTheCursorClass=!0):this.moreProps.hovering&&this.props.selected&&s(this.suscriberId)?(u(this.props.interactiveCursorClass),this.iSetTheCursorClass=!0):a&&!this.moreProps.hovering&&this.iSetTheCursorClass&&(this.iSetTheCursorClass=!1,u(null));var c=this.getMoreProps();this.moreProps.hovering&&!a&&this.props.onHover&&this.props.onHover(c,t),a&&!this.moreProps.hovering&&this.props.onUnHover&&this.props.onUnHover(c,t),this.props.onMouseMove&&this.props.onMouseMove(c,t);break;case"dblclick":var p=this.getMoreProps();this.props.onDoubleClick&&this.props.onDoubleClick(p,t),this.moreProps.hovering&&this.props.onDoubleClickWhenHover&&this.props.onDoubleClickWhenHover(p,t);break;case"pan":this.moreProps.hovering=!1,this.props.onPan&&this.props.onPan(this.getMoreProps(),t);break;case"panend":this.props.onPanEnd&&this.props.onPanEnd(this.getMoreProps(),t);break;case"dragstart":if(this.getPanConditions().draggable)(0,this.context.amIOnTop)(this.suscriberId)&&(this.dragInProgress=!0,this.props.onDragStart(this.getMoreProps(),t));this.someDragInProgress=!0;break;case"drag":this.dragInProgress&&this.props.onDrag&&this.props.onDrag(this.getMoreProps(),t);break;case"dragend":this.dragInProgress&&this.props.onDragComplete&&this.props.onDragComplete(this.getMoreProps(),t),this.dragInProgress=!1,this.someDragInProgress=!1;break;case"dragcancel":if(this.dragInProgress||this.iSetTheCursorClass)(0,this.context.setCursorClass)(null)}}},{key:"isHover",value:function(e){return!!(0,l.isDefined)(this.props.isHover)&&this.props.isHover(this.getMoreProps(),e)}},{key:"getPanConditions",value:function(){return{draggable:!(!this.props.selected||!this.moreProps.hovering)||this.props.enableDragOnHover&&this.moreProps.hovering,panEnabled:!this.props.disablePan}}},{key:"draw",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{force:!1},t=e.trigger,n=e.force,r=f[t]||t;if(this.props.drawOn.indexOf(r)>-1||this.props.selected||n){var o=this.context.chartCanvasType,a=this.props.canvasDraw;if((0,l.isNotDefined)(a)||"svg"===o){var i=this.state.updateCount;this.setState({updateCount:i+1})}else this.drawOnCanvas()}}},{key:"componentWillMount",value:function(){var e=this.context,t=e.subscribe,n=e.chartId,r=this.props,o=r.clip,a=r.edgeClip;t(this.suscriberId,{chartId:n,clip:o,edgeClip:a,listener:this.listener,draw:this.draw,getPanConditions:this.getPanConditions}),this.componentWillReceiveProps(this.props,this.context)}},{key:"componentWillUnmount",value:function(){((0,this.context.unsubscribe)(this.suscriberId),this.iSetTheCursorClass)&&(0,this.context.setCursorClass)(null)}},{key:"componentDidMount",value:function(){this.componentDidUpdate(this.props)}},{key:"componentDidUpdate",value:function(e){var t=this.context.chartCanvasType,n=this.props,r=n.canvasDraw,o=n.selected,a=n.interactiveCursorClass;if(e.selected!==o){var i=this.context.setCursorClass;o&&this.moreProps.hovering?(this.iSetTheCursorClass=!0,i(a)):(this.iSetTheCursorClass=!1,i(null))}(0,l.isDefined)(r)&&!this.evaluationInProgress&&"svg"!==t&&(this.updateMoreProps(this.moreProps),this.drawOnCanvas())}},{key:"componentWillReceiveProps",value:function(e,t){var n=t.xScale,r=t.plotData,a=t.chartConfig,i=t.getMutableState;this.props.debug(t),this.moreProps=o({},this.moreProps,i(),{xScale:n,plotData:r,chartConfig:a})}},{key:"getMoreProps",value:function(){var e=this.context,t=e.xScale,n=e.plotData,r=e.chartConfig,a=e.morePropsDecorator,i=e.xAccessor,s=e.displayXAccessor,u=e.width,c=e.height,f=this.context,p=f.chartId,d=f.fullData,h=o({xScale:t,plotData:n,chartConfig:r,xAccessor:i,displayXAccessor:s,width:u,height:c,chartId:p,fullData:d},this.moreProps);return(a||l.identity)(h)}},{key:"preCanvasDraw",value:function(){}},{key:"postCanvasDraw",value:function(){}},{key:"drawOnCanvas",value:function(){var e=this.props,t=e.canvasDraw,n=e.canvasToDraw,r=this.context.getCanvasContexts,o=this.getMoreProps(),a=n(r());this.preCanvasDraw(a,o),t(a,o),this.postCanvasDraw(a,o)}},{key:"render",value:function(){var e=this.context,t=e.chartCanvasType,n=e.chartId,r=this.props,o=r.canvasDraw,a=r.clip,i=r.svgDraw;if((0,l.isDefined)(o)&&"svg"!==t)return null;var u=(0,l.isDefined)(n)?"-"+n:"",c=a?{clipPath:"url(#chart-area-clip"+u+")"}:null;return s.default.createElement("g",{style:c},i(this.getMoreProps()))}}]),t}();p.propTypes={svgDraw:u.default.func.isRequired,canvasDraw:u.default.func,drawOn:u.default.array.isRequired,clip:u.default.bool.isRequired,edgeClip:u.default.bool.isRequired,interactiveCursorClass:u.default.string,selected:u.default.bool.isRequired,enableDragOnHover:u.default.bool.isRequired,disablePan:u.default.bool.isRequired,canvasToDraw:u.default.func.isRequired,isHover:u.default.func,onClick:u.default.func,onClickWhenHover:u.default.func,onClickOutside:u.default.func,onPan:u.default.func,onPanEnd:u.default.func,onDragStart:u.default.func,onDrag:u.default.func,onDragComplete:u.default.func,onDoubleClick:u.default.func,onDoubleClickWhenHover:u.default.func,onContextMenu:u.default.func,onContextMenuWhenHover:u.default.func,onMouseMove:u.default.func,onMouseDown:u.default.func,onHover:u.default.func,onUnHover:u.default.func,debug:u.default.func},p.defaultProps={svgDraw:(0,l.functor)(null),draw:[],canvasToDraw:function(e){return e.mouseCoord},clip:!0,edgeClip:!1,selected:!1,disablePan:!1,enableDragOnHover:!1,onClickWhenHover:l.noop,onClickOutside:l.noop,onDragStart:l.noop,onMouseMove:l.noop,onMouseDown:l.noop,debug:l.noop},p.contextTypes={width:u.default.number.isRequired,height:u.default.number.isRequired,margin:u.default.object.isRequired,chartId:u.default.oneOfType([u.default.number,u.default.string]),getCanvasContexts:u.default.func,chartCanvasType:u.default.string,xScale:u.default.func.isRequired,xAccessor:u.default.func.isRequired,displayXAccessor:u.default.func.isRequired,plotData:u.default.array.isRequired,fullData:u.default.array.isRequired,chartConfig:u.default.oneOfType([u.default.array,u.default.object]).isRequired,morePropsDecorator:u.default.func,generateSubscriptionId:u.default.func,getMutableState:u.default.func.isRequired,amIOnTop:u.default.func.isRequired,subscribe:u.default.func.isRequired,unsubscribe:u.default.func.isRequired,setCursorClass:u.default.func.isRequired},t.default=p},2364:function(e,t,n){var r=n(2327),o=n(2325),a=n(2324),i=0,s=1,u=2,l=3,c=4,f=5,p=6,d=7,h={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(e){for(var t=e<<10;h.getBCHDigit(t)-h.getBCHDigit(h.G15)>=0;)t^=h.G15<<h.getBCHDigit(t)-h.getBCHDigit(h.G15);return(e<<10|t)^h.G15_MASK},getBCHTypeNumber:function(e){for(var t=e<<12;h.getBCHDigit(t)-h.getBCHDigit(h.G18)>=0;)t^=h.G18<<h.getBCHDigit(t)-h.getBCHDigit(h.G18);return e<<12|t},getBCHDigit:function(e){for(var t=0;0!=e;)t++,e>>>=1;return t},getPatternPosition:function(e){return h.PATTERN_POSITION_TABLE[e-1]},getMask:function(e,t,n){switch(e){case i:return(t+n)%2==0;case s:return t%2==0;case u:return n%3==0;case l:return(t+n)%3==0;case c:return(Math.floor(t/2)+Math.floor(n/3))%2==0;case f:return t*n%2+t*n%3==0;case p:return(t*n%2+t*n%3)%2==0;case d:return(t*n%3+(t+n)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}},getErrorCorrectPolynomial:function(e){for(var t=new o([1],0),n=0;n<e;n++)t=t.multiply(new o([1,a.gexp(n)],0));return t},getLengthInBits:function(e,t){if(1<=t&&t<10)switch(e){case r.MODE_NUMBER:return 10;case r.MODE_ALPHA_NUM:return 9;case r.MODE_8BIT_BYTE:case r.MODE_KANJI:return 8;default:throw new Error("mode:"+e)}else if(t<27)switch(e){case r.MODE_NUMBER:return 12;case r.MODE_ALPHA_NUM:return 11;case r.MODE_8BIT_BYTE:return 16;case r.MODE_KANJI:return 10;default:throw new Error("mode:"+e)}else{if(!(t<41))throw new Error("type:"+t);switch(e){case r.MODE_NUMBER:return 14;case r.MODE_ALPHA_NUM:return 13;case r.MODE_8BIT_BYTE:return 16;case r.MODE_KANJI:return 12;default:throw new Error("mode:"+e)}}},getLostPoint:function(e){for(var t=e.getModuleCount(),n=0,r=0;r<t;r++)for(var o=0;o<t;o++){for(var a=0,i=e.isDark(r,o),s=-1;s<=1;s++)if(!(r+s<0||t<=r+s))for(var u=-1;u<=1;u++)o+u<0||t<=o+u||0==s&&0==u||i==e.isDark(r+s,o+u)&&a++;a>5&&(n+=3+a-5)}for(r=0;r<t-1;r++)for(o=0;o<t-1;o++){var l=0;e.isDark(r,o)&&l++,e.isDark(r+1,o)&&l++,e.isDark(r,o+1)&&l++,e.isDark(r+1,o+1)&&l++,0!=l&&4!=l||(n+=3)}for(r=0;r<t;r++)for(o=0;o<t-6;o++)e.isDark(r,o)&&!e.isDark(r,o+1)&&e.isDark(r,o+2)&&e.isDark(r,o+3)&&e.isDark(r,o+4)&&!e.isDark(r,o+5)&&e.isDark(r,o+6)&&(n+=40);for(o=0;o<t;o++)for(r=0;r<t-6;r++)e.isDark(r,o)&&!e.isDark(r+1,o)&&e.isDark(r+2,o)&&e.isDark(r+3,o)&&e.isDark(r+4,o)&&!e.isDark(r+5,o)&&e.isDark(r+6,o)&&(n+=40);var c=0;for(o=0;o<t;o++)for(r=0;r<t;r++)e.isDark(r,o)&&c++;return n+=10*(Math.abs(100*c/t/t-50)/5)}};e.exports=h},2365:function(e,t){function n(){this.buffer=new Array,this.length=0}n.prototype={get:function(e){var t=Math.floor(e/8);return 1==(this.buffer[t]>>>7-e%8&1)},put:function(e,t){for(var n=0;n<t;n++)this.putBit(1==(e>>>t-n-1&1))},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}},e.exports=n},2366:function(e,t,n){var r=n(2326);function o(e,t){this.totalCount=e,this.dataCount=t}o.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],o.getRSBlocks=function(e,t){var n=o.getRsBlockTable(e,t);if(void 0==n)throw new Error("bad rs block @ typeNumber:"+e+"/errorCorrectLevel:"+t);for(var r=n.length/3,a=new Array,i=0;i<r;i++)for(var s=n[3*i+0],u=n[3*i+1],l=n[3*i+2],c=0;c<s;c++)a.push(new o(u,l));return a},o.getRsBlockTable=function(e,t){switch(t){case r.L:return o.RS_BLOCK_TABLE[4*(e-1)+0];case r.M:return o.RS_BLOCK_TABLE[4*(e-1)+1];case r.Q:return o.RS_BLOCK_TABLE[4*(e-1)+2];case r.H:return o.RS_BLOCK_TABLE[4*(e-1)+3];default:return}},e.exports=o},2367:function(e,t,n){var r=n(2327);function o(e){this.mode=r.MODE_8BIT_BYTE,this.data=e}o.prototype={getLength:function(e){return this.data.length},write:function(e){for(var t=0;t<this.data.length;t++)e.put(this.data.charCodeAt(t),8)}},e.exports=o},2368:function(e,t,n){var r=n(2367),o=n(2366),a=n(2365),i=n(2364),s=n(2325);function u(e,t){this.typeNumber=e,this.errorCorrectLevel=t,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var l=u.prototype;l.addData=function(e){var t=new r(e);this.dataList.push(t),this.dataCache=null},l.isDark=function(e,t){if(e<0||this.moduleCount<=e||t<0||this.moduleCount<=t)throw new Error(e+","+t);return this.modules[e][t]},l.getModuleCount=function(){return this.moduleCount},l.make=function(){if(this.typeNumber<1){var e=1;for(e=1;e<40;e++){for(var t=o.getRSBlocks(e,this.errorCorrectLevel),n=new a,r=0,s=0;s<t.length;s++)r+=t[s].dataCount;for(s=0;s<this.dataList.length;s++){var u=this.dataList[s];n.put(u.mode,4),n.put(u.getLength(),i.getLengthInBits(u.mode,e)),u.write(n)}if(n.getLengthInBits()<=8*r)break}this.typeNumber=e}this.makeImpl(!1,this.getBestMaskPattern())},l.makeImpl=function(e,t){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++){this.modules[n]=new Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++)this.modules[n][r]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(e,t),this.typeNumber>=7&&this.setupTypeNumber(e),null==this.dataCache&&(this.dataCache=u.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,t)},l.setupPositionProbePattern=function(e,t){for(var n=-1;n<=7;n++)if(!(e+n<=-1||this.moduleCount<=e+n))for(var r=-1;r<=7;r++)t+r<=-1||this.moduleCount<=t+r||(this.modules[e+n][t+r]=0<=n&&n<=6&&(0==r||6==r)||0<=r&&r<=6&&(0==n||6==n)||2<=n&&n<=4&&2<=r&&r<=4)},l.getBestMaskPattern=function(){for(var e=0,t=0,n=0;n<8;n++){this.makeImpl(!0,n);var r=i.getLostPoint(this);(0==n||e>r)&&(e=r,t=n)}return t},l.createMovieClip=function(e,t,n){var r=e.createEmptyMovieClip(t,n);this.make();for(var o=0;o<this.modules.length;o++)for(var a=1*o,i=0;i<this.modules[o].length;i++){var s=1*i;this.modules[o][i]&&(r.beginFill(0,100),r.moveTo(s,a),r.lineTo(s+1,a),r.lineTo(s+1,a+1),r.lineTo(s,a+1),r.endFill())}return r},l.setupTimingPattern=function(){for(var e=8;e<this.moduleCount-8;e++)null==this.modules[e][6]&&(this.modules[e][6]=e%2==0);for(var t=8;t<this.moduleCount-8;t++)null==this.modules[6][t]&&(this.modules[6][t]=t%2==0)},l.setupPositionAdjustPattern=function(){for(var e=i.getPatternPosition(this.typeNumber),t=0;t<e.length;t++)for(var n=0;n<e.length;n++){var r=e[t],o=e[n];if(null==this.modules[r][o])for(var a=-2;a<=2;a++)for(var s=-2;s<=2;s++)this.modules[r+a][o+s]=-2==a||2==a||-2==s||2==s||0==a&&0==s}},l.setupTypeNumber=function(e){for(var t=i.getBCHTypeNumber(this.typeNumber),n=0;n<18;n++){var r=!e&&1==(t>>n&1);this.modules[Math.floor(n/3)][n%3+this.moduleCount-8-3]=r}for(n=0;n<18;n++){r=!e&&1==(t>>n&1);this.modules[n%3+this.moduleCount-8-3][Math.floor(n/3)]=r}},l.setupTypeInfo=function(e,t){for(var n=this.errorCorrectLevel<<3|t,r=i.getBCHTypeInfo(n),o=0;o<15;o++){var a=!e&&1==(r>>o&1);o<6?this.modules[o][8]=a:o<8?this.modules[o+1][8]=a:this.modules[this.moduleCount-15+o][8]=a}for(o=0;o<15;o++){a=!e&&1==(r>>o&1);o<8?this.modules[8][this.moduleCount-o-1]=a:o<9?this.modules[8][15-o-1+1]=a:this.modules[8][15-o-1]=a}this.modules[this.moduleCount-8][8]=!e},l.mapData=function(e,t){for(var n=-1,r=this.moduleCount-1,o=7,a=0,s=this.moduleCount-1;s>0;s-=2)for(6==s&&s--;;){for(var u=0;u<2;u++)if(null==this.modules[r][s-u]){var l=!1;a<e.length&&(l=1==(e[a]>>>o&1)),i.getMask(t,r,s-u)&&(l=!l),this.modules[r][s-u]=l,-1==--o&&(a++,o=7)}if((r+=n)<0||this.moduleCount<=r){r-=n,n=-n;break}}},u.PAD0=236,u.PAD1=17,u.createData=function(e,t,n){for(var r=o.getRSBlocks(e,t),s=new a,l=0;l<n.length;l++){var c=n[l];s.put(c.mode,4),s.put(c.getLength(),i.getLengthInBits(c.mode,e)),c.write(s)}var f=0;for(l=0;l<r.length;l++)f+=r[l].dataCount;if(s.getLengthInBits()>8*f)throw new Error("code length overflow. ("+s.getLengthInBits()+">"+8*f+")");for(s.getLengthInBits()+4<=8*f&&s.put(0,4);s.getLengthInBits()%8!=0;)s.putBit(!1);for(;!(s.getLengthInBits()>=8*f||(s.put(u.PAD0,8),s.getLengthInBits()>=8*f));)s.put(u.PAD1,8);return u.createBytes(s,r)},u.createBytes=function(e,t){for(var n=0,r=0,o=0,a=new Array(t.length),u=new Array(t.length),l=0;l<t.length;l++){var c=t[l].dataCount,f=t[l].totalCount-c;r=Math.max(r,c),o=Math.max(o,f),a[l]=new Array(c);for(var p=0;p<a[l].length;p++)a[l][p]=255&e.buffer[p+n];n+=c;var d=i.getErrorCorrectPolynomial(f),h=new s(a[l],d.getLength()-1).mod(d);u[l]=new Array(d.getLength()-1);for(p=0;p<u[l].length;p++){var y=p+h.getLength()-u[l].length;u[l][p]=y>=0?h.get(y):0}}var m=0;for(p=0;p<t.length;p++)m+=t[p].totalCount;var b=new Array(m),v=0;for(p=0;p<r;p++)for(l=0;l<t.length;l++)p<a[l].length&&(b[v++]=a[l][p]);for(p=0;p<o;p++)for(l=0;l<t.length;l++)p<u[l].length&&(b[v++]=u[l][p]);return b},e.exports=u},2369:function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},2370:function(e,t,n){"use strict";var r=n(91),o=n(70),a=n(2369);e.exports=function(){function e(e,t,n,r,i,s){s!==a&&o(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=r,n.PropTypes=n,n}},2371:function(e,t,n){e.exports=n(2370)()},2372:function(e,t,n){"use strict";n.d(t,"b",function(){return O}),n.d(t,"c",function(){return S}),n.d(t,"a",function(){return _});var r=n(0),o=n(2),a=n(1109),i=n(64),s=n(8),u=n(1),l=n.n(u),c=n(2312),f=n(2288),p=n(80),d=n(51),h=n(3),y=n(37),m=n(2301),b=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function k(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var E={textAlign:"right"},S=function(e){function t(){return g(this,t),w(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return k(t,r["Component"]),b(t,[{key:"render",value:function(){var e=this.props,t=e.baseSymbol,n=e.quoteSymbol,o=e.dashboard,a=e.isMyAccount,i=e.settings,s=i?i.get("unit"):"1.3.0";return o?r.createElement("thead",null,r.createElement("tr",null,r.createElement("th",null,r.createElement(l.a,{content:"account.cyb_market"})),r.createElement("th",{style:E},r.createElement(l.a,{content:"exchange.price"})),r.createElement("th",{style:E},r.createElement(l.a,{content:"account.qty"})),r.createElement("th",{style:E},r.createElement(l.a,{content:"exchange.total"})),r.createElement("th",{style:E},r.createElement(l.a,{content:"exchange.order_value"})," (",r.createElement(p.a,{name:s}),")"),r.createElement("th",null,r.createElement(l.a,{content:"account.trade"})),a?r.createElement("th",null,r.createElement(l.a,{content:"wallet.cancel"})):null)):r.createElement("thead",null,r.createElement("tr",null,r.createElement("th",{className:"text-right"},r.createElement(l.a,{className:"header-sub-title",content:"exchange.price"})),r.createElement("th",{className:"text-right"},t?r.createElement("span",{className:"header-sub-title"},r.createElement(p.a,{dataPlace:"top",name:n})):null),r.createElement("th",{className:"text-right"},t?r.createElement("span",{className:"header-sub-title"},r.createElement(p.a,{dataPlace:"top",name:t})):null),r.createElement("th",{className:"text-right",style:{width:"28%"}},r.createElement(l.a,{className:"header-sub-title",content:"transaction.expiration"})),r.createElement("th",{style:{whiteSpace:"nowrap"}},r.createElement(l.a,{content:"wallet.cancel"}))))}}]),t}();S.defaultProps={quoteSymbol:null,baseSymbol:null};var O=function(e){function t(){return g(this,t),w(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return k(t,r["Component"]),b(t,[{key:"shouldComponentUpdate",value:function(e){return e.order.for_sale!==this.props.order.for_sale||e.order.id!==this.props.order.id||e.isMyAccount!==this.props.isMyAccount||e.quote!==this.props.quote||e.base!==this.props.base||e.order.market_base!==this.props.order.market_base}},{key:"render",value:function(){var e=this.props,t=e.base,n=e.quote,o=e.order,u=e.showSymbols,l=e.dashboard,f=e.isMyAccount,h=e.settings,y=o.isBid(),b=o.isCall(),v=(b?"orderHistoryCall":y?"orderHistoryBid":"orderHistoryAsk")+" text-right",g=u?r.createElement("span",null," "+t.get("symbol")+"/"+n.get("symbol")):null,w=u?" "+t.get("symbol"):null,k=u?" "+n.get("symbol"):null,S=h?h.get("unit"):"1.3.0";return l?r.createElement("tr",{key:o.id},r.createElement("td",{style:{textAlign:"center",paddingLeft:0,borderRight:"none"}},r.createElement(a.a,{to:"/asset/"+n.get("symbol")},r.createElement(p.a,{noTip:!0,name:n.get("symbol")})),"/",r.createElement(a.a,{to:"/asset/"+t.get("symbol")},r.createElement(p.a,{noTip:!0,name:t.get("symbol")}))),r.createElement("td",{className:v,style:E},r.createElement(c.a,{price:o.getPrice(),base:t,quote:n}),g),r.createElement("td",{style:E},s.a.format_number(o[y?"amountToReceive":"amountForSale"]().getAmount({real:!0}),n.get("precision"))," ",k),r.createElement("td",{style:E},s.a.format_number(o[y?"amountForSale":"amountToReceive"]().getAmount({real:!0}),t.get("precision"))," ",w),r.createElement("td",{className:"text-right"},r.createElement(m.b,{hide_asset:!0,amount:o.amountForSale().getAmount(),fromAsset:o.amountForSale().asset_id,noDecimals:!0,toAsset:S})),r.createElement("td",null,r.createElement(a.a,{to:"/market/"+n.get("symbol")+"_"+t.get("symbol")},r.createElement(d.a,{name:"trade",className:"icon-14px"}))),f?r.createElement("td",{className:"text-center",style:{padding:"2px 5px"}},b?null:r.createElement("a",{style:{marginRight:0},className:"order-cancel",onClick:this.props.onCancel},r.createElement(d.a,{name:"cross-circle",className:"icon-14px"}))):null):r.createElement("tr",{key:o.id},r.createElement("td",{className:v,style:{paddingLeft:10}},r.createElement(c.a,{price:o.getPrice(),base:t,quote:n}),g),r.createElement("td",{className:"text-right"},s.a.format_number(o[y?"amountToReceive":"amountForSale"]().getAmount({real:!0}),n.get("precision"))," ",k),r.createElement("td",{className:"text-right"},s.a.format_number(o[y?"amountForSale":"amountToReceive"]().getAmount({real:!0}),t.get("precision"))," ",w),r.createElement("td",{className:"text-right",style:{width:"28%"}},b?null:r.createElement(i.a,{value:o.expiration,format:"short"})),r.createElement("td",{className:"text-center",style:{padding:"2px 5px"}},b?null:r.createElement("a",{style:{marginRight:0},className:"order-cancel",onClick:this.props.onCancel},r.createElement(d.a,{name:"cross-circle",className:"icon-14px"}))))}}]),t}();O.defaultProps={showSymbols:!1};var _=function(e){function t(e){g(this,t);var n=w(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._getOrders=n._getOrders.bind(n),n}return k(t,r["Component"]),b(t,[{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(){}},{key:"_getOrders",value:function(){var e,t=this,n=this.props,r=n.currentAccount,o=n.base,a=n.quote,i=r.get("orders"),s=r.get("call_orders"),u=o.get("id"),l=a.get("id"),c=(v(e={},o.get("id"),{precision:o.get("precision")}),v(e,a.get("id"),{precision:a.get("precision")}),e),f=i.toArray().map(function(e){var t=h.b.getObject(e);if(!t)return null;var n=t.getIn(["sell_price","base","asset_id"]),r=t.getIn(["sell_price","quote","asset_id"]);return n===u&&r===l||n===l&&r===u?new y.d(t.toJS(),c,a.get("id")):void 0}).filter(function(e){return!!e}),p=s.toArray().map(function(e){var n=h.b.getObject(e);if(!n)return null;var r=n.getIn(["call_price","base","asset_id"]),o=n.getIn(["call_price","quote","asset_id"]);return r===u&&o===l||r===l&&o===u?t.props.feedPrice?new y.b(n.toJS(),c,a.get("id"),t.props.feedPrice):null:void 0}).filter(function(e){return!!e}).filter(function(e){return e.isMarginCalled()});return f.concat(p)}},{key:"render",value:function(){var e=this,t=this.props,n=t.base,o=t.quote,a=t.quoteSymbol,i=t.baseSymbol;if(!n||!o)return null;var s=this._getOrders(),u=r.createElement("tr",null,r.createElement("td",{style:{textAlign:"center"},colSpan:5},r.createElement(l.a,{content:"account.no_orders"}))),c=s.filter(function(e){return e.isBid()}).sort(function(e,t){return t.getPrice()-e.getPrice()}).map(function(t){var a=t.getPrice();return r.createElement(O,{price:a,key:t.id,order:t,base:n,quote:o,onCancel:e.props.onCancel.bind(e,t.id)})}),p=s.filter(function(e){return!e.isBid()}).sort(function(e,t){return e.getPrice()-t.getPrice()}).map(function(t){var a=t.getPrice();return r.createElement(O,{price:a,key:t.id,order:t,base:n,quote:o,onCancel:e.props.onCancel.bind(e,t.id)})}),d=[];return p.length&&(d=d.concat(p)),c.length&&(d=d.concat(c)),d.sort(function(e,t){return e.props.price-t.props.price}),r.createElement(r.Fragment,null,r.createElement("div",{className:"exchange-content-header"},r.createElement(l.a,{content:"exchange.my_orders"})),r.createElement("table",{className:"table order-table table-hover"},r.createElement(S,{type:"sell",baseSymbol:i,quoteSymbol:a})),r.createElement("div",{className:"grid-block no-padding market-right-padding _scroll-bar",ref:"asks",style:{overflow:"auto",maxHeight:720}},r.createElement("table",{style:{paddingBottom:5},className:"table order-table table-hover"},r.createElement(f.a,{component:"tbody",transitionName:"newrow"},d.length?d:u))))}}]),t}();_.defaultProps={base:{},quote:{},orders:{},quoteSymbol:"",baseSymbol:""},_.propTypes={base:o.object.isRequired,quote:o.object.isRequired,orders:o.object.isRequired,quoteSymbol:o.string.isRequired,baseSymbol:o.string.isRequired}},2382:function(e,t,n){"use strict";var r=n(2449),o=n(2447);t.async=new o.AsyncScheduler(r.AsyncAction)},2383:function(e,t,n){"use strict";t.isScheduler=function(e){return e&&"function"==typeof e.schedule}},2384:function(e,t,n){"use strict";var r=n(2287),o=n(2463),a=n(2460),i=n(2383);function s(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var n=Number.POSITIVE_INFINITY,s=null,u=e[e.length-1];return i.isScheduler(u)?(s=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(n=e.pop())):"number"==typeof u&&(n=e.pop()),null===s&&1===e.length&&e[0]instanceof r.Observable?e[0]:a.mergeAll(n)(new o.ArrayObservable(e,s))}t.merge=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return function(t){return t.lift.call(s.apply(void 0,[t].concat(e)))}},t.mergeStatic=s},2385:function(e,t,n){"use strict";var r=n(2311);function o(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}t.getSymbolObservable=o,t.observable=o(r.root),t.$$observable=t.observable},2386:function(e,t,n){"use strict";t.empty={closed:!0,next:function(e){},error:function(e){throw e},complete:function(){}}},2387:function(e,t,n){"use strict";var r,o=n(2361);function a(){try{return r.apply(this,arguments)}catch(e){return o.errorObject.e=e,o.errorObject}}t.tryCatch=function(e){return r=e,a}},2388:function(e,t,n){"use strict";t.isObject=function(e){return null!=e&&"object"==typeof e}},2389:function(e,t,n){"use strict";n.r(t),n.d(t,"Notification",function(){return o});var r=n(0),o=r.createClass({displayName:"Notification",getDefaultProps:function(){return{position:"top-right",color:"success",title:null,image:null,content:null,wrapperElement:"p"}},render:function(){var e="notification "+this.props.position+" "+this.props.color;e+=" "+(this.props.className||"");var t=null;return this.props.image&&(t=r.createElement("div",{className:"notification-icon"},r.createElement("img",{src:"{{ image }}"}))),r.createElement("div",{id:this.props.id,"data-closable":!0,className:e},r.createElement("a",{href:"#",className:"close-button",onClick:this.props.closeHandler},"×"),t,r.createElement("div",{className:"notification-content"},r.createElement("h1",null,this.props.title),r.createElement(this.props.wrapperElement,null,this.props.children)))}});t.default=o},2390:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.defaultFormatters={yearFormat:"%Y",quarterFormat:"%b %Y",monthFormat:"%b",weekFormat:"%d %b",dayFormat:"%a %d",hourFormat:"%_I %p",minuteFormat:"%I:%M %p",secondFormat:"%I:%M:%S %p",milliSecondFormat:"%L"},t.levelDefinition=[function(e,t,n){return e.startOfYear&&t.getFullYear()%12==0&&"yearFormat"},function(e,t,n){return e.startOfYear&&t.getFullYear()%4==0&&"yearFormat"},function(e,t,n){return e.startOfYear&&t.getFullYear()%2==0&&"yearFormat"},function(e,t,n){return e.startOfYear&&"yearFormat"},function(e,t,n){return e.startOfQuarter&&"quarterFormat"},function(e,t,n){return e.startOfMonth&&"monthFormat"},function(e,t,n){return e.startOfWeek&&"weekFormat"},function(e,t,n){return e.startOfDay&&n%2==0&&"dayFormat"},function(e,t,n){return e.startOfDay&&"dayFormat"},function(e,t,n){return e.startOfHalfDay&&"hourFormat"},function(e,t,n){return e.startOfQuarterDay&&"hourFormat"},function(e,t,n){return e.startOfEighthOfADay&&"hourFormat"},function(e,t,n){return e.startOfHour&&t.getHours()%2==0&&"hourFormat"},function(e,t,n){return e.startOfHour&&"hourFormat"},function(e,t,n){return e.startOf30Minutes&&"minuteFormat"},function(e,t,n){return e.startOf15Minutes&&"minuteFormat"},function(e,t,n){return e.startOf5Minutes&&"minuteFormat"},function(e,t,n){return e.startOfMinute&&"minuteFormat"},function(e,t,n){return e.startOf30Seconds&&"secondFormat"},function(e,t,n){return"secondFormat"}]},2391:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.default=function e(t,n){var l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(0,i.scaleLinear)();if((0,s.isNotDefined)(t))throw new Error("Use the discontinuousTimeScaleProvider to create financeDiscontinuousScale");function c(e){return l(e)}c.invert=function(e){var t=l.invert(e);return Math.round(1e4*t)/1e4};c.domain=function(e){return arguments.length?(l.domain(e),c):l.domain()};c.range=function(e){return arguments.length?(l.range(e),c):l.range()};c.rangeRound=function(e){return l.range(e)};c.clamp=function(e){return arguments.length?(l.clamp(e),c):l.clamp()};c.interpolate=function(e){return arguments.length?(l.interpolate(e),c):l.interpolate()};c.ticks=function(e,n){var i=l.ticks(e),c=(0,o.map)(),f=l.domain(),p=r(f,2),d=p[0],h=p[1],y=Math.max(Math.ceil(d),(0,s.head)(t).index)+Math.abs((0,s.head)(t).index),m=Math.min(Math.floor(h),(0,s.last)(t).index)+Math.abs((0,s.head)(t).index);Math.floor(h);for(var b=Math.ceil((m-y)/(h-d)*i.length),v=u;v>=0;v--){for(var g=c.get(v),w=(0,s.isNotDefined)(g)?[]:g.slice(),k=y;k<=m;k++)t[k].level===v&&w.push(t[k]);c.set(v,w)}for(var E=[],S=u;S>=0&&!(c.get(S).length+E.length>1.5*b);S--)E=E.concat(c.get(S).map(function(e){return e.index}));var O=E.sort(a.ascending);if(!n&&m-y>O.length){for(var _=(0,o.set)(O),C=Math.abs((0,s.head)(t).index),x=Math.ceil(1.5*(i.length>0?((0,s.last)(i)-(0,s.head)(i))/i.length/4:1)),P=0;P<O.length-1;P++)for(var D=P+1;D<O.length;D++)O[D]-O[P]<=x&&_.remove(t[O[P]+C].level>=t[O[D]+C].level?O[D]:O[P]);var T=_.values().map(function(e){return parseInt(e,10)});return T}return O};c.tickFormat=function(){return function(e){var n=Math.abs((0,s.head)(t).index),r=t[Math.floor(e+n)],o=r.format,a=r.date;return o(a)}};c.value=function(e){var n=Math.abs((0,s.head)(t).index);if((0,s.isDefined)(t[Math.floor(e+n)])){var r=t[Math.floor(e+n)].date;return r}};c.nice=function(e){return l.nice(e),c};c.index=function(e){return arguments.length?(t=e,c):t};c.copy=function(){return e(t,n,l.copy())};return c};var o=n(2290),a=n(2273),i=n(2317),s=n(2274),u=n(2390).levelDefinition.length-1},2392:function(e,t,n){"use strict";function r(e){return"[object Date]"===Object.prototype.toString.call(e)}function o(e,t){return r(e)&&r(t)?e.getTime()===t.getTime():e===t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(!e&&!t)return!0;if(!e&&t||e&&!t)return!1;var n=0,r=0,a=void 0;for(a in t)if(r++,t.hasOwnProperty(a)&&!e.hasOwnProperty(a)||!o(e[a],t[a]))return!1;for(a in e)n++;return n===r}},2393:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=o.default;function t(){var t=arguments.length;if(!t)return[];var o=(0,r.min)(arguments,n),a=void 0,i=new Array(o);for(a=-1;++a<o;){for(var s=-1,u=i[a]=new Array(t);++s<t;)u[s]=arguments[s][a];i[a]=e.apply(this,i[a])}return i}function n(e){return e.length}return t.combine=function(n){return arguments.length?(e=n,t):e},t};var r=n(2273),o=function(e){return e&&e.__esModule?e:{default:e}}(n(2323))},2394:function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=m(s),l=m(n(2)),c=n(2404),f=n(2273),p=m(n(2296)),d=n(2363),h=m(n(2497)),y=n(2274);function m(e){return e&&e.__esModule?e:{default:e}}var b=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.renderSVG=n.renderSVG.bind(n),n.drawOnCanvas=n.drawOnCanvas.bind(n),n.saveNode=n.saveNode.bind(n),n.getMoreProps=n.getMoreProps.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.Component),i(t,[{key:"saveNode",value:function(e){this.node=e}},{key:"getMoreProps",value:function(){return this.node.getMoreProps()}},{key:"drawOnCanvas",value:function(e,t){var n=this.props,r=n.showDomain,o=n.showTicks,a=n.transform,i=n.range,s=n.getScale;(e.save(),e.translate(a[0],a[1]),r&&function(e,t,n){var r=t.orient,o=t.outerTickSize,a=t.stroke,i=t.strokeWidth,s=t.opacity,u="top"===r||"left"===r?-1:1,l="bottom"===r||"top"===r;e.lineWidth=i,e.strokeStyle=(0,y.hexToRGBA)(a,s),e.beginPath(),l?(e.moveTo((0,y.first)(n),u*o),e.lineTo((0,y.first)(n),0),e.lineTo((0,y.last)(n),0),e.lineTo((0,y.last)(n),u*o)):(e.moveTo(u*o,(0,y.first)(n)),e.lineTo(0,(0,y.first)(n)),e.lineTo(0,(0,y.last)(n)),e.lineTo(u*o,(0,y.last)(n)));e.stroke()}(e,this.props,i),o)&&function(e,t){var n=t.tickStroke,r=t.tickStrokeOpacity,o=t.tickLabelFill,a=t.textAnchor,i=t.fontSize,s=t.fontFamily,u=t.fontWeight,l=t.ticks,c=t.showTickLabel;e.strokeStyle=(0,y.hexToRGBA)(n,r),e.fillStyle=n,l.forEach(function(n){!function(e,t,n){var r=n.tickStrokeWidth,o=n.tickStrokeDasharray;e.beginPath(),e.moveTo(t.x1,t.y1),e.lineTo(t.x2,t.y2),e.lineWidth=r,e.setLineDash((0,y.getStrokeDasharray)(o).split(",")),e.stroke()}(e,n,t)}),e.font=u+" "+i+"px "+s,e.fillStyle=o,e.textAlign="middle"===a?"center":a,c&&l.forEach(function(n){!function(e,t,n){var r=n.canvas_dy,o=n.format;e.beginPath(),e.fillText(o(t.value),t.labelX,t.labelY+r)}(e,n,t)})}(e,v(this.props,s(t)));e.restore()}},{key:"renderSVG",value:function(e){var t=this.props.className,n=this.props,r=n.showDomain,o=n.showTicks,a=n.range,i=n.getScale,s=o?function(e,t){var n=v(e,t),r=n.tickLabelFill,o=n.tickStroke,a=n.tickStrokeOpacity,i=n.tickStrokeWidth,s=n.tickStrokeDasharray,l=n.textAnchor,c=n.fontSize,f=n.fontFamily,p=n.fontWeight,d=n.ticks,h=n.format,y=n.dy;return u.default.createElement("g",null,d.map(function(e,t){return u.default.createElement(g,{key:t,tickStroke:o,tickLabelFill:r,tickStrokeWidth:i,tickStrokeOpacity:a,tickStrokeDasharray:s,dy:y,x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,labelX:e.labelX,labelY:e.labelY,textAnchor:l,fontSize:c,fontWeight:p,fontFamily:f},h(e.value))}))}(this.props,i(e)):null,l=r?function(e,t){var n=e.orient,r=e.outerTickSize,o=e.domainClassName,a=e.fill,i=e.stroke,s=e.strokeWidth,l=e.opacity,c="top"===n||"left"===n?-1:1,f=void 0;f="bottom"===n||"top"===n?"M"+t[0]+","+c*r+"V0H"+t[1]+"V"+c*r:"M"+c*r+","+t[0]+"H0V"+t[1]+"H"+c*r;return u.default.createElement("path",{className:o,d:f,fill:a,opacity:l,stroke:i,strokeWidth:s})}(this.props,a):null;return u.default.createElement("g",{className:t},s,l)}},{key:"render",value:function(){var e=this.props,t=e.bg,n=e.axisZoomCallback,r=e.zoomCursorClassName,o=e.zoomEnabled,a=e.getScale,i=e.inverted,s=this.props,l=s.transform,c=s.getMouseDelta,f=s.edgeClip,y=this.props,m=y.onContextMenu,b=y.onDoubleClick,v=o?u.default.createElement(h.default,{bg:t,getScale:a,getMoreProps:this.getMoreProps,getMouseDelta:c,axisZoomCallback:n,zoomCursorClassName:r,inverted:i,onContextMenu:m,onDoubleClick:b}):null;return u.default.createElement("g",{transform:"translate("+l[0]+", "+l[1]+")"},v,u.default.createElement(p.default,{ref:this.saveNode,canvasToDraw:d.getAxisCanvas,clip:!1,edgeClip:f,svgDraw:this.renderSVG,canvasDraw:this.drawOnCanvas,drawOn:["pan"]}))}}]),t}();function v(e,t){var n=e.orient,r=e.innerTickSize,i=e.tickFormat,s=e.tickPadding,u=e.tickLabelFill,l=e.tickStrokeWidth,p=e.tickStrokeDasharray,d=e.fontSize,h=e.fontFamily,m=e.fontWeight,b=e.showTicks,v=e.flexTicks,g=e.showTickLabel,w=e.ticks,k=e.tickValues,E=e.tickStroke,S=e.tickStrokeOpacity,O=e.tickInterval,_=e.tickIntervalFunction,C=void 0;if((0,y.isDefined)(k))C="function"==typeof k?k(t.domain()):k;else if((0,y.isDefined)(O)){var x=t.domain(),P=a(x,2),D=P[0],T=P[1],A=(0,f.range)(D,T,(T-D)/O);C=_?_(D,T,O):A}else C=(0,y.isDefined)(t.ticks)?t.ticks(w,v):t.domain();var j=t.tickFormat?t.tickFormat(w):y.identity,R=(0,y.isNotDefined)(i)?j:function(e){return i(e)||""},F="top"===n||"left"===n?-1:1,N=Math.max(r,0)+s,M=void 0,I=void 0,q=void 0,L=void 0;if("bottom"===n||"top"===n){if(I=F<0?"0em":".71em",q=F<0?0:.71*d,L="middle",M=C.map(function(e){var n=Math.round(t(e));return{value:e,x1:n,y1:0,x2:n,y2:F*r,labelX:n,labelY:F*N}}),b&&v){for(var B=M.map(function(e){return{id:e.value,value:e.value,fy:e.y2,origX:e.x1}}),V=(0,c.forceSimulation)(B).force("x",(0,c.forceX)(function(e){return e.origX}).strength(1)).force("collide",(0,c.forceCollide)(22)).stop(),W=0;W<100;++W)V.tick();M=(0,y.zipper)().combine(function(e,t){return Math.abs(t.x-t.origX)>.01?o({},e,{x2:t.x,labelX:t.x}):e})(M,B)}}else M=C.map(function(e){var n=Math.round(t(e));return{value:e,x1:0,y1:n,x2:F*r,y2:n,labelX:F*N,labelY:n}}),I=".32em",q=.32*d,L=F<0?"end":"start";return{ticks:M,scale:t,tickStroke:E,tickLabelFill:u||E,tickStrokeOpacity:S,tickStrokeWidth:l,tickStrokeDasharray:p,dy:I,canvas_dy:q,textAnchor:L,fontSize:d,fontFamily:h,fontWeight:m,format:R,showTickLabel:g}}function g(e){var t=e.tickLabelFill,n=e.tickStroke,r=e.tickStrokeOpacity,o=e.tickStrokeDasharray,a=e.tickStrokeWidth,i=e.textAnchor,s=e.fontSize,l=e.fontFamily,c=e.fontWeight,f=e.x1,p=e.y1,d=e.x2,h=e.y2,m=e.labelX,b=e.labelY,v=e.dy;return u.default.createElement("g",{className:"tick"},u.default.createElement("line",{shapeRendering:"crispEdges",opacity:r,stroke:n,strokeWidth:a,strokeDasharray:(0,y.getStrokeDasharray)(o),x1:f,y1:p,x2:d,y2:h}),u.default.createElement("text",{dy:v,x:m,y:b,fill:t,fontSize:s,fontWeight:c,fontFamily:l,textAnchor:i},e.children))}b.propTypes={innerTickSize:l.default.number,outerTickSize:l.default.number,tickFormat:l.default.func,tickPadding:l.default.number,tickSize:l.default.number,ticks:l.default.number,tickLabelFill:l.default.string,tickStroke:l.default.string,tickStrokeOpacity:l.default.number,tickStrokeWidth:l.default.number,tickStrokeDasharray:l.default.oneOf(y.strokeDashTypes),tickValues:l.default.oneOfType([l.default.array,l.default.func]),tickInterval:l.default.number,tickIntervalFunction:l.default.func,showDomain:l.default.bool,showTicks:l.default.bool,className:l.default.string,axisZoomCallback:l.default.func,zoomEnabled:l.default.bool,inverted:l.default.bool,zoomCursorClassName:l.default.string,transform:l.default.arrayOf(l.default.number).isRequired,range:l.default.arrayOf(l.default.number).isRequired,getMouseDelta:l.default.func.isRequired,getScale:l.default.func.isRequired,bg:l.default.object.isRequired,edgeClip:l.default.bool.isRequired,onContextMenu:l.default.func,onDoubleClick:l.default.func},b.defaultProps={zoomEnabled:!1,zoomCursorClassName:"",edgeClip:!1},g.propTypes={children:l.default.string.isRequired,x1:l.default.number.isRequired,y1:l.default.number.isRequired,x2:l.default.number.isRequired,y2:l.default.number.isRequired,labelX:l.default.number.isRequired,labelY:l.default.number.isRequired,dy:l.default.string.isRequired,tickStroke:l.default.string,tickLabelFill:l.default.string,tickStrokeWidth:l.default.number,tickStrokeOpacity:l.default.number,tickStrokeDasharray:l.default.oneOf(y.strokeDashTypes),textAnchor:l.default.string,fontSize:l.default.number,fontFamily:l.default.string,fontWeight:l.default.oneOfType([l.default.string,l.default.number])},t.default=b},2395:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(0),o=(n(2),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var l=function(e){function t(){return i(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,r["Component"]),a(t,[{key:"onKeyPress",value:function(e){"."===e.key&&""===e.target.value&&(e.target.value="0");var t=e.target.value+e.key,n=t.match(/\./g),r=n?n.length:0;"."===e.key&&r>1&&e.preventDefault(),parseFloat(t)!=t&&e.preventDefault(),this.props.onKeyPress&&this.props.onKeyPress(e)}}]),t}(),c=function(e){function t(){return i(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return u(t,l),a(t,[{key:"componentWillReceiveProps",value:function(e){this.props.value&&!e.value&&(this.refs.input.value="")}},{key:"render",value:function(){return r.createElement("input",o({ref:"input",type:"text"},this.props,{onKeyPress:this.onKeyPress.bind(this)}))}}]),t}();t.b=c},2396:function(e,t,n){"use strict";var r=n(11),o=n(68),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=new o.a("__cyb__"),s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.current_blocktrades_address_cache_version_string="2"}return a(e,[{key:"getIndexForDepositKeyInExchange",value:function(e,t,n){return[this.current_blocktrades_address_cache_version_string,e,t,n].reduce(function(e,t){return e.concat("[",t,"]")},"")}},{key:"getCachedInputAddress",value:function(e,t,n,o){r.a.getWallet();var a=this.getIndexForDepositKeyInExchange(t,n,o),s=i.get("deposit_keys",{});s[e]=s[e]||{},s[e][a]=s[e][a]||[];var u=s[e][a].length;return u?s[e][a][u-1]:null}},{key:"cacheInputAddress",value:function(e,t,n,o,a,s){if(a){r.a.getWallet();null;var u=this.getIndexForDepositKeyInExchange(t,n,o),l=i.get("deposit_keys",{});l[e]=l[e]||{},l[e][u]=l[e][u]||[],l[e][u].push({address:a,memo:s}),i.set("deposit_keys",l)}}}]),e}();t.a=s},2397:function(e,t,n){"use strict";n.d(t,"d",function(){return i}),n.d(t,"c",function(){return s}),n.d(t,"b",function(){return u}),n.d(t,"e",function(){return c}),n.d(t,"f",function(){return f}),n.d(t,"a",function(){return p});var r=n(68),o=n(104),a=new r.a("");function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.c.BASE+o.c.DEPOSIT_LIMIT;return fetch(n+"?inputCoinType="+encodeURIComponent(e)+"&outputCoinType="+encodeURIComponent(t),{method:"get",headers:new Headers({Accept:"application/json"})}).then(function(e){return e.json().then(function(e){return e})}).catch(function(n){console.log("error fetching deposit limit of",e,t,n)})}function s(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:o.c.BASE+o.c.ESTIMATE_OUTPUT;return fetch(r+"?inputAmount="+encodeURIComponent(e)+"&inputCoinType="+encodeURIComponent(t)+"&outputCoinType="+encodeURIComponent(n),{method:"get",headers:new Headers({Accept:"application/json"})}).then(function(e){return e.json().then(function(e){return e})}).catch(function(e){console.log("error fetching deposit limit of",t,n,e)})}function u(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:o.c.BASE+o.c.ESTIMATE_INPUT;return fetch(r+"?outputAmount="+encodeURIComponent(e)+"&inputCoinType="+encodeURIComponent(t)+"&outputCoinType="+encodeURIComponent(n),{method:"get",headers:new Headers({Accept:"application/json"})}).then(function(e){return e.json().then(function(e){return e})}).catch(function(e){console.log("error fetching deposit limit of",t,n,e)})}var l={};function c(e){var t=e.inputCoinType,n=e.outputCoinType,r=e.outputAddress,a=e.url,i=void 0===a?o.c.BASE_OL:a,s=e.stateCallback,u={inputCoinType:t,outputCoinType:n,outputAddress:r},c=JSON.stringify(u);l[c]||(l[c]=!0,fetch(i+"/simple-api/initiate-trade",{method:"post",headers:new Headers({Accept:"application/json","Content-Type":"application/json"}),body:c}).then(function(e){e.json().then(function(e){delete l[c];var t={address:e.inputAddress||"unknown",memo:e.inputMemo,error:e.error||null};s&&s(t)},function(e){delete l[c],s&&s(null)})},function(e){delete l[c],s&&s(null)}).catch(function(e){console.log("fetch error:",e),delete l[c]}))}function f(e){var t=e.url,n=void 0===t?o.c.BASE:t,r=e.walletType,a=e.newAddress;return a?fetch(n+"/wallets/"+r+"/address-validator?address="+encodeURIComponent(a),{method:"get",headers:new Headers({Accept:"application/json"})}).then(function(e){return e.json().then(function(e){return e.isValid})}).catch(function(e){console.log("validate error:",e)}):new Promise(function(e){return e()})}var p={has:function(e){return a.has("history_address_"+e)},set:function(e){var t=e.wallet,n=e.addresses;a.set("history_address_"+t,n)},get:function(e){return a.get("history_address_"+e,[])},setLast:function(e){var t=e.wallet,n=e.address;a.set("history_address_last_"+t,n)},getLast:function(e){return a.get("history_address_last_"+e,"")}}},2398:function(e,t){e.exports=function(){return navigator.languages&&navigator.languages.length?navigator.languages[0]:navigator.userLanguage?navigator.userLanguage:navigator.language}},2402:function(e,t,n){"use strict";var r=function(e){for(var t,n=e.length,r=n^n,o=0;n>=4;)t=1540483477*(65535&(t=255&e.charCodeAt(o)|(255&e.charCodeAt(++o))<<8|(255&e.charCodeAt(++o))<<16|(255&e.charCodeAt(++o))<<24))+((1540483477*(t>>>16)&65535)<<16),r=1540483477*(65535&r)+((1540483477*(r>>>16)&65535)<<16)^(t=1540483477*(65535&(t^=t>>>24))+((1540483477*(t>>>16)&65535)<<16)),n-=4,++o;switch(n){case 3:r^=(255&e.charCodeAt(o+2))<<16;case 2:r^=(255&e.charCodeAt(o+1))<<8;case 1:r=1540483477*(65535&(r^=255&e.charCodeAt(o)))+((1540483477*(r>>>16)&65535)<<16)}return r=1540483477*(65535&(r^=r>>>13))+((1540483477*(r>>>16)&65535)<<16),((r^=r>>>15)>>>0).toString(36)},o=function e(t){function n(e,t,n){var o=t.trim().split(y);t=o;var a=o.length,i=e.length;switch(i){case 0:case 1:var s=0;for(e=0===i?"":e[0]+" ";s<a;++s)t[s]=r(e,t[s],n).trim();break;default:var u=s=0;for(t=[];s<a;++s)for(var l=0;l<i;++l)t[u++]=r(e[l]+" ",o[s],n).trim()}return t}function r(e,t,n){var r=t.charCodeAt(0);switch(33>r&&(r=(t=t.trim()).charCodeAt(0)),r){case 38:return t.replace(m,"$1"+e.trim());case 58:switch(t.charCodeAt(1)){case 103:break;default:return e.trim()+t.replace(m,"$1"+e.trim())}default:if(0<1*n&&0<t.indexOf("\f"))return t.replace(m,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function o(e,t,n,r){var i=e+";",s=2*t+3*n+4*r;if(944===s){e=i.indexOf(":",9)+1;var u=i.substring(e,i.length-1).trim();return u=i.substring(0,e).trim()+u+";",1===D||2===D&&a(u,1)?"-webkit-"+u+u:u}if(0===D||2===D&&!a(i,1))return i;switch(s){case 1015:return 97===i.charCodeAt(10)?"-webkit-"+i+i:i;case 951:return 116===i.charCodeAt(3)?"-webkit-"+i+i:i;case 963:return 110===i.charCodeAt(5)?"-webkit-"+i+i:i;case 1009:if(100!==i.charCodeAt(4))break;case 969:case 942:return"-webkit-"+i+i;case 978:return"-webkit-"+i+"-moz-"+i+i;case 1019:case 983:return"-webkit-"+i+"-moz-"+i+"-ms-"+i+i;case 883:return 45===i.charCodeAt(8)?"-webkit-"+i+i:i;case 932:if(45===i.charCodeAt(4))switch(i.charCodeAt(5)){case 103:return"-webkit-box-"+i.replace("-grow","")+"-webkit-"+i+"-ms-"+i.replace("grow","positive")+i;case 115:return"-webkit-"+i+"-ms-"+i.replace("shrink","negative")+i;case 98:return"-webkit-"+i+"-ms-"+i.replace("basis","preferred-size")+i}return"-webkit-"+i+"-ms-"+i+i;case 964:return"-webkit-"+i+"-ms-flex-"+i+i;case 1023:if(99!==i.charCodeAt(8))break;return"-webkit-box-pack"+(u=i.substring(i.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+i+"-ms-flex-pack"+u+i;case 1005:return d.test(i)?i.replace(p,":-webkit-")+i.replace(p,":-moz-")+i:i;case 1e3:switch(t=(u=i.substring(13).trim()).indexOf("-")+1,u.charCodeAt(0)+u.charCodeAt(t)){case 226:u=i.replace(w,"tb");break;case 232:u=i.replace(w,"tb-rl");break;case 220:u=i.replace(w,"lr");break;default:return i}return"-webkit-"+i+"-ms-"+u+i;case 1017:if(-1===i.indexOf("sticky",9))break;case 975:switch(t=(i=e).length-10,s=(u=(33===i.charCodeAt(t)?i.substring(0,t):i).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|u.charCodeAt(7))){case 203:if(111>u.charCodeAt(8))break;case 115:i=i.replace(u,"-webkit-"+u)+";"+i;break;case 207:case 102:i=i.replace(u,"-webkit-"+(102<s?"inline-":"")+"box")+";"+i.replace(u,"-webkit-"+u)+";"+i.replace(u,"-ms-"+u+"box")+";"+i}return i+";";case 938:if(45===i.charCodeAt(5))switch(i.charCodeAt(6)){case 105:return"-webkit-"+i+"-webkit-box-"+(u=i.replace("-items",""))+"-ms-flex-"+u+i;case 115:return"-webkit-"+i+"-ms-flex-item-"+i.replace(S,"")+i;default:return"-webkit-"+i+"-ms-flex-line-pack"+i.replace("align-content","").replace(S,"")+i}break;case 973:case 989:if(45!==i.charCodeAt(3)||122===i.charCodeAt(4))break;case 931:case 953:if(!0===_.test(e))return 115===(u=e.substring(e.indexOf(":")+1)).charCodeAt(0)?o(e.replace("stretch","fill-available"),t,n,r).replace(":fill-available",":stretch"):i.replace(u,"-webkit-"+u)+i.replace(u,"-moz-"+u.replace("fill-",""))+i;break;case 962:if(i="-webkit-"+i+(102===i.charCodeAt(5)?"-ms-"+i:"")+i,211===n+r&&105===i.charCodeAt(13)&&0<i.indexOf("transform",10))return i.substring(0,i.indexOf(";",27)+1).replace(h,"$1-webkit-$2")+i}return i}function a(e,t){var n=e.indexOf(1===t?":":"{"),r=e.substring(0,3!==t?n:10);return n=e.substring(n+1,e.length-1),R(2!==t?r:r.replace(O,"$1"),n,t)}function i(e,t){var n=o(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(E," or ($1)").substring(4):"("+t+")"}function s(e,t,n,r,o,a,i,s,u,c){for(var f,p=0,d=t;p<j;++p)switch(f=A[p].call(l,e,d,n,r,o,a,i,s,u,c)){case void 0:case!1:case!0:case null:break;default:d=f}switch(d){case void 0:case!1:case!0:case null:case t:break;default:return d}}function u(e){for(var t in e){var n=e[t];switch(t){case"prefix":R=null,n?"function"!=typeof n?D=1:(D=2,R=n):D=0}}return u}function l(t,r){if(void 0!==this&&this.constructor===l)return e(t);var u=t;if(33>u.charCodeAt(0)&&(u=u.trim()),u=[u],0<j){var p=s(-1,r,u,u,x,C,0,0,0,0);void 0!==p&&"string"==typeof p&&(r=p)}var d=function e(t,r,u,l,p){for(var d,h,y,m,w,E,S=0,O=0,_=0,A=0,R=0,N=0,M=m=d=0,I=0,q=h=0,L=0,B=u.length,V=B-1,W="",H="",z="",U="";I<B;){if(y=u.charCodeAt(I),I===V&&0!==O+A+_+S&&(0!==O&&(y=47===O?10:47),A=_=S=0,B++,V++),0===O+A+_+S){if(I===V&&(0<h&&(W=W.replace(f,"")),0<W.trim().length)){switch(y){case 32:case 9:case 59:case 13:case 10:break;default:W+=u.charAt(I)}y=59}switch(y){case 123:for(d=(W=W.trim()).charCodeAt(0),m=1,L=++I;I<B;){switch(y=u.charCodeAt(I)){case 123:m++;break;case 125:m--}if(0===m)break;I++}switch(y=u.substring(L,I),0===d&&(d=(W=W.replace(c,"").trim()).charCodeAt(0)),d){case 64:switch(0<h&&(W=W.replace(f,"")),h=W.charCodeAt(1)){case 100:case 109:case 115:case 45:m=r;break;default:m=T}if(L=(y=e(r,m,y,h,p+1)).length,0<j&&(E=s(3,y,m=n(T,W,q),r,x,C,L,h,p,l),W=m.join(""),void 0!==E&&0===(L=(y=E.trim()).length)&&(h=0,y="")),0<L)switch(h){case 115:W=W.replace(k,i);case 100:case 109:case 45:y=W+"{"+y+"}";break;case 107:y=(W=W.replace(b,"$1 $2"))+"{"+y+"}",y=1===D||2===D&&a("@"+y,3)?"@-webkit-"+y+"@"+y:"@"+y;break;default:y=W+y,112===l&&(H+=y,y="")}else y="";break;default:y=e(r,n(r,W,q),y,l,p+1)}z+=y,m=q=h=M=d=0,W="",y=u.charCodeAt(++I);break;case 125:case 59:if(1<(L=(W=(0<h?W.replace(f,""):W).trim()).length))switch(0===M&&(d=W.charCodeAt(0),45===d||96<d&&123>d)&&(L=(W=W.replace(" ",":")).length),0<j&&void 0!==(E=s(1,W,r,t,x,C,H.length,l,p,l))&&0===(L=(W=E.trim()).length)&&(W="\0\0"),d=W.charCodeAt(0),h=W.charCodeAt(1),d+h){case 0:break;case 169:case 163:U+=W+u.charAt(I);break;default:58!==W.charCodeAt(L-1)&&(H+=o(W,d,h,W.charCodeAt(2)))}q=h=M=d=0,W="",y=u.charCodeAt(++I)}}switch(y){case 13:case 10:47===O?O=0:0===1+d&&(h=1,W+="\0"),0<j*F&&s(0,W,r,t,x,C,H.length,l,p,l),C=1,x++;break;case 59:case 125:if(0===O+A+_+S){C++;break}default:switch(C++,w=u.charAt(I),y){case 9:case 32:if(0===A+S+O)switch(R){case 44:case 58:case 9:case 32:w="";break;default:32!==y&&(w=" ")}break;case 0:w="\\0";break;case 12:w="\\f";break;case 11:w="\\v";break;case 38:0===A+O+S&&(h=q=1,w="\f"+w);break;case 108:if(0===A+O+S+P&&0<M)switch(I-M){case 2:112===R&&58===u.charCodeAt(I-3)&&(P=R);case 8:111===N&&(P=N)}break;case 58:0===A+O+S&&(M=I);break;case 44:0===O+_+A+S&&(h=1,w+="\r");break;case 34:case 39:0===O&&(A=A===y?0:0===A?y:A);break;case 91:0===A+O+_&&S++;break;case 93:0===A+O+_&&S--;break;case 41:0===A+O+S&&_--;break;case 40:if(0===A+O+S){if(0===d)switch(2*R+3*N){case 533:break;default:d=1}_++}break;case 64:0===O+_+A+S+M+m&&(m=1);break;case 42:case 47:if(!(0<A+S+_))switch(O){case 0:switch(2*y+3*u.charCodeAt(I+1)){case 235:O=47;break;case 220:L=I,O=42}break;case 42:47===y&&42===R&&(33===u.charCodeAt(L+2)&&(H+=u.substring(L,I+1)),w="",O=0)}}0===O&&(W+=w)}N=R,R=y,I++}if(0<(L=H.length)){if(m=r,0<j&&void 0!==(E=s(2,H,m,t,x,C,L,l,p,l))&&0===(H=E).length)return U+H+z;if(H=m.join(",")+"{"+H+"}",0!=D*P){switch(2!==D||a(H,2)||(P=0),P){case 111:H=H.replace(g,":-moz-$1")+H;break;case 112:H=H.replace(v,"::-webkit-input-$1")+H.replace(v,"::-moz-$1")+H.replace(v,":-ms-input-$1")+H}P=0}}return U+H+z}(T,u,r,0,0);return 0<j&&void 0!==(p=s(-2,d,u,u,x,C,d.length,0,0,0))&&(d=p),P=0,C=x=1,d}var c=/^\0+/g,f=/[\0\r\f]/g,p=/: */g,d=/zoo|gra/,h=/([,: ])(transform)/g,y=/,\r+?/g,m=/([\t\r\n ])*\f?&/g,b=/@(k\w+)\s*(\S*)\s*/,v=/::(place)/g,g=/:(read-only)/g,w=/[svh]\w+-[tblr]{2}/,k=/\(\s*(.*)\s*\)/g,E=/([\s\S]*?);/g,S=/-self|flex-/g,O=/[^]*?(:[rp][el]a[\w-]+)[^]*/,_=/stretch|:\s*\w+\-(?:conte|avail)/,C=1,x=1,P=0,D=1,T=[],A=[],j=0,R=null,F=0;return l.use=function e(t){switch(t){case void 0:case null:j=A.length=0;break;default:switch(t.constructor){case Array:for(var n=0,r=t.length;n<r;++n)e(t[n]);break;case Function:A[j++]=t;break;case Boolean:F=0|!!t}}return e},l.set=u,void 0!==t&&u(t),l},a=n(2533),i=n.n(a);var s={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},u=/[A-Z]|^ms/g,l=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}(function(e){return e.replace(u,"-$&").toLowerCase()}),c=function(e,t){return null==t||"boolean"==typeof t?"":1===s[e]||45===e.charCodeAt(1)||isNaN(t)||0===t?t:t+"px"},f=function e(t){for(var n=t.length,r=0,o="";r<n;r++){var a=t[r];if(null!=a){var i=void 0;switch(typeof a){case"boolean":break;case"function":i=e([a()]);break;case"object":if(Array.isArray(a))i=e(a);else for(var s in i="",a)a[s]&&s&&(i&&(i+=" "),i+=s);break;default:i=a}i&&(o&&(o+=" "),o+=i)}}return o},p="undefined"!=typeof document;function d(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key||""),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),(void 0!==e.container?e.container:document.head).appendChild(t),t}function h(e){this.isSpeedy=!0,this.tags=[],this.ctr=0,this.opts=e}function y(){if(this.injected)throw new Error("already injected!");this.tags[0]=d(this.opts),this.injected=!0}function m(e){if(0!==this.ctr)throw new Error("cannot change speedy now");this.isSpeedy=!!e}function b(e,t){if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(this.tags[this.tags.length-1]);try{n.insertRule(e,n.cssRules.length)}catch(e){0}}else{var r=d(this.opts);this.tags.push(r),r.appendChild(document.createTextNode(e+(t||"")))}this.ctr++,this.ctr%65e3==0&&this.tags.push(d(this.opts))}function v(e){return e.parentNode.removeChild(e)}function g(){this.tags.forEach(v),this.tags=[],this.ctr=0,this.injected=!1}var w=function(){var e=h.prototype;return e.inject=y,e.speedy=m,e.insert=b,e.flush=g,h}();t.a=function(e,t){if(void 0!==e.__SECRET_EMOTION__)return e.__SECRET_EMOTION__;void 0===t&&(t={});var n,a,s=t.key||"css",u=i()(function(e){n+=e,p&&h.insert(e,m)});void 0!==t.prefix&&(a={prefix:t.prefix});var d={registered:{},inserted:{},nonce:t.nonce,key:s},h=new w(t);p&&h.inject();var y=new o(a);y.use(t.stylisPlugins)(u);var m="";function b(e,t){if(null==e)return"";switch(typeof e){case"boolean":return"";case"function":if(void 0!==e.__emotion_styles){var n=e.toString();return n}return b.call(this,void 0===this?e():e(this.mergedProps,this.context),t);case"object":return function(e){if(k.has(e))return k.get(e);var t="";return Array.isArray(e)?e.forEach(function(e){t+=b.call(this,e,!1)},this):Object.keys(e).forEach(function(n){"object"!=typeof e[n]?void 0!==d.registered[e[n]]?t+=n+"{"+d.registered[e[n]]+"}":t+=l(n)+":"+c(n,e[n])+";":Array.isArray(e[n])&&"string"==typeof e[n][0]&&void 0===d.registered[e[n][0]]?e[n].forEach(function(e){t+=l(n)+":"+c(n,e)+";"}):t+=n+"{"+b.call(this,e[n],!1)+"}"},this),k.set(e,t),t}.call(this,e);default:var r=d.registered[e];return!1===t&&void 0!==r?r:e}}var v,g,k=new WeakMap,E=/label:\s*([^\s;\n{]+)\s*;/g,S=function(e){var t=!0,n="",o="";null==e||void 0===e.raw?(t=!1,n+=b.call(this,e,!1)):n+=e[0];for(var a=arguments.length,i=new Array(a>1?a-1:0),s=1;s<a;s++)i[s-1]=arguments[s];return i.forEach(function(r,o){n+=b.call(this,r,46===n.charCodeAt(n.length-1)),!0===t&&void 0!==e[o+1]&&(n+=e[o+1])},this),g=n,n=n.replace(E,function(e,t){return o+="-"+t,""}),v=r(n+o)+o,n};function O(e,t){void 0===d.inserted[v]&&(n="",y(e,t),d.inserted[v]=n)}var _=function(){var e=S.apply(this,arguments),t=s+"-"+v;return void 0===d.registered[t]&&(d.registered[t]=g),O("."+t,e),t};function C(e,t){var n="";return t.split(" ").forEach(function(t){void 0!==d.registered[t]?e.push(t):n+=t+" "}),n}function x(e,t){var n=[],r=C(n,e);return n.length<2?e:r+_(n,t)}function P(e){d.inserted[e]=!0}if(p){var D=document.querySelectorAll("[data-emotion-"+s+"]");Array.prototype.forEach.call(D,function(e){h.tags[0].parentNode.insertBefore(e,h.tags[0]),e.getAttribute("data-emotion-"+s).split(" ").forEach(P)})}var T={flush:function(){p&&(h.flush(),h.inject()),d.inserted={},d.registered={}},hydrate:function(e){e.forEach(P)},cx:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return x(f(t))},merge:x,getRegisteredStyles:C,injectGlobal:function(){O("",S.apply(this,arguments))},keyframes:function(){var e=S.apply(this,arguments),t="animation-"+v;return O("","@keyframes "+t+"{"+e+"}"),t},css:_,sheet:h,caches:d};return e.__SECRET_EMOTION__=T,T}},2445:function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=n(2321),a=n(2382);t.debounceTime=function(e,t){return void 0===t&&(t=a.async),function(n){return n.lift(new i(e,t))}};var i=function(){function e(e,t){this.dueTime=e,this.scheduler=t}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.dueTime,this.scheduler))},e}(),s=function(e){function t(t,n,r){e.call(this,t),this.dueTime=n,this.scheduler=r,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}return r(t,e),t.prototype._next=function(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(u,this.dueTime,this))},t.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},t.prototype.debouncedNext=function(){this.clearDebounce(),this.hasValue&&(this.destination.next(this.lastValue),this.lastValue=null,this.hasValue=!1)},t.prototype.clearDebounce=function(){var e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)},t}(o.Subscriber);function u(e){e.debouncedNext()}},2446:function(e,t,n){"use strict";var r=function(){function e(t,n){void 0===n&&(n=e.now),this.SchedulerAction=t,this.now=n}return e.prototype.schedule=function(e,t,n){return void 0===t&&(t=0),new this.SchedulerAction(this,e).schedule(n,t)},e.now=Date.now?Date.now:function(){return+new Date},e}();t.Scheduler=r},2447:function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=function(e){function t(){e.apply(this,arguments),this.actions=[],this.active=!1,this.scheduled=void 0}return r(t,e),t.prototype.flush=function(e){var t=this.actions;if(this.active)t.push(e);else{var n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}},t}(n(2446).Scheduler);t.AsyncScheduler=o},2448:function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=function(e){function t(t,n){e.call(this)}return r(t,e),t.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},t}(n(2320).Subscription);t.Action=o},2449:function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=n(2311),a=function(e){function t(t,n){e.call(this,t,n),this.scheduler=t,this.work=n,this.pending=!1}return r(t,e),t.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e,this.pending=!0;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this},t.prototype.requestAsyncId=function(e,t,n){return void 0===n&&(n=0),o.root.setInterval(e.flush.bind(e,this),n)},t.prototype.recycleAsyncId=function(e,t,n){if(void 0===n&&(n=0),null!==n&&this.delay===n&&!1===this.pending)return t;o.root.clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var n=!1,r=void 0;try{this.work(e)}catch(e){n=!0,r=!!e&&e||new Error(e)}if(n)return this.unsubscribe(),r},t.prototype._unsubscribe=function(){var e=this.id,t=this.scheduler,n=t.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null},t}(n(2448).Action);t.AsyncAction=a},2450:function(e,t,n){"use strict";var r=n(2382),o=n(2445);t.debounceTime=function(e,t){return void 0===t&&(t=r.async),o.debounceTime(e,t)(this)}},2451:function(e,t,n){"use strict";var r=n(2287),o=n(2450);r.Observable.prototype.debounceTime=o.debounceTime},2452:function(e,t,n){"use strict";t.identity=function(e){return e}},2453:function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=function(e){function t(){e.apply(this,arguments)}return r(t,e),t.prototype.notifyNext=function(e,t,n,r,o){this.destination.next(t)},t.prototype.notifyError=function(e,t){this.destination.error(e)},t.prototype.notifyComplete=function(e){this.destination.complete()},t}(n(2321).Subscriber);t.OuterSubscriber=o},2454:function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=function(e){function t(t,n,r){e.call(this),this.parent=t,this.outerValue=n,this.outerIndex=r,this.index=0}return r(t,e),t.prototype._next=function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)},t.prototype._error=function(e){this.parent.notifyError(e,this),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},t}(n(2321).Subscriber);t.InnerSubscriber=o},2455:function(e,t,n){"use strict";var r=n(2311);function o(e){var t=e.Symbol;if("function"==typeof t)return t.iterator||(t.iterator=t("iterator polyfill")),t.iterator;var n=e.Set;if(n&&"function"==typeof(new n)["@@iterator"])return"@@iterator";var r=e.Map;if(r)for(var o=Object.getOwnPropertyNames(r.prototype),a=0;a<o.length;++a){var i=o[a];if("entries"!==i&&"size"!==i&&r.prototype[i]===r.prototype.entries)return i}return"@@iterator"}t.symbolIteratorPonyfill=o,t.iterator=o(r.root),t.$$iterator=t.iterator},2456:function(e,t,n){"use strict";t.isPromise=function(e){return e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}},2457:function(e,t,n){"use strict";t.isArrayLike=function(e){return e&&"number"==typeof e.length}},2458:function(e,t,n){"use strict";var r=n(2311),o=n(2457),a=n(2456),i=n(2388),s=n(2287),u=n(2455),l=n(2454),c=n(2385);t.subscribeToResult=function(e,t,n,f){var p=new l.InnerSubscriber(e,n,f);if(p.closed)return null;if(t instanceof s.Observable)return t._isScalar?(p.next(t.value),p.complete(),null):(p.syncErrorThrowable=!0,t.subscribe(p));if(o.isArrayLike(t)){for(var d=0,h=t.length;d<h&&!p.closed;d++)p.next(t[d]);p.closed||p.complete()}else{if(a.isPromise(t))return t.then(function(e){p.closed||(p.next(e),p.complete())},function(e){return p.error(e)}).then(null,function(e){r.root.setTimeout(function(){throw e})}),p;if(t&&"function"==typeof t[u.iterator])for(var y=t[u.iterator]();;){var m=y.next();if(m.done){p.complete();break}if(p.next(m.value),p.closed)break}else if(t&&"function"==typeof t[c.observable]){var b=t[c.observable]();if("function"==typeof b.subscribe)return b.subscribe(new l.InnerSubscriber(e,n,f));p.error(new TypeError("Provided object does not correctly implement Symbol.observable"))}else{var v="You provided "+(i.isObject(t)?"an invalid object":"'"+t+"'")+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.";p.error(new TypeError(v))}}return null}},2459:function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=n(2458),a=n(2453);t.mergeMap=function(e,t,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),function(r){return"number"==typeof t&&(n=t,t=null),r.lift(new i(e,t,n))}};var i=function(){function e(e,t,n){void 0===n&&(n=Number.POSITIVE_INFINITY),this.project=e,this.resultSelector=t,this.concurrent=n}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.project,this.resultSelector,this.concurrent))},e}();t.MergeMapOperator=i;var s=function(e){function t(t,n,r,o){void 0===o&&(o=Number.POSITIVE_INFINITY),e.call(this,t),this.project=n,this.resultSelector=r,this.concurrent=o,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}return r(t,e),t.prototype._next=function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)},t.prototype._tryNext=function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(e){return void this.destination.error(e)}this.active++,this._innerSub(t,e,n)},t.prototype._innerSub=function(e,t,n){this.add(o.subscribeToResult(this,e,t,n))},t.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete()},t.prototype.notifyNext=function(e,t,n,r,o){this.resultSelector?this._notifyResultSelector(e,t,n,r):this.destination.next(t)},t.prototype._notifyResultSelector=function(e,t,n,r){var o;try{o=this.resultSelector(e,t,n,r)}catch(e){return void this.destination.error(e)}this.destination.next(o)},t.prototype.notifyComplete=function(e){var t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},t}(a.OuterSubscriber);t.MergeMapSubscriber=s},2460:function(e,t,n){"use strict";var r=n(2459),o=n(2452);t.mergeAll=function(e){return void 0===e&&(e=Number.POSITIVE_INFINITY),r.mergeMap(o.identity,null,e)}},2461:function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=function(e){function t(t){e.call(this),this.scheduler=t}return r(t,e),t.create=function(e){return new t(e)},t.dispatch=function(e){e.subscriber.complete()},t.prototype._subscribe=function(e){var n=this.scheduler;if(n)return n.schedule(t.dispatch,0,{subscriber:e});e.complete()},t}(n(2287).Observable);t.EmptyObservable=o},2462:function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=function(e){function t(t,n){e.call(this),this.value=t,this.scheduler=n,this._isScalar=!0,n&&(this._isScalar=!1)}return r(t,e),t.create=function(e,n){return new t(e,n)},t.dispatch=function(e){var t=e.done,n=e.value,r=e.subscriber;t?r.complete():(r.next(n),r.closed||(e.done=!0,this.schedule(e)))},t.prototype._subscribe=function(e){var n=this.value,r=this.scheduler;if(r)return r.schedule(t.dispatch,0,{done:!1,value:n,subscriber:e});e.next(n),e.closed||e.complete()},t}(n(2287).Observable);t.ScalarObservable=o},2463:function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=n(2287),a=n(2462),i=n(2461),s=n(2383),u=function(e){function t(t,n){e.call(this),this.array=t,this.scheduler=n,n||1!==t.length||(this._isScalar=!0,this.value=t[0])}return r(t,e),t.create=function(e,n){return new t(e,n)},t.of=function(){for(var e=[],n=0;n<arguments.length;n++)e[n-0]=arguments[n];var r=e[e.length-1];s.isScheduler(r)?e.pop():r=null;var o=e.length;return o>1?new t(e,r):1===o?new a.ScalarObservable(e[0],r):new i.EmptyObservable(r)},t.dispatch=function(e){var t=e.array,n=e.index,r=e.count,o=e.subscriber;n>=r?o.complete():(o.next(t[n]),o.closed||(e.index=n+1,this.schedule(e)))},t.prototype._subscribe=function(e){var n=this.array,r=n.length,o=this.scheduler;if(o)return o.schedule(t.dispatch,0,{array:n,index:0,count:r,subscriber:e});for(var a=0;a<r&&!e.closed;a++)e.next(n[a]);e.complete()},t}(o.Observable);t.ArrayObservable=u},2464:function(e,t,n){"use strict";var r=n(2384),o=n(2384);t.mergeStatic=o.mergeStatic,t.merge=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return r.merge.apply(void 0,e)(this)}},2465:function(e,t,n){"use strict";var r=n(2464);t.merge=r.mergeStatic},2466:function(e,t,n){"use strict";var r=n(2287),o=n(2465);r.Observable.merge=o.merge},2467:function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=n(2287),a=n(2387),i=n(2362),s=n(2361),u=n(2320),l=Object.prototype.toString;var c=function(e){function t(t,n,r,o){e.call(this),this.sourceObj=t,this.eventName=n,this.selector=r,this.options=o}return r(t,e),t.create=function(e,n,r,o){return i.isFunction(r)&&(o=r,r=void 0),new t(e,n,o,r)},t.setupSubscription=function(e,n,r,o,a){var i;if(function(e){return!!e&&"[object NodeList]"===l.call(e)}(e)||function(e){return!!e&&"[object HTMLCollection]"===l.call(e)}(e))for(var s=0,c=e.length;s<c;s++)t.setupSubscription(e[s],n,r,o,a);else if(function(e){return!!e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}(e)){var f=e;e.addEventListener(n,r,a),i=function(){return f.removeEventListener(n,r)}}else if(function(e){return!!e&&"function"==typeof e.on&&"function"==typeof e.off}(e)){var p=e;e.on(n,r),i=function(){return p.off(n,r)}}else{if(!function(e){return!!e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}(e))throw new TypeError("Invalid event target");var d=e;e.addListener(n,r),i=function(){return d.removeListener(n,r)}}o.add(new u.Subscription(i))},t.prototype._subscribe=function(e){var n=this.sourceObj,r=this.eventName,o=this.options,i=this.selector,u=i?function(){for(var t=[],n=0;n<arguments.length;n++)t[n-0]=arguments[n];var r=a.tryCatch(i).apply(void 0,t);r===s.errorObject?e.error(s.errorObject.e):e.next(r)}:function(t){return e.next(t)};t.setupSubscription(n,r,u,e,o)},t}(o.Observable);t.FromEventObservable=c},2468:function(e,t,n){"use strict";var r=n(2467);t.fromEvent=r.FromEventObservable.create},2469:function(e,t,n){"use strict";var r=n(2287),o=n(2468);r.Observable.fromEvent=o.fromEvent},2470:function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=function(e){function t(t,n){e.call(this),this.subject=t,this.subscriber=n,this.closed=!1}return r(t,e),t.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}},t}(n(2320).Subscription);t.SubjectSubscription=o},2471:function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=function(e){function t(){var t=e.call(this,"object unsubscribed");this.name=t.name="ObjectUnsubscribedError",this.stack=t.stack,this.message=t.message}return r(t,e),t}(Error);t.ObjectUnsubscribedError=o},2472:function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=n(2287),a=n(2321),i=n(2320),s=n(2471),u=n(2470),l=n(2360),c=function(e){function t(t){e.call(this,t),this.destination=t}return r(t,e),t}(a.Subscriber);t.SubjectSubscriber=c;var f=function(e){function t(){e.call(this),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}return r(t,e),t.prototype[l.rxSubscriber]=function(){return new c(this)},t.prototype.lift=function(e){var t=new p(this,this);return t.operator=e,t},t.prototype.next=function(e){if(this.closed)throw new s.ObjectUnsubscribedError;if(!this.isStopped)for(var t=this.observers,n=t.length,r=t.slice(),o=0;o<n;o++)r[o].next(e)},t.prototype.error=function(e){if(this.closed)throw new s.ObjectUnsubscribedError;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,n=t.length,r=t.slice(),o=0;o<n;o++)r[o].error(e);this.observers.length=0},t.prototype.complete=function(){if(this.closed)throw new s.ObjectUnsubscribedError;this.isStopped=!0;for(var e=this.observers,t=e.length,n=e.slice(),r=0;r<t;r++)n[r].complete();this.observers.length=0},t.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},t.prototype._trySubscribe=function(t){if(this.closed)throw new s.ObjectUnsubscribedError;return e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){if(this.closed)throw new s.ObjectUnsubscribedError;return this.hasError?(e.error(this.thrownError),i.Subscription.EMPTY):this.isStopped?(e.complete(),i.Subscription.EMPTY):(this.observers.push(e),new u.SubjectSubscription(this,e))},t.prototype.asObservable=function(){var e=new o.Observable;return e.source=this,e},t.create=function(e,t){return new p(e,t)},t}(o.Observable);t.Subject=f;var p=function(e){function t(t,n){e.call(this),this.destination=t,this.source=n}return r(t,e),t.prototype.next=function(e){var t=this.destination;t&&t.next&&t.next(e)},t.prototype.error=function(e){var t=this.destination;t&&t.error&&this.destination.error(e)},t.prototype.complete=function(){var e=this.destination;e&&e.complete&&this.destination.complete()},t.prototype._subscribe=function(e){return this.source?this.source.subscribe(e):i.Subscription.EMPTY},t}(f);t.AnonymousSubject=p},2473:function(e,t,n){"use strict";t.noop=function(){}},2474:function(e,t,n){"use strict";var r=n(2473);function o(e){return e?1===e.length?e[0]:function(t){return e.reduce(function(e,t){return t(e)},t)}:r.noop}t.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return o(e)},t.pipeFromArray=o},2475:function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=function(e){function t(t){e.call(this),this.errors=t;var n=Error.call(this,t?t.length+" errors occurred during unsubscription:\n  "+t.map(function(e,t){return t+1+") "+e.toString()}).join("\n  "):"");this.name=n.name="UnsubscriptionError",this.stack=n.stack,this.message=n.message}return r(t,e),t}(Error);t.UnsubscriptionError=o},2476:function(e,t,n){"use strict";t.isArray=Array.isArray||function(e){return e&&"number"==typeof e.length}},2477:function(e,t,n){"use strict";var r=n(2321),o=n(2360),a=n(2386);t.toSubscriber=function(e,t,n){if(e){if(e instanceof r.Subscriber)return e;if(e[o.rxSubscriber])return e[o.rxSubscriber]()}return e||t||n?new r.Subscriber(e,t,n):new r.Subscriber(a.empty)}},2478:function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),s=h(i),u=h(n(2)),l=n(2286),c=h(n(2299)),f=h(n(2296)),p=h(n(2295)),d=h(n(2294));function h(e){return e&&e.__esModule?e:{default:e}}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}function b(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var v=["horizontal","horizontalRows","horizontalInline","vertical","verticalRows"],g=function(e){function t(e){y(this,t);var n=m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleClick=n.handleClick.bind(n),n}return b(t,i.Component),a(t,[{key:"handleClick",value:function(e){var t=this.props,n=t.onClick,r=t.forChart,a=t.options;n(o({chartId:r},a),e)}},{key:"renderValueNextToLabel",value:function(){var e=this.props,t=e.origin,n=e.yLabel,r=e.yValue,o=e.labelFill,a=e.valueFill,i=e.withShape,u=e.fontSize,l=e.fontFamily;return s.default.createElement("g",{transform:"translate("+t[0]+", "+t[1]+")",onClick:this.handleClick},i?s.default.createElement("rect",{x:"0",y:"-6",width:"6",height:"6",fill:a}):null,s.default.createElement(p.default,{x:i?8:0,y:0,fontFamily:l,fontSize:u},s.default.createElement(d.default,{fill:o},n,": "),s.default.createElement("tspan",{fill:a},r)))}},{key:"renderValueBeneathToLabel",value:function(){var e=this.props,t=e.origin,n=e.yLabel,r=e.yValue,o=e.labelFill,a=e.valueFill,i=e.withShape,u=e.fontSize,l=e.fontFamily;return s.default.createElement("g",{transform:"translate("+t[0]+", "+t[1]+")",onClick:this.handleClick},i?s.default.createElement("line",{x1:0,y1:2,x2:0,y2:28,stroke:a,strokeWidth:"4px"}):null,s.default.createElement(p.default,{x:5,y:11,fontFamily:l,fontSize:u},s.default.createElement(d.default,{fill:o},n),s.default.createElement("tspan",{x:"5",dy:"15",fill:a},r)))}},{key:"renderInline",value:function(){var e=this.props,t=e.yLabel,n=e.yValue,r=e.labelFill,o=e.valueFill,a=e.fontSize,i=e.fontFamily;return s.default.createElement("tspan",{onClick:this.handleClick,fontFamily:i,fontSize:a},s.default.createElement(d.default,{fill:r},t,": "),s.default.createElement("tspan",{fill:o},n,"  "))}},{key:"render",value:function(){var e=null;switch(this.props.layout){case"horizontal":e=this.renderValueNextToLabel();break;case"horizontalRows":e=this.renderValueBeneathToLabel();break;case"horizontalInline":e=this.renderInline();break;case"vertical":e=this.renderValueNextToLabel();break;case"verticalRows":e=this.renderValueBeneathToLabel();break;default:e=this.renderValueNextToLabel()}return e}}]),t}();g.propTypes={origin:u.default.array.isRequired,yLabel:u.default.string.isRequired,yValue:u.default.string.isRequired,onClick:u.default.func,fontFamily:u.default.string,labelFill:u.default.string.isRequired,valueFill:u.default.string.isRequired,fontSize:u.default.number,withShape:u.default.bool,forChart:u.default.oneOfType([u.default.number,u.default.string]).isRequired,options:u.default.object.isRequired,layout:u.default.oneOf(v).isRequired},g.defaultProps={labelFill:"#4682B4",valueFill:"#000000",withShape:!1};var w=function(e){function t(e){y(this,t);var n=m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.renderSVG=n.renderSVG.bind(n),n}return b(t,i.Component),a(t,[{key:"getPosition",value:function(e){var t=this.props.position,n=e.chartConfig,r=n.height,o=n.width,a=null,i=null;if(void 0!==t)switch(t){case"topRight":i=[o-20,null],a="end";break;case"bottomLeft":i=[null,r-40];break;case"bottomRight":i=[o-20,r-40],a="end";break;default:i=[null,null]}else i=[null,null];return{xyPos:i,textAnchor:a}}},{key:"renderSVG",value:function(e){var t=this.props.displayValuesFor,n=e.chartId,r=this.props,o=r.className,a=r.onClick,i=r.width,u=r.verticalSize,l=r.fontFamily,c=r.fontSize,f=r.layout,d=this.props,h=d.origin,y=d.displayFormat,m=d.options,b=t(this.props,e),v=this.getPosition(e),w=v.xyPos,k=v.textAnchor,E=null!=w&&null!=w[0]?w[0]:h[0],S=null!=w&&null!=w[1]?w[1]:h[1],O=m.map(function(e,t){var r=b&&e.yAccessor(b),o=r?y(r):"n/a";return s.default.createElement(g,{key:t,layout:f,origin:"horizontal"===f||"horizontalRows"===f?[i*t,0]:"vertical"===f?[0,u*t]:"verticalRows"===f?[0,2.3*u*t]:[0,0],yLabel:e.yLabel,yValue:o,options:e,forChart:n,onClick:a,fontFamily:l,fontSize:c,labelFill:e.labelFill,valueFill:e.valueFill,withShape:e.withShape})});return s.default.createElement("g",{transform:"translate("+E+", "+S+")",className:o,textAnchor:k},"horizontalInline"===f?s.default.createElement(p.default,{x:0,y:0,fontFamily:l,fontSize:c},O):O)}},{key:"render",value:function(){return s.default.createElement(f.default,{clip:!1,svgDraw:this.renderSVG,drawOn:["mousemove"]})}}]),t}();w.propTypes={className:u.default.string,layout:u.default.oneOf(v).isRequired,position:u.default.oneOf(["topRight","bottomLeft","bottomRight"]),displayFormat:u.default.func.isRequired,origin:u.default.array.isRequired,displayValuesFor:u.default.func,onClick:u.default.func,fontFamily:u.default.string,fontSize:u.default.number,width:u.default.number,verticalSize:u.default.number,options:u.default.arrayOf(u.default.shape({yLabel:u.default.oneOfType([u.default.string,u.default.func]).isRequired,yAccessor:u.default.func.isRequired,labelFill:u.default.string,valueFill:u.default.string,withShape:u.default.bool}))},w.defaultProps={className:"react-stockcharts-tooltip react-stockcharts-group-tooltip",layout:"horizontal",displayFormat:(0,l.format)(".2f"),displayValuesFor:c.default,origin:[0,0],width:60,verticalSize:13},t.default=w},2479:function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),s=p(i),u=p(n(2)),l=p(n(2363)),c=n(2273),f=n(2274);function p(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.renderSVG=n.renderSVG.bind(n),n.drawOnCanvas=n.drawOnCanvas.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),a(t,[{key:"drawOnCanvas",value:function(e,t){var n=v(this.props,t,e),r=t.height;if((0,f.isNotDefined)(n))return null;!function(e,t,n,r,o){var a=n.margin,i=n.ratio,s=t.bgFill,u=t.bgOpacity,l=t.backgroundShapeCanvas,c=t.tooltipCanvas,p=.5*i+a.left,d=.5*i+a.top;e.save(),e.setTransform(1,0,0,1,0,0),e.scale(i,i),e.translate(p,d);var h=r.x,y=r.y,m=r.content,b=r.centerX,v=r.pointWidth,g=r.bgSize;e.fillStyle=(0,f.hexToRGBA)(s,u),e.beginPath(),e.rect(b-v/2,0,v,o),e.fill(),e.translate(h,y),l(t,g,e),c(t,m,e),e.restore()}(e,this.props,this.context,n,r)}},{key:"render",value:function(){return s.default.createElement(l.default,{svgDraw:this.renderSVG,canvasDraw:this.drawOnCanvas,drawOn:["mousemove","pan"]})}},{key:"renderSVG",value:function(e){var t=v(this.props,e);if((0,f.isNotDefined)(t))return null;var n=this.props,r=n.bgFill,o=n.bgOpacity,a=n.backgroundShapeSVG,i=n.tooltipSVG,u=this.props,l=u.bgheight,c=u.bgwidth,p=e.height,d=t.x,h=t.y,y=t.content,m=t.centerX,b=t.pointWidth,g=t.bgSize,w=(0,f.isDefined)(c)&&(0,f.isDefined)(l)?{width:c,height:l}:g;return s.default.createElement("g",null,s.default.createElement("rect",{x:m-b/2,y:0,width:b,height:p,fill:r,opacity:o}),s.default.createElement("g",{className:"react-stockcharts-tooltip-content",transform:"translate("+d+", "+h+")"},a(this.props,w),i(this.props,y)))}}]),t}();d.propTypes={chartId:u.default.oneOfType([u.default.number,u.default.string]),yAccessor:u.default.func,tooltipSVG:u.default.func,backgroundShapeSVG:u.default.func,bgwidth:u.default.number,bgheight:u.default.number,bgFill:u.default.string.isRequired,bgOpacity:u.default.number.isRequired,tooltipContent:u.default.func.isRequired,origin:u.default.oneOfType([u.default.array,u.default.func]).isRequired,fontFamily:u.default.string,fontSize:u.default.number},d.contextTypes={margin:u.default.object.isRequired,ratio:u.default.number.isRequired},d.defaultProps={tooltipSVG:function(e,t){for(var n=e.fontFamily,r=e.fontSize,o=e.fontFill,a=[],i=m+.9*r,u=0;u<t.y.length;u++){var l=t.y[u],c=i+r*(u+1);a.push(s.default.createElement("tspan",{key:"L-"+u,x:y,y:c,fill:l.stroke},l.label)),a.push(s.default.createElement("tspan",{key:u},": ")),a.push(s.default.createElement("tspan",{key:"V-"+u},l.value))}return s.default.createElement("text",{fontFamily:n,fontSize:r,fill:o},s.default.createElement("tspan",{x:y,y:i},t.x),a)},tooltipCanvas:function(e,t,n){var r=e.fontFamily,o=e.fontSize,a=e.fontFill,i=m+.9*o;n.font=o+"px "+r,n.fillStyle=a,n.textAlign="left",n.fillText(t.x,y,i);for(var s=0;s<t.y.length;s++){var u=t.y[s],l=i+o*(s+1);n.fillStyle=u.stroke||a,n.fillText(u.label,y,l),n.fillStyle=a,n.fillText(": "+u.value,y+n.measureText(u.label).width,l)}},origin:function(e,t,n,r){var o=e.chartId,a=e.yAccessor,i=t.mouseXY,s=t.xAccessor,u=t.currentItem,l=t.xScale,c=t.chartConfig,p=t.width,d=(0,f.last)(i),y=s(u),m=Math.round(l(y));if((0,f.isDefined)(o)&&(0,f.isDefined)(a)&&(0,f.isDefined)(c)&&(0,f.isDefined)(c.findIndex)){var b=a(u),v=c.findIndex(function(e){return e.id===o});d=Math.round(c[v].yScale(b))}return m=function(e,t,n,r){return e<r/2?e+n/2+h:e-t.width-n/2-h}(m,n,r,p),d=function(e,t){return e-t.height<=0?e+h:e-t.height-h}(d,n),[m,d]},fill:"#D4E2FD",bgFill:"#D4E2FD",bgOpacity:.5,stroke:"#9B9BFF",fontFill:"#000000",opacity:.8,backgroundShapeSVG:function(e,t){var n=e.fill,r=e.stroke,o=e.opacity,a=t.height,i=t.width;return s.default.createElement("rect",{height:a,width:i,fill:n,opacity:o,stroke:r})},backgroundShapeCanvas:function(e,t,n){var r=t.width,o=t.height,a=e.fill,i=e.stroke,s=e.opacity;n.fillStyle=(0,f.hexToRGBA)(a,s),n.strokeStyle=i,n.beginPath(),n.rect(0,0,r,o),n.fill(),n.stroke()},fontFamily:"Helvetica Neue, Helvetica, Arial, sans-serif",fontSize:12};var h=5,y=10,m=10;function b(e,t,n){var r=e.fontFamily,o=e.fontSize,a=e.fontFill;if((0,f.isNotDefined)(n)){var i=document.createElement("canvas");n=i.getContext("2d")}n.font=o+"px "+r,n.fillStyle=a,n.textAlign="left";var s=function(e){return{width:n.measureText(e).width,height:o}},u=t.y.map(function(e){var t=e.label,n=e.value;return s(t+": "+n)}).reduce(function(e,t){return function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return{width:Math.max.apply(Math,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(t.map(function(e){return e.width}))),height:(0,c.sum)(t,function(e){return e.height})}}(e,t)},s(String(t.x))),l=u.width,p=u.height;return{width:l+2*y,height:p+2*m}}function v(e,t,n){var r=t.show,a=t.xScale,i=t.currentItem,s=t.plotData,u=e.origin,l=e.tooltipContent,c=t.xAccessor,p=t.displayXAccessor;if(r&&!(0,f.isNotDefined)(i)){var d=c(i);if(r&&!(0,f.isNotDefined)(d)){var h=l({currentItem:i,xAccessor:p}),y=a(d),m=Math.abs(a(c((0,f.last)(s)))-a(c((0,f.first)(s))))/(s.length-1),v=b(e,h,n),g=u(e,t,v,m),w=o(g,2);return{x:w[0],y:w[1],content:h,centerX:y,pointWidth:m,bgSize:v}}}}t.default=d},2480:function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(2286),s=n(0),u=y(s),l=y(n(2)),c=y(n(2299)),f=y(n(2296)),p=n(2274),d=y(n(2295)),h=y(n(2294));function y(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.renderSVG=n.renderSVG.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.Component),a(t,[{key:"renderSVG",value:function(e){var t=this.props,n=t.onClick,r=t.fontFamily,a=t.fontSize,i=t.yAccessor,s=t.displayFormat,l=t.label,c=this.props,f=c.className,y=c.options,m=c.appearance,b=c.labelFill,v=this.props.displayValuesFor,g=e.chartConfig,w=g.width,k=g.height,E=v(this.props,e),S=m.stroke,O=E&&i(E),_=O&&O.K&&s(O.K)||"n/a",C=O&&O.D&&s(O.D)||"n/a",x=this.props.origin,P=(0,p.functor)(x)(w,k),D=o(P,2),T=D[0],A=D[1];return u.default.createElement("g",{className:f,transform:"translate("+T+", "+A+")",onClick:n},u.default.createElement(d.default,{x:0,y:0,fontFamily:r,fontSize:a},u.default.createElement(h.default,{fill:b},l+" %K("),u.default.createElement("tspan",{fill:S.kLine},y.windowSize+", "+y.kWindowSize),u.default.createElement(h.default,{fill:b},"): "),u.default.createElement("tspan",{fill:S.kLine},_),u.default.createElement(h.default,{fill:b}," %D ("),u.default.createElement("tspan",{fill:S.dLine},y.dWindowSize),u.default.createElement(h.default,{fill:b},"): "),u.default.createElement("tspan",{fill:S.dLine},C)))}},{key:"render",value:function(){return u.default.createElement(f.default,{clip:!1,svgDraw:this.renderSVG,drawOn:["mousemove"]})}}]),t}();m.propTypes={origin:l.default.oneOfType([l.default.array,l.default.func]).isRequired,className:l.default.string,fontFamily:l.default.string,fontSize:l.default.number,labelFill:l.default.string,onClick:l.default.func,yAccessor:l.default.func.isRequired,options:l.default.shape({windowSize:l.default.number.isRequired,kWindowSize:l.default.number.isRequired,dWindowSize:l.default.number.isRequired}).isRequired,appearance:l.default.shape({stroke:{dLine:l.default.string.isRequired,kLine:l.default.string.isRequired}.isRequired}).isRequired,displayFormat:l.default.func.isRequired,displayValuesFor:l.default.func,label:l.default.string.isRequired},m.defaultProps={displayFormat:(0,i.format)(".2f"),displayValuesFor:c.default,origin:[0,0],className:"react-stockcharts-tooltip",label:"STO"},t.default=m},2481:function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(2286),s=n(0),u=y(s),l=y(n(2)),c=y(n(2299)),f=y(n(2296)),p=n(2274),d=y(n(2295)),h=y(n(2294));function y(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.renderSVG=n.renderSVG.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.Component),a(t,[{key:"renderSVG",value:function(e){var t=this.props,n=t.onClick,r=t.fontFamily,a=t.fontSize,i=t.yAccessor,s=t.displayFormat,l=t.className,c=this.props,f=c.options,y=c.labelFill,m=c.textFill,b=this.props.displayValuesFor,v=e.chartConfig,g=v.width,w=v.height,k=b(this.props,e),E=(0,p.isDefined)(k)&&i(k),S=E&&s(E)||"n/a",O=this.props.origin,_=(0,p.functor)(O)(g,w),C=o(_,2),x=C[0],P=C[1],D="RSI ("+f.windowSize+"): ";return u.default.createElement("g",{className:l,transform:"translate("+x+", "+P+")",onClick:n},u.default.createElement(d.default,{x:0,y:0,fontFamily:r,fontSize:a},u.default.createElement(h.default,{fill:y},D),u.default.createElement("tspan",{fill:m},S)))}},{key:"render",value:function(){return u.default.createElement(f.default,{clip:!1,svgDraw:this.renderSVG,drawOn:["mousemove"]})}}]),t}();m.propTypes={origin:l.default.oneOfType([l.default.array,l.default.func]).isRequired,options:l.default.shape({windowSize:l.default.number.isRequired}).isRequired,className:l.default.string,fontFamily:l.default.string,fontSize:l.default.number,onClick:l.default.func,yAccessor:l.default.func.isRequired,displayFormat:l.default.func.isRequired,displayValuesFor:l.default.func,textFill:l.default.string,labelFill:l.default.string},m.defaultProps={displayFormat:(0,i.format)(".2f"),displayValuesFor:c.default,origin:[0,0],className:"react-stockcharts-tooltip"},t.default=m},2482:function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),s=y(i),u=y(n(2)),l=n(2286),c=y(n(2299)),f=y(n(2296)),p=n(2274),d=y(n(2295)),h=y(n(2294));function y(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.renderSVG=n.renderSVG.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),a(t,[{key:"renderSVG",value:function(e){var t=this.props,n=t.onClick,r=t.displayFormat,a=t.yAccessor,i=t.options,u=t.textFill,l=t.labelFill,c=this.props.displayValuesFor,f=e.chartConfig,y=f.width,m=f.height,b=c(this.props,e),v=void 0,g=void 0,w=void 0;if(v=g=w="n/a",(0,p.isDefined)(b)&&(0,p.isDefined)(a(b))){var k=a(b);v=r(k.top),g=r(k.middle),w=r(k.bottom)}var E=this.props.origin,S=(0,p.functor)(E)(y,m),O=o(S,2),_=O[0],C=O[1],x="BB("+i.sourcePath+", "+i.windowSize+", "+i.multiplier+", "+i.movingAverageType+"): ",P=v+", "+g+", "+w;return s.default.createElement("g",{transform:"translate("+_+", "+C+")",className:this.props.className,onClick:n},s.default.createElement(d.default,{x:0,y:0,fontFamily:this.props.fontFamily,fontSize:this.props.fontSize},s.default.createElement(h.default,{fill:l},x),s.default.createElement("tspan",{fill:u},P)))}},{key:"render",value:function(){return s.default.createElement(f.default,{clip:!1,svgDraw:this.renderSVG,drawOn:["mousemove"]})}}]),t}();m.propTypes={className:u.default.string,yAccessor:u.default.func.isRequired,displayValuesFor:u.default.func,displayFormat:u.default.func.isRequired,origin:u.default.array.isRequired,onClick:u.default.func,options:u.default.shape({sourcePath:u.default.string.isRequired,windowSize:u.default.number.isRequired,multiplier:u.default.number.isRequired,movingAverageType:u.default.string.isRequired}).isRequired,textFill:u.default.string,labelFill:u.default.string,fontFamily:u.default.string,fontSize:u.default.number},m.defaultProps={className:"react-stockcharts-tooltip react-stockcharts-bollingerband-tooltip",displayFormat:(0,l.format)(".2f"),displayValuesFor:c.default,origin:[0,10]},t.default=m},2483:function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=m(s),l=m(n(2)),c=n(2286),f=m(n(2299)),p=m(n(2296)),d=m(n(2295)),h=m(n(2294)),y=n(2274);function m(e){return e&&e.__esModule?e:{default:e}}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}function g(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var w=function(e){function t(e){b(this,t);var n=v(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleClick=n.handleClick.bind(n),n}return g(t,s.Component),i(t,[{key:"handleClick",value:function(e){var t=this.props,n=t.onClick,r=t.forChart,o=t.options;n(a({chartId:r},o),e)}},{key:"render",value:function(){var e=this.props,t=e.textFill,n=e.labelFill,r="translate("+this.props.origin[0]+", "+this.props.origin[1]+")";return u.default.createElement("g",{transform:r},u.default.createElement("line",{x1:0,y1:2,x2:0,y2:28,stroke:this.props.color,strokeWidth:"4px"}),u.default.createElement(d.default,{x:5,y:11,fontFamily:this.props.fontFamily,fontSize:this.props.fontSize},u.default.createElement(h.default,{fill:n},this.props.displayName),u.default.createElement("tspan",{x:"5",dy:"15",fill:t},this.props.value)),u.default.createElement("rect",{x:0,y:0,width:55,height:30,onClick:this.handleClick,fill:"none",stroke:"none"}))}}]),t}();w.propTypes={origin:l.default.array.isRequired,color:l.default.string.isRequired,displayName:l.default.string.isRequired,value:l.default.string.isRequired,onClick:l.default.func,fontFamily:l.default.string,textFill:l.default.string,labelFill:l.default.string,fontSize:l.default.number,forChart:l.default.oneOfType([l.default.number,l.default.string]).isRequired,options:l.default.object.isRequired};var k=function(e){function t(e){b(this,t);var n=v(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.renderSVG=n.renderSVG.bind(n),n}return g(t,s.Component),i(t,[{key:"renderSVG",value:function(e){var t=this.props.displayValuesFor,n=e.chartId,r=e.chartConfig,a=this.props,i=a.className,s=a.onClick,l=a.width,c=a.fontFamily,f=a.fontSize,p=a.textFill,d=a.labelFill,h=this.props,m=h.origin,b=h.displayFormat,v=h.options,g=e.chartConfig.height,k=t(this.props,e),E=r,S=(0,y.functor)(m)(l,g),O=o(S,2),_=O[0],C=O[1],x=o(E.origin,2),P=x[0],D=x[1];return u.default.createElement("g",{transform:"translate("+(P+_)+", "+(D+C)+")",className:i},v.map(function(e,t){var r=k&&e.yAccessor(k),o=e.type+" ("+e.windowSize+")",a=r?b(r):"n/a";return u.default.createElement(w,{key:t,origin:[l*t,0],color:e.stroke,displayName:o,value:a,options:e,forChart:n,onClick:s,fontFamily:c,fontSize:f,textFill:p,labelFill:d})}))}},{key:"render",value:function(){return u.default.createElement(p.default,{clip:!1,svgDraw:this.renderSVG,drawOn:["mousemove"]})}}]),t}();k.propTypes={className:l.default.string,displayFormat:l.default.func.isRequired,origin:l.default.array.isRequired,displayValuesFor:l.default.func,onClick:l.default.func,textFill:l.default.string,labelFill:l.default.string,fontFamily:l.default.string,fontSize:l.default.number,width:l.default.number,options:l.default.arrayOf(l.default.shape({yAccessor:l.default.func.isRequired,type:l.default.string.isRequired,stroke:l.default.string.isRequired,windowSize:l.default.number.isRequired,echo:l.default.any}))},k.defaultProps={className:"react-stockcharts-tooltip react-stockcharts-moving-average-tooltip",displayFormat:(0,c.format)(".2f"),displayValuesFor:f.default,origin:[0,10],width:65},t.default=k},2484:function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),s=y(i),u=y(n(2)),l=n(2286),c=y(n(2299)),f=y(n(2296)),p=y(n(2295)),d=y(n(2294)),h=n(2274);function y(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.renderSVG=n.renderSVG.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),a(t,[{key:"renderSVG",value:function(e){var t=this.props,n=t.onClick,r=t.fontFamily,a=t.fontSize,i=t.labelFill,u=t.valueFill,l=t.className,c=this.props,f=c.xDisplayFormat,y=c.yDisplayFormat,m=c.xLabel,b=c.yLabel,v=c.xAccessor,g=c.yAccessor,w=this.props.displayValuesFor,k=e.chartConfig,E=k.width,S=k.height,O=w(this.props,e),_=(0,h.isDefined)(O)&&(0,h.isDefined)(v(O))?f(v(O)):"n/a",C=(0,h.isDefined)(O)&&(0,h.isDefined)(g(O))?y(g(O)):"n/a",x=this.props.origin,P=(0,h.functor)(x)(E,S),D=o(P,2),T=D[0],A=D[1];return s.default.createElement("g",{className:l,transform:"translate("+T+", "+A+")",onClick:n},s.default.createElement(p.default,{x:0,y:0,fontFamily:r,fontSize:a},m?s.default.createElement(d.default,{x:0,dy:"5",fill:i},m+": "):null,m?s.default.createElement("tspan",{fill:u},_+" "):null,s.default.createElement(d.default,{fill:i},b+": "),s.default.createElement("tspan",{fill:u},C)))}},{key:"render",value:function(){return s.default.createElement(f.default,{clip:!1,svgDraw:this.renderSVG,drawOn:["mousemove"]})}}]),t}();m.propTypes={xDisplayFormat:u.default.func,yDisplayFormat:u.default.func.isRequired,xLabel:u.default.string,yLabel:u.default.oneOfType([u.default.string,u.default.func]).isRequired,labelFill:u.default.string.isRequired,valueFill:u.default.string,origin:u.default.oneOfType([u.default.array,u.default.func]).isRequired,className:u.default.string,fontFamily:u.default.string,fontSize:u.default.number,onClick:u.default.func,displayValuesFor:u.default.func,xAccessor:u.default.func,yAccessor:u.default.func},m.defaultProps={origin:[0,0],labelFill:"#4682B4",valueFill:"#000000",yDisplayFormat:(0,l.format)(".2f"),displayValuesFor:c.default,xAccessor:h.noop,yAccessor:h.identity,className:"react-stockcharts-tooltip"},t.default=m},2485:function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),s=m(i),u=m(n(2)),l=n(2286),c=n(2355),f=m(n(2299)),p=m(n(2296)),d=n(2274),h=m(n(2295)),y=m(n(2294));function m(e){return e&&e.__esModule?e:{default:e}}var b=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.renderSVG=n.renderSVG.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),a(t,[{key:"renderSVG",value:function(e){var t=this.props.displayValuesFor,n=this.props,r=n.xDisplayFormat,a=n.accessor,i=n.volumeFormat,s=n.ohlcFormat,u=n.percentFormat,l=n.displayTexts,c=e.chartConfig,f=c.width,p=c.height,h=e.displayXAccessor,y=t(this.props,e),m=void 0,b=void 0,v=void 0,g=void 0,w=void 0,k=void 0,E=void 0;if(m=b=v=g=w=k=E=l.na,(0,d.isDefined)(y)&&(0,d.isDefined)(a(y))){var S=a(y);k=(0,d.isDefined)(S.volume)?i(S.volume):l.na,m=r(h(S)),b=s(S.open),v=s(S.high),g=s(S.low),w=s(S.close),E=u((S.close-S.open)/S.open)}var O=this.props.origin,_=(0,d.functor)(O)(f,p),C=o(_,2),x={displayDate:m,open:b,high:v,low:g,close:w,percent:E,volume:k,x:C[0],y:C[1]};return this.props.children(this.props,e,x)}},{key:"render",value:function(){return s.default.createElement(p.default,{clip:!1,svgDraw:this.renderSVG,drawOn:["mousemove"]})}}]),t}();b.propTypes={className:u.default.string,accessor:u.default.func,xDisplayFormat:u.default.func,children:u.default.func,volumeFormat:u.default.func,percentFormat:u.default.func,ohlcFormat:u.default.func,origin:u.default.oneOfType([u.default.array,u.default.func]),fontFamily:u.default.string,fontSize:u.default.number,onClick:u.default.func,displayValuesFor:u.default.func,textFill:u.default.string,labelFill:u.default.string,displayTexts:u.default.object};b.defaultProps={accessor:function(e){return{date:e.date,open:e.open,high:e.high,low:e.low,close:e.close,volume:e.volume}},xDisplayFormat:(0,c.timeFormat)("%Y-%m-%d"),volumeFormat:(0,l.format)(".4s"),percentFormat:(0,l.format)(".2%"),ohlcFormat:(0,l.format)(".2f"),displayValuesFor:f.default,origin:[0,0],children:function(e,t,n){var r=e.className,o=e.textFill,a=e.labelFill,i=e.onClick,u=e.fontFamily,l=e.fontSize,c=e.displayTexts,f=n.displayDate,p=n.open,d=n.high,m=n.low,b=n.close,v=n.volume,g=n.x,w=n.y;return s.default.createElement("g",{className:"react-stockcharts-tooltip-hover "+r,transform:"translate("+g+", "+w+")",onClick:i},s.default.createElement(h.default,{x:0,y:0,fontFamily:u,fontSize:l},s.default.createElement(y.default,{fill:a,key:"label",x:0,dy:"5"},c.d),s.default.createElement("tspan",{key:"value",fill:o},f),s.default.createElement(y.default,{fill:a,key:"label_O"},c.o),s.default.createElement("tspan",{key:"value_O",fill:o},p),s.default.createElement(y.default,{fill:a,key:"label_H"},c.h),s.default.createElement("tspan",{key:"value_H",fill:o},d),s.default.createElement(y.default,{fill:a,key:"label_L"},c.l),s.default.createElement("tspan",{key:"value_L",fill:o},m),s.default.createElement(y.default,{fill:a,key:"label_C"},c.c),s.default.createElement("tspan",{key:"value_C",fill:o},b),s.default.createElement(y.default,{fill:a,key:"label_Vol"},c.v),s.default.createElement("tspan",{key:"value_Vol",fill:o},v)))},displayTexts:{d:"Date: ",o:" O: ",h:" H: ",l:" L: ",c:" C: ",v:" Vol: ",na:"n/a"}},t.default=b},2486:function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(2286),s=n(0),u=y(s),l=y(n(2)),c=y(n(2299)),f=y(n(2296)),p=y(n(2295)),d=y(n(2294)),h=n(2274);function y(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.renderSVG=n.renderSVG.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.Component),a(t,[{key:"renderSVG",value:function(e){var t=this.props,n=t.onClick,r=t.fontFamily,a=t.fontSize,i=t.displayFormat,s=t.className,l=this.props,c=l.yAccessor,f=l.options,y=l.appearance,m=l.labelFill,b=this.props.displayValuesFor,v=e.chartConfig,g=v.width,w=v.height,k=b(this.props,e),E=k&&c(k),S=E&&E.macd&&i(E.macd)||"n/a",O=E&&E.signal&&i(E.signal)||"n/a",_=E&&E.divergence&&i(E.divergence)||"n/a",C=this.props.origin,x=(0,h.functor)(C)(g,w),P=o(x,2),D=P[0],T=P[1];return u.default.createElement("g",{className:s,transform:"translate("+D+", "+T+")",onClick:n},u.default.createElement(p.default,{x:0,y:0,fontFamily:r,fontSize:a},u.default.createElement(d.default,{fill:m},"MACD ("),u.default.createElement("tspan",{fill:y.stroke.macd},f.slow),u.default.createElement(d.default,{fill:m},", "),u.default.createElement("tspan",{fill:y.stroke.macd},f.fast),u.default.createElement(d.default,{fill:m},"): "),u.default.createElement("tspan",{fill:y.stroke.macd},S),u.default.createElement(d.default,{fill:m}," Signal ("),u.default.createElement("tspan",{fill:y.stroke.signal},f.signal),u.default.createElement(d.default,{fill:m},"): "),u.default.createElement("tspan",{fill:y.stroke.signal},O),u.default.createElement(d.default,{fill:m}," Divergence: "),u.default.createElement("tspan",{fill:y.fill.divergence},_)))}},{key:"render",value:function(){return u.default.createElement(f.default,{clip:!1,svgDraw:this.renderSVG,drawOn:["mousemove"]})}}]),t}();m.propTypes={origin:l.default.oneOfType([l.default.array,l.default.func]).isRequired,className:l.default.string,fontFamily:l.default.string,fontSize:l.default.number,labelFill:l.default.string,yAccessor:l.default.func.isRequired,options:l.default.shape({slow:l.default.number.isRequired,fast:l.default.number.isRequired,signal:l.default.number.isRequired}).isRequired,appearance:l.default.shape({stroke:{macd:l.default.string.isRequired,signal:l.default.string.isRequired}.isRequired,fill:l.default.shape({divergence:l.default.string.isRequired}).isRequired}).isRequired,displayFormat:l.default.func.isRequired,displayValuesFor:l.default.func,onClick:l.default.func},m.defaultProps={origin:[0,0],displayFormat:(0,i.format)(".2f"),displayValuesFor:c.default,className:"react-stockcharts-tooltip"},t.default=m},2487:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2486);Object.defineProperty(t,"MACDTooltip",{enumerable:!0,get:function(){return h(r).default}});var o=n(2485);Object.defineProperty(t,"OHLCTooltip",{enumerable:!0,get:function(){return h(o).default}});var a=n(2484);Object.defineProperty(t,"SingleValueTooltip",{enumerable:!0,get:function(){return h(a).default}});var i=n(2483);Object.defineProperty(t,"MovingAverageTooltip",{enumerable:!0,get:function(){return h(i).default}});var s=n(2482);Object.defineProperty(t,"BollingerBandTooltip",{enumerable:!0,get:function(){return h(s).default}});var u=n(2481);Object.defineProperty(t,"RSITooltip",{enumerable:!0,get:function(){return h(u).default}});var l=n(2480);Object.defineProperty(t,"StochasticTooltip",{enumerable:!0,get:function(){return h(l).default}});var c=n(2479);Object.defineProperty(t,"HoverTooltip",{enumerable:!0,get:function(){return h(c).default}});var f=n(2295);Object.defineProperty(t,"ToolTipText",{enumerable:!0,get:function(){return h(f).default}});var p=n(2294);Object.defineProperty(t,"ToolTipTSpanLabel",{enumerable:!0,get:function(){return h(p).default}});var d=n(2478);function h(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"GroupTooltip",{enumerable:!0,get:function(){return h(d).default}})},2488:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.discontinuousTimeScaleProviderBuilder=p;var a=n(2355),i=function(e){return e&&e.__esModule?e:{default:e}}(n(2391)),s=n(2274),u=n(2390);function l(e,t,n,r){return u.levelDefinition.map(function(o,a){return{level:u.levelDefinition.length-a-1,format:r[o(e,t,n)]}}).find(function(e){return!!e.format})}var c=(0,s.slidingWindow)().windowSize(2).undefinedValue(function(e,t,n){var r=n.initialIndex,a=n.formatters,i=r,s={date:e.getTime(),startOf30Seconds:!1,startOfMinute:!1,startOf5Minutes:!1,startOf15Minutes:!1,startOf30Minutes:!1,startOfHour:!1,startOfEighthOfADay:!1,startOfQuarterDay:!1,startOfHalfDay:!1,startOfDay:!0,startOfWeek:!1,startOfMonth:!1,startOfQuarter:!1,startOfYear:!1},u=l(s,e,i,a);return o({},s,{index:i},u)}).accumulator(function(e,t,n,a){var i=r(e,2),s=i[0],u=i[1],c=a.initialIndex,f=a.formatters,p=u.getSeconds()%30==0,d=u.getMinutes()!==s.getMinutes(),h=d&&u.getMinutes()%5<=s.getMinutes()%5,y=d&&u.getMinutes()%15<=s.getMinutes()%15,m=d&&u.getMinutes()%30<=s.getMinutes()%30,b=u.getHours()!==s.getHours(),v=b&&u.getHours()%3==0,g=b&&u.getHours()%6==0,w=b&&u.getHours()%12==0,k=u.getDay()!==s.getDay(),E=u.getDay()<s.getDay(),S=u.getMonth()!==s.getMonth(),O=S&&u.getMonth()%3<=s.getMonth()%3,_=u.getFullYear()!==s.getFullYear(),C={date:u.getTime(),startOf30Seconds:p,startOfMinute:d,startOf5Minutes:h,startOf15Minutes:y,startOf30Minutes:m,startOfHour:b,startOfEighthOfADay:v,startOfQuarterDay:g,startOfHalfDay:w,startOfDay:k,startOfWeek:E,startOfMonth:S,startOfQuarter:O,startOfYear:_},x=l(C,u,t,f);return null==x&&console.log(C),o({},C,{index:t+c},x)});function f(e,t,n,r){return function(o){var i=e(t);return{index:c.source(i).misc({initialIndex:n,formatters:r})(o).map(function(e){var t=e.format;return{index:e.index,level:e.level,date:new Date(e.date),format:(0,a.timeFormat)(t)}})}}}function p(){var e=0,t=s.identity,n=function(e){return e.date},r=function(e){return e.idx},l=function(e,t){return o({},e,{idx:t})},c=void 0,p=u.defaultFormatters,d=function(o){var a=c;(0,s.isNotDefined)(a)&&(a=f(t,n,e,p)(o).index);var u=a,d=(0,i.default)(u);return{data:(0,s.zipper)().combine(l)(o,u),xScale:d,xAccessor:function(e){return e&&r(e).index},displayXAccessor:t(n)}};return d.initialIndex=function(t){return arguments.length?(e=t,d):e},d.inputDateAccessor=function(e){return arguments.length?(n=e,d):n},d.indexAccessor=function(e){return arguments.length?(r=e,d):r},d.indexMutator=function(e){return arguments.length?(l=e,d):l},d.withIndex=function(e){return arguments.length?(c=e,d):c},d.utc=function(){return t=function(e){return function(t){var n=e(t),r=60*n.getTimezoneOffset()*1e3;return new Date(n.getTime()+r)}},d},d.setLocale=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e&&(0,a.timeFormatDefaultLocale)(e),t&&(p=t),d},d.indexCalculator=function(){return f(t,n,e,p)},d}t.default=p()},2489:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2488);Object.defineProperty(t,"discontinuousTimeScaleProvider",{enumerable:!0,get:function(){return a(r).default}}),Object.defineProperty(t,"discontinuousTimeScaleProviderBuilder",{enumerable:!0,get:function(){return r.discontinuousTimeScaleProviderBuilder}});var o=n(2391);function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"financeDiscontinuousScale",{enumerable:!0,get:function(){return a(o).default}}),t.defaultScaleProvider=function(e){return function(t,n){return{data:t,xScale:e,xAccessor:n,displayXAccessor:n}}}},2490:function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.minWidth,c=void 0===n?100:n,f=t.minHeight,p=void 0===f?100:f,d=t.ratio,h=t.width,y=t.height;function m(e){var t=e.parentNode.clientWidth,n=e.parentNode.clientHeight;return{width:(0,l.isDefined)(h)?h:Math.max(t,c),height:(0,l.isDefined)(y)?y:Math.max(n,p)}}var b=function(t){function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.handleWindowResize=t.handleWindowResize.bind(t),t.getWrappedInstance=t.getWrappedInstance.bind(t),t.saveNode=t.saveNode.bind(t),t.setTestCanvas=t.setTestCanvas.bind(t),t.state={},t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,t),a(n,[{key:"saveNode",value:function(e){this.node=e}},{key:"setTestCanvas",value:function(e){this.testCanvas=e}},{key:"getRatio",value:function(){if((0,l.isDefined)(this.testCanvas)){var e=this.testCanvas.getContext("2d"),t=window.devicePixelRatio||1,n=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1,r=t/n;return r}return 1}},{key:"componentDidMount",value:function(){window.addEventListener("resize",this.handleWindowResize);var e=m(this.node);this.setState(o({},e,{ratio:(0,l.isDefined)(d)?d:this.getRatio()}))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleWindowResize)}},{key:"handleWindowResize",value:function(){var e=u.default.findDOMNode(this.node);this.setState(m(e))}},{key:"getWrappedInstance",value:function(){return this.node}},{key:"render",value:function(){var t={ref:this.saveNode};return this.state.width?s.default.createElement(e,o({height:this.state.height,width:this.state.width,ratio:this.state.ratio},this.props,t)):s.default.createElement("div",t,s.default.createElement("canvas",{ref:this.setTestCanvas}))}}]),n}(i.Component);return b.displayName="fitDimensions("+function(e){return e.displayName||e.name||"Series"}(e)+")",b};var i=n(0),s=c(i),u=c(n(97)),l=n(2274);function c(e){return e&&e.__esModule?e:{default:e}}},2491:function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.default=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100,l=function(i){function l(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,e));return t.handleWindowResize=t.handleWindowResize.bind(t),t.getWrappedInstance=t.getWrappedInstance.bind(t),t.saveNode=t.saveNode.bind(t),t.setTestCanvas=t.setTestCanvas.bind(t),t.state={},t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(l,i),a(l,[{key:"saveNode",value:function(e){this.node=e}},{key:"setTestCanvas",value:function(e){this.testCanvas=e}},{key:"getRatio",value:function(){if((0,u.isDefined)(this.testCanvas)){var e=this.testCanvas.getContext("2d"),t=window.devicePixelRatio||1,n=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1,r=t/n;return r}return 1}},{key:"componentDidMount",value:function(){window.addEventListener("resize",this.handleWindowResize),this.handleWindowResize(),this.setState({ratio:this.getRatio()})}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleWindowResize)}},{key:"handleWindowResize",value:function(){var e=this;this.setState({width:0},function(){var t=e.node,r=window.getComputedStyle(t.parentNode),o=r.width,a=r.paddingLeft,i=r.paddingRight,s=parseFloat(o)-(parseFloat(a)+parseFloat(i));e.setState({width:Math.round(Math.max(s,n))})})}},{key:"getWrappedInstance",value:function(){return this.node}},{key:"render",value:function(){var n=t?{ref:this.saveNode}:{};return this.state.width?s.default.createElement(e,o({width:this.state.width,ratio:this.state.ratio},this.props,n)):s.default.createElement("div",n,s.default.createElement("canvas",{ref:this.setTestCanvas}))}}]),l}(i.Component);return l.displayName="fitWidth("+function(e){return e.displayName||e.name||"Series"}(e)+")",l};var i=n(0),s=function(e){return e&&e.__esModule?e:{default:e}}(i),u=n(2274)},2492:function(e,t,n){"use strict";var r;!function(){var o=void 0!==t&&t||{}||this||window;void 0===(r=function(){return o}.call(t,n,t,e))||(e.exports=r);var a="http://www.w3.org/2000/xmlns/",i=/url\(["']?(.+?)["']?\)/,s={woff2:"font/woff2",woff:"font/woff",otf:"application/x-font-opentype",ttf:"application/x-font-ttf",eot:"application/vnd.ms-fontobject",sfnt:"application/font-sfnt",svg:"image/svg+xml"},u=function(e){if(!function(e){return e instanceof HTMLElement||e instanceof SVGElement}(e))throw new Error("an HTMLElement or SVGElement is required; got "+e)},l=function(e,t,n){var r=e.viewBox&&e.viewBox.baseVal&&e.viewBox.baseVal[n]||null!==t.getAttribute(n)&&!t.getAttribute(n).match(/%$/)&&parseInt(t.getAttribute(n))||e.getBoundingClientRect()[n]||parseInt(t.style[n])||parseInt(window.getComputedStyle(e).getPropertyValue(n));return void 0===r||null===r||isNaN(parseFloat(r))?0:r},c=function(e){for(var t=window.atob(e.split(",")[1]),n=e.split(",")[0].split(":")[1].split(";")[0],r=new ArrayBuffer(t.length),o=new Uint8Array(r),a=0;a<t.length;a++)o[a]=t.charCodeAt(a);return new Blob([r],{type:n})},f=function(e){var t=e.cssText.match(i),n=t&&t[1]||"";if(n&&!n.match(/^data:/)&&"about:blank"!==n){var r=n.startsWith("../")?e.href+"/../"+n:n.startsWith("./")?e.href+"/."+n:n;return{text:e.cssText,format:function(e){var t=Object.keys(s).filter(function(t){return e.indexOf("."+t)>0}).map(function(e){return s[e]});return t?t[0]:(console.error("Unknown font format for "+e+". Fonts may not be working correctly."),"application/octet-stream")}(r),url:r}}},p=function(e){return Promise.all(Array.from(e.querySelectorAll("image")).map(function(e){var t=e.getAttributeNS("http://www.w3.org/1999/xlink","href")||e.getAttribute("href");return t?(function(e){return e&&0===e.lastIndexOf("http",0)&&-1===e.lastIndexOf(window.location.host)}(t)&&(t+=(-1===t.indexOf("?")?"?":"&")+"t="+(new Date).valueOf()),new Promise(function(n,r){var o=document.createElement("canvas"),a=new Image;a.crossOrigin="anonymous",a.src=t,a.onerror=function(){return r(new Error("Could not load "+t))},a.onload=function(){o.width=a.width,o.height=a.height,o.getContext("2d").drawImage(a,0,0),e.setAttributeNS("http://www.w3.org/1999/xlink","href",o.toDataURL("image/png")),n(!0)}})):Promise.resolve(null)}))},d={},h=function(e){return Promise.all(e.map(function(e){return new Promise(function(t,n){if(d[e.url])return t(d[e.url]);var r=new XMLHttpRequest;r.addEventListener("load",function(){var n=function(e){for(var t="",n=new Uint8Array(e),r=0;r<n.byteLength;r++)t+=String.fromCharCode(n[r]);return window.btoa(t)}(r.response),o=e.text.replace(i,'url("data:'+e.format+";base64,"+n+'")')+"\n";d[e.url]=o,t(o)}),r.addEventListener("error",function(n){console.warn("Failed to load font from: "+e.url,n),d[e.url]=null,t(null)}),r.addEventListener("abort",function(n){console.warn("Aborted loading font from: "+e.url,n),t(null)}),r.open("GET",e.url),r.responseType="arraybuffer",r.send()})})).then(function(e){return e.filter(function(e){return e}).join("")})},y=null,m=function(e,t){var n=t||{},r=n.selectorRemap,o=n.modifyStyle,a=n.modifyCss,i=n.fonts,s=a||function(e,t){return(r?r(e):e)+"{"+(o?o(t):t)+"}\n"},u=[],l=void 0===i,c=i||[];return(y||(y=Array.from(document.styleSheets).map(function(e){try{return e.cssRules}catch(t){console.warn("Stylesheet could not be loaded: "+e.href)}}))).forEach(function(t){t&&Array.from(t).forEach(function(t){if(void 0!==t.style)if(function(e,t){if(t)try{return e.querySelector(t)||e.parentNode&&e.parentNode.querySelector(t)}catch(e){console.warn('Invalid CSS selector "'+t+'"',e)}}(e,t.selectorText))u.push(s(t.selectorText,t.style.cssText));else if(l&&t.cssText.match(/^@font-face/)){var n=f(t);n&&c.push(n)}else u.push(t.cssText)})}),h(c).then(function(e){return u.join("\n")+e})};o.prepareSvg=function(e,t,n){u(e);var r=t||{},o=r.left,i=void 0===o?0:o,s=r.top,c=void 0===s?0:s,f=r.width,d=r.height,h=r.scale,y=void 0===h?1:h,b=r.responsive,v=void 0!==b&&b;return p(e).then(function(){var r=e.cloneNode(!0),o=function(e,t,n,r){if("svg"===e.tagName)return{width:n||l(e,t,"width"),height:r||l(e,t,"height")};if(e.getBBox){var o=e.getBBox(),a=o.x,i=o.y;return{width:a+o.width,height:i+o.height}}}(e,r,f,d),s=o.width,u=o.height;if("svg"!==e.tagName){if(!e.getBBox)return void console.error("Attempted to render non-SVG element",e);r.setAttribute("transform",r.getAttribute("transform").replace(/translate\(.*?\)/,""));var p=document.createElementNS("http://www.w3.org/2000/svg","svg");p.appendChild(r),r=p}return r.setAttribute("version","1.1"),r.setAttribute("viewBox",[i,c,s,u].join(" ")),r.getAttribute("xmlns")||r.setAttributeNS(a,"xmlns","http://www.w3.org/2000/svg"),r.getAttribute("xmlns:xlink")||r.setAttributeNS(a,"xmlns:xlink","http://www.w3.org/1999/xlink"),v?(r.removeAttribute("width"),r.removeAttribute("height"),r.setAttribute("preserveAspectRatio","xMinYMin meet")):(r.setAttribute("width",s*y),r.setAttribute("height",u*y)),Array.from(r.querySelectorAll("foreignObject > *")).forEach(function(e){e.getAttribute("xmlns")||e.setAttributeNS(a,"xmlns","http://www.w3.org/1999/xhtml")}),m(e,t).then(function(e){var t=document.createElement("style");t.setAttribute("type","text/css"),t.innerHTML="<![CDATA[\n"+e+"\n]]>";var o=document.createElement("defs");o.appendChild(t),r.insertBefore(o,r.firstChild);var a=document.createElement("div");a.appendChild(r);var i=a.innerHTML.replace(/NS\d+:href/gi,'xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href');if("function"!=typeof n)return{src:i,width:s,height:u};n(i,s,u)})})},o.svgAsDataUri=function(e,t,n){u(e);var r=o.prepareSvg(e,t).then(function(e){var t=e.src;return"data:image/svg+xml;base64,"+window.btoa(function(e){return decodeURIComponent(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,function(e,t){var n=String.fromCharCode("0x"+t);return"%"===n?"%25":n}))}('<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd" [<!ENTITY nbsp "&#160;">]>'+t))});return"function"==typeof n?r.then(n):r},o.svgAsPngUri=function(e,t,n){u(e);var r=t||{},a=r.encoderType,i=void 0===a?"image/png":a,s=r.encoderOptions,l=void 0===s?.8:s,c=r.backgroundColor,f=r.canvg,p=function(e){var t=e.src,r=e.width,o=e.height,a=document.createElement("canvas"),s=a.getContext("2d"),u=window.devicePixelRatio||1;a.width=r*u,a.height=o*u,a.style.width=a.width+"px",a.style.height=a.height+"px",s.setTransform(u,0,0,u,0,0),f?f(a,t):s.drawImage(t,0,0),c&&(s.globalCompositeOperation="destination-over",s.fillStyle=c,s.fillRect(0,0,a.width,a.height));var p=void 0;try{p=a.toDataURL(i,l)}catch(e){if("undefined"!=typeof SecurityError&&e instanceof SecurityError||"SecurityError"===e.name)return void console.error("Rendered SVG images cannot be downloaded in this browser.");throw e}return"function"==typeof n&&n(p),Promise.resolve(p)};return f?o.prepareSvg(e,t).then(p):o.svgAsDataUri(e,t).then(function(e){return new Promise(function(t,n){var r=new Image;r.onload=function(){return t(p({src:r,width:r.width,height:r.height}))},r.onerror=function(){n("There was an error loading the data URI as an image on the following SVG\n"+window.atob(e.slice(26))+"Open the following link to see browser's diagnosis\n"+e)},r.src=e})})},o.download=function(e,t){if(navigator.msSaveOrOpenBlob)navigator.msSaveOrOpenBlob(c(t),e);else{var n=document.createElement("a");if("download"in n){n.download=e,n.style.display="none",document.body.appendChild(n);try{var r=c(t),o=URL.createObjectURL(r);n.href=o,n.onclick=function(){return requestAnimationFrame(function(){return URL.revokeObjectURL(o)})}}catch(e){console.warn("This browser does not support object URLs. Falling back to string URL."),n.href=t}n.click(),document.body.removeChild(n)}else window.open(t,"_temp","menubar=no,toolbar=no,status=no")}},o.saveSvg=function(e,t,n){u(e),o.svgAsDataUri(e,n||{},function(e){return o.download(t,e)})},o.saveSvgAsPng=function(e,t,n){u(e),o.svgAsPngUri(e,n||{},function(e){return o.download(t,e)})}}()},2493:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(2492)),o=n(2274);var a={save:function(e,t,n,a){r.default.svgAsDataUri(t.getElementsByTagName("svg")[0],{},function(r){var i=new Image;i.onload=function(){var r=e.createElement("canvas");r.width=i.width,r.height=i.height;var s=r.getContext("2d");(0,o.isDefined)(n)&&(s.fillStyle=n,s.fillRect(0,0,r.width,r.height));for(var u=t.getElementsByTagName("canvas"),l=0;l<u.length;l++){var c=u[l];if((0,o.isDefined)(c)){var f=c.parentNode.parentNode.getBoundingClientRect(),p=c.getBoundingClientRect();s.drawImage(c,p.left-f.left+0,p.top-f.top+0)}}s.drawImage(i,0,0),a(r.toDataURL("image/png"))},i.src=r})},saveWithWhiteBG:function(e,t,n){return this.saveWithBG(e,t,"white",n)},saveWithDarkBG:function(e,t,n){return this.saveWithBG(e,t,"#303030",n)},saveWithBG:function(e,t,n,r){return this.save(e,t,n,r)},saveChartAsImage:function(e){this.saveWithWhiteBG(document,e,function(e){var t=document.createElement("a");t.setAttribute("href",e),t.setAttribute("download","Chart.png"),document.body.appendChild(t),t.addEventListener("click",function(){t.parentNode.removeChild(t)}),t.click()})}};t.default=a},2494:function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(0),i=u(a),s=u(n(2));function u(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={type:n.props.type},n.handleTypeChange=n.handleTypeChange.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),o(t,[{key:"handleTypeChange",value:function(e){this.setState({type:e.target.value})}},{key:"render",value:function(){return i.default.createElement("div",null,i.default.createElement("label",null,"Type: "),i.default.createElement("select",{name:"type",id:"type",onChange:this.handleTypeChange,value:this.state.type},i.default.createElement("option",{value:"svg"},"svg"),i.default.createElement("option",{value:"hybrid"},"canvas + svg")),i.default.createElement("div",{style:this.props.style},this.props.children(this.state.type)))}}]),t}();l.propTypes={type:s.default.oneOf(["svg","hybrid"]),children:s.default.func.isRequired,style:s.default.object.isRequired},l.defaultProps={type:"hybrid",style:{}},t.default=l},2495:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2494);Object.defineProperty(t,"TypeChooser",{enumerable:!0,get:function(){return s(r).default}});var o=n(2493);Object.defineProperty(t,"SaveChartAsImage",{enumerable:!0,get:function(){return s(o).default}});var a=n(2491);Object.defineProperty(t,"fitWidth",{enumerable:!0,get:function(){return s(a).default}});var i=n(2490);function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"fitDimensions",{enumerable:!0,get:function(){return s(i).default}})},2496:function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),s=c(i),u=c(n(2)),l=c(n(2394));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return o.axisZoomCallback=o.axisZoomCallback.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),a(t,[{key:"axisZoomCallback",value:function(e){var t=this.context,n=t.chartId;(0,t.yAxisZoom)(n,e)}},{key:"render",value:function(){var e=function(e,t){var n=e.axisAt,r=e.yZoomWidth,o=e.orient,a=t.chartConfig,i=a.width,s=a.height,u=void 0;u="left"===n?0:"right"===n?i:"middle"===n?i/2:n;return{transform:[u,0],range:[0,s],getScale:p,bg:{x:"left"===o?-r:0,y:0,h:s,w:r},zoomEnabled:t.chartConfig.yPan}}(this.props,this.context),t=e.zoomEnabled,n=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["zoomEnabled"]);return s.default.createElement(l.default,o({},this.props,n,{zoomEnabled:this.props.zoomEnabled&&t,edgeClip:!0,axisZoomCallback:this.axisZoomCallback,zoomCursorClassName:"react-stockcharts-ns-resize-cursor"}))}}]),t}();function p(e){var t=e.chartConfig,n=t.yScale,r=t.flipYScale,o=t.height;if(n.invert){var a=r?[0,o]:[o,0],i=a.map(n.invert);return n.copy().domain(i).range(a)}return n}f.propTypes={axisAt:u.default.oneOfType([u.default.oneOf(["left","right","middle"]),u.default.number]).isRequired,orient:u.default.oneOf(["left","right"]).isRequired,innerTickSize:u.default.number,outerTickSize:u.default.number,tickFormat:u.default.func,tickPadding:u.default.number,tickSize:u.default.number,ticks:u.default.number,yZoomWidth:u.default.number,tickValues:u.default.array,showTicks:u.default.bool,className:u.default.string,zoomEnabled:u.default.bool,onContextMenu:u.default.func,onDoubleClick:u.default.func},f.defaultProps={showTicks:!0,showTickLabel:!0,showDomain:!0,className:"react-stockcharts-y-axis",ticks:10,outerTickSize:0,domainClassName:"react-stockcharts-axis-domain",fill:"none",stroke:"#FFFFFF",strokeWidth:1,opacity:1,innerTickSize:5,tickPadding:6,tickStroke:"#000000",tickStrokeOpacity:1,fontFamily:"Helvetica Neue, Helvetica, Arial, sans-serif",fontSize:12,fontWeight:400,yZoomWidth:40,zoomEnabled:!0,getMouseDelta:function(e,t){return e[1]-t[1]}},f.contextTypes={yAxisZoom:u.default.func.isRequired,chartId:u.default.oneOfType([u.default.number,u.default.string]).isRequired,chartConfig:u.default.object.isRequired},t.default=f},2497:function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(0),i=f(a),s=f(n(2)),u=n(2374),l=n(2273),c=n(2274);function f(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleDragStartMouse=n.handleDragStartMouse.bind(n),n.handleDragStartTouch=n.handleDragStartTouch.bind(n),n.handleDrag=n.handleDrag.bind(n),n.handleDragEnd=n.handleDragEnd.bind(n),n.handleRightClick=n.handleRightClick.bind(n),n.saveNode=n.saveNode.bind(n),n.state={startPosition:null},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),o(t,[{key:"saveNode",value:function(e){this.node=e}},{key:"handleRightClick",value:function(e){e.stopPropagation(),e.preventDefault();var t=this.props.onContextMenu,n=(0,c.mousePosition)(e,this.node.getBoundingClientRect());(0,u.select)((0,c.d3Window)(this.node)).on(c.MOUSEMOVE,null).on(c.MOUSEUP,null),this.setState({startPosition:null}),t(n,e),this.contextMenuClicked=!0}},{key:"handleDragStartMouse",value:function(e){this.mouseInteraction=!0;var t=this.props,n=(0,t.getScale)((0,t.getMoreProps)());if(this.dragHappened=!1,n.invert){(0,u.select)((0,c.d3Window)(this.node)).on(c.MOUSEMOVE,this.handleDrag,!1).on(c.MOUSEUP,this.handleDragEnd,!1);var r=(0,c.mousePosition)(e);this.setState({startPosition:{startXY:r,startScale:n}})}e.preventDefault()}},{key:"handleDragStartTouch",value:function(e){this.mouseInteraction=!1;var t=this.props,n=(0,t.getScale)((0,t.getMoreProps)());if(this.dragHappened=!1,1===e.touches.length&&n.invert){(0,u.select)((0,c.d3Window)(this.node)).on(c.TOUCHMOVE,this.handleDrag).on(c.TOUCHEND,this.handleDragEnd);var r=(0,c.touchPosition)((0,c.getTouchProps)(e.touches[0]),e);this.setState({startPosition:{startXY:r,startScale:n}})}}},{key:"handleDrag",value:function(){var e=this.state.startPosition,t=this.props,n=t.getMouseDelta,r=t.inverted;if(this.dragHappened=!0,(0,c.isDefined)(e)){var o=e.startScale,a=n(e.startXY,this.mouseInteraction?(0,u.mouse)(this.node):(0,u.touches)(this.node)[0]),i=(0,l.mean)(o.range()),s=o.range().map(function(e){return r?e-(0,c.sign)(e-i)*a:e+(0,c.sign)(e-i)*a}),f=s.map(o.invert);if((0,c.sign)((0,c.last)(o.range())-(0,c.first)(o.range()))===(0,c.sign)((0,c.last)(s)-(0,c.first)(s)))(0,this.props.axisZoomCallback)(f)}}},{key:"handleDragEnd",value:function(){var e=this;if(!this.dragHappened)if(this.clicked){var t=u.event,n=this.mouseInteraction?(0,u.mouse)(this.node):(0,u.touches)(this.node)[0];(0,this.props.onDoubleClick)(n,t)}else this.clicked=!0,setTimeout(function(){e.clicked=!1},300);(0,u.select)((0,c.d3Window)(this.node)).on(c.MOUSEMOVE,null).on(c.MOUSEUP,null).on(c.TOUCHMOVE,null).on(c.TOUCHEND,null),this.setState({startPosition:null})}},{key:"render",value:function(){var e=this.props,t=e.bg,n=e.zoomCursorClassName,r=(0,c.isDefined)(this.state.startPosition)?n:"react-stockcharts-default-cursor";return i.default.createElement("rect",{className:"react-stockcharts-enable-interaction "+r,ref:this.saveNode,x:t.x,y:t.y,opacity:0,height:t.h,width:t.w,onContextMenu:this.handleRightClick,onMouseDown:this.handleDragStartMouse,onTouchStart:this.handleDragStartTouch})}}]),t}();p.propTypes={innerTickSize:s.default.number,outerTickSize:s.default.number,tickFormat:s.default.func,tickPadding:s.default.number,tickSize:s.default.number,ticks:s.default.number,tickValues:s.default.array,showDomain:s.default.bool,showTicks:s.default.bool,className:s.default.string,axisZoomCallback:s.default.func,inverted:s.default.bool,bg:s.default.object.isRequired,zoomCursorClassName:s.default.string.isRequired,getMoreProps:s.default.func.isRequired,getScale:s.default.func.isRequired,getMouseDelta:s.default.func.isRequired,onDoubleClick:s.default.func.isRequired,onContextMenu:s.default.func.isRequired},p.defaultProps={onDoubleClick:c.noop,onContextMenu:c.noop,inverted:!0},t.default=p},2498:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getStrokeDasharrayCanvas=function(e){var t=r(e).split(",");return 1===t.length?[]:t.map(function(e){return Number(e)})};t.strokeDashTypes=["Solid","ShortDash","ShortDash2","ShortDot","ShortDashDot","ShortDashDotDot","Dot","Dash","LongDash","DashDot","LongDashDot","LongDashDotDot"];var r=t.getStrokeDasharray=function(e){switch(e){default:case"Solid":return"none";case"ShortDash":return"6, 2";case"ShortDash2":return"6, 3";case"ShortDot":return"2, 2";case"ShortDashDot":return"6, 2, 2, 2";case"ShortDashDotDot":return"6, 2, 2, 2, 2, 2";case"Dot":return"2, 6";case"Dash":return"8, 6";case"LongDash":return"16, 6";case"DashDot":return"8, 6, 2, 6";case"LongDashDot":return"16, 6, 2, 6";case"LongDashDotDot":return"16, 6, 2, 6, 2, 6"}}},2499:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.plotDataLengthBarWidth=function(e,t){var n=e.widthRatio,o=t.xScale,a=o.range(),i=r(a,2),s=i[0],u=i[1],l=Math.abs(u-s),c=o.domain(),f=r(c,2),p=f[0],d=f[1];return l/Math.abs(p-d)*n},t.timeIntervalBarWidth=function(e){return function(t,n){var r=t.widthRatio,a=n.xScale,i=n.xAccessor,s=n.plotData,u=i((0,o.head)(s));return Math.abs(a(e.offset(u,1))-a(u))*r}};var o=n(2274)},2500:function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=s(n(0)),i=s(n(2392));function s(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),o(t,[{key:"shouldComponentUpdate",value:function(e,t,n){return!(0,i.default)(this.props,e)||!(0,i.default)(this.state,t)||!(0,i.default)(this.context,n)}}]),t}();t.default=u},2501:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=(0,a.functor)(!1),t=r.default,n=o.default,i=!1,s=!1,u=function(r){var o=i?void 0:[],a=[],u=0,l=0;for(l=0;l<r.length;l++){var c=r[l];e(c,l,o||[])?(o&&o.length>0&&a.push(t(o,l,u++)),o=[n(c)]):o&&o.push(n(c))}return s||a.push(t(o,l,u)),a};return u.accumulateTill=function(t){return arguments.length?(e=(0,a.functor)(t),u):e},u.accumulator=function(e){return arguments.length?(t=e,u):t},u.value=function(e){return arguments.length?(n=e,u):n},u.discardTillStart=function(e){return arguments.length?(i=e,u):i},u.discardTillEnd=function(e){return arguments.length?(s=e,u):s},u};var r=i(n(2322)),o=i(n(2323)),a=n(2274);function i(e){return e&&e.__esModule?e:{default:e}}},2502:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=void 0,t=10,n=r.default,i=o.default,s=0,u=function(r){var o=(0,a.functor)(t).apply(this,arguments),u=[],l=0,c=(0,a.functor)(e),f=[];return r.forEach(function(e,t){var r=void 0;if(t<s+o-1)return r=c(e,t),f.push(r),void u.push(r);t>=s+o&&u.shift(),u.push(i(e,t)),r=n(u,t,l++),f.push(r),u.pop(),u.push(r)}),f};return u.undefinedValue=function(t){return arguments.length?(e=t,u):e},u.windowSize=function(e){return arguments.length?(t=e,u):t},u.accumulator=function(e){return arguments.length?(n=e,u):n},u.skipInitial=function(e){return arguments.length?(s=e,u):s},u.source=function(e){return arguments.length?(i=e,u):i},u};var r=i(n(2322)),o=i(n(2323)),a=n(2274);function i(e){return e&&e.__esModule?e:{default:e}}},2503:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=void 0,t=10,n=r.default,a=void 0,i=void 0,s=0,u=void 0,l=function(r){var l=i||(0,o.path)(a),c=(0,o.functor)(t).apply(this,arguments),f=r.slice(s,c+s).map(l),p=0,d=(0,o.functor)(e);return r.map(function(e,t){return t<s+c-1?d(l(e),t,u):(t>=s+c&&(f.shift(),f.push(l(e,t))),n(f,t,p++,u))})};return l.undefinedValue=function(t){return arguments.length?(e=t,l):e},l.windowSize=function(e){return arguments.length?(t=e,l):t},l.misc=function(e){return arguments.length?(u=e,l):u},l.accumulator=function(e){return arguments.length?(n=e,l):n},l.skipInitial=function(e){return arguments.length?(s=e,l):s},l.sourcePath=function(e){return arguments.length?(a=e,l):a},l.source=function(e){return arguments.length?(i=e,l):i},l};var r=function(e){return e&&e.__esModule?e:{default:e}}(n(2322)),o=n(2274)},2504:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=r.default,t=!0,n=a.default;function s(r){return(0,o.default)().combine(function(e,r){var o=t&&(0,i.isNotDefined)(r)?e:n(e,r);return(0,i.isNotDefined)(o)?e:o})(r,e(r))}return s.algorithm=function(t){return arguments.length?(e=t,s):e},s.merge=function(e){return arguments.length?(n=e,s):n},s.skipUndefined=function(e){return arguments.length?(t=e,s):t},s};var r=s(n(2323)),o=s(n(2393)),a=s(n(2322)),i=n(2274);function s(e){return e&&e.__esModule?e:{default:e}}},2505:function(e,t,n){"use strict";function r(e,t,n){var r=t[n];if("function"!=typeof r)throw new Error("Attempt to rebind "+n+" which isn't a function on the source object");return function(){for(var n=arguments.length,o=Array(n),a=0;a<n;a++)o[a]=arguments[a];var i=r.apply(t,o);return i===t?e:i}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){for(var n=arguments.length,o=Array(n>2?n-2:0),a=2;a<n;a++)o[a-2]=arguments[a];var i=!0,s=!1,u=void 0;try{for(var l,c=o[Symbol.iterator]();!(i=(l=c.next()).done);i=!0){var f=l.value;e[f]=r(e,t,f)}}catch(e){s=!0,u=e}finally{try{!i&&c.return&&c.return()}finally{if(s)throw u}}return e}},2506:function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),s=c(i),u=c(n(2)),l=c(n(2394));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return o.axisZoomCallback=o.axisZoomCallback.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),a(t,[{key:"axisZoomCallback",value:function(e){(0,this.context.xAxisZoom)(e)}},{key:"render",value:function(){var e=this.props.showTicks,t=function(e,t){var n=e.axisAt,r=e.xZoomHeight,o=e.orient,a=t.chartConfig,i=a.width,s=a.height,u=void 0;u="top"===n?0:"bottom"===n?s:"middle"===n?s/2:n;return{transform:[0,u],range:[0,i],getScale:p,bg:{x:0,y:"top"===o?-r:0,h:r,w:i}}}(this.props,this.context);return s.default.createElement(l.default,o({},this.props,t,{x:!0,zoomEnabled:this.props.zoomEnabled&&e,axisZoomCallback:this.axisZoomCallback,zoomCursorClassName:"react-stockcharts-ew-resize-cursor"}))}}]),t}();function p(e){var t=e.xScale,n=e.width;if(t.invert){var r=[0,n],o=r.map(t.invert);return t.copy().domain(o).range(r)}return t}f.propTypes={axisAt:u.default.oneOfType([u.default.oneOf(["top","bottom","middle"]),u.default.number]).isRequired,orient:u.default.oneOf(["top","bottom"]).isRequired,innerTickSize:u.default.number,outerTickSize:u.default.number,tickFormat:u.default.func,tickPadding:u.default.number,tickSize:u.default.number,ticks:u.default.number,tickValues:u.default.array,showTicks:u.default.bool,className:u.default.string,zoomEnabled:u.default.bool,onContextMenu:u.default.func,onDoubleClick:u.default.func},f.defaultProps={showTicks:!0,showTickLabel:!0,showDomain:!0,className:"react-stockcharts-x-axis",ticks:10,outerTickSize:0,fill:"none",stroke:"#000000",strokeWidth:1,opacity:1,domainClassName:"react-stockcharts-axis-domain",innerTickSize:5,tickPadding:6,tickStroke:"#000000",tickStrokeOpacity:1,fontFamily:"Helvetica Neue, Helvetica, Arial, sans-serif",fontSize:12,fontWeight:400,xZoomHeight:25,zoomEnabled:!0,getMouseDelta:function(e,t){return e[0]-t[0]}},f.contextTypes={chartConfig:u.default.object.isRequired,xAxisZoom:u.default.func.isRequired},t.default=f},2507:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2506);Object.defineProperty(t,"XAxis",{enumerable:!0,get:function(){return a(r).default}});var o=n(2496);function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"YAxis",{enumerable:!0,get:function(){return a(o).default}})},2508:function(e,t,n){(function(t){var n=1/0,r=9007199254740991,o="[object Arguments]",a="[object Function]",i="[object GeneratorFunction]",s="object"==typeof t&&t&&t.Object===Object&&t,u="object"==typeof self&&self&&self.Object===Object&&self,l=s||u||Function("return this")();function c(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}var f=Object.prototype,p=f.hasOwnProperty,d=f.toString,h=l.Symbol,y=f.propertyIsEnumerable,m=h?h.isConcatSpreadable:void 0;function b(e){return v(e)||function(e){return function(e){return function(e){return!!e&&"object"==typeof e}(e)&&function(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=r}(e.length)&&!function(e){var t=function(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}(e)?d.call(e):"";return t==a||t==i}(e)}(e)}(e)&&p.call(e,"callee")&&(!y.call(e,"callee")||d.call(e)==o)}(e)||!!(m&&e&&e[m])}var v=Array.isArray;e.exports=function(e){return e&&e.length?function e(t,n,r,o,a){var i=-1,s=t.length;for(r||(r=b),a||(a=[]);++i<s;){var u=t[i];n>0&&r(u)?n>1?e(u,n-1,r,o,a):c(a,u):o||(a[a.length]=u)}return a}(e,n):[]}}).call(this,n(52))},2509:function(e,t,n){"use strict";(function(e){var r=n(0),o=(n(2),n(39)),a=n.n(o),i=n(124),s=n(1),u=n.n(s),l=n(37),c=n(8),f=n(24),p=n(22),d=n(67),h=n(69),y=n.n(h),m=n(9),b=n.n(m),v=n(2397),g=n(2396),w=n(345),k=n(51),E=n(31),S=n(341),O=n(80),_=n(3),C=n(30),x=n(2395),P=n(104),D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},T=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function A(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function R(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var F=function(t){function n(e){A(this,n);var t=j(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return console.log("constructor"),t.state={toAddress:v.a.getLast(e.walletType),withdrawValue:"",amountError:null,symbol:e.asset.get("symbol"),to_withdraw:new l.a({asset_id:e.asset.get("id"),precision:e.asset.get("precision")}),fee_asset_id:"1.3.0",feeStatus:{}},t._validateAddress(t.state.toAddress,e),t.deposit_address_cache=new g.a,t.addDepositAddress=t.addDepositAddress.bind(t),t._checkFeeStatus=t._checkFeeStatus.bind(t),t._checkBalance=t._checkBalance.bind(t),t._getCurrentBalance=t._getCurrentBalance.bind(t),t._getFee=t._getFee.bind(t),t._updateFee=Object(C.debounce)(t._updateFee.bind(t),250),t}return R(n,x["a"]),T(n,[{key:"componentWillMount",value:function(){this._getDepositAddress(),this._updateFee(),this._checkFeeStatus()}},{key:"componentWillReceiveProps",value:function(e){e.asset&&this.props.asset&&e.asset.get("id")!==this.props.asset.get("id")&&this.setState({to_withdraw:new l.a({asset_id:e.asset.get("id"),precision:e.asset.get("precision")}),gateFee:e.asset.get("gateFee"),intermediateAccount:e.asset.get("intermediateAccount"),symbol:e.asset.get("symbol"),memo:"",withdrawValue:"",receive_address:null,toAddress:v.a.getLast(e.walletType)},this._getDepositAddress)}},{key:"_getDepositAddress",value:function(){if(this.props.backingCoinType){var e=this.props.sender.get("name"),t=this.deposit_address_cache.getCachedInputAddress("openledger",e,this.props.backingCoinType.toLowerCase(),this.props.symbol.toLowerCase());t?this.setState({receive_address:t}):Object(v.e)(this._getDepositObject())}}},{key:"_getDepositObject",value:function(){return{inputCoinType:this.props.backingCoinType.toLowerCase(),outputCoinType:this.props.symbol.toLowerCase(),outputAddress:this.props.sender.get("name"),stateCallback:this.addDepositAddress}}},{key:"addDepositAddress",value:function(e){var t=this.props.sender.get("name");this.deposit_address_cache.cacheInputAddress("openledger",t,this.props.backingCoinType.toLowerCase(),this.props.symbol.toLowerCase(),e.address,e.memo),this.setState({receive_address:e})}},{key:"componentDidUpdate",value:function(){y.a.rebuild()}},{key:"onSubmit",value:function(t){if(t.preventDefault(),0===this.state.to_withdraw.getAmount())return this.setState({amountError:"transfer.errors.pos"});if(this.props.intermediateAccount){var n=this._getFee(),r=this._getGateFee(),o=this.state.to_withdraw.clone(),a=o.clone(this._getCurrentBalance().get("balance"));o.plus(r),a.lt(o)&&(o=this.state.to_withdraw.clone()),d.a.transfer(this.props.sender.get("id"),this.props.intermediateAccount,this.state.to_withdraw.getAmount(),this.state.to_withdraw.asset_id,this.props.backingCoinType.toLowerCase()+":"+this.state.toAddress+(this.state.memo?":"+new e(this.state.memo,"utf-8"):""),null,n.asset_id)}}},{key:"_updateAmount",value:function(){var e=this._getFee(),t=this._getCurrentBalance(),n=new l.a({amount:t?t.get("balance"):0,asset_id:this.props.asset.get("id"),precision:this.props.asset.get("precision")});n.asset_id===e.asset_id&&n.minus(e),this.state.to_withdraw.setAmount({sats:n.getAmount()}),this.setState({withdrawValue:n.getAmount({real:!0}),amountError:null},this._checkBalance)}},{key:"_checkFeeStatus",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props.sender;if(t){var n=["1.3.0",this.state.to_withdraw.asset_id],r={},o=[];n.forEach(function(n){o.push(Object(S.b)({accountID:t.get("id"),feeID:n,options:["price_per_kbyte"],data:{type:"memo",content:e.props.backingCoinType.toLowerCase()+":"+e.state.toAddress+(e.state.memo?":"+e.state.memo:"")}}))}),Promise.all(o).then(function(t){n.forEach(function(e,n){r[e]=t[n]}),c.a.are_equal_shallow(e.state.feeStatus,r)||e.setState({feeStatus:r}),e._checkBalance()}).catch(function(e){console.error(e)})}}},{key:"_updateFee",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state.fee_asset_id;if(!this.props.sender)return null;Object(S.b)({accountID:this.props.sender.get("id"),feeID:t,options:["price_per_kbyte"],data:{type:"memo",content:this.props.backingCoinType.toLowerCase()+":"+this.state.toAddress+(this.state.memo?":"+this.state.memo:"")}}).then(function(t){var n=t.fee,r=t.hasBalance,o=t.hasPoolBalance;e.setState({feeAmount:n,hasBalance:r,hasPoolBalance:o,error:!r||!o},e._checkFeeStatus)})}},{key:"_getCurrentBalance",value:function(){var e=this;return this.props.balances.find(function(t){return t&&t.get("asset_type")===e.props.asset.get("id")})}},{key:"_checkBalance",value:function(){var e=this.state,t=e.feeAmount,n=e.to_withdraw,r=this.props.asset,o=this._getCurrentBalance();if(o&&t){var a=Object(S.a)(n.getAmount({real:!0}),r,this._getFee(),o,this._getGateFee());if(null!==a)return this.state.balanceError!==!a&&this.setState({balanceError:!a}),a}}},{key:"_getFee",value:function(){var e={getAmount:function(){return 0},asset_id:this.state.fee_asset_id};if(!this.state.feeStatus||!this.state.feeAmount)return e;var t=this.state.feeStatus["1.3.0"],n=this.state.feeStatus[this.state.to_withdraw.asset_id];return t&&t.hasBalance?t.fee:t&&!t.hasBalance&&n&&n.hasBalance?n.fee:t?t.fee:e}},{key:"_onInputAmount",value:function(e){try{this.state.to_withdraw.setAmount({real:parseFloat(e.target.value||0)}),this.setState({withdrawValue:e.target.value,amountError:null},this._checkBalance)}catch(e){console.error("err:",e)}}},{key:"_onInputTo",value:function(e){var t=e.target.value.trim();this.setState({withdraw_address_check_in_progress:!0,withdraw_address_selected:t,validAddress:null,toAddress:t}),this._validateAddress(t)}},{key:"_onMemoChanged",value:function(e){this.setState({memo:e.target.value},this._updateFee)}},{key:"_validateAddress",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.props;Object(v.f)({url:P.c.BASE_OL,walletType:n.walletType,newAddress:e}).then(function(n){t.state.toAddress===e&&t.setState({withdraw_address_check_in_progress:!1,validAddress:!!n})}).catch(function(e){console.error("Error when validating address:",e)})}},{key:"_openRegistrarSite",value:function(e){e.preventDefault(),window.open(SettingsStore.site_registr,"_blank").opener=null}},{key:"_getGateFee",value:function(){var e=this.props,t=e.gateFee,n=e.asset;return new l.a({real:parseFloat(t?t.replace(",",""):0),asset_id:n.get("id"),precision:n.get("precision")})}},{key:"_renderWithdraw",value:function(){var e=this.state.amountError,t=c.a.replaceName(this.props.asset.get("symbol"),!!this.props.asset.get("bitasset")).name,n=1,o=this.props.supportsMemos,a=this._getFee(),i=this._getGateFee(),s=this.state.feeStatus[a.asset_id],l=_.b.getAsset(a.asset_id),f=s&&!s.hasBalance||this.state.balanceError||!this.state.toAddress||!this.state.withdrawValue;return r.createElement("div",null,r.createElement("p",null,r.createElement(u.a,{content:"gateway.withdraw_funds",asset:t})),this._renderCurrentBalance(),r.createElement("div",{className:"SimpleTrade__withdraw-row"},r.createElement("label",{className:"left-label"},b.a.translate("modal.withdraw.amount")),r.createElement("div",{className:"inline-label input-wrapper"},r.createElement("input",{tabIndex:n++,type:"number",min:"0",onKeyPress:this.onKeyPress.bind(this),value:this.state.withdrawValue,onChange:this._onInputAmount.bind(this)}),r.createElement("div",{className:"form-label select floating-dropdown"},r.createElement("div",{className:"dropdown-wrapper inactive"},r.createElement("div",null,t)))),e?r.createElement("p",{className:"has-error no-margin",style:{paddingTop:10}},r.createElement(u.a,{content:e})):null,this.state.balanceError?r.createElement("p",{className:"has-error no-margin",style:{paddingTop:10}},r.createElement(u.a,{content:"transfer.errors.insufficient"})):null),r.createElement("div",{className:"SimpleTrade__withdraw-row"},r.createElement("label",{className:"left-label"},b.a.translate("transfer.fee")),r.createElement("div",{className:"inline-label input-wrapper"},r.createElement("input",{type:"text",disabled:!0,value:a.getAmount({real:!0})}),r.createElement("div",{className:"form-label select floating-dropdown"},r.createElement("div",{className:"dropdown-wrapper inactive"},r.createElement("div",null,l?r.createElement(O.a,{name:l.get("symbol")}):null)))),s&&!s.hasBalance?r.createElement("p",{className:"has-error no-margin",style:{paddingTop:10}},r.createElement(u.a,{content:"transfer.errors.insufficient"})):null),r.createElement("div",{className:"SimpleTrade__withdraw-row"},r.createElement("label",{className:"left-label"},b.a.translate("gateway.fee")),r.createElement("div",{className:"inline-label input-wrapper"},r.createElement("input",{type:"text",disabled:!0,value:i.getAmount({real:!0})}),r.createElement("div",{className:"form-label select floating-dropdown"},r.createElement("div",{className:"dropdown-wrapper inactive"},r.createElement("div",null,r.createElement(O.a,{name:this.props.asset.get("symbol")}))))),s&&!s.hasBalance?r.createElement("p",{className:"has-error no-margin",style:{paddingTop:10}},r.createElement(u.a,{content:"transfer.errors.insufficient"})):null),r.createElement("div",{className:"SimpleTrade__withdraw-row"},r.createElement("label",{className:"left-label"},b.a.translate("modal.withdraw.address")),r.createElement("div",{className:"inline-label input-wrapper"},r.createElement("input",{placeholder:b.a.translate("gateway.withdraw_placeholder",{asset:t}),tabIndex:n++,type:"text",value:this.state.toAddress,onChange:this._onInputTo.bind(this)}),r.createElement("div",{className:"form-label select floating-dropdown"},r.createElement("div",{className:"dropdown-wrapper inactive"},r.createElement("div",{"data-place":"right","data-tip":b.a.translate("tooltip.withdraw_address",{asset:t})},"?")))),!this.state.validAddress&&this.state.toAddress?r.createElement("div",{className:"has-error",style:{paddingTop:10}},r.createElement(u.a,{content:"gateway.valid_address",coin_type:t})):null),o?r.createElement("div",{className:"SimpleTrade__withdraw-row"},r.createElement("label",{className:"left-label"},b.a.translate("transfer.memo")),r.createElement("div",{className:"inline-label input-wrapper"},r.createElement("textarea",{rows:"1",value:this.state.memo,tabIndex:n++,onChange:this._onMemoChanged.bind(this)})),!this.state.validAddress&&this.state.toAddress?r.createElement("div",{className:"has-error",style:{paddingTop:10}},r.createElement(u.a,{content:"gateway.valid_address",coin_type:t})):null):null,r.createElement("div",{className:"button-group SimpleTrade__withdraw-row"},r.createElement("button",{tabIndex:n++,className:"button"+(f?" disabled":""),onClick:this.onSubmit.bind(this),type:"submit"},r.createElement(u.a,{content:"gateway.withdraw_now"}))))}},{key:"_renderDeposit",value:function(){var e=this.state.receive_address,t=c.a.replaceName(this.props.asset.get("symbol"),!!this.props.asset.get("bitasset")).name,n=e&&"memo"in e&&e.memo,o=e&&e.address||"",a=1;return r.createElement("div",{className:o?"":"no-overflow"},r.createElement("p",null,r.createElement(u.a,{unsafe:!0,content:"gateway.add_funds",account:this.props.sender.get("name")})),this._renderCurrentBalance(),r.createElement("div",{className:"SimpleTrade__withdraw-row"},r.createElement("p",{style:{marginBottom:10},"data-place":"right","data-tip":b.a.translate("tooltip.deposit_tip",{asset:t})},r.createElement(u.a,{className:"help-tooltip",content:"gateway.deposit_to",asset:t}),":"),o?r.createElement("label",null,r.createElement("span",{className:"inline-label"},r.createElement("input",{readOnly:!0,type:"text",value:o}),r.createElement(w.a,{text:o}))):r.createElement(E.a,{type:"three-bounce"}),n?r.createElement("label",null,r.createElement("span",{className:"inline-label"},r.createElement("input",{readOnly:!0,type:"text",value:b.a.translate("transfer.memo")+": "+e.memo}),r.createElement(w.a,{text:e.memo}))):null,e&&e.error?r.createElement("div",{className:"has-error",style:{paddingTop:10}},e.error.message):null),r.createElement("div",{className:"button-group SimpleTrade__withdraw-row"},r.createElement("button",{tabIndex:a++,className:"button",onClick:v.e.bind(null,this._getDepositObject()),type:"submit"},r.createElement(u.a,{content:"gateway.generate_new"}))))}},{key:"_renderCurrentBalance",value:function(){var e=c.a.replaceName(this.props.asset.get("symbol"),!!this.props.asset.get("bitasset")).name,t="deposit"===this.props.action,n=this._getCurrentBalance(),o=n?new l.a({asset_id:n.get("asset_type"),precision:this.props.asset.get("precision"),amount:n.get("balance")}):null,a=t?r.createElement("span",{style:{border:"2px solid black",borderLeft:"none"},className:"form-label"},e):r.createElement("button",{"data-place":"right","data-tip":b.a.translate("tooltip.withdraw_full"),className:"button",style:{border:"2px solid black",borderLeft:"none"},onClick:this._updateAmount.bind(this,n?parseInt(n.get("balance"),10):0)},r.createElement(k.a,{name:"clippy"}));return r.createElement("div",{className:"SimpleTrade__withdraw-row",style:{fontSize:"1rem"}},r.createElement("label",{style:{fontSize:"1rem"}},b.a.translate("gateway.balance_asset",{asset:e}),":",r.createElement("span",{className:"inline-label"},r.createElement("input",{disabled:!0,style:{color:"black",border:"2px solid black",padding:10,width:"100%"},value:o?o.getAmount({real:!0}):0}),a)))}},{key:"render",value:function(){var e=this.props,t=e.asset,n="deposit"===e.action;if(!t)return null;var o=c.a.replaceName(t.get("symbol"),!0).name,a=this.props.isDown?r.createElement("div",null,r.createElement(u.a,{className:"txtlabel cancel",content:"gateway.unavailable_OPEN",component:"p"})):this.props.isAvailable?n?this._renderDeposit():this._renderWithdraw():r.createElement("div",null,r.createElement(u.a,{className:"txtlabel cancel",content:"gateway.unavailable",component:"p"}));return r.createElement("div",{className:"SimpleTrade__modal"},r.createElement("div",{className:"Modal__header"},r.createElement("h3",null,r.createElement(u.a,{content:n?"gateway.deposit":"modal.withdraw.submit"})," ",o)),r.createElement("div",{className:"Modal__divider"}),r.createElement("div",{className:"grid-block vertical no-overflow",style:{zIndex:1002,paddingLeft:"2rem",paddingRight:"2rem",paddingTop:"1rem"}},a))}}]),n}();F.propTypes={sender:p.a.ChainAccount.isRequired,asset:p.a.ChainAsset.isRequired,coreAsset:p.a.ChainAsset.isRequired,globalObject:p.a.ChainAsset.isRequired},F.defaultProps={coreAsset:"1.3.0",globalObject:"2.0.0"},F=Object(f.a)(F);var N=function(e){function t(){A(this,t);var e=j(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={open:!1},e}return R(t,r["Component"]),T(t,[{key:"show",value:function(){var e=this;this.setState({open:!0},function(){a.a.publish(e.props.modalId,"open")})}},{key:"onClose",value:function(){this.setState({open:!1})}},{key:"render",value:function(){return r.createElement(i.a,{className:"test",onClose:this.onClose.bind(this),overlay:!0,id:this.props.modalId},this.state.open?r.createElement(F,D({},this.props,{open:this.state.open})):null)}}]),t}();t.a=N}).call(this,n(20).Buffer)},2524:function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},2525:function(e,t,n){"use strict";var r=n(91),o=n(70),a=n(2524);e.exports=function(){function e(e,t,n,r,i,s){s!==a&&o(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=r,n.PropTypes=n,n}},2526:function(e,t,n){e.exports=n(2525)()},2527:function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},2528:function(e,t,n){"use strict";var r=n(91),o=n(70),a=n(2527);e.exports=function(){function e(e,t,n,r,i,s){s!==a&&o(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=r,n.PropTypes=n,n}},2529:function(e,t,n){e.exports=n(2528)()},2530:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(0),i=u(a),s=u(n(2529));function u(e){return e&&e.__esModule?e:{default:e}}var l={position:"absolute",top:0,left:0,visibility:"hidden",height:0,overflow:"scroll",whiteSpace:"pre"},c=["extraWidth","injectStyles","inputClassName","inputRef","inputStyle","minWidth","onAutosize","placeholderIsMinWidth"],f=function(e,t){t.style.fontSize=e.fontSize,t.style.fontFamily=e.fontFamily,t.style.fontWeight=e.fontWeight,t.style.fontStyle=e.fontStyle,t.style.letterSpacing=e.letterSpacing,t.style.textTransform=e.textTransform},p=!("undefined"==typeof window||!window.navigator)&&/MSIE |Trident\/|Edge\//.test(window.navigator.userAgent),d=function(){return p?"_"+Math.random().toString(36).substr(2,12):void 0},h=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.inputRef=function(e){n.input=e,"function"==typeof n.props.inputRef&&n.props.inputRef(e)},n.placeHolderSizerRef=function(e){n.placeHolderSizer=e},n.sizerRef=function(e){n.sizer=e},n.state={inputWidth:e.minWidth,inputId:e.id||d()},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),o(t,[{key:"componentDidMount",value:function(){this.mounted=!0,this.copyInputStyles(),this.updateInputWidth()}},{key:"componentWillReceiveProps",value:function(e){var t=e.id;t!==this.props.id&&this.setState({inputId:t||d()})}},{key:"componentDidUpdate",value:function(e,t){t.inputWidth!==this.state.inputWidth&&"function"==typeof this.props.onAutosize&&this.props.onAutosize(this.state.inputWidth),this.updateInputWidth()}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"copyInputStyles",value:function(){if(this.mounted&&window.getComputedStyle){var e=this.input&&window.getComputedStyle(this.input);e&&(f(e,this.sizer),this.placeHolderSizer&&f(e,this.placeHolderSizer))}}},{key:"updateInputWidth",value:function(){if(this.mounted&&this.sizer&&void 0!==this.sizer.scrollWidth){var e=void 0;e=this.props.placeholder&&(!this.props.value||this.props.value&&this.props.placeholderIsMinWidth)?Math.max(this.sizer.scrollWidth,this.placeHolderSizer.scrollWidth)+2:this.sizer.scrollWidth+2,(e+="number"===this.props.type&&void 0===this.props.extraWidth?16:parseInt(this.props.extraWidth)||0)<this.props.minWidth&&(e=this.props.minWidth),e!==this.state.inputWidth&&this.setState({inputWidth:e})}}},{key:"getInput",value:function(){return this.input}},{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){this.input.blur()}},{key:"select",value:function(){this.input.select()}},{key:"renderStyles",value:function(){var e=this.props.injectStyles;return p&&e?i.default.createElement("style",{dangerouslySetInnerHTML:{__html:"input#"+this.state.inputId+"::-ms-clear {display: none;}"}}):null}},{key:"render",value:function(){var e=[this.props.defaultValue,this.props.value,""].reduce(function(e,t){return null!==e&&void 0!==e?e:t}),t=r({},this.props.style);t.display||(t.display="inline-block");var n=r({boxSizing:"content-box",width:this.state.inputWidth+"px"},this.props.inputStyle),o=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(this.props,[]);return function(e){c.forEach(function(t){return delete e[t]})}(o),o.className=this.props.inputClassName,o.id=this.state.inputId,o.style=n,i.default.createElement("div",{className:this.props.className,style:t},this.renderStyles(),i.default.createElement("input",r({},o,{ref:this.inputRef})),i.default.createElement("div",{ref:this.sizerRef,style:l},e),this.props.placeholder?i.default.createElement("div",{ref:this.placeHolderSizerRef,style:l},this.props.placeholder):null)}}]),t}();h.propTypes={className:s.default.string,defaultValue:s.default.any,extraWidth:s.default.oneOfType([s.default.number,s.default.string]),id:s.default.string,injectStyles:s.default.bool,inputClassName:s.default.string,inputRef:s.default.func,inputStyle:s.default.object,minWidth:s.default.oneOfType([s.default.number,s.default.string]),onAutosize:s.default.func,onChange:s.default.func,placeholder:s.default.string,placeholderIsMinWidth:s.default.bool,style:s.default.object,value:s.default.any},h.defaultProps={minWidth:1,injectStyles:!0},t.default=h},2531:function(e,t,n){(function(t){(function(){var n,r,o,a,i,s;"undefined"!=typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:void 0!==t&&null!==t&&t.hrtime?(e.exports=function(){return(n()-i)/1e6},r=t.hrtime,a=(n=function(){var e;return 1e9*(e=r())[0]+e[1]})(),s=1e9*t.uptime(),i=a-s):Date.now?(e.exports=function(){return Date.now()-o},o=Date.now()):(e.exports=function(){return(new Date).getTime()-o},o=(new Date).getTime())}).call(this)}).call(this,n(62))},2532:function(e,t,n){(function(t){for(var r=n(2531),o="undefined"==typeof window?t:window,a=["moz","webkit"],i="AnimationFrame",s=o["request"+i],u=o["cancel"+i]||o["cancelRequest"+i],l=0;!s&&l<a.length;l++)s=o[a[l]+"Request"+i],u=o[a[l]+"Cancel"+i]||o[a[l]+"CancelRequest"+i];if(!s||!u){var c=0,f=0,p=[];s=function(e){if(0===p.length){var t=r(),n=Math.max(0,1e3/60-(t-c));c=n+t,setTimeout(function(){var e=p.slice(0);p.length=0;for(var t=0;t<e.length;t++)if(!e[t].cancelled)try{e[t].callback(c)}catch(e){setTimeout(function(){throw e},0)}},Math.round(n))}return p.push({handle:++f,callback:e,cancelled:!1}),f},u=function(e){for(var t=0;t<p.length;t++)p[t].handle===e&&(p[t].cancelled=!0)}}e.exports=function(e){return s.call(o,e)},e.exports.cancel=function(){u.apply(o,arguments)},e.exports.polyfill=function(e){e||(e=o),e.requestAnimationFrame=s,e.cancelAnimationFrame=u}}).call(this,n(52))},2533:function(e,t,n){e.exports=function(){"use strict";return function(e){function t(t){if(t)try{e(t+"}")}catch(e){}}return function(n,r,o,a,i,s,u,l,c,f){switch(n){case 1:if(0===c&&64===r.charCodeAt(0))return e(r+";"),"";break;case 2:if(0===l)return r+"/*|*/";break;case 3:switch(l){case 102:case 112:return e(o[0]+r),"";default:return r+(0===f?"/*|*/":"")}case-2:r.split("/*|*/}").forEach(t)}}}}()},2534:function(e,t,n){"use strict";(function(e){n.d(t,"b",function(){return i}),n.d(t,"a",function(){return s});var r=n(2402),o=void 0!==e?e:{},a=Object(r.a)(o),i=(a.flush,a.hydrate,a.cx,a.merge,a.getRegisteredStyles,a.injectGlobal),s=(a.keyframes,a.css);a.sheet,a.caches}).call(this,n(52))}}]);