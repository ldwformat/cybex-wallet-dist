(window.webpackJsonp=window.webpackJsonp||[]).push([[266],{159:function(e,t,i){"use strict";var r=i(1),n=i(17),s=i(13),o=i.n(s),a=i(289),u=i(121),l=function(){function e(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,i,r){return i&&e(t.prototype,i),r&&e(t,r),t}}();var c=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return l(e,null,[{key:"checkFeePool",value:function(e,t){if(e=e.toJS?e:r.b.getAsset(e))return parseInt(e.getIn(["dynamic","fee_pool"]),10)>=t}},{key:"getPossibleFees",value:function(e,t){var i=this,s=r.b.getAsset("1.3.0");if(!(e=!e||e.toJS?e:r.b.getAccount(e))||!s)return{assets:["1.3.0"],fees:{"1.3.0":0}};var o=[],l={},c=r.b.getObject("2.0.0"),_=Object(a.c)(t,null,c),h=e.get("balances");return h?(h.forEach(function(e,t){var a=r.b.getObject(e),c=a?parseInt(a.get("balance"),10):0,h=!1,f=void 0;if("1.3.0"===t&&c>=_)h=!0;else if(c&&r.b.getAsset(t)){var p=r.b.getAsset(t);if(Object(u.a)(p.get("symbol")))return;var d=n.a.convertPrice(s,p.getIn(["options","core_exchange_rate"]).toJS(),null,p.get("id"));f=parseInt(n.a.convertValue(d,_,s,p),10),parseInt(f,10)!==f&&(f+=1),c>=f&&i.checkFeePool(p,f)&&(h=!0)}h&&(o.push(t),l[t]=f||_)}),{assets:o,fees:l}):{assets:["1.3.0"],fees:{"1.3.0":0}}}},{key:"getFinalFeeAsset",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"1.3.0",r=this.getPossibleFees(e,t).assets;return 1===r.length?i=r[0]:r.length>0&&-1===r.indexOf(i)&&(i=r[0]),i}},{key:"isKnownScammer",value:function(e){var t=null;return-1!==["polonie-wallet","polonie-xwallet","poloniewallet","poloniex-deposit","poloniex-wallet","poloniexwall-et","poloniexwallett","poloniexwall-t","poloniexwalle","poloniex","poloneix"].indexOf(e)?t=o.a.translate("account.polo_scam"):-1!==["bittrex-deopsit","bittrex-deposi","bittrex-depositt","bittrex-dposit","bittrex","bittrex-deposits"].indexOf(e)?t=o.a.translate("account.bittrex_scam"):-1!==["coinbase","blocktrade","locktrades","yun.cyb","transwiser-walle","transwiser-wallets","ranswiser-wallet","yun.btc","pay.coinbase.com","pay.cyb.com","btc38.com","yunbi.com","coinbase.com","ripple.com","livecoi-net","livecoin.net","livecoinnet"].indexOf(e)&&(t=o.a.translate("account.other_scam")),t}}]),e}();t.a=c},17:function(e,t,i){"use strict";var r=i(4),n=i(1);function s(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return Array.from(e)}var o=function(e,t,i,r){return new(i||(i=Promise))(function(n,s){function o(e){try{u(r.next(e))}catch(e){s(e)}}function a(e){try{u(r.throw(e))}catch(e){s(e)}}function u(e){e.done?n(e.value):new i(function(t){t(e.value)}).then(o,a)}u((r=r.apply(e,t||[])).next())})},a=i(954),u=/\b\d+\.\d+\.(\d+)\b/,l=n.c.object_type,c=(n.c.operations,{}),_={get_object_id:function(e){var t=u.exec(e);return t?Number.parseInt(t[1]):0},getChainKey:function(e){var t=r.a.instance().chain_id;return e+(t?"_"+t.substr(0,8):"")},is_object_id:function(e){return"string"==typeof e&&(null!==u.exec(e)&&3===e.split(".").length)},is_object_type:function(e,t){var i=l[t];return i&&e?(i="1."+i.toString(),e.substring(0,i.length)===i):null},get_satoshi_amount:function(e,t){var i=t.toJS?t.get("precision"):t.precision,r=this.get_asset_precision(i),n=(e="string"==typeof e?e:e.toString()).indexOf(".");if(-1===n)return parseInt(e,10)*r;e.length;var s=void 0;for(e=(e=e.replace(".","")).substr(0,n+i),s=0;s<i;s++)(n+=1)>e.length&&(e+="0");return parseInt(e,10)},get_asset_precision:function(e){return e=e.toJS?e.get("precision"):e,Math.pow(10,e)},get_asset_amount:function(e,t){return 0===e?e:e?e/this.get_asset_precision(t.toJS?t.get("precision"):t.precision):null},get_asset_price:function(e,t,i,r){var n=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(!t||!r)return 1;var s=this.get_asset_amount(e,t)/this.get_asset_amount(i,r);return n?1/s:s},round_number:function(e,t){var i=t.toJS?t.get("precision"):t.precision,r=this.get_asset_precision(i);return Math.round(e*r)/r},format_volume:function(e){return e<1e4?this.format_number(e,3):e<1e6?(Math.round(e/10)/100).toFixed(2)+"k":(Math.round(e/1e4)/100).toFixed(2)+"M"},format_number:function(e,t){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(e.toString().includes("e-"))return parseFloat(e.toString()).toFixed(t);if(isNaN(e)||!isFinite(e)||void 0===e||null===e)return"";for(var r=".",n=0;n<t;n++)r+="0";var s=a(e).format("0,0"+r);return s.indexOf(".")>0&&!i?s.replace(/0+$/,"").replace(/\.$/,""):s},format_asset:function(e,t,i){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],n=void 0,s=0;if(void 0!==t){"symbol"in t?(n=t.symbol,s=t.precision):(n=t.get("symbol"),s=t.get("precision"));var o=this.get_asset_precision(s);return this.format_number(e/o,s,r)+(i?"":" "+n)}},format_price:function(e,t,i,r,n){var s=arguments.length>5&&void 0!==arguments[5]&&arguments[5],o=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];t.size&&(t=t.toJS()),r.size&&(r=r.toJS());var a=this.get_asset_precision(t.precision),u=this.get_asset_precision(r.precision);return s?parseInt(t.id.split(".")[2],10)<parseInt(r.id.split(".")[2],10)?this.format_number(e/a/(i/u),Math.max(5,t.precision),o)+(n?"":t.symbol+"/"+r.symbol):this.format_number(i/u/(e/a),Math.max(5,r.precision),o)+(n?"":r.symbol+"/"+t.symbol):parseInt(t.id.split(".")[2],10)>parseInt(r.id.split(".")[2],10)?this.format_number(e/a/(i/u),Math.max(5,t.precision),o)+(n?"":t.symbol+"/"+r.symbol):this.format_number(i/u/(e/a),Math.max(5,r.precision),o)+(n?"":r.symbol+"/"+t.symbol)},price_text:function(e,t,i){var r=i.toJS?i.get("id"):i.id,n=i.toJS?i.get("precision"):i.precision,s=t.toJS?t.get("id"):t.id,o=t.toJS?t.get("precision"):t.precision,a={"1.3.113":5,"1.3.121":5};return"1.3.0"===r?this.format_number(e,n):"1.3.0"===s?this.format_number(e,Math.min(8,n+2)):a[r]?this.format_number(e,a[r]):this.format_number(e,Math.min(8,Math.max(n+o,2)))},compared_price_text:function(e,t,i,r,n){var s=void 0,o="",a=s=r?this.format_number(e,r):this.price_text(e,t,i),u=void 0;u=r?this.format_number(n,r):this.price_text(n,t,i);for(var l=0;l<s.length;l++)if(u[l]!=s[l]){o=s.slice(0,l),a=s.slice(l);break}return{text:s,dec:o,trailing:a,full:e}},price_to_text:function(e,t,i){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if("number"==typeof e&&t&&i){e===1/0&&(e=0);var n=void 0,s=(n=r?this.format_number(e,r):this.price_text(e,t,i)).split("."),o=s[0],a=s[1],u=void 0,l=0;if(a)if(e>1){for(u=a.length-1;u>=0&&"0"===a[u];u--)l++}else{var c=a.length;for(u=0;u<c;u++){if("0"!==a[u]){u--;break}l++}}var _=l?a.substr(Math.max(0,u+1),a.length):null;return _&&(_.length===a.length?a=null:_.length&&(a=a.substr(0,u+1))),{text:n,int:o,dec:a,trailing:_,full:e}}},get_op_type:function(e){var t=parseInt(e.split(".")[1],10);for(var i in l)if(l[i]===t)return i},add_comma:function(e){if("number"==typeof e&&(e=e.toString()),"."==(e=(e=e.trim()).replace(/,/g,""))||""==e)return e;if(e.length){var t=Number(e);if(isNaN(t))return;var i=e.split(".");return t=i[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),i.length>1&&(t+="."+i[1]),t}},parse_float_with_comma:function(e){e=e.replace(/,/g,"");var t=parseFloat(e);if(e.length&&isNaN(t)&&"."!=e)throw"parse_float_with_comma: must be a number";return t<0?0:t},are_equal_shallow:function(e,t){if(!e&&t||e&&!t)return!1;if(Array.isArray(e)&&Array.isArray(e)&&e.length>t.length)return!1;for(var i in e)if(!(i in t)||e[i]!==t[i])return!1;for(var i in t)if(!(i in e)||e[i]!==t[i])return!1;return!0},format_date:function(e){return/Z$/.test(e)||(e+="Z"),new Date(e).toLocaleDateString()},format_time:function(e){return/Z$/.test(e)||(e+="Z"),new Date(e).toLocaleString()},limitByPrecision:function(e,t){var i=e.toString(),r=i.split(".");return 1===r.length||2===r.length&&r[1].length<=t?i:r[0]+"."+r[1].substr(0,t)},getFee:function(e){var t=e.opType,i=e.options,r=e.globalObject,n=e.asset,s=e.coreAsset,o=e.balances,a={asset:"1.3.0"};if(a.amount=this.estimateFee(t,i,r)||0,!n||"1.3.0"===n.get("id"))return a;var u=n.getIn(["options","core_exchange_rate"]).toJS();if(!s||u.base.asset_id===u.quote.asset_id)return a;var l=this.convertPrice(s,u,null,n.get("id")),c=this.convertValue(l,a.amount,s,n),_={amount:Math.floor(c+.5),asset:n.get("id")},h=!0;return o&&o.length&&(o.forEach(function(e){"1.3.0"===e.get("asset_type")&&e.get("balance")<a.amount&&(h=!1)}),o.forEach(function(e){e.get("asset_type")===_.asset&&e.get("balance")<_.amount&&(h=!0)})),h?a:_},convertPrice:function(e,t,i,r){if(!e||!t)return null;e.toJS&&this.is_object_type(e.get("id"),"asset")&&(i=e.get("id"),e=e.get("bitasset")?e.getIn(["bitasset","current_feed","settlement_price"]).toJS():e.getIn(["options","core_exchange_rate"]).toJS()),t.toJS&&this.is_object_type(t.get("id"),"asset")&&(r=t.get("id"),t=t.get("bitasset")?t.getIn(["bitasset","current_feed","settlement_price"]).toJS():t.getIn(["options","core_exchange_rate"]).toJS());var n=e.quote.asset_id,s=t.quote.asset_id,o=void 0,a=void 0;n===i?(o=e.quote.amount,a=e.base.amount):(o=e.base.amount,a=e.quote.amount);var u=void 0,l=void 0;s===r?(u=t.quote.amount,l=t.base.amount):(u=t.base.amount,l=t.quote.amount);var c=void 0,_=void 0;return l>a?(c=o*(l/a),_=u):(c=o,_=u*(a/l)),{quote:{amount:c,asset_id:r},base:{amount:_,asset_id:i}}},convertValue:function(e,t,i,r){e=e.toJS?e.toJS():e;var n=this.get_asset_precision(i.get("precision")),s=this.get_asset_precision(r.get("precision")),o=this.get_asset_price(e.quote.amount,i,e.base.amount,r),a=i.get("id")!==r.get("id")?s*(t/n)/o:t;return isNaN(a)||!isFinite(a)?null:a},isValidPrice:function(e){if(!e||!e.toJS)return!1;var t=e.get("base").toJS(),i=e.get("quote").toJS();return t.amount>0&&i.amount>0&&t.asset_id!==i.asset_id},sortText:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e>t?i?1:-1:e<t?i?-1:1:0},sortID:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=parseInt(e.split(".")[2],10),n=parseInt(t.split(".")[2],10);return i?n-r:r-n},calc_block_time:function(e,t,i){if(!t||!i)return null;var r=t.get("parameters").get("block_interval"),n=i.get("head_block_number"),s=new Date(i.get("time")+"Z");return new Date(s-1e3*((n-e)*r))},get_translation_parts:function(e){var t=/{(.*?)}/g;e.split(t);return e.split(t)},get_percentage:function(e,t){return Math.round(e/t*100)+"%"},replaceName:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(c[e])return c[e];var i=["JADE.","TEST.","TRADE.","OPEN.","METAEX.","BRIDGE.","RUDEX."],r=void 0,n=e;for(r=0;r<i.length;r++)if(-1!==e.indexOf(i[r])){n=e.replace(i[r],"")+"";break}var s={name:n,prefix:t?"cyb.":i[r]&&!{"JADE.":!0,"TEST.":!0}[i[r]]?i[r].toLowerCase():null};return c[e]=s,s},getAccountFullHistory:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;return o(void 0,void 0,void 0,regeneratorRuntime.mark(function i(){var n,o,a;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,r.a.instance().history_api().exec("get_account_history",[e,"1.11.1",t,"1.11.0"]);case 2:if(!((n=i.sent).length<t)){i.next=5;break}return i.abrupt("return",n);case 5:o=void 0;case 6:return a=parseInt(n[n.length-1].id.split(".")[2])-1,i.next=9,r.a.instance().history_api().exec("get_account_history",[e,"1.11.1",t,"1.11."+a]);case 9:o=i.sent,n=[].concat(s(n),s(o));case 11:if(o.length){i.next=6;break}case 12:return i.abrupt("return",n);case 13:case"end":return i.stop()}},i,this)}))}};t.a=_},27:function(e,t,i){"use strict";i.d(t,"a",function(){return v}),i.d(t,"f",function(){return m}),i.d(t,"c",function(){return g}),i.d(t,"e",function(){return b}),i.d(t,"d",function(){return y}),i.d(t,"b",function(){return w}),i.d(t,"g",function(){return k}),i.d(t,"h",function(){return p});var r=i(498),n=i(59),s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,i,r){return i&&e(t.prototype,i),r&&e(t,r),t}}();function a(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _=n.BigNumber.another({ROUNDING_MODE:n.BigNumber.ROUND_DOWN}),h=n.BigNumber.another({ROUNDING_MODE:n.BigNumber.ROUND_UP});function f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8;if("number"!=typeof t)throw new Error("Input must be a number");var i=e.toString(),r=i.split(".");return 1===r.length||2===r.length&&r[1].length<=t?parseFloat(i):parseFloat(r[0]+"."+r[1].substr(0,t))}function p(e,t){var i=t&&t.size!==e.size;return i||(e.forEach(function(e,r){var n=t.get(r);n?e.market_base===n.market_base&&(i=i||e.ne(n)):i=!0}),i)}var d,v=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=t.asset_id,r=void 0===i?"1.3.0":i,n=t.amount,s=void 0===n?0:n,o=t.precision,a=void 0===o?5:o,u=t.real,l=void 0===u?null:u;c(this,e),this.satoshi=function(e){if("number"!=typeof e)throw new Error("Input must be a number");return Math.pow(10,e)}(a),this.asset_id=r,this.setAmount({sats:s,real:l}),this.precision=a}return o(e,[{key:"hasAmount",value:function(){return this.amount>0}},{key:"toSats",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return Math.round(e*this.satoshi)}},{key:"setAmount",value:function(e){var t=e.sats,i=e.real;if("string"==typeof t&&(t=parseInt(t,10)),"string"==typeof i&&(i=parseFloat(i)),"number"!=typeof t&&"number"!=typeof i)throw new Error("Invalid arguments for setAmount");if("number"==typeof i)this.amount=this.toSats(i),this._clearCache();else{if("number"!=typeof t)throw new Error("Invalid setAmount input");this.amount=Math.floor(t),this._clearCache()}}},{key:"_clearCache",value:function(){this._real_amount=null}},{key:"getAmount",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).real;return void 0!==e&&e?this._real_amount?this._real_amount:this._real_amount=f(this.amount/this.toSats(),this.precision):Math.floor(this.amount)}},{key:"plus",value:function(e){if(e.asset_id!==this.asset_id)throw new Error("Assets are not the same type");this.amount+=e.amount,this._clearCache()}},{key:"minus",value:function(e){if(e.asset_id!==this.asset_id)throw new Error("Assets are not the same type");this.amount-=e.amount,this.amount=Math.max(0,this.amount),this._clearCache()}},{key:"equals",value:function(e){return this.asset_id===e.asset_id&&this.getAmount()===e.getAmount()}},{key:"ne",value:function(e){return!this.equals(e)}},{key:"gt",value:function(e){return this.getAmount()>e.getAmount()}},{key:"lt",value:function(e){return this.getAmount()<e.getAmount()}},{key:"times",value:function(t){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=void 0,n=void 0;if(this.asset_id===t.base.asset_id)return r=this.amount*t.quote.amount/t.base.amount,n=Math.floor(r),i&&r!==n&&(n+=1),0===n&&(n=1),new e({asset_id:t.quote.asset_id,amount:n,precision:t.quote.precision});if(this.asset_id===t.quote.asset_id)return r=this.amount*t.base.amount/t.quote.amount,n=Math.floor(r),i&&r!==n&&(n+=1),0===n&&(n=1),new e({asset_id:t.base.asset_id,amount:n,precision:t.base.precision});throw new Error("Invalid asset types for price multiplication")}},{key:"divide",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this;return new m({base:t,quote:e})}},{key:"toObject",value:function(){return{asset_id:this.asset_id,amount:this.amount}}},{key:"clone",value:function(){return new e({amount:arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.amount,asset_id:this.asset_id,precision:this.precision})}}]),e}();!function(e){e[e.Normal=0]="Normal",e[e.Up=1]="Up",e[e.Down=2]="Down"}(d||(d={}));var m=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=t.base,n=t.quote,s=t.real,o=void 0!==s&&s;if(c(this,e),!i||!n)throw new Error("Base and Quote assets must be defined");if(i.asset_id===n.asset_id)throw new Error("Base and Quote assets must be different");if(i=i.clone(),n=n.clone(),o&&"number"==typeof o){o>1e5&&(o=f(o,5));var a=new r.Fraction(o),u=i.toSats(),l=n.toSats(),_=u/l,h=l/u;u>=l?h=1:_=1,i.amount=a.numerator*_,n.amount=a.denominator*h}else 0===o&&(i.amount=0,n.amount=0);if(!(i.asset_id&&"amount"in i&&n.asset_id&&"amount"in n))throw new Error("Invalid Price inputs");this.base=i,this.quote=n}return o(e,[{key:"getUnits",value:function(){return this.base.asset_id+"_"+this.quote.asset_id}},{key:"isValid",value:function(){return 0!==this.base.amount&&0!==this.quote.amount&&!isNaN(this.toReal())&&isFinite(this.toReal())}},{key:"toReal",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:d.Normal,r=t.toString()+(e?"_samebase_real":"_not_samebase_real");if(this[r])return this[r];var s=e?this.quote.amount*this.base.toSats()/(this.base.amount*this.quote.toSats()):this.base.amount*this.quote.toSats()/(this.quote.amount*this.base.toSats());return this[r]=parseFloat(i===d.Down?new _(s.toString()).toFixed(t):i===d.Up?new h(s.toString()).toFixed(t):new n.BigNumber(s.toString()).toFixed(t)),this[r]}},{key:"invert",value:function(){return new e({base:this.quote,quote:this.base})}},{key:"clone",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return new e({base:this.base,quote:this.quote,real:t})}},{key:"equals",value:function(e){return this.base.asset_id===e.base.asset_id&&this.quote.asset_id===e.quote.asset_id&&e.quote.amount*this.base.amount===this.quote.amount*e.base.amount}},{key:"lt",value:function(e){if(this.base.asset_id!==e.base.asset_id||this.quote.asset_id!==e.quote.asset_id)throw new Error("Cannot compare prices for different assets");return e.quote.amount*this.base.amount<this.quote.amount*e.base.amount}},{key:"lte",value:function(e){return this.equals(e)||this.lt(e)}},{key:"ne",value:function(e){return!this.equals(e)}},{key:"gt",value:function(e){return!this.lte(e)}},{key:"gte",value:function(e){return!this.lt(e)}},{key:"toObject",value:function(){return{base:this.base.toObject(),quote:this.quote.toObject()}}},{key:"times",value:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"1.3.0",r=t.base.asset_id===i&&this.quote.asset_id===i||t.quote.asset_id===i&&this.base.asset_id===i?t.clone():t.invert(),n=r.toReal()*this.toReal();return new e({base:r.base,quote:this.quote,real:n})}}]),e}(),g=function(e){function t(e){var i=e.priceObject,r=e.assets,n=e.market_base,o=e.sqr,a=e.real,l=void 0!==a&&a;if(c(this,t),!(i&&"object"===(void 0===i?"undefined":s(i))&&n&&r&&o))throw new Error("Invalid FeedPrice inputs");i.toJS&&(i=i.toJS());var _=n===i.base.asset_id,h=new v({asset_id:i.base.asset_id,amount:i.base.amount,precision:r[i.base.asset_id].precision}),f=new v({asset_id:i.quote.asset_id,amount:i.quote.amount,precision:r[i.quote.asset_id].precision}),p=u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{base:_?f:h,quote:_?h:f,real:l}));return p.sqr=parseInt(o,10)/1e3,p.inverted=_,p}return l(t,m),o(t,[{key:"getSqueezePrice",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).real,t=void 0!==e&&e;return this._squeeze_price||(this._squeeze_price=this.clone(),this.inverted&&(this._squeeze_price.base.amount=Math.floor(this._squeeze_price.base.amount*this.sqr)),this.inverted||(this._squeeze_price.quote.amount=Math.floor(this._squeeze_price.quote.amount*this.sqr))),t?this._squeeze_price.toReal():this._squeeze_price}}]),t}(),b=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=t.for_sale,r=t.to_receive,n=t.seller,s=void 0===n?"":n,o=t.expiration,a=void 0===o?new Date:o,u=t.fill_or_kill,l=void 0!==u&&u,_=t.fee,h=void 0===_?{amount:0,asset_id:"1.3.0"}:_;if(c(this,e),!i||!r)throw new Error("Missing order amounts");if(i.asset_id===r.asset_id)throw new Error("Order assets cannot be the same");this.amount_for_sale=i,this.min_to_receive=r,this.setExpiration(a),this.fill_or_kill=l,this.seller=s,this.fee=h}return o(e,[{key:"setExpiration",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e||(e=new Date).setYear(e.getFullYear()+5),this.expiration=e}},{key:"getExpiration",value:function(){return this.expiration}},{key:"toObject",value:function(){return{seller:this.seller,min_to_receive:this.min_to_receive.toObject(),amount_to_sell:this.amount_for_sale.toObject(),expiration:this.expiration,fill_or_kill:this.fill_or_kill,fee:this.fee}}}]),e}(),y=function(){function e(t,i,r){if(c(this,e),this._real_price={},!r)throw new Error("LimitOrder requires a market_base id");this.order=t,this.assets=i,this.market_base=r,this.id=t.id,this.sellers=[t.seller],this.expiration=t.expiration&&new Date(t.expiration),this.seller=t.seller,this.for_sale=parseInt(t.for_sale,10),this.init_for_sale=parseInt(t.sell_price.base.amount,10);var n=new v({asset_id:t.sell_price.base.asset_id,amount:this.init_for_sale,precision:i[t.sell_price.base.asset_id].precision}),s=new v({asset_id:t.sell_price.quote.asset_id,amount:parseInt(t.sell_price.quote.amount,10),precision:i[t.sell_price.quote.asset_id].precision});this.sell_price=new m({base:n,quote:s}),this.fee=t.deferred_fee}return o(e,[{key:"getPrice",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.sell_price,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8;return this._real_price[t]?this._real_price[t]:(this._real_price[t]=e.toReal(e.base.asset_id===this.market_base,t,this.isBid()?d.Down:d.Up),this._real_price[t])}},{key:"isBid",value:function(){return!(this.sell_price.base.asset_id===this.market_base)}},{key:"isCall",value:function(){return!1}},{key:"sellPrice",value:function(){return this.sell_price}},{key:"amountForSale",value:function(){return this._for_sale?this._for_sale:this._for_sale=new v({asset_id:this.sell_price.base.asset_id,amount:this.for_sale,precision:this.assets[this.sell_price.base.asset_id].precision})}},{key:"amountToReceive",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.isBid();return this._to_receive?this._to_receive:(this._to_receive=this.amountForSale().times(this.sell_price,e),this._to_receive)}},{key:"sum",value:function(e){var t=this.clone();return delete t._to_receive,delete this._to_receive,-1===t.sellers.indexOf(e.seller)&&t.sellers.push(e.seller),t.for_sale+=e.for_sale,t.init_for_sale+=e.init_for_sale,t.sell_price.base.amount=e.sell_price.base.amount+this.sell_price.base.amount,t.sell_price.quote.amount=e.sell_price.quote.amount+this.sell_price.quote.amount,t}},{key:"isMine",value:function(e){return-1!==this.sellers.indexOf(e)}},{key:"clone",value:function(){return new e(Object.assign({},this.order,{for_sale:this.for_sale}),this.assets,this.market_base)}},{key:"ne",value:function(e){return this.sell_price.ne(e.sell_price)||this.for_sale!==e.for_sale}},{key:"equals",value:function(e){return!this.ne(e)}},{key:"setTotalToReceive",value:function(e){this.total_to_receive=e}},{key:"setTotalForSale",value:function(e){this.total_for_sale=e,this._total_to_receive=null}},{key:"totalToReceive",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).noCache;return void 0!==e&&e||!this._total_to_receive?(this._total_to_receive=(this.total_to_receive||this.amountToReceive()).clone(),this._total_to_receive):this._total_to_receive}},{key:"totalForSale",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).noCache;return!(void 0!==e&&e)&&this._total_for_sale?this._total_for_sale:this._total_for_sale=(this.total_for_sale||this.amountForSale()).clone()}}],[{key:"fromRteOrder",value:function(t,i,r){var s,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],u=(i.get("precision"),r.get("precision"),o?new n.BigNumber(t[1]):new n.BigNumber(t[0]).mul(new n.BigNumber(t[1]))),l=o?new n.BigNumber(t[0]).mul(new n.BigNumber(t[1])):new n.BigNumber(t[1]),c=o?l.mul(Math.pow(10,i.get("precision"))):l.mul(Math.pow(10,r.get("precision"))),_=c,h=o?u.mul(Math.pow(10,r.get("precision"))):u.mul(Math.pow(10,i.get("precision")));return new e({id:"1.7.0",seller:"1.2.0",for_sale:parseInt(c.toFixed(0)),sell_price:{base:{amount:parseInt(_.toFixed(0)),asset_id:o?i.get("id"):r.get("id")},quote:{amount:parseInt(h.toFixed(0)),asset_id:o?r.get("id"):i.get("id")}}},(a(s={},r.get("id"),r.toJS()),a(s,i.get("id"),i.toJS()),s),r.get("id"))}}]),e}(),w=function(){function e(t,i,r,n){var s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(c(this,e),this._real_price={},!(t&&i&&r&&n))throw new Error("CallOrder missing inputs");this.order=t,this.assets=i,this.market_base=r,this.is_prediction_market=s,this.inverted=r===t.call_price.base.asset_id,this.id=t.id,this.borrower=t.borrower,this.borrowers=[t.borrower],this.for_sale=parseInt(t.collateral,10),this.for_sale_id=t.call_price.base.asset_id,this.to_receive=parseInt(t.debt,10),this.to_receive_id=t.call_price.quote.asset_id;var o=new v({asset_id:t.call_price.base.asset_id,amount:parseInt(t.call_price.base.amount,10),precision:i[t.call_price.base.asset_id].precision}),a=new v({asset_id:t.call_price.quote.asset_id,amount:parseInt(t.call_price.quote.amount,10),precision:i[t.call_price.quote.asset_id].precision});if(this.call_price=new m({base:this.inverted?a:o,quote:this.inverted?o:a}),n.base.asset_id!==this.call_price.base.asset_id)throw new Error("Feed price assets and call price assets must be the same");this.feed_price=n}return o(e,[{key:"clone",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.feed_price;return new e(this.order,this.assets,this.market_base,t)}},{key:"setFeed",value:function(e){this.feed_price=e,this._clearCache()}},{key:"getPrice",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.call_price,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:8;return e?this.getSqueezePrice():this._real_price[i]?this._real_price[i]:(this._real_price[i]=t.toReal(t.base.asset_id===this.market_base,i),this._real_price[i])}},{key:"getFeedPrice",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.feed_price;return this._feed_price?this._feed_price:this._feed_price=e.toReal(e.base.asset_id===this.market_base)}},{key:"getSqueezePrice",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.feed_price;return this._squeeze_price?this._squeeze_price:this._squeeze_price=e.getSqueezePrice().toReal()}},{key:"isMarginCalled",value:function(){return!this.is_prediction_market&&(this.isBid()?this.call_price.lt(this.feed_price):this.call_price.gt(this.feed_price))}},{key:"isBid",value:function(){return!this.inverted}},{key:"isCall",value:function(){return!0}},{key:"sellPrice",value:function(){return!(arguments.length>0&&void 0!==arguments[0])||arguments[0]?this.isBid()?this.feed_price.getSqueezePrice():this.feed_price.getSqueezePrice().invert():this.call_price}},{key:"getCollateral",value:function(){return this._collateral?this._collateral:this._collateral=new v({amount:this.for_sale,asset_id:this.for_sale_id,precision:this.assets[this.for_sale_id].precision})}},{key:"amountForSale",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.isBid();return this._for_sale?this._for_sale:this._for_sale=this.amountToReceive().times(this.feed_price.getSqueezePrice(),e)}},{key:"amountToReceive",value:function(){return this._to_receive?this._to_receive:this._to_receive=new v({asset_id:this.to_receive_id,amount:this.to_receive,precision:this.assets[this.to_receive_id].precision})}},{key:"sum",value:function(e){var t=this.clone();return-1===t.borrowers.indexOf(e.borrower)&&t.borrowers.push(e.borrower),t.to_receive+=e.to_receive,t.for_sale+=e.for_sale,t._clearCache(),t}},{key:"_clearCache",value:function(){this._for_sale=null,this._to_receive=null,this._feed_price=null,this._squeeze_price=null,this._total_to_receive=null,this._total_for_sale=null}},{key:"ne",value:function(e){return this.call_price.ne(e.call_price)||this.feed_price.ne(e.feed_price)||this.to_receive!==e.to_receive||this.for_sale!==e.for_sale}},{key:"equals",value:function(e){return!this.ne(e)}},{key:"setTotalToReceive",value:function(e){this.total_to_receive=e}},{key:"setTotalForSale",value:function(e){this.total_for_sale=e}},{key:"totalToReceive",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).noCache;return void 0!==e&&e||!this._total_to_receive?(this._total_to_receive=(this.total_to_receive||this.amountToReceive()).clone(),this._total_to_receive):this._total_to_receive}},{key:"totalForSale",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).noCache;return!(void 0!==e&&e)&&this._total_for_sale?this._total_for_sale:this._total_for_sale=(this.total_for_sale||this.amountForSale()).clone()}},{key:"getRatio",value:function(){return this.getCollateral().getAmount({real:!0})/this.amountToReceive().getAmount({real:!0})/this.getFeedPrice()}},{key:"getStatus",value:function(){var e=this.assets[this.to_receive_id].bitasset.current_feed.maintenance_collateral_ratio/1e3,t=this.getRatio();return isNaN(t)?null:t<e?"danger":t<e+.5?"warning":""}},{key:"isMine",value:function(e){return-1!==this.borrowers.indexOf(e)}}]),e}(),k=function(e){function t(e,i,r,n,s){if(c(this,t),!n||!s)throw new Error("SettleOrder needs feed_price and bitasset_options inputs");e.sell_price=n.toObject(),e.seller=e.owner;var o=u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i,r));return o.offset_percent=s.force_settlement_offset_percent,o.settlement_date=new Date(e.settlement_date),o.for_sale=new v({amount:e.balance.amount,asset_id:e.balance.asset_id,precision:i[e.balance.asset_id].precision}),o.inverted=o.for_sale.asset_id===r,o.feed_price=n[o.inverted?"invert":"clone"](),o}return l(t,y),o(t,[{key:"isBefore",value:function(e){return this.settlement_date<e.settlement_date}},{key:"amountForSale",value:function(){return this.for_sale}},{key:"amountToReceive",value:function(){var e=this.for_sale.times(this.feed_price,this.isBid());return e.setAmount({sats:e.getAmount()*((1e4-this.offset_percent)/1e4)}),this._to_receive=e}},{key:"isBid",value:function(){return!this.inverted}}]),t}()},289:function(e,t,i){"use strict";(function(e){i.d(t,"c",function(){return p}),i.d(t,"b",function(){return u}),i.d(t,"a",function(){return d});var r=i(1),n=i(27),s=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var i=[],r=!0,n=!1,s=void 0;try{for(var o,a=e[Symbol.iterator]();!(r=(o=a.next()).done)&&(i.push(o.value),!t||i.length!==t);r=!0);}catch(e){n=!0,s=e}finally{try{!r&&a.return&&a.return()}finally{if(n)throw s}}return i}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=r.c.operations;function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Promise(function(n,s){Object(r.f)("getObject","2.0.0").then(function(r){n(p(e,t,r,i))}).catch(s)})}function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.accountID,i=e.feeID,o=void 0===i?"1.3.0":i,u=e.type,l=void 0===u?"transfer":u,c=e.options,_=void 0===c?null:c,h=e.data;return new Promise(function(e,i){Promise.all([a(l,_,h),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.assetID,i=e.type,n=void 0===i?"transfer":i,o=e.options,u=void 0===o?null:o,l=e.data;return new Promise(function(e){"1.3.0"===t?e(!0):Promise.all([a(n,u,l),Object(r.f)("getAsset",t)]).then(function(t){var i=s(t,2),r=i[0],n=i[1];e(parseInt(n.getIn(["dynamic","fee_pool"]),10)>=r)})})}({assetID:o,type:l,options:_,data:h}),Object(r.f)("getAccount",t),Object(r.f)("getAsset","1.3.0"),"1.3.0"!==o?Object(r.f)("getAsset",o):null]).then(function(t){var i=s(t,5),a=i[0],u=i[1],l=i[2],c=i[3],_=i[4],h=!1;"1.3.0"===o&&(_=c);var f=l.getIn(["balances","1.3.0"]),p=l.getIn(["balances",o]);if("1.3.0"===o&&!f)return e({fee:new n.a({amount:a}),hasBalance:h,hasPoolBalance:u});Promise.all([f?Object(r.f)("getObject",f):null,p?Object(r.f)("getObject",p):null]).then(function(t){var i=s(t,2),r=i[0],l=i[1],f=new n.a({amount:a}),p=!0;if("1.3.0"!==o){var d=_.getIn(["options","core_exchange_rate"]),v=d.get("base").toJS();v.precision=v.asset_id===o?_.get("precision"):c.get("precision");var m=new n.a(v),g=d.get("quote").toJS();g.precision=g.asset_id===o?_.get("precision"):c.get("precision");var b=new n.a(g);try{var y=new n.f({base:m,quote:b});f=f.times(y,!0)}catch(e){l=r,p=!1,u=!1}}l&&l.get("balance")>=f.getAmount()&&(h=!0),e({fee:f,hasBalance:h,hasPoolBalance:u,hasValidCER:p})})}).catch(i)})}var l="5KikQ23YhcM7jdfHbFBQg1G7Do5y6SgD9sdBZq7BqQWXmNH7gqo",c=r.m.unique_nonce_uint64(),_=void 0,h=void 0,f=void 0;function p(t,i,n){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(!n)return 0;var a=o[t],u=n.getIn(["parameters","current_fees","parameters",a,1]).toJS(),p=0;if(u.fee&&(p+=u.fee),i){var d=!0,v=!1,m=void 0;try{for(var g,b=i[Symbol.iterator]();!(d=(g=b.next()).done);d=!0){var y=g.value,w=u[y];if("price_per_kbyte"===y){if("memo"===s.type&&s.content){var k=_||r.h.fromWif(l);_&&(_=k);var q="CYB8eLeqSZZtB1YHdw7KjQxRSRmaKAseCxhUSqaLxUdqvdGpp6nck",S=void 0;S=s.content===f&&h?h:h=r.a.encrypt_with_checksum(k,q,c,s.content);var x={from:"CYB6B1taKXkDojuC1qECjvC7g186d8AdeGtz8wnqWAsoRGC6RY8Rp",to:q,nonce:c,message:S},I=r.p.memo_data.fromObject(x),O=JSON.stringify(r.p.memo_data.toHex(I));p+=w*e.byteLength(O,"hex")/1024,f=s.content}}else w&&(p+=w)}}catch(e){v=!0,m=e}finally{try{!d&&b.return&&b.return()}finally{if(v)throw m}}}return p*n.getIn(["parameters","current_fees","scale"])/1e4}function d(e,t,i,r){if(!e)return null;if("string"==typeof e&&(e=parseFloat(String.prototype.replace.call(e,/,/g,""))),!r||0===r.get("balance"))return!1;var s=new n.a({asset_id:t.get("id"),precision:t.get("precision"),real:e}),o=s.clone(r.get("balance"));return!o.lt(s)&&(s.asset_id!==i.asset_id||(s.plus(i),!o.lt(s)))}}).call(this,i(30).Buffer)},456:function(e,t,i){"use strict";var r=i(13),n=i.n(r),s=function(){function e(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,i,r){return i&&e(t.prototype,i),r&&e(t,r),t}}();var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return s(e,null,[{key:"GetTitleByPath",value:function(e){var t=this,i="BitShares",r=null;return e.split("/").forEach(function(e){""!=e&&(i+=" - ","account"===r?i+=e:"market"===r&&e.match(/_/)?i+=e.replace("_"," / "):null!=t.GetLocaleKey(e)?i+=n.a.translate(t.GetLocaleKey(e)):-1!==e.match(/-|_/)?e.split(/-|_/).forEach(function(e){i+=e.charAt(0).toUpperCase()+e.substring(1)+" "}):i+=e.charAt(0).toUpperCase()+e.substring(1),r=e)}),i}},{key:"GetLocaleKey",value:function(e){switch(e){case"access":return"settings.access";case"account":return"header.account";case"accounts":return"explorer.accounts.title";case"asset":return"explorer.asset.title";case"assets":return"explorer.assets.title";case"backup":return"settings.backup";case"block":return"explorer.block.title";case"blocks":return"explorer.blocks.title";case"committee-members":return"explorer.committee_members.title";case"dashboard":return"header.dashboard";case"faucet_address":return"settings.faucet_address";case"market":return"exchange.market";case"markets":return"markets.title";case"password":return"settings.password";case"settings":return"header.settings";case"reset":return"settings.reset";case"restore":return"settings.restore";case"signedmessages":return"account.signedmessages.title";case"voting":return"account.voting";case"wallet":return"wallet.title";case"witnesses":return"explorer.witnesses.title";default:return null}}}]),e}();t.a=o},55:function(e,t,i){"use strict";var r=function(e,t){return e in t},n="undefined"==typeof localStorage?null:localStorage;if(null===n)throw"localStorage is required but isn't available on this platform";t.a=function(e){var t=e;return{get:function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=void 0;try{return r(t+e,n)&&(s=JSON.parse(n.getItem(t+e))),s||i}catch(e){return i}},set:function(e,i){i&&i.toJS&&(i=i.toJS()),n.setItem(t+e,JSON.stringify(i))},remove:function(e){n.removeItem(t+e)},has:function(e){return r(t+e,n)}}}},94:function(e,t,i){"use strict";var r=i(17),n=i(1),s=i(192),o=i(59),a=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var i=[],r=!0,n=!1,s=void 0;try{for(var o,a=e[Symbol.iterator]();!(r=(o=a.next()).done)&&(i.push(o.value),!t||i.length!==t);r=!0);}catch(e){n=!0,s=e}finally{try{!r&&a.return&&a.return()}finally{if(n)throw s}}return i}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=n.c.object_type,l=Object.keys(u),c={order_type:function(e){if("string"!=typeof e)return!1;var t=e.split(".")[1];return l[t]},isAsk:function(e,t){var i=t.toJS?t.get("id"):t.id;return e.sell_price?e.sell_price.quote.asset_id===i:e.call_price?e.call_price.quote.asset_id===i:void 0},isAskOp:function(e){return e.amount_to_sell.asset_id!==e.fee.asset_id},limitByPrecision:function(e,t){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=t.toJS?t.get("precision"):t.precision,s=e.toString().split(".");if(1===s.length||2===s.length&&s[1].length<=n)return e;var o=r.a.get_asset_precision(n);return e=i?Math.floor(e*o)/o:Math.round(e*o)/o,isNaN(e)||!isFinite(e)?0:e},getFeedPrice:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=n.b.getAsset(e.getIn(["quote","asset_id"])),s=n.b.getAsset(e.getIn(["base","asset_id"])),o=r.a.get_asset_price(e.getIn(["quote","amount"]),i,e.getIn(["base","amount"]),s);return t?1/o:o},parseOrder:function(e,t,i){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=this.isAsk(e,t),o=r.a.get_asset_precision(i.toJS?i.get("precision"):i.precision),a=r.a.get_asset_precision(t.toJS?t.get("precision"):t.precision),u=(e.call_price?i.toJS?i.get("precision"):i.precision:t.toJS?t.get("precision"):t.precision,void 0),l=void 0,c=void 0;if(e.sell_price)u=s?e.sell_price.base:e.sell_price.quote,l=s?e.sell_price.quote:e.sell_price.base;else if(e.call_price){u=e.call_price.base,l=e.call_price.quote;var _=u.amount/a/(l.amount/o);c=n?1/_:_}"number"!=typeof l.amount&&(l.amount=parseInt(l.amount,10)),"number"!=typeof u.amount&&(u.amount=parseInt(u.amount,10));var h=c||l.amount/a/(u.amount/o),f=r.a.price_to_text(h,e.call_price?t:i,e.call_price?i:t),p=void 0,d=void 0;return e.debt?n?(d=e.debt/o,p=this.limitByPrecision(d/f.full,t)):(p=this.limitByPrecision(e.debt/o,i),d=f.full*p):s?(p=this.limitByPrecision(e.for_sale/o,i),d=f.full*p):(p=this.limitByPrecision(u.amount/l.amount*e.for_sale/o,i),d=e.for_sale/a),d=this.limitByPrecision(d,t),!s&&e.for_sale&&(d=this.limitByPrecision(f.full*p,t)),{value:d,price:f,amount:p}},parse_order_history:function(e,t,i,n,s){var l=e.order_id.split(".")[1]!=u.limit_order,c=r.a.get_asset_precision(i.get("precision")),_=r.a.get_asset_precision(t.get("precision")),h=Number.parseFloat(new o.BigNumber(e.receives.amount).div(c).toString());h=r.a.format_number(h,i.get("precision"));var f=new o.BigNumber(e.pays.amount).div(_).toNumber();f=r.a.format_number(f,t.get("precision"));var p=e.fill_price.base.asset_id===e.receives.asset_id?[e.fill_price.base,e.fill_price.quote]:[e.fill_price.quote,e.fill_price.base],d=a(p,2),v=d[0],m=d[1],g=r.a.get_asset_price(v.amount,i,m.amount,t,n),b=r.a.price_to_text(g,n?i:t,n?t:i),y=b.int,w=b.dec,k=b.trailing,q=l?"orderHistoryCall":n?"orderHistoryBid":"orderHistoryAsk",S=void 0;if(e.time){S=e.time.split("T")[1];var x=(new Date).getTimezoneOffset()/60,I=r.a.format_date(e.time).split(/\W/),O=S.substr(0,2),A=parseInt(O,10)-x;A>=24?A-=24:A<0&&(A+=24);var j=A.toString();parseInt(j,10)<10&&(j="0"+j),S=I[0]+"/"+I[1]+" "+S.replace(O,j)}return{receives:n?h:f,pays:n?f:h,full:g,int:y,dec:w,trailing:k,className:q,time:S}},split_price:function(e,t){var i=r.a.format_number(e,Math.max(5,t)).split(".");return{int:i[0],dec:i[1]}},flatten_orderbookchart_highcharts:function(e,t,i,r){var n=[],s=void 0;if(i=void 0!==i&&i){if(e&&e.length)if(s=e.length-1,n.unshift([e[s][0],e[s][1]]),e.length>1)for(var o=e.length-2;o>=0;o--)t&&(e[o][1]+=e[o+1][1]),n.unshift([e[o][0],e[o][1]]);else n.unshift([0,e[s][1]])}else if(e&&e.length)if(n.push([e[0][0],e[0][1]]),e.length>1)for(var a=1;a<e.length;a++)t&&(e[a][1]+=e[a-1][1]),n.push([e[a][0],e[a][1]]);else n.push([1.5*e[0][0],e[0][1]]);return n},priceToObject:function(e,t){var i=1,r=0,n=0,s=1,o=e;do{var a=Math.floor(o),u=i;i=a*i+r,r=u,u=n,n=a*n+s,s=u,o=1/(o-a)}while(Math.abs(e-i/n)>1e-8*e);if("ask"===t)return{base:i,quote:n};if("bid"===t)return{quote:i,base:n};throw"Unknown type"},isMarketAsset:function(e,t){var i=!1,r=void 0,n=!1;return e.get("bitasset")&&t.get("id")===e.getIn(["bitasset","options","short_backing_asset"])?(i=!0,r={id:e.get("id")}):t.get("bitasset")&&e.get("id")===t.getIn(["bitasset","options","short_backing_asset"])&&(n=!0,i=!0,r={id:t.get("id")}),{isMarketAsset:i,marketAsset:r,inverted:n}},getMarketID:function(e,t){if(!e||!t)return{marketId:"_"};var i=Object(s.b)(e,t),r=i.base,n=i.quote;return{baseID:parseInt(r.get("id").split(".")[2],10),quoteID:parseInt(n.get("id").split(".")[2],10),marketID:n.get("symbol")+"_"+r.get("symbol"),first:n,second:r}}};t.a=c}}]);