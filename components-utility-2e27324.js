(window.webpackJsonp=window.webpackJsonp||[]).push([[267],{154:function(e,t,r){"use strict";var n=r(0),o=r(3),a=r(17),s=r(187),i=r(19),l=r(40),c=(r(13),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}),u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var b=function(e){function t(){return p(this,t),f(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return h(t,n["Component"]),u(t,[{key:"shouldComponentUpdate",value:function(e){return e.replace!==this.props.replace||e.name!==this.props.replace}},{key:"render",value:function(){var e=this.props,t=e.name,r=e.replace,o=e.asset,i=e.noPrefix,l=(e.withDescription,o.has("bitasset")),c=l&&o.getIn(["bitasset","is_prediction_market"]),u=a.a.replaceName(t,l&&!c&&"1.2.0"===o.get("issuer")),p=u.name,f=u.prefix;l&&!c&&["BTWTY","BANCOR","BTCSHA","CROWDFUN","DRAGON","TESTME"].indexOf(t);if(r&&p!==this.props.name&&this.props.withDescription||l){s.a.parseDescription(o.getIn(["options","description"]));var h=t.split(".");(h=h.length>1?h[0]:null)&&(h+=".");return n.createElement("div",{className:"inline-block"+(this.props.noTip?"":" tooltip"),"data-tip":null,"data-place":this.props.dataPlace,"data-html":!0},n.createElement("span",{className:"asset-prefix-replaced"},f),n.createElement("span",null,p))}return n.createElement("span",null,n.createElement("span",{className:i?"":"asset-prefix-replaced"},i?null:f),p)}}]),t}();b.propTypes={asset:i.a.ChainAsset.isRequired,replace:o.bool.isRequired,name:o.string.isRequired,dataPlace:o.string.isRequired},b.defaultProps={replace:!0,noPrefix:!1,noTip:!1,dataPlace:"bottom"},b=Object(l.a)(b);var d=function(e){function t(){return p(this,t),f(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return h(t,n["Component"]),u(t,[{key:"render",value:function(){return n.createElement(b,c({},this.props,{asset:this.props.name}))}}]),t}();t.a=d},19:function(e,t,r){"use strict";var n=r(17),o=r(5),a=r.n(o),s=r(1),i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l=s.c.object_type;function c(e){function t(t,r,n,o,a){return o=o||ANONYMOUS,null==r[n]?t?new Error("Required "+a+" `"+n+"` was not specified in `"+o+"`."):null:e(r,n,o,a)}var r=t.bind(null,!1);return r.isRequired=t.bind(null,!0),r}function u(e,t,r,n){return r=r||"ANONYMOUS",e[t]?"string"==typeof e[t]?null:new Error(t+" in "+r+" should be a key string"):null}var p=c(function(e,t,r,o){if(r=r||"ANONYMOUS",e[t]){var a=e[t];if("string"==typeof a)return n.a.is_object_id(a)?null:new Error(t+" in "+r+" should be an object id");if("object"!==(void 0===a?"undefined":i(a)))return new Error(t+" in "+r+" should be an object id or object")}return null}),f=c(function(e,t,r,o){if(r=r||"ANONYMOUS",e[t]){var a=e[t];if("string"==typeof a)return n.a.is_object_id(a)&&a.split(".")[1]===l.account?null:new Error(t+" of "+a+" in "+r+" should be an account id");if("object"!==(void 0===a?"undefined":i(a)))return new Error(t+" of "+a+" in "+r+" should be an account id")}return null}),h=c(u),b=c(u),d=c(function(e,t,r,n){if(r=r||"ANONYMOUS",e[t]){var o=e[t];if("string"==typeof o)return null;if("object"!==(void 0===o?"undefined":i(o)))return new Error(t+" of "+o+" in "+r+" should be an asset symbol or id")}return null}),m=c(function(e,t,r,n){if(r=r||"ANONYMOUS",e[t]){var o=e[t];return a.a.List.isList(o)||a.a.Set.isSet(o)||o instanceof Object?null:new Error(t+" in "+r+" should be Immutable.List")}return null}),v=c(function(e,t,r,n){if(r=r||"ANONYMOUS",e[t]){var o=e[t];return a.a.List.isList(o)||a.a.Set.isSet(o)||o instanceof Object?null:new Error(t+" in "+r+" should be Immutable.List")}return null}),_=c(function(e,t,r,n){if(r=r||"ANONYMOUS",e[t]){var o=e[t];return a.a.List.isList(o)||a.a.Set.isSet(o)||o instanceof Object?null:new Error(t+" in "+r+" should be Immutable.List")}return null});t.a={ChainObject:p,ChainAccount:f,ChainKeyRefs:h,ChainAddressBalances:b,ChainAsset:d,ChainObjectsList:m,ChainAccountsList:v,ChainAssetsList:_}},286:function(e,t,r){"use strict";var n=r(0),o=r(3),a=r(73),s=r(17),i=r(19),l=r(40),c=r(156),u=r.n(c),p=r(8),f=r(18),h=r(225),b=r.n(h),d=r(2),m=r.n(d),v=r(154),_=r(94),y=r(27),g=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function O(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function k(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var w=function(e){function t(e){O(this,t);var r=j(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),n=_.a.getMarketID(r.props.base_asset,r.props.quote_asset),o=n.marketID,a=n.first,s=n.second;return r.state={isPopoverOpen:!1,marketId:o,first:a,second:s},r.togglePopover=r.togglePopover.bind(r),r.closePopover=r.closePopover.bind(r),r}return k(t,n["Component"]),g(t,[{key:"componentWillReceiveProps",value:function(e){if(e.base_asset!==this.props.base_asset||e.quote_asset!==this.props.quote_asset){var t=_.a.getMarketID(e.base_asset,e.quote_asset),r=t.marketID,n=t.first,o=t.second;this.setState({marketId:r,first:n,second:o})}}},{key:"togglePopover",value:function(e){e.preventDefault(),this.setState({isPopoverOpen:!this.state.isPopoverOpen})}},{key:"closePopover",value:function(){this.setState({isPopoverOpen:!1})}},{key:"onFlip",value:function(){var e={};e[this.state.marketId]=!this.props.marketDirections.get(this.state.marketId),f.a.changeMarketDirection(e)}},{key:"shouldComponentUpdate",value:function(e,t){return e.marketDirections!==this.props.marketDirections||e.base_amount!==this.props.base_amount||e.quote_amount!==this.props.quote_amount||e.decimals!==this.props.decimals||!s.a.are_equal_shallow(t,this.state)}},{key:"goToMarket",value:function(e){e.preventDefault();var t=this.state,r=t.marketId,n=t.first,o=t.second,a=this.props.marketDirections.get(r);this.context.router.history.push("/market/"+(a?o.get("symbol"):n.get("symbol"))+"_"+(a?n.get("symbol"):o.get("symbol")))}},{key:"render",value:function(){var e=this.props,t=e.base_asset,r=e.base_amount,o=e.quote_amount,s=e.marketDirections,i=e.hide_symbols,l=e.noPopOver,c=this.state,u=c.marketId,p=c.first,f=c.second,h=s.get(u)||this.props.invert;this.props.force_direction&&f.get("symbol")===this.props.force_direction&&h?h=!1:this.props.force_direction&&p.get("symbol")===this.props.force_direction&&!h&&(h=!0);var d=void 0,_=void 0;if(h?(d=f,_=p):(d=p,_=f),d.get("id")!==t.get("id")){var g=r;r=o,o=g}var O=void 0;try{O=new y.f({quote:new y.a({asset_id:d.get("id"),precision:d.get("precision"),amount:r}),base:new y.a({asset_id:_.get("id"),precision:_.get("precision"),amount:o})})}catch(e){return null}var j="";if(!this.props.hide_value){var k=O.toReal();if(isNaN(k)||!isFinite(k))return n.createElement("span",null,"--");var w=this.props.decimals?this.props.decimals:O.base.precision;w=Math.min(8,w),"1.3.0"===d.get("id")&&d.get("precision"),j=n.createElement(a.b,{value:k,minimumFractionDigits:Math.max(2,w),maximumFractionDigits:w})}var E=i?"":n.createElement("span",{"data-place":"bottom","data-tip":l?"Click to invert the price":null,className:l?"clickable inline-block":"",onClick:l?this.onFlip.bind(this):null},n.createElement(v.a,{name:_.get("symbol")}),"/",n.createElement(v.a,{name:d.get("symbol")})),P=l||i?null:n.createElement("div",null,n.createElement("div",{className:"button",onClick:this.onFlip.bind(this)},n.createElement(m.a,{content:"exchange.invert"})),n.createElement("div",{className:"button",onClick:this.goToMarket.bind(this)},n.createElement(m.a,{content:"exchange.to_market"}))),A=P?n.createElement(b.a,{isOpen:this.state.isPopoverOpen,onOuterAction:this.closePopover,body:P},n.createElement("span",{className:"currency click-for-help",onClick:this.togglePopover},E)):null;return n.createElement("span",null,j," ",A||E)}}]),t}();w.propTypes={base_asset:i.a.ChainAsset.isRequired,quote_asset:i.a.ChainAsset.isRequired,base_amount:o.any,quote_amount:o.any,decimals:o.number},w.contextTypes={router:o.object},w=Object(l.a)(w);var E=function(e){function t(){return O(this,t),j(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return k(t,n["Component"]),g(t,[{key:"render",value:function(){return n.createElement(u.a,{stores:[p.b],inject:{marketDirections:function(){return p.b.getState().marketDirections}}},n.createElement(w,this.props))}}]),t}();t.a=E},287:function(e,t,r){"use strict";var n=r(0),o=r(3),a=r(80),s=r(19),i=r(40),l=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n["Component"]),l(t,[{key:"render",value:function(){var e=Number(this.props.balance.get("balance")),t=this.props.balance.get("asset_type");return n.createElement(a.a,{amount:e,asset:t,asPercentage:this.props.asPercentage,assetInfo:this.props.assetInfo,replace:this.props.replace,hide_asset:this.props.hide_asset})}}]),t}();c.propTypes={balance:s.a.ChainObject.isRequired,assetInfo:o.node,hide_asset:o.bool},c.defaultProps={hide_asset:!1},t.a=Object(i.a)(c,{keep_updating:!0})},288:function(e,t,r){"use strict";var n=r(0),o=r(3),a=r(23),s=r(13),i=r.n(s),l=r(17),c=r(1253),u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var p=r(841),f={};var h=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return window._onClickLink=r.onClickLink.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n["Component"]),u(t,[{key:"componentWillMount",value:function(){var e=this.props.locale||i.a.getLocale()||"en";p.keys().filter(function(t){return-1!==t.indexOf("/"+e+"/")||-1!==t.indexOf("/en/")}).forEach(function(e){var t=e.match(/\/(.+?)\/(.+)\./),n=t[1],o=t[2],s=f[n];s||(f[n]=s={});var i=r(840)("./help"+e.slice(1));s[o]=function(e){var t=e.split(/\[#\s?(.+?)\s?\]/);if(1===t.length)return t[0];t[0].length<4&&t.splice(0,1);for(var r=t.length-1;r>=1;r-=2)t[r]=t[r].replace(/(^<\/p>|<p>$)/g,""),t[r-1]=[t[r-1],t[r]],t.splice(r,1);return Object(a.zipObject)(t)}(function(e){return e.replace(/\<a\shref\=\"(.+?)\"/gi,function(e,t){return 0===t.indexOf("/")?'<a href="'+t+'" onclick="_onClickLink(event)"':0===t.indexOf("http")?'<a href="'+t+'" rel="noopener noreferrer" target="_blank"':'<a href="/help/'+(function(e,t){return-1!==e.indexOf(t,e.length-t.length)}(t,".md")?t.substr(0,t.length-3):t)+'" onclick="_onClickLink(event)"'})}(i))})}},{key:"onClickLink",value:function(e){e.preventDefault();var t=e.target.pathname.split("/").filter(function(e){return e&&"#"!==e});if(0===t.length)return!1;var r="/"+t.join("/");return this.props.history.push(r),!1}},{key:"setVars",value:function(e){var t=this;return e.replace(/(\{.+?\})/gi,function(e,r){var n=r.substr(1,r.length-2),o=void 0!==t.props[n]?t.props[n]:r;return o.amount&&o.asset&&(o=l.a.format_asset(o.amount,o.asset,!1,!1)),o.date&&(o=l.a.format_date(o.date)),o.time&&(o=l.a.format_time(o.time)),o})}},{key:"render",value:function(){var e=this.props.locale||i.a.getLocale()||"en";f[e]||(console.error("missing locale '"+e+"' help files, rolling back to 'en'"),e="en");var t=f[e][this.props.path];return t||"en"===e||(console.warn("missing path '"+this.props.path+"' for locale '"+e+"' help files, rolling back to 'en'"),t=f.en[this.props.path]),!t&&this.props.alt_path&&(console.warn("missing path '"+this.props.path+"' for locale '"+e+"' help files, rolling back to alt_path '"+this.props.alt_path+"'"),t=f[e][this.props.alt_path]),!t&&this.props.alt_path&&"en"!=e&&(console.warn("missing alt_path '"+this.props.alt_path+"' for locale '"+e+"' help files, rolling back to 'en'"),t=f.en[this.props.alt_path]),t?(this.props.section&&(t=t[this.props.section]),t?n.createElement("div",{style:this.props.style,className:"help-content",dangerouslySetInnerHTML:{__html:this.setVars(t)}}):(console.error("help section not found "+this.props.path+"#"+this.props.section),null)):(console.error("help file not found '"+this.props.path+"' for locale '"+e+"'"),!0)}}]),t}();h.propTypes={path:o.string.isRequired,section:o.string},t.a=Object(c.a)(h)},290:function(e,t,r){"use strict";r.d(t,"a",function(){return y});var n=r(0),o=r(17),a=r(19),s=r(40),i=r(156),l=r.n(i),c=r(8),u=r(286),p=r(48),f=r(122),h=r(5),b=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&(r[n[o]]=e[n[o]])}return r},y=function(e){function t(e){d(this,t);var r=m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.fromStatsIntervals={},r.toStatsInterval=null,r}return v(t,n["Component"]),b(t,[{key:"_checkStats",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{close:{}},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{close:{}};return e.volumeBase!==t.volumeBase||!o.a.are_equal_shallow(e.close&&e.close.base,t.close&&t.close.base)||!o.a.are_equal_shallow(e.close&&e.close.quote,t.close&&t.close.quote)}},{key:"componentWillMount",value:function(){this._startUpdates(this.props)}},{key:"componentWillReceiveProps",value:function(e){h.is(e.toAsset,this.props.toAsset)||(this._stopUpdates(),this._startUpdates(e))}},{key:"_startUpdates",value:function(e){var t=this,r=e.coreAsset,n=e.fromAssets,o=e.fromAsset;r&&(!n&&o&&(n=[o]),n.forEach(function(e){e&&e.get("id")!==r.get("id")&&setTimeout(function(){p.a.getMarketStats(r,e),t.fromStatsIntervals[e.get("id")]=setInterval(p.a.getMarketStats.bind(t,r,e),3e5)},50)}),e.toAsset.get("id")!==r.get("id")&&(p.a.getMarketStats.defer(r,e.toAsset),this.toStatsInterval=setInterval(function(){p.a.getMarketStats.defer(r,e.toAsset)},3e5)))}},{key:"_stopUpdates",value:function(){for(var e in this.fromStatsIntervals)clearInterval(this.fromStatsIntervals[e]);clearInterval(this.toStatsInterval)}},{key:"componentWillUnmount",value:function(){this._stopUpdates()}},{key:"shouldComponentUpdate",value:function(e){var t=this,r=this.props,n=r.fromAsset,o=r.fromAssets,a=e.toAsset.get("symbol")+"_"+e.coreAsset.get("symbol");!o&&n&&(o=[n]);var s=o.map(function(t){return t?t.get("symbol")+"_"+e.coreAsset.get("symbol"):null}).filter(function(e){return!!e}).reduce(function(r,n){return r||t._checkStats(e.marketStats.get(n),t.props.marketStats.get(n))},!1);return this._checkStats(e.marketStats.get(a),this.props.marketStats.get(a))||s}}]),t}(),g=((O=function(e){function t(e){return d(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return v(t,y),b(t,[{key:"getFinalPrice",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.props,r=t.coreAsset,n=t.fromAsset,o=t.toAsset,a=t.marketStats,s=o.get("symbol")+"_"+r.get("symbol"),i=n.get("symbol")+"_"+r.get("symbol"),l=void 0,c=void 0;if(a.get(i)&&a.get(i).price&&(c=a.get(i).price.clone()),a.get(s)&&a.get(s).price&&(l=a.get(s).price.clone()),o.get("id")===n.get("id"))return 1;var u=void 0;if(l&&c?u=l.times(c):l?u=l:c&&(u=c),!u)return null;var p=u.base.asset_id+"_"+u.quote.asset_id;return-1===p.indexOf(o.get("id"))||-1===p.indexOf(n.get("id"))?null:e?u.toReal():u}},{key:"render",value:function(){var e=this.props,t=e.toAsset,r=e.forceDirection,o=_(e,["toAsset","forceDirection"]),a=this.getFinalPrice();return 1===a?n.createElement("span",null,"1.00"):a?n.createElement(u.a,Object.assign({force_direction:!!r&&t.get("symbol"),base_amount:a.base.amount,base_asset:a.base.asset_id,quote_amount:a.quote.amount,quote_asset:a.quote.asset_id},o)):n.createElement("span",null,"--")}}]),t}()).propTypes={toAsset:a.a.ChainAsset.isRequired,fromAsset:a.a.ChainAsset.isRequired,coreAsset:a.a.ChainAsset.isRequired},O.defaultProps={toAsset:"1.3.0",coreAsset:"1.3.0",forceDirection:!0},O);g=Object(s.a)(g);var O,j=function(e){function t(){return d(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return v(t,n["Component"]),b(t,[{key:"render",value:function(){var e=this;return n.createElement(l.a,{stores:[c.b,f.a],inject:{toAsset:function(){return e.props.toAsset||c.b.getState().settings.get("unit","1.3.0")},marketStats:function(){return f.a.getState().allMarketStats}}},n.createElement(g,Object.assign({},this.props,{ref:this.props.refCallback})))}}]),t}();t.b=j},291:function(e,t,r){"use strict";var n=r(0),o=(r(3),r(13)),a=r.n(o),s=r(464),i=r.n(s),l=r(93);t.a=function(e){var t=e.className,r=void 0===t?"button":t,o=e.text,s=void 0===o?"":o,c=e.tip,u=void 0===c?"tooltip.copy_tip":c,p=e.dataPlace,f=void 0===p?"right":p,h=e.buttonIcon,b=void 0===h?"clippy":h,d=e.buttonText,m=void 0===d?"":d;return n.createElement(i.a,{"data-clipboard-text":s,className:r,"data-place":f,"data-tip":a.a.translate(u)},m||n.createElement(l.a,{name:b}))}},296:function(e,t,r){"use strict";var n=r(0),o=r(3),a=r(80),s=r(19),i=r(40),l=r(17),c=r(1),u=r(16),p=r(122),f=r(8),h=r(5),b=r(2),d=r.n(b),m=r(13),v=r.n(m),_=r(290),y=r(121),g=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function O(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function k(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var w=((A=function(e){function t(e){return O(this,t),j(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return k(t,_["a"]),g(t,[{key:"shouldComponentUpdate",value:function(e){return function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,r,n)}if("value"in o)return o.value;var s=o.get;return void 0!==s?s.call(n):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"shouldComponentUpdate",this).call(this,e)||!l.a.are_equal_shallow(e.fromAssets,this.props.fromAssets)||e.toAsset!==this.props.toAsset||!l.a.are_equal_shallow(e.balances,this.props.balances)||!l.a.are_equal_shallow(e.openOrders,this.props.openOrders)||!l.a.are_equal_shallow(e.collateral,this.props.collateral)||!l.a.are_equal_shallow(e.debt,this.props.debt)}},{key:"_convertValue",value:function(e,t,r,n,o){if(!t||!r)return 0;var a=r.get("id"),s=r.get("symbol"),i=t.get("id"),c=t.get("symbol");if(o&&n){var u=o.get("symbol");n.get(s+"_"+u),n.get(c+"_"+u)}var p="1.3.0"===i&&"1.3.0"===a?l.a.convertPrice(t,r,i,a):(n.get(c+"_"+s)||{}).price||null;return p?l.a.convertValue(p,e,t,r):0}},{key:"_assetValues",value:function(e,t,r){return e[r]?e[r]+=t:e[r]=t,e}},{key:"render",value:function(){var e=this,t=this.props,r=t.fromAssets,o=t.toAsset,s=t.balances,i=t.marketStats,u=t.collateral,p=t.debt,f=t.openOrders,h=t.inHeader,b=c.b.getAsset("1.3.0");if(!b||!o)return null;var m={};r.filter(function(e){return e&&!Object(y.a)(e.get("symbol"))}).forEach(function(e){e&&(m[e.get("id")]=e)});var _=0,g={};for(var O in u){var j=m[O],k=c.b.getAsset(j);if(k&&!Object(y.a)(k.get("symbol"))&&j){var w=this._convertValue(u[O],j,o,i,b);_+=w,g=this._assetValues(g,w,j.get("id"))}}for(var E in f){var P=m[E];if(P){var A=P.get?P:c.b.getAsset(P);if(A&&!Object(y.a)(A.get("symbol"))&&P){var C=this._convertValue(f[E],P,o,i,b);_+=C,g=this._assetValues(g,C,P.get("id"))}}}for(var S in p){var x=m[S];if(x){var q=c.b.getAsset(x);if(q&&!Object(y.a)(q.get("symbol"))&&x){var T=this._convertValue(p[S],x,o,i,b);_-=T,g=this._assetValues(g,-T,x.get("id"))}}}s.forEach(function(t){var r=m[t.asset_id];if(r){var n=c.b.getAsset(t.asset_id);if(n&&!Object(y.a)(n.get("symbol"))&&r){var a=r!==o?e._convertValue(t.amount,r,o,i,b):t.amount;_+=a,g=e._assetValues(g,a,r.get("id"))}}});var I=!1;for(var N in g)if(m[N]&&g[N]&&Math.abs(l.a.get_asset_amount(g[N],o))<100){I=!0;break}var R=!1,D="<table><tbody>";for(var M in g)if(m[M]&&g[M]){var L=l.a.replaceName(m[M].get("symbol")).name,U=l.a.get_asset_amount(g[M],o);U?U<1e-12&&U>-1e-12?(U="**",R=!0):U=I?U>=0&&U<.01?"<0.01":U<0&&U>-.01?"-0.01<":l.a.format_number(U,2):U>=0&&U<1?"<1":U<0&&U>-.01?"-1<":l.a.format_number(U,0):(U="**",R=!0),D+="<tr><td>"+L+':&nbsp;</td><td style="text-align: right;">'+U+" "+o.get("symbol")+"</td></tr>"}return R&&(D+='<tr><td>&nbsp;</td><td style="text-align: right;">** no data</td></tr>'),D+='<tr><td colSpan="2">&nbsp;</td></tr>',D+='<tr><td colSpan="2">'+v.a.translate("account.total_estimate")+"</td></tr>",D+="</tbody></table>",h?n.createElement("div",{className:"tooltip inline-block","data-tip":D,"data-place":"bottom","data-html":!0},this.props.label?n.createElement("span",{className:"font-secondary"},n.createElement(d.a,{content:this.props.label}),":"," "):null,n.createElement(a.a,{noTip:!0,noPrefix:!0,hide_asset:this.props.hide_asset,amount:_,asset:o.get("id"),decimalOffset:-1===o.get("symbol").indexOf("BTC")?o.get("precision")-2:4})):n.createElement("span",null,this.props.label?n.createElement("span",{className:"font-secondary"},n.createElement(d.a,{content:this.props.label}),":"," "):null,n.createElement(a.a,{noTip:this.props.noTip,noPrefix:!0,hide_asset:this.props.hide_asset,amount:_,asset:o.get("id"),decimalOffset:-1===o.get("symbol").indexOf("BTC")?o.get("precision")-2:4}))}}]),t}()).propTypes={fromAssets:s.a.ChainAssetsList.isRequired,toAsset:s.a.ChainAsset.isRequired,coreAsset:s.a.ChainAsset.isRequired,inHeader:o.bool,label:o.string},A.defaultProps={inHeader:!1,label:"",coreAsset:"1.3.0"},A);w=Object(i.a)(w,{keep_updating:!0});var E=function(e){function t(){return O(this,t),j(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return k(t,n["Component"]),g(t,[{key:"render",value:function(){var e=this.props.settings.get("unit")||"1.3.0";return n.createElement(w,Object.assign({},this.props,{toAsset:e}))}}]),t}();E=Object(u.connect)(E,{listenTo:function(){return[p.a,f.b]},getProps:function(){return{marketStats:p.a.getState().allMarketStats,settings:f.b.getState().settings}}});var P=((C=function(e){function t(){return O(this,t),j(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return k(t,n["Component"]),g(t,[{key:"render",value:function(){var e=this.props,t=e.balances,r=e.collateral,o=e.debt,a=e.openOrders,s=e.inHeader,i=Object(h.List)(),l=[];for(var c in t.forEach(function(e){e&&(i=i.push(e.get("asset_type")),l.push({asset_id:e.get("asset_type"),amount:parseInt(e.get("balance"),10)}))}),r)i.has(c)||(i=i.push(c));for(var u in o)i.has(u)||(i=i.push(u));for(var p in a)i.has(p)||(i=i.push(p));return n.createElement(E,{label:this.props.label,hide_asset:this.props.hide_asset,noTip:this.props.noTip,inHeader:s,balances:l,openOrders:a,debt:o,collateral:r,fromAssets:i})}}]),t}()).propTypes={balances:s.a.ChainObjectsList},C.defaultProps={collateral:{},debt:{},openOrders:{}},C);P=Object(i.a)(P,{keep_updating:!0});var A,C,S,x=((S=function(e){function t(){return O(this,t),j(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return k(t,n["Component"]),g(t,[{key:"shouldComponentUpdate",value:function(e){return!l.a.are_equal_shallow(e.accounts,this.props.accounts)}},{key:"render",value:function(){var e=Object(h.List)(),t={},r={},o={};return this.props.accounts.forEach(function(n){if(n){n.get("orders")&&n.get("orders").forEach(function(e,t){var r=c.b.getObject(e);if(r){var n=r.getIn(["sell_price","base","asset_id"]);o[n]?o[n]+=parseInt(r.get("for_sale"),10):o[n]=parseInt(r.get("for_sale"),10)}}),n.get("call_orders")&&n.get("call_orders").forEach(function(e,n){var o=c.b.getObject(e);if(o){var a=o.getIn(["call_price","base","asset_id"]);t[a]?t[a]+=parseInt(o.get("collateral"),10):t[a]=parseInt(o.get("collateral"),10);var s=o.getIn(["call_price","quote","asset_id"]);r[s]?r[s]+=parseInt(o.get("debt"),10):r[s]=parseInt(o.get("debt"),10)}});var a=n.get("balances");a&&a.forEach(function(t){var r=c.b.getObject(t);if(!r||!r.get("balance"))return null;e=e.push(t)})}}),e.size||Object.keys(o).length||Object.keys(r).length?n.createElement(P,{label:this.props.label,inHeader:this.props.inHeader,balances:e,openOrders:o,debt:r,collateral:t}):n.createElement("span",null," 0")}}]),t}()).propTypes={accounts:s.a.ChainAccountsList.isRequired},S);x=Object(i.a)(x,{keep_updating:!0}),P.AccountWrapper=x,t.a=P},40:function(e,t,r){"use strict";var n=r(0),o=r(23),a=r(1),s=r(19),i=r(17),l=r(52),c=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function u(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var b=function(e,t){return t[e]},d=Object(o.curry)(b)(0),m=Object(o.curry)(b)(1),v=Object(o.curry)(function(e,t){return t===e||t===e.isRequired}),_=v(s.a.ChainObject),y=v(s.a.ChainAccount),g=v(s.a.ChainKeyRefs),O=v(s.a.ChainAddressBalances),j=v(s.a.ChainAsset),k=v(s.a.ChainObjectsList),w=v(s.a.ChainAccountsList),E=v(s.a.ChainAssetsList);function P(e){for(var t in s.a){if(e===s.a[t].isRequired)return!0}return!1}function A(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(r){function s(r){p(this,s);var n=f(this,(s.__proto__||Object.getPrototypeOf(s)).call(this,r)),a=Object(o.pairs)(e.propTypes);for(var i in t&&t.all_props?(n.chain_objects=Object(o.reject)(Object.keys(n.props),function(e){return"children"===e||"keep_updating"===e||"show_loader"===e}),n.chain_accounts=[],n.chain_key_refs=[],n.chain_address_balances=[],n.chain_assets=[],n.chain_objects_list=[],n.chain_accounts_list=[],n.chain_assets_list=[],n.required_props=[],n.all_chain_props=n.chain_objects):(n.chain_objects=a.filter(Object(o.flow)(m,_)).map(d),n.chain_accounts=a.filter(Object(o.flow)(m,y)).map(d),n.chain_key_refs=a.filter(Object(o.flow)(m,g)).map(d),n.chain_address_balances=a.filter(Object(o.flow)(m,O)).map(d),n.chain_assets=a.filter(Object(o.flow)(m,j)).map(d),n.chain_objects_list=a.filter(Object(o.flow)(m,k)).map(d),n.chain_accounts_list=a.filter(Object(o.flow)(m,w)).map(d),n.chain_assets_list=a.filter(Object(o.flow)(m,E)).map(d),n.required_props=a.filter(Object(o.flow)(m,P)).map(d),n.all_chain_props=[].concat(u(n.chain_objects),u(n.chain_accounts),u(n.chain_key_refs),u(n.chain_address_balances),u(n.chain_assets),u(n.chain_objects_list))),t&&t.require_all_props&&(n.required_props=n.all_chain_props),n.dynamic_props={},n.default_props=Object(o.clone)(e.defaultProps)||{},n.default_props){var l=n.default_props[i];"string"==typeof l&&0===l.indexOf("props.")&&(n.dynamic_props[i]=Object(o.get)(n,l))}return n.tempComponent=e.defaultProps&&e.defaultProps.tempComponent||null,n.update=n.update.bind(n),n.state={resolved:!1},n}return h(s,n["Component"]),c(s,[{key:"shouldComponentUpdate",value:function(e,t){return!i.a.are_equal_shallow(this.props,e)||!i.a.are_equal_shallow(this.state,t)}},{key:"componentWillMount",value:function(){a.b.subscribe(this.update),this.update()}},{key:"componentWillUnmount",value:function(){a.b.unsubscribe(this.update)}},{key:"componentWillReceiveProps",value:function(e){t&&t.all_props&&(this.chain_objects=Object(o.reject)(Object.keys(e),function(e){return"children"===e||"keep_updating"===e||"show_loader"===e}),this.all_chain_props=this.chain_objects,this.state=Object(o.pick)(this.state,this.chain_objects));var r=null;for(var n in this.dynamic_props){var a=this.default_props[n];r||(r={props:e});var s=Object(o.get)(this,a),i=Object(o.get)(r,a);i&&i!==s&&(this.dynamic_props[n]=Object(o.get)(r,a))}this.update(e)}},{key:"update",value:function(){var e=this,t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)||this.props,r={},n=0,o=0,s=!0,i=!1,l=void 0;try{for(var c,u=this.chain_objects[Symbol.iterator]();!(s=(c=u.next()).done);s=!0){var p=c.value,f=t[p]||this.dynamic_props[p]||this.default_props[p];if(f){var h=a.b.getObject(f,!1,this.default_props.autosubscribe);void 0===h&&-1===this.required_props.indexOf(p)&&h!==this.state[p]?r[p]=h:h&&h!==this.state[p]&&(r[p]=h),++n,void 0!==h&&++o}else this.state[p]&&(r[p]=null)}}catch(e){i=!0,l=e}finally{try{!s&&u.return&&u.return()}finally{if(i)throw l}}var b=!0,d=!1,m=void 0;try{for(var v,_=this.chain_accounts[Symbol.iterator]();!(b=(v=_.next()).done);b=!0){var y=v.value,g=t[y]||this.dynamic_props[y]||this.default_props[y];if(g){"#"===g[0]&&Number.parseInt(g.substring(1))&&(g="1.2."+g.substring(1));var O=a.b.getAccount(g,this.default_props.autosubscribe);void 0===O&&-1===this.required_props.indexOf(y)&&O!==this.state[y]?r[y]=O:O&&O!==this.state[y]&&(r[y]=O),++n,void 0!==O&&++o}else this.state[y]&&(r[y]=null)}}catch(e){d=!0,m=e}finally{try{!b&&_.return&&_.return()}finally{if(d)throw m}}var j=!0,k=!1,w=void 0;try{for(var E,P=this.chain_key_refs[Symbol.iterator]();!(j=(E=P.next()).done);j=!0){var A=E.value,C=t[A]||this.dynamic_prop[A]||this.default_props[A];if(C){var S=a.b.getAccountRefsOfKey(C);void 0===S&&-1===this.required_props.indexOf(A)&&S!==this.state[A]?r[A]=S:S&&S!==this.state[A]&&(r[A]=S),++n,void 0!==S&&++o}else this.state[A]&&(r[A]=null)}}catch(e){k=!0,w=e}finally{try{!j&&P.return&&P.return()}finally{if(k)throw w}}var x=!0,q=!1,T=void 0;try{for(var I,N=this.chain_address_balances[Symbol.iterator]();!(x=(I=N.next()).done);x=!0){var R=I.value,D=t[R]||this.dynamic_props[R]||this.default_props[R];if(D){var M=a.b.getBalanceObjects(D);void 0===M&&-1===this.required_props.indexOf(R)&&M!==this.state[R]?r[R]=M:M&&M!==this.state[R]&&(r[R]=M),++n,void 0!==M&&++o}else this.state[R]&&(r[R]=null)}}catch(e){q=!0,T=e}finally{try{!x&&N.return&&N.return()}finally{if(q)throw T}}var L=!0,U=!1,V=void 0;try{for(var W,F=this.chain_assets[Symbol.iterator]();!(L=(W=F.next()).done);L=!0){var B=W.value,H=t[B]||this.dynamic_props[B]||this.default_props[B];if(H){var Y=a.b.getAsset(H);void 0===Y&&-1===this.required_props.indexOf(B)&&Y!==this.state[B]?r[B]=Y:Y&&Y!==this.state[B]&&(r[B]=Y),++n,void 0!==Y&&++o}else this.state[B]&&(r[B]=null)}}catch(e){U=!0,V=e}finally{try{!L&&F.return&&F.return()}finally{if(U)throw V}}var z=!0,J=!1,K=void 0;try{for(var G,$=this.chain_objects_list[Symbol.iterator]();!(z=(G=$.next()).done);z=!0){var Q=G.value,X=t[Q]||this.dynamic_props[Q]||this.default_props[Q];X?function(){var t=e.state[Q],s=[],i=!1;t&&t.length===X.size||(t=[],i=!0);var l=0;X.forEach(function(r){if(++l,r){var c=a.b.getObject(r,!1,e.default_props.autosubscribe);c&&++o,t[l]!==c?(i=!0,s[l]=c):s[l]=t[l]}++n}),i&&(r[Q]=s)}():this.state[Q]&&(r[Q]=null)}}catch(e){J=!0,K=e}finally{try{!z&&$.return&&$.return()}finally{if(J)throw K}}var Z=!0,ee=!1,te=void 0;try{for(var re,ne=this.chain_accounts_list[Symbol.iterator]();!(Z=(re=ne.next()).done);Z=!0){var oe=re.value,ae=t[oe]||this.dynamic_props[oe]||this.default_props[oe];ae?function(){var t=e.state[oe],s=[],i=!1;t&&t.length===ae.size||(t=[],i=!0);var l=0;ae.forEach(function(r){if(r){var c=a.b.getAccount(r,e.default_props.autosubscribe);c&&++o,t[l]!==c?(i=!0,s[l]=c):s[l]=t[l]}++l,++n}),i&&(r[oe]=s)}():this.state[oe]&&(r[oe]=null)}}catch(e){ee=!0,te=e}finally{try{!Z&&ne.return&&ne.return()}finally{if(ee)throw te}}var se=!0,ie=!1,le=void 0;try{for(var ce,ue=this.chain_assets_list[Symbol.iterator]();!(se=(ce=ue.next()).done);se=!0){var pe=ce.value,fe=t[pe]||this.dynamic_props[pe]||this.default_props[pe];fe?function(){var t=e.state[pe],s=[],i=!1;t&&t.length===fe.size||(t=[],i=!0);var l=0;fe.forEach(function(e){if(++l,e){var r=a.b.getAsset(e);r&&++o,t[l]!==r?(i=!0,s[l]=r):s[l]=t[l]}++n}),i&&(r[pe]=s)}():this.state[pe]&&(r[pe]=null)}}catch(e){ie=!0,le=e}finally{try{!se&&ue.return&&ue.return()}finally{if(ie)throw le}}n<=o&&(r.resolved=!0),this.setState(r)}},{key:"componentName",value:function(){var t=e.toString();return t.substr(9,t.indexOf("(")-9)}},{key:"render",value:function(){var r=Object(o.omit)(this.props,this.all_chain_props),a=!0,s=!1,i=void 0;try{for(var c,u=this.required_props[Symbol.iterator]();!(a=(c=u.next()).done);a=!0){var p=c.value;if(!this.state[p])return void 0!==t&&t.show_loader?n.createElement(l.a,null):this.tempComponent?n.createElement(this.tempComponent):n.createElement("span",null)}}catch(e){s=!0,i=e}finally{try{!a&&u.return&&u.return()}finally{if(s)throw i}}return n.createElement(e,Object.assign({ref:"bound_component"},r,this.state))}}]),s}()}var C=function(e){function t(){return p(this,t),f(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return h(t,n["Component"]),c(t,[{key:"render",value:function(){return n.createElement("span",{className:"wrapper"},this.props.children(this.props))}}]),t}();C=A(C,{all_props:!0,require_all_props:!0}),A.Wrapper=C,t.a=A},455:function(e,t){e.exports={formats:{date:{full:{second:"numeric",minute:"numeric",hour:"numeric",day:"numeric",month:"long",year:"numeric"},short:{second:"numeric",minute:"numeric",hour:"numeric",day:"numeric",month:"numeric",year:"numeric"},time:{second:"numeric",minute:"numeric",hour:"numeric"}}}}},460:function(e,t,r){"use strict";r.d(t,"a",function(){return s});var n=r(0),o=r(82),a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var s=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.state={time:e.timeToCount},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n["Component"]),a(t,[{key:"componentDidMount",value:function(){var e=this;this.timer=setInterval(function(){e.setState(function(e){return{time:e.time-1}})},1e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.timer)}},{key:"render",value:function(){this.state.time;return n.createElement(o.c,Object.assign({},this.props,{disabled:this.state.time>0}),this.state.time>0&&this.state.time+"s ",this.props.children)}}]),t}()},80:function(e,t,r){"use strict";var n=r(0),o=r(3),a=r(73),s=r(17),i=r(187),l=r(19),c=r(40),u=r(225),p=r.n(u),f=r(288),h=r(154),b=r(1),d=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var m=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.state={isPopoverOpen:!1},r.togglePopover=r.togglePopover.bind(r),r.closePopover=r.closePopover.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n["Component"]),d(t,[{key:"togglePopover",value:function(e){e.preventDefault(),this.setState({isPopoverOpen:!this.state.isPopoverOpen})}},{key:"closePopover",value:function(){this.setState({isPopoverOpen:!1})}},{key:"render",value:function(){var e=this.props,t=e.amount,r=e.decimalOffset,o=e.color,l=e.asset,c=e.hide_asset,u=e.hide_amount,d=e.asPercentage;l&&l.toJS&&(l=l.toJS());var m=o?"facolor-"+o:"",v=s.a.get_asset_precision(l.precision),_=Math.max(0,l.precision-r);if(u&&(m+=" no-amount"),d){var y=parseInt(l.dynamic.current_supply,10),g=s.a.format_number(t/y*100,4);return n.createElement("span",{className:m},g,"%")}var O=b.b.getObject(l.issuer,!1,!1),j=O?O.get("name"):"",k=i.a.parseDescription(l.options.description),w=!c&&this.props.assetInfo&&n.createElement("div",null,n.createElement(f.a,{path:"assets/Asset",section:"summary",symbol:l.symbol,description:k.short_name?k.short_name:k.main,issuer:j}),this.props.assetInfo);return n.createElement("span",{className:m},u?null:n.createElement(a.b,{value:this.props.exact_amount?t:t/v,minimumFractionDigits:Math.max(_,0),maximumFractionDigits:Math.max(_,0)}),!c&&(this.props.assetInfo?n.createElement("span",null," ",n.createElement(p.a,{isOpen:this.state.isPopoverOpen,onOuterAction:this.closePopover,body:w},n.createElement("span",{className:"currency click-for-help",onClick:this.togglePopover},n.createElement(h.a,{name:l.symbol})))):n.createElement("span",{className:"currency",onClick:this.togglePopover}," ",n.createElement(h.a,{noTip:this.props.noTip,noPrefix:this.props.noPrefix,name:l.symbol,replace:this.props.replace}))))}}]),t}();m.propTypes={amount:o.any.isRequired,asset:l.a.ChainAsset.isRequired,exact_amount:o.bool,decimalOffset:o.number,color:o.string,hide_asset:o.bool,hide_amount:o.bool,asPercentage:o.bool,assetInfo:o.node},m.defaultProps={amount:0,decimalOffset:0,hide_asset:!1,hide_amount:!1,asPercentage:!1,assetInfo:null,replace:!0},m=Object(c.a)(m),t.a=m}}]);