(window.webpackJsonp=window.webpackJsonp||[]).push([[263,3],{1619:function(e,t,n){"use strict";function r(e){return["StringValue","BooleanValue","EnumValue"].indexOf(e.kind)>-1}function o(e){return["IntValue","FloatValue"].indexOf(e.kind)>-1}function a(e,t,n,r){if(function(e){return"IntValue"===e.kind}(n)||function(e){return"FloatValue"===e.kind}(n))e[t.value]=Number(n.value);else if(function(e){return"BooleanValue"===e.kind}(n)||function(e){return"StringValue"===e.kind}(n))e[t.value]=n.value;else if(function(e){return"ObjectValue"===e.kind}(n)){var o={};n.fields.map(function(e){return a(o,e.name,e.value,r)}),e[t.value]=o}else if(function(e){return"Variable"===e.kind}(n)){var i=(r||{})[n.name.value];e[t.value]=i}else if(function(e){return"ListValue"===e.kind}(n))e[t.value]=n.values.map(function(e){var n={};return a(n,t,e,r),n[t.value]});else{if(!function(e){return"EnumValue"===e.kind}(n))throw new Error('The inline argument "'+t.value+'" of kind "'+n.kind+'" is not supported.\n                    Use variables instead of inline arguments to overcome this limitation.');e[t.value]=n.value}}function i(e,t){var n=null;e.directives&&(n={},e.directives.forEach(function(e){n[e.name.value]={},e.arguments&&e.arguments.forEach(function(r){var o=r.name,i=r.value;return a(n[e.name.value],o,i,t)})}));var r=null;return e.arguments&&e.arguments.length&&(r={},e.arguments.forEach(function(e){var n=e.name,o=e.value;return a(r,n,o,t)})),s(e.name.value,r,n)}function s(e,t,n){if(n&&n.connection&&n.connection.key){if(n.connection.filter&&n.connection.filter.length>0){var r=n.connection.filter?n.connection.filter:[];r.sort();var o=t,a={};return r.forEach(function(e){a[e]=o[e]}),n.connection.key+"("+JSON.stringify(a)+")"}return n.connection.key}return t?e+"("+JSON.stringify(t)+")":e}function l(e,t){if(e.arguments&&e.arguments.length){var n={};return e.arguments.forEach(function(e){var r=e.name,o=e.value;return a(n,r,o,t)}),n}return null}function c(e){return e.alias?e.alias.value:e.name.value}function u(e){return"Field"===e.kind}function p(e){return"InlineFragment"===e.kind}function f(e){return e&&"id"===e.type}function d(e,t){return void 0===t&&(t=!1),{type:"id",id:e,generated:t}}function h(e){return null!=e&&"object"==typeof e&&"json"===e.type}function m(e){throw new Error("Variable nodes are not supported by valueFromNode")}function y(e,t){switch(void 0===t&&(t=m),e.kind){case"Variable":return t(e);case"NullValue":return null;case"IntValue":return parseInt(e.value);case"FloatValue":return parseFloat(e.value);case"ListValue":return e.values.map(function(e){return y(e,t)});case"ObjectValue":for(var n={},r=0,o=e.fields;r<o.length;r++){var a=o[r];n[a.name.value]=y(a.value,t)}return n;default:return e.value}}function b(e,t){if(e.directives&&e.directives.length){var n={};return e.directives.forEach(function(e){n[e.name.value]=l(e,t)}),n}return null}function v(e,t){if(void 0===t&&(t={}),!e.directives)return!0;var n=!0;return e.directives.forEach(function(e){if("skip"===e.name.value||"include"===e.name.value){var r=e.arguments||[],o=e.name.value;if(1!==r.length)throw new Error("Incorrect number of arguments for the @"+o+" directive.");var a=r[0];if(!a.name||"if"!==a.name.value)throw new Error("Invalid argument for the @"+o+" directive.");var i=r[0].value,s=!1;if(i&&"BooleanValue"===i.kind)s=i.value;else{if("Variable"!==i.kind)throw new Error("Argument for the @"+o+" directive must be a variable or a bool ean value.");if(void 0===(s=t[i.name.value]))throw new Error("Invalid variable referenced in @"+o+" directive.")}"skip"===o&&(s=!s),s||(n=!1)}}),n}function g(e){return e.selectionSet&&e.selectionSet.selections.length>0?[e].concat(e.selectionSet.selections.map(function(e){return[e].concat(g(e))}).reduce(function(e,t){return e.concat(t)},[])):[e]}var k=new Map;function w(e){var t=k.get(e);if(t)return t;var n=e.definitions.filter(function(e){return e.selectionSet&&e.selectionSet.selections}).map(function(e){return g(e)}).reduce(function(e,t){return e.concat(t)},[]).filter(function(e){return e.directives&&e.directives.length>0}).map(function(e){return e.directives}).reduce(function(e,t){return e.concat(t)},[]).map(function(e){return e.name.value});return k.set(e,n),n}function E(e,t){return w(t).some(function(t){return e.indexOf(t)>-1})}var S=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e};function O(e,t){var n=t,r=[];if(e.definitions.forEach(function(e){if("OperationDefinition"===e.kind)throw new Error("Found a "+e.operation+" operation"+(e.name?" named '"+e.name.value+"'":"")+". No operations are allowed when using a fragment as a query. Only fragments are allowed.");"FragmentDefinition"===e.kind&&r.push(e)}),void 0===n){if(1!==r.length)throw new Error("Found "+r.length+" fragments. `fragmentName` must be provided when there is not exactly 1 fragment.");n=r[0].name.value}return S({},e,{definitions:[{kind:"OperationDefinition",operation:"query",selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:n}}]}}].concat(e.definitions)})}function _(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.forEach(function(t){void 0!==t&&null!==t&&Object.keys(t).forEach(function(n){e[n]=t[n]})}),e}function C(e){x(e);var t=e.definitions.filter(function(e){return"OperationDefinition"===e.kind&&"mutation"===e.operation})[0];if(!t)throw new Error("Must contain a mutation definition.");return t}function x(e){if("Document"!==e.kind)throw new Error('Expecting a parsed GraphQL document. Perhaps you need to wrap the query string in a "gql" tag? http://docs.apollostack.com/apollo-client/core.html#gql');var t=e.definitions.filter(function(e){return"FragmentDefinition"!==e.kind}).map(function(e){if("OperationDefinition"!==e.kind)throw new Error('Schema type definitions not allowed in queries. Found: "'+e.kind+'"');return e});if(t.length>1)throw new Error("Ambiguous GraphQL document: contains "+t.length+" operations")}function P(e){return x(e),e.definitions.filter(function(e){return"OperationDefinition"===e.kind})[0]}function A(e){var t=P(e);if(!t)throw new Error("GraphQL document is missing an operation");return t}function T(e){return e.definitions.filter(function(e){return"OperationDefinition"===e.kind&&e.name}).map(function(e){return e.name.value})[0]||null}function D(e){return e.definitions.filter(function(e){return"FragmentDefinition"===e.kind})}function j(e){var t=P(e);if(!t||"query"!==t.operation)throw new Error("Must contain a query definition.");return t}function R(e){if("Document"!==e.kind)throw new Error('Expecting a parsed GraphQL document. Perhaps you need to wrap the query string in a "gql" tag? http://docs.apollostack.com/apollo-client/core.html#gql');if(e.definitions.length>1)throw new Error("Fragment must have exactly one definition.");var t=e.definitions[0];if("FragmentDefinition"!==t.kind)throw new Error("Must be a fragment definition.");return t}function F(e){var t;x(e);for(var n=0,r=e.definitions;n<r.length;n++){var o=r[n];if("OperationDefinition"===o.kind){var a=o.operation;if("query"===a||"mutation"===a||"subscription"===a)return o}"FragmentDefinition"!==o.kind||t||(t=o)}if(t)return t;throw new Error("Expected a parsed GraphQL query with a query, mutation, subscription, or a fragment.")}function N(e){void 0===e&&(e=[]);var t={};return e.forEach(function(e){t[e.name.value]=e}),t}function q(e){if(e&&e.variableDefinitions&&e.variableDefinitions.length){var t=e.variableDefinitions.filter(function(e){return e.defaultValue}).map(function(e){var t=e.variable,n=e.defaultValue,r={};return a(r,t.name,n),r});return _.apply(void 0,[{}].concat(t))}return{}}function I(e){var t=new Set;if(e.variableDefinitions)for(var n=0,r=e.variableDefinitions;n<r.length;n++){var o=r[n];t.add(o.variable.name.value)}return t}function M(e){if(Array.isArray(e))return e.map(function(e){return M(e)});if(null!==e&&"object"==typeof e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=M(e[n]));return t}return e}var L={kind:"Field",name:{kind:"Name",value:"__typename"}};function B(e,t){var n=M(t);n.definitions.forEach(function(t){!function e(t,n){if(!n.selections)return n;var r=t.some(function(e){return e.remove});return n.selections=n.selections.map(function(e){return"Field"===e.kind&&e&&e.directives?(e.directives=e.directives.filter(function(e){var o=!t.some(function(t){return!(!t.name||t.name!==e.name.value)||!(!t.test||!t.test(e))});return n||o||!r||(n=!0),o}),n?null:e):e;var n}).filter(function(e){return!!e}),n.selections.forEach(function(n){"Field"!==n.kind&&"InlineFragment"!==n.kind||!n.selectionSet||e(t,n.selectionSet)}),n}(e,t.selectionSet)});var r=A(n),o=N(D(n)),a=function(e){return e.selectionSet.selections.filter(function(e){return!(e&&"FragmentSpread"===e.kind&&!a(o[e.name.value]))}).length>0};return a(r)?n:null}var V=new Map;function W(e){x(e);var t=V.get(e);if(t)return t;var n=M(e);return n.definitions.forEach(function(e){var t="OperationDefinition"===e.kind;!function e(t,n){void 0===n&&(n=!1),t.selections&&(n||t.selections.some(function(e){return"Field"===e.kind&&"__typename"===e.name.value})||t.selections.push(L),t.selections.forEach(function(t){"Field"===t.kind?0!==t.name.value.lastIndexOf("__",0)&&t.selectionSet&&e(t.selectionSet):"InlineFragment"===t.kind&&t.selectionSet&&e(t.selectionSet)}))}(e.selectionSet,t)}),V.set(e,n),n}var H={test:function(e){var t="connection"===e.name.value;return t&&(e.arguments&&e.arguments.some(function(e){return"key"===e.name.value})||console.warn("Removing an @connection directive even though it does not have a key. You may want to use the key parameter to specify a store key.")),t}},z=new Map;function U(e){x(e);var t=z.get(e);if(t)return t;var n=B([H],e);return z.set(e,n),n}var Y=n(1627);function G(e){try{return e()}catch(e){console.error&&console.error(e)}}function Q(e){return e.errors&&e.errors.length}function X(e,t){if(e===t)return!0;if(e instanceof Date&&t instanceof Date)return e.getTime()===t.getTime();if(null!=e&&"object"==typeof e&&null!=t&&"object"==typeof t){for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(!Object.prototype.hasOwnProperty.call(t,n))return!1;if(!X(e[n],t[n]))return!1}for(var n in t)if(!Object.prototype.hasOwnProperty.call(e,n))return!1;return!0}return!1}function J(e){return Object(Y.a)()||Object(Y.c)()?function e(t){return Object.freeze(t),Object.getOwnPropertyNames(t).forEach(function(n){!t.hasOwnProperty(n)||null===t[n]||"object"!=typeof t[n]&&"function"!=typeof t[n]||Object.isFrozen(t[n])||e(t[n])}),t}(e):e}var K=Object.create({});function Z(e,t){if(void 0===t&&(t="warn"),!Object(Y.b)()&&!K[e])switch(Object(Y.c)()||(K[e]=!0),t){case"error":console.error(e);break;default:console.warn(e)}}n.d(t,"f",function(){return b}),n.d(t,"A",function(){return v}),n.d(t,!1,function(){return g}),n.d(t,!1,function(){return w}),n.d(t,"p",function(){return E}),n.d(t,"h",function(){return O}),n.d(t,"j",function(){return C}),n.d(t,!1,function(){return x}),n.d(t,"k",function(){return P}),n.d(t,!1,function(){return A}),n.d(t,"l",function(){return T}),n.d(t,"g",function(){return D}),n.d(t,"m",function(){return j}),n.d(t,!1,function(){return R}),n.d(t,"i",function(){return F}),n.d(t,"d",function(){return N}),n.d(t,"e",function(){return q}),n.d(t,!1,function(){return I}),n.d(t,!1,function(){return B}),n.d(t,"a",function(){return W}),n.d(t,"y",function(){return U}),n.d(t,!1,function(){return r}),n.d(t,!1,function(){return o}),n.d(t,!1,function(){return a}),n.d(t,"B",function(){return i}),n.d(t,"n",function(){return s}),n.d(t,"b",function(){return l}),n.d(t,"z",function(){return c}),n.d(t,"r",function(){return u}),n.d(t,"t",function(){return p}),n.d(t,"s",function(){return f}),n.d(t,!1,function(){return d}),n.d(t,"u",function(){return h}),n.d(t,!1,function(){return y}),n.d(t,"c",function(){return _}),n.d(t,!1,function(){return M}),n.d(t,!1,function(){}),n.d(t,!1,function(){}),n.d(t,"v",function(){return Y.b}),n.d(t,!1,function(){return Y.a}),n.d(t,"w",function(){return Y.c}),n.d(t,"C",function(){return G}),n.d(t,"o",function(){return Q}),n.d(t,"q",function(){return X}),n.d(t,"x",function(){return J}),n.d(t,"D",function(){return Z})},1621:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.print=function(e){return(0,r.visit)(e,{leave:o})};var r=n(1672);var o={Name:function(e){return e.value},Variable:function(e){return"$"+e.name},Document:function(e){return a(e.definitions,"\n\n")+"\n"},OperationDefinition:function(e){var t=e.operation,n=e.name,r=s("(",a(e.variableDefinitions,", "),")"),o=a(e.directives," "),i=e.selectionSet;return n||o||r||"query"!==t?a([t,a([n,r]),o,i]," "):i},VariableDefinition:function(e){return e.variable+": "+e.type+s(" = ",e.defaultValue)},SelectionSet:function(e){return i(e.selections)},Field:function(e){var t=e.alias,n=e.name,r=e.arguments,o=e.directives,i=e.selectionSet;return a([s("",t,": ")+n+s("(",a(r,", "),")"),a(o," "),i]," ")},Argument:function(e){return e.name+": "+e.value},FragmentSpread:function(e){return"..."+e.name+s(" ",a(e.directives," "))},InlineFragment:function(e){var t=e.typeCondition,n=e.directives,r=e.selectionSet;return a(["...",s("on ",t),a(n," "),r]," ")},FragmentDefinition:function(e){var t=e.name,n=e.typeCondition,r=e.variableDefinitions,o=e.directives,i=e.selectionSet;return"fragment "+t+s("(",a(r,", "),")")+" on "+n+" "+s("",a(o," ")," ")+i},IntValue:function(e){return e.value},FloatValue:function(e){return e.value},StringValue:function(e,t){var n=e.value;return e.block?function(e,t){return" "!==e[0]&&"\t"!==e[0]||-1!==e.indexOf("\n")?t?'"""\n'+e.replace(/"""/g,'\\"""')+'\n"""':l('"""\n'+e.replace(/"""/g,'\\"""'))+'\n"""':'"""'+e.replace(/"""/g,'\\"""')+'"""'}(n,"description"===t):JSON.stringify(n)},BooleanValue:function(e){var t=e.value;return JSON.stringify(t)},NullValue:function(){return"null"},EnumValue:function(e){return e.value},ListValue:function(e){return"["+a(e.values,", ")+"]"},ObjectValue:function(e){return"{"+a(e.fields,", ")+"}"},ObjectField:function(e){return e.name+": "+e.value},Directive:function(e){return"@"+e.name+s("(",a(e.arguments,", "),")")},NamedType:function(e){return e.name},ListType:function(e){return"["+e.type+"]"},NonNullType:function(e){return e.type+"!"},SchemaDefinition:function(e){var t=e.directives,n=e.operationTypes;return a(["schema",a(t," "),i(n)]," ")},OperationTypeDefinition:function(e){return e.operation+": "+e.type},ScalarTypeDefinition:function(e){return a([e.description,a(["scalar",e.name,a(e.directives," ")]," ")],"\n")},ObjectTypeDefinition:function(e){var t=e.description,n=e.name,r=e.interfaces,o=e.directives,l=e.fields;return a([t,a(["type",n,s("implements ",a(r,", ")),a(o," "),i(l)]," ")],"\n")},FieldDefinition:function(e){var t=e.description,n=e.name,r=e.arguments,o=e.type,i=e.directives;return a([t,n+s("(",a(r,", "),")")+": "+o+s(" ",a(i," "))],"\n")},InputValueDefinition:function(e){var t=e.description,n=e.name,r=e.type,o=e.defaultValue,i=e.directives;return a([t,a([n+": "+r,s("= ",o),a(i," ")]," ")],"\n")},InterfaceTypeDefinition:function(e){var t=e.description,n=e.name,r=e.directives,o=e.fields;return a([t,a(["interface",n,a(r," "),i(o)]," ")],"\n")},UnionTypeDefinition:function(e){var t=e.description,n=e.name,r=e.directives,o=e.types;return a([t,a(["union",n,a(r," "),o&&0!==o.length?"= "+a(o," | "):""]," ")],"\n")},EnumTypeDefinition:function(e){var t=e.description,n=e.name,r=e.directives,o=e.values;return a([t,a(["enum",n,a(r," "),i(o)]," ")],"\n")},EnumValueDefinition:function(e){return a([e.description,a([e.name,a(e.directives," ")]," ")],"\n")},InputObjectTypeDefinition:function(e){var t=e.description,n=e.name,r=e.directives,o=e.fields;return a([t,a(["input",n,a(r," "),i(o)]," ")],"\n")},ScalarTypeExtension:function(e){return a(["extend scalar",e.name,a(e.directives," ")]," ")},ObjectTypeExtension:function(e){var t=e.name,n=e.interfaces,r=e.directives,o=e.fields;return a(["extend type",t,s("implements ",a(n,", ")),a(r," "),i(o)]," ")},InterfaceTypeExtension:function(e){var t=e.name,n=e.directives,r=e.fields;return a(["extend interface",t,a(n," "),i(r)]," ")},UnionTypeExtension:function(e){var t=e.name,n=e.directives,r=e.types;return a(["extend union",t,a(n," "),r&&0!==r.length?"= "+a(r," | "):""]," ")},EnumTypeExtension:function(e){var t=e.name,n=e.directives,r=e.values;return a(["extend enum",t,a(n," "),i(r)]," ")},InputObjectTypeExtension:function(e){var t=e.name,n=e.directives,r=e.fields;return a(["extend input",t,a(n," "),i(r)]," ")},DirectiveDefinition:function(e){var t=e.description,n=e.name,r=e.arguments,o=e.locations;return a([t,"directive @"+n+s("(",a(r,", "),")")+" on "+a(o," | ")],"\n")}};function a(e,t){return e?e.filter(function(e){return e}).join(t||""):""}function i(e){return e&&0!==e.length?l("{\n"+a(e,"\n"))+"\n}":""}function s(e,t,n){return t?e+t+(n||""):""}function l(e){return e&&e.replace(/\n/g,"\n  ")}},1622:function(e,t,n){"use strict";var r=n(1626),o=n(1619),a=n(1621),i=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e};var l=function(e){function t(t,n){var r=e.call(this,t)||this;return r.link=n,r}return i(t,e),t}(Error);function c(e){return e.request.length<=1}function u(e){var t=!1;return new Promise(function(n,r){e.subscribe({next:function(e){t?console.warn("Promise Wrapper does not support multiple results from Observable"):(t=!0,n(e))},error:r})})}var p=u;function f(e){return new r(function(t){e.then(function(e){t.next(e),t.complete()}).catch(t.error.bind(t))})}function d(e,t){var n=s({},e);return Object.defineProperty(t,"setContext",{enumerable:!1,value:function(e){n=s({},n,"function"==typeof e?e(n):e)}}),Object.defineProperty(t,"getContext",{enumerable:!1,value:function(){return s({},n)}}),Object.defineProperty(t,"toKey",{enumerable:!1,value:function(){return function(e){return Object(a.print)(e.query)+"|"+JSON.stringify(e.variables)+"|"+e.operationName}(t)}}),t}var h=function(e,t){return t?t(e):r.of()},m=function(e){return"function"==typeof e?new k(e):e},y=function(){return new k(function(e,t){return r.of()})},b=function(e){return 0===e.length?y():e.map(m).reduce(function(e,t){return e.concat(t)})},v=function(e,t,n){void 0===n&&(n=new k(h));var o=m(t),a=m(n);return c(o)&&c(a)?new k(function(t){return e(t)?o.request(t)||r.of():a.request(t)||r.of()}):new k(function(t,n){return e(t)?o.request(t,n)||r.of():a.request(t,n)||r.of()})},g=function(e,t){var n=m(e);if(c(n))return console.warn(new l("You are calling concat on a terminating link, which will have no effect",n)),n;var o=m(t);return c(o)?new k(function(e){return n.request(e,function(e){return o.request(e)||r.of()})||r.of()}):new k(function(e,t){return n.request(e,function(e){return o.request(e,t)||r.of()})||r.of()})},k=function(){function e(e){e&&(this.request=e)}return e.prototype.split=function(t,n,r){return void 0===r&&(r=new e(h)),this.concat(v(t,n,r))},e.prototype.concat=function(e){return g(this,e)},e.prototype.request=function(e,t){throw new Error("request is not implemented")},e.empty=y,e.from=b,e.split=v,e}();function w(e,t){return e.request(d(t.context,function(e){var t={variables:e.variables||{},extensions:e.extensions||{},operationName:e.operationName,query:e.query};return t.operationName||(t.operationName="string"!=typeof t.query?Object(o.l)(t.query):""),t}(function(e){for(var t=["query","operationName","variables","extensions","context"],n=0,r=Object.keys(e);n<r.length;n++){var o=r[n];if(t.indexOf(o)<0)throw new Error("illegal argument: "+o)}return e}(t))))||r.of()}n.d(t,!1,function(){return y}),n.d(t,!1,function(){return b}),n.d(t,!1,function(){return v}),n.d(t,!1,function(){return g}),n.d(t,"a",function(){return k}),n.d(t,"c",function(){return w}),n.d(t,!1,function(){return d}),n.d(t,!1,function(){return p}),n.d(t,!1,function(){return u}),n.d(t,!1,function(){return f}),n.d(t,"b",function(){return r})},1623:function(e,t,n){"use strict";var r=n(0),o=n(2),a=n(1),i=n.n(a),s=n(22),l=n(24),c=n(19),u=n(337),p=n(5),f=n.n(p),d=n(9),h=n.n(d),m=n(58),y=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function g(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var k=function(e){function t(){return b(this,t),v(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return g(t,r["Component"]),y(t,[{key:"render",value:function(){return 0===this.props.assets.length?null:r.createElement(u.a,{entries:this.props.assets.map(function(e){return e&&e.get("symbol")}).filter(function(e){return!!e}),values:this.props.assets.reduce(function(e,t){return t&&t.get("symbol")&&(e[t.get("symbol")]=t),e},{}),singleEntry:this.props.assets[0]?r.createElement(c.a,{asset:this.props.assets[0].get("id"),amount:0,hide_amount:!0}):null,value:this.props.value,onChange:this.props.onChange})}}]),t}();k.propTypes={assets:s.a.ChainAssetsList,value:o.string,onChange:o.func},k=Object(l.a)(k);var w=function(e){function t(){return b(this,t),v(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return g(t,r["Component"]),y(t,[{key:"componentDidMount",value:function(){this.onAssetChange(this.props.asset)}},{key:"formatAmount",value:function(e){return e||(e=""),"number"==typeof e&&(e=e.toString()),e.trim().replace(/,/g,"")}},{key:"_onChange",value:function(e){var t=e.target.value;this.props.onChange({amount:t,asset:this.props.asset})}},{key:"onAssetChange",value:function(e){this.props.onChange({amount:this.props.amount,asset:e})}},{key:"render",value:function(){var e=this.props.error?h.a.translate(this.props.error):this.formatAmount(this.props.amount),t=this.props.isNumber;return r.createElement("div",{className:"amount-selector",style:this.props.style},r.createElement("label",{className:"right-label"},this.props.display_balance),r.createElement("label",{className:"left-label"},r.createElement(i.a,{content:this.props.label}),this.props.labelTooltip&&r.createElement(m.s,{id:this.props.labelTooltip.id},this.props.labelTooltip.component)),r.createElement("div",{className:"inline-label input-wrapper"},t?r.createElement(m.l,{disabled:this.props.disabled,type:"number",valueFromOuter:!0,value:e,size:"small",placeholder:this.props.placeholder,onChange:this._onChange.bind(this),tabIndex:this.props.tabIndex,style:{width:"100%",marginBottom:0}}):r.createElement(m.l,{disabled:this.props.disabled,type:"text",valueFromOuter:!0,size:"small",value:e||"",placeholder:this.props.placeholder,onChange:this._onChange.bind(this),tabIndex:this.props.tabIndex,style:{width:"100%",marginBottom:0}}),r.createElement("div",{className:"form-label select floating-dropdown"},r.createElement(k,{ref:this.props.refCallback,value:this.props.asset.get("symbol"),assets:f.a.List(this.props.assets),onChange:this.onAssetChange.bind(this)}))))}}]),t}();w.propTypes={label:o.string,asset:s.a.ChainAsset.isRequired,assets:o.array,amount:o.any,placeholder:o.string,onChange:o.func.isRequired,tabIndex:o.number,error:o.string},w.defaultProps={disabled:!1},w=Object(l.a)(w),t.a=w},1624:function(e,t,n){"use strict";var r;n.d(t,"c",function(){return u}),n.d(t,"b",function(){return p}),n.d(t,"a",function(){return f}),n.d(t,"d",function(){return h});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s,l={BTC:"https://live.blockcypher.com/btc/tx/#{txid}",USDT:"https://www.omniexplorer.info/tx/#{txid}",ETH:"https://etherscan.io/tx/#{txid}",GAS:"https://neoscan.io/transaction/#{txid}",EOS:"https://eosflare.io/tx/#{txid}",LTC:"https://chain.so/tx/LTC/#{txid}",QTUM:"https://explorer.qtum.org/tx/#{txid}"},c={ERC20:"https://etherscan.io/token/#{contract}"},u="https://gateway.cybex.io/gateway",p="https://gateway-query.cybex.io/",f="CybexGateway";!function(e){e[e.ERC20=0]="ERC20",e[e.ETH=1]="ETH",e[e.BTC=2]="BTC",e[e.USDT=3]="USDT",e[e.EOS=4]="EOS",e[e.LTC=5]="LTC",e[e.QTUM=6]="QTUM",e[e.NEO=7]="NEO"}(s||(s={}));var d=function(){function e(t,n,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};i(this,e),this.asset=t,this.currency=n,this.protocol=r,this.options=o,this.contractExplorerUrl=o.contractAddress?this.getExplorerUrlByContract(o.contractAddress):null,this.txExplorer=e.ContractAddress[this.protocol],this.protocolName=s[this.protocol],this.contractAddress=o.contractAddress,this.projectName=o.name,this.logoUrl="https://static-assets.51nebula.com/asset-symbols/"+n+".png"}return o(e,[{key:"getExplorerUrlByTx",value:function(t){if(!e.ExplorerAddress[this.protocol])return null;try{return(this.options.specificExplorer||e.ExplorerAddress[this.protocol]).replace("#{txid}",t)}catch(e){return null}}},{key:"getExplorerUrlByContract",value:function(t){if(!e.ContractAddress[this.protocol])return null;try{return(this.options.specificContractExplorer||e.ContractAddress[this.protocol]).replace("#{contract}",t)}catch(e){return null}}}]),e}();d.ExplorerAddress=(a(r={},s.BTC,l.BTC),a(r,s.USDT,l.USDT),a(r,s.ERC20,l.ETH),a(r,s.ETH,l.ETH),a(r,s.EOS,l.EOS),a(r,s.LTC,l.LTC),a(r,s.QTUM,l.QTUM),a(r,s.NEO,l.GAS),r),d.ContractAddress=a({},s.ERC20,c.ERC20);var h={GATEWAY_ACCOUNT:"cybex-jadegateway",ADDRESS_TYPES:{"JADE.ETH":new d("JADE.ETH","ETH",s.ETH,{name:"Ethereum"}),"JADE.BTC":new d("JADE.BTC","BTC",s.BTC,{name:"Bitcoin"}),"JADE.LTC":new d("JADE.LTC","LTC",s.LTC,{name:"Litecoin"}),"JADE.EOS":new d("JADE.EOS","EOS",s.EOS,{name:"EOS"}),"JADE.USDT":new d("JADE.USDT","USDT",s.USDT,{name:"Tether"}),"JADE.LHT":new d("JADE.LHT","LHT",s.ERC20,{name:"LongHash"}),"JADE.INK":new d("JADE.INK","INK",s.ERC20,{name:"Ink [QTUM]",contractAddress:"0xf4c90e18727c5c76499ea6369c856a6d61d3e92e"}),"JADE.BAT":new d("JADE.BAT","BAT",s.ERC20,{name:"Basic Attention Token",contractAddress:"0x0d8775f648430679a709e98d2b0cb6250d2887ef"}),"JADE.OMG":new d("JADE.OMG","OMG",s.ERC20,{name:"OmiseGO",contractAddress:"0xd26114cd6ee289accf82350c8d8487fedb8a0c07"}),"JADE.SNT":new d("JADE.SNT","SNT",s.ERC20,{name:"Status",contractAddress:"0x744d70fdbe2ba4cf95131626614a1763df805b9e"}),"JADE.NAS":new d("JADE.NAS","NAS",s.ERC20,{name:"Nebulas",contractAddress:"0x5d65d971895edc438f465c17db6992698a52318d"}),"JADE.KNC":new d("JADE.KNC","KNC",s.ERC20,{name:"Kyber Network",contractAddress:"0xdd974d5c2e2928dea5f71b9825b8b646686bd200"}),"JADE.PAY":new d("JADE.PAY","PAY",s.ERC20,{name:"TenX",contractAddress:"0xb97048628db6b661d4c2aa833e95dbe1a905b280"}),"JADE.GET":new d("JADE.GET","GET",s.ERC20,{name:"Global Escrow Token, Themis",contractAddress:"0x60c68a87be1e8a84144b543aacfa77199cd3d024"}),"JADE.MAD":new d("JADE.MAD","MAD",s.ERC20,{name:"MAD Network",contractAddress:"0x5b09a0371c1da44a8e24d36bf5deb1141a84d875"}),"JADE.TCT":new d("JADE.TCT","TCT",s.ERC20,{name:"TokenClub",contractAddress:"0x4824a7b64e3966b0133f4f4ffb1b9d6beb75fff7"}),"JADE.POLY":new d("JADE.POLY","POLY",s.ERC20,{name:"Polymath",contractAddress:"0x9992eC3cF6A55b00978cdDF2b27BC6882d88D1eC"}),"JADE.MCO":new d("JADE.MCO","MCO",s.ERC20,{name:"Monaco",contractAddress:"0xb63b606ac810a52cca15e44bb630fd42d8d1d83d"}),"JADE.JCT":new d("JADE.JCT","JCT",s.ERC20,{name:"JCT",contractAddress:"0x9288d6b823927f528aea244c5fa71a356b807112"}),"JADE.HER":new d("JADE.HER","HER",s.ERC20,{name:"Hero Node",contractAddress:"0x9ae559ac062de221eb5198d90c27e45e85fcaab2"}),"JADE.CTXC":new d("JADE.CTXC","CTXC",s.ERC20,{name:"Cortex",contractAddress:"0xea11755ae41d889ceec39a63e6ff75a02bc1c00d"}),"JADE.NES":new d("JADE.NES","NES",s.ERC20,{name:"Genesis Space",contractAddress:"0xa74ae2d3a4c3f6d9454634fee91dc7aab6724cf9"}),"JADE.PPT":new d("JADE.PPT","PPT",s.ERC20,{name:"Populous",contractAddress:"0xd4fa1460f537bb9085d22c7bccb5dd450ef28e3a"}),"JADE.RHOC":new d("JADE.RHOC","RHOC",s.ERC20,{name:"RChain",contractAddress:"0x168296bb09e24a88805cb9c33356536b980d3fc5"}),"JADE.MKR":new d("JADE.MKR","MKR",s.ERC20,{name:"Maker",contractAddress:"0x9f8f72aa9304c8b593d555f12ef6589cc3a579a2"}),"JADE.FUN":new d("JADE.FUN","FUN",s.ERC20,{name:"FunFair",contractAddress:"0x419d0d8bdd9af5e606ae2232ed285aff190e711b"}),"JADE.MVP":new d("JADE.MVP","MVP",s.ERC20,{name:"Merculet",contractAddress:"0x8a77e40936bbc27e80e9a3f526368c967869c86d"}),"JADE.GNT":new d("JADE.GNT","GNT",s.ERC20,{name:"Golem",contractAddress:"0xa74476443119a942de498590fe1f2454d7d4ac0d"}),"JADE.DPY":new d("JADE.DPY","DPY",s.ERC20,{name:"Delphy",contractAddress:"0x6c2adc2073994fb2ccc5032cc2906fa221e9b391"}),"JADE.GNX":new d("JADE.GNX","GNX",s.ERC20,{name:"Genaro Network",contractAddress:"0x6ec8a24cabdc339a06a172f8223ea557055adaa5"}),"JADE.KEY":new d("JADE.KEY","KEY",s.ERC20,{name:"Bihu KEY",contractAddress:"0x4cd988afbad37289baaf53c13e98e2bd46aaea8c"}),"JADE.MT":new d("JADE.MT","MT",s.ERC20,{name:"MyToken",contractAddress:"0x9b4e2b4b13d125238aa0480dd42b4f6fc71b37cc"}),"JADE.ENG":new d("JADE.ENG","ENG",s.ERC20,{name:"Enigma",contractAddress:"0xf0ee6b27b759c9893ce4f094b49ad28fd15a23e4"})}};console.debug("JADE:"),console.debug(h)},1626:function(e,t,n){e.exports=n(1671).Observable},1627:function(e,t,n){"use strict";(function(e){function r(t){return(void 0!==e?"production":"development")===t}function o(){return!0===r("production")}function a(){return!0===r("development")}function i(){return!0===r("test")}n.d(t,"b",function(){return o}),n.d(t,"a",function(){return a}),n.d(t,"c",function(){return i})}).call(this,n(62))},1628:function(e,t,n){"use strict";var r=n(13),o=n(11),a=n(10),i=n(138),s=n(1649),l=n(35),c=n(1624),u=n(3),p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var f=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.op=t,this.signer=""}return p(e,[{key:"addSigner",value:function(e){this.signer=e}}]),e}();n.d(t,"a",function(){return y}),n.d(t,"c",function(){return b}),n.d(t,"b",function(){return k});var d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var h=function(e,t,n,r){return new(n||(n=Promise))(function(o,a){function i(e){try{l(r.next(e))}catch(e){a(e)}}function s(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(i,s)}l((r=r.apply(e,t||[])).next())})},m=Object(i.a)("GatewayActions"),y="DEPOSIT_MODAL_ID",b="WITHDRAW_MODAL_ID",v=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=[],r=!0,a=!1,i=void 0;try{for(var s,l=e[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var c=s.value,u=o.a.getPrivateKey(c);if(u&&(n.push(u),n.length>=t))break}}catch(e){a=!0,i=e}finally{try{!r&&l.return&&l.return()}finally{if(a)throw i}}return n},g=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return d(e,[{key:"showDepositModal",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:y;return h(this,void 0,void 0,regeneratorRuntime.mark(function r(){var o;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(o=c.d.ADDRESS_TYPES[t]&&c.d.ADDRESS_TYPES[t].type){r.next=3;break}return r.abrupt("return",l.a.error("No suitable asset for "+t+" to be deposited"));case 3:return r.next=5,this.updateDepositAddress(e,o);case 5:if(r.sent){r.next=8;break}return r.abrupt("return");case 8:this.openModal(n);case 9:case"end":return r.stop()}},r,this)}))}},{key:"showWithdrawModal",value:function(e){return h(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(m("Withdraw: ",e),n=c.d.ADDRESS_TYPES[e]&&c.d.ADDRESS_TYPES[e].type){t.next=4;break}return t.abrupt("return",l.a.error("No suitable asset for "+e+" to be withdrawn"));case 4:return t.next=6,this.updateWithdrawInfo(e,n);case 6:if(t.sent){t.next=9;break}return t.abrupt("return");case 9:this.openModal(b);case 10:case"end":return t.stop()}},t,this)}))}},{key:"updateDepositAddress",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return h(this,void 0,void 0,regeneratorRuntime.mark(function r(){var o,a,i;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return o=void 0,m("Update Deposit Address: ",e,t,n),r.prev=2,r.next=5,Object(s.a)(e,t,n);case 5:a=o=r.sent,i=a.address,m("Address: ",i),r.next=15;break;case 10:return r.prev=10,r.t0=r.catch(2),m(r.t0),l.a.error(r.t0.message),r.abrupt("return",!1);case 15:return this.afterUpdateDepositInfo(o),r.abrupt("return",o);case 17:case"end":return r.stop()}},r,this,[[2,10]])}))}},{key:"updateWithdrawInfo",value:function(e,t){return h(this,void 0,void 0,regeneratorRuntime.mark(function n(){var r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=void 0,n.prev=1,n.next=4,Object(s.b)(t);case 4:r=n.sent,m("WithdrawLimit: ",r),n.next=13;break;case 8:return n.prev=8,n.t0=n.catch(1),m(n.t0),l.a.error(n.t0.message),n.abrupt("return",!1);case 13:return this.afterUpdateWithdrawInfo(Object.assign({asset:e},r)),n.abrupt("return",!0);case 15:case"end":return n.stop()}},n,this,[[1,8]])}))}},{key:"queryFundRecords",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:200;return h(this,void 0,void 0,regeneratorRuntime.mark(function o(){var a,i,l,c;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return m("[QueryFundRecord]",e),a=new f({accountName:e.get("name"),offset:n,size:r}),t.accountName===e.get("name")&&t.signer&&a.addSigner(t.signer),o.next=5,Object(s.d)(a);case 5:if(i=o.sent){o.next=15;break}return o.next=9,this.loginGatewayQuery(e);case 9:return l=o.sent,c=l.signer,a.addSigner(c),o.next=14,Object(s.d)(a);case 14:i=o.sent;case 15:i&&this.updateFundRecords(i);case 16:case"end":return o.stop()}},o,this)}))}},{key:"updateFundRecords",value:function(e){return e}},{key:"loginGatewayQuery",value:function(e){return h(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n,r,o,i,l,c,p;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(m("[LoginGatewayQuery]",e),m("[LoginGatewayQuery]",a.b.getSetting("walletLockTimeout")),n=new f({accountName:e.get("name"),expiration:Date.now()+1e3*a.b.getSetting("walletLockTimeout")}),r=u.p.fund_query.fromObject(n.op),e.getIn(["active","weight_threshold"]),o=e.getIn(["active","key_auths"]).filter(function(e){return e.get(1)>=1}).map(function(e){return e.get(0)}).toJS(),i=v(o)[0]){t.next=9;break}throw Error("Privkey Not Found");case 9:return m("[LoginGatewayQuery privKey]",e.getIn(["options","memo_key"]),i),l=u.p.fund_query.toBuffer(r),c=u.k.signBuffer(l,i).toHex(),m("[LoginGatewayQuery Signed]",c),n.addSigner(c),t.next=16,Object(s.c)(n);case 16:return p=t.sent,m("[LoginGatewayQuery LoginRes]",p),p&&this.updateLogin(p),t.abrupt("return",p);case 20:case"end":return t.stop()}},t,this)}))}},{key:"updateLogin",value:function(e){return e}},{key:"afterUpdateWithdrawInfo",value:function(e){return e}},{key:"afterUpdateDepositInfo",value:function(e){return e}},{key:"closeModal",value:function(e){return e}},{key:"openModal",value:function(e){return e}}]),e}(),k=r.a.createActions(g);t.d=k},1630:function(e,t,n){"use strict";var r=n(13),o=n(4),a=n(8),i=n(154),s=n(155),l=n(11),c=n(3),u=n(270),p=n.n(u),f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var d={},h=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return f(e,[{key:"fundPool",value:function(e,t,n,r){var o=i.a.new_transaction(),s=a.a.get_asset_precision(t.get("precision"));return o.add_type_operation("asset_fund_fee_pool",{fee:{amount:0,asset_id:"1.3.0"},from_account:e,asset_id:n.get("id"),amount:r*s}),function(e){return l.a.process_transaction(o,null,!0).then(function(t){e(!0)}).catch(function(t){console.log("[AssetActions.js:150] ----- fundPool error -----\x3e",t),e(!1)})}}},{key:"claimPoolFees",value:function(e,t,n){var r=i.a.new_transaction(),o=a.a.get_asset_precision(t.get("precision"));return r.add_type_operation("asset_claim_fees",{fee:{amount:0,asset_id:0},issuer:e,amount_to_claim:{asset_id:t.get("id"),amount:n*o}}),function(e){return l.a.process_transaction(r,null,!0).then(function(t){e(!0)}).catch(function(t){console.log("[AssetActions.js:150] ----- claimFees error -----\x3e",t),e(!1)})}}},{key:"createAsset",value:function(e,t,n,r,o,s,u,f,d){console.log("create asset:",t,"flags:",n,"isBitAsset:",s,"bitasset_opts:",f);var h=i.a.new_transaction(),m=a.a.get_asset_precision(t.precision);p.a.config({DECIMAL_PLACES:t.precision});var y=new p.a(t.max_supply).times(m).toString(),b=new p.a(t.max_market_fee||0).times(m).toString(),v=(Date.now(),null);t.vesting_period&&(v=[[1,{vesting_period:1*t.vesting_period}]]);var g=a.a.get_asset_precision(c.b.getAsset(o.base.asset_id).get("precision")),k={fee:{amount:0,asset_id:0},issuer:e,symbol:t.symbol,precision:parseInt(t.precision,10),common_options:{max_supply:y,market_fee_percent:100*t.market_fee_percent||0,max_market_fee:b,issuer_permissions:r,flags:n,core_exchange_rate:{base:{amount:o.base.amount*g,asset_id:o.base.asset_id},quote:{amount:o.quote.amount*m,asset_id:"1.3.1"}},whitelist_authorities:[],blacklist_authorities:[],whitelist_markets:[],blacklist_markets:[],description:d,extensions:v},is_prediction_market:u,extensions:null};return s&&(k.bitasset_opts=f),h.add_type_operation("asset_create",k),function(e){return l.a.process_transaction(h,null,!0).then(function(t){e(!0)}).catch(function(t){console.log("[AssetActions.js:150] ----- createAsset error -----\x3e",t),e(!1)})}}},{key:"updateAsset",value:function(e,t,n,r,o,s,u,f,d,h,m,y){var b=i.a.new_transaction(),v=a.a.get_asset_precision(o.get("precision"));p.a.config({DECIMAL_PLACES:o.get("precision")});var g=new p.a(n.max_supply).times(v).toString(),k=new p.a(n.max_market_fee||0).times(v).toString(),w=c.b.getAsset(r.quote.asset_id),E=a.a.get_asset_precision(w.get("precision")),S=c.b.getAsset(r.base.asset_id),O=a.a.get_asset_precision(S.get("precision")),_=new p.a(r.quote.amount).times(E).toString(),C=new p.a(r.base.amount).times(O).toString();console.log("auths:",y);var x={fee:{amount:0,asset_id:0},asset_to_update:o.get("id"),extensions:o.get("extensions"),issuer:e,new_issuer:t,new_options:{max_supply:g,max_market_fee:k,market_fee_percent:100*n.market_fee_percent,description:m,issuer_permissions:u,flags:s,whitelist_authorities:y.whitelist_authorities.toJS(),blacklist_authorities:y.blacklist_authorities.toJS(),whitelist_markets:y.whitelist_markets.toJS(),blacklist_markets:y.blacklist_markets.toJS(),extensions:o.getIn(["options","extensions"]),core_exchange_rate:{quote:{amount:_,asset_id:r.quote.asset_id},base:{amount:C,asset_id:r.base.asset_id}}}};if(e!==t&&t||delete x.new_issuer,b.add_type_operation("asset_update",x),console.log("bitasset_opts:",d,"original_bitasset_opts:",h),f&&(d.feed_lifetime_sec!==h.feed_lifetime_sec||d.minimum_feeds!==h.minimum_feeds||d.force_settlement_delay_sec!==h.force_settlement_delay_sec||d.force_settlement_offset_percent!==h.force_settlement_offset_percent||d.maximum_force_settlement_volume!==h.maximum_force_settlement_volume||d.short_backing_asset!==h.short_backing_asset)){var P={fee:{amount:0,asset_id:0},asset_to_update:o.get("id"),issuer:e,new_options:d};b.add_type_operation("asset_update_bitasset",P)}return l.a.process_transaction(b,null,!0).then(function(e){return!0}).catch(function(e){return console.log("[AssetActions.js:150] ----- createAsset error -----\x3e",e),!1})}},{key:"issueAsset",value:function(e,t,n,r,o,a){s.a.issue_asset(e,t,n,r,o,a)}},{key:"getAssetList",value:function(e,t){var n=e+"_"+t;return function(r){if(!d[n])return d[n]=!0,r({loading:!0}),o.a.instance().db_api().exec("list_assets",[e,t]).then(function(e){var t=[],a=[];e.forEach(function(e){c.b._updateObject(e,!1),a.push(e.dynamic_asset_data_id),e.bitasset_data_id&&t.push(e.bitasset_data_id)});var i=o.a.instance().db_api().exec("get_objects",[a]),s=t.length>0?o.a.instance().db_api().exec("get_objects",[t]):null;Promise.all([i,s]).then(function(t){delete d[n],r({assets:e,dynamic:t[0],bitasset_data:t[1],loading:!1})}),r({loading:!1}),delete d[n]})}}},{key:"lookupAsset",value:function(e,t){var n=c.b.getAsset(e);return n?{assets:[n],searchID:t,symbol:e}:function(n){setTimeout(function(){var r=c.b.getAsset(e);r&&n({assets:[r],searchID:t,symbol:e})},200)}}},{key:"reserveAsset",value:function(e,t,n){var r=i.a.new_transaction();return r.add_type_operation("asset_reserve",{fee:{amount:0,asset_id:0},amount_to_reserve:{amount:e,asset_id:t},payer:n,extensions:[]}),l.a.process_transaction(r,null,!0).then(function(e){return!0}).catch(function(e){return console.log("[AssetActions.js:150] ----- reserveAsset error -----\x3e",e),!1})}}]),e}();t.a=r.a.createActions(h)},1633:function(e,t,n){"use strict";var r=n(0),o=(n(2),n(1666)),a=n.n(o),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var s=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={animateEnter:!1},e.timer=null,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),i(t,[{key:"componentDidMount",value:function(){this.enableAnimation()}},{key:"resetAnimation",value:function(){this.setState({animateEnter:!1}),this.enableAnimation()}},{key:"enableAnimation",value:function(){var e=this;this.timer=setTimeout(function(){e.timer&&e.setState({animateEnter:!0})},2e3)}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timer),this.timer=null}},{key:"render",value:function(){return this.props.children?r.createElement(a.a,{className:this.props.className,component:this.props.component,transitionName:this.props.transitionName,transitionEnterTimeout:this.props.enterTimeout,transitionEnter:this.state.animateEnter,transitionLeave:!1},this.props.children):r.createElement(this.props.component)}}]),t}();s.defaultProps={component:"span",enterTimeout:2e3},t.a=s},1634:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GraphQLError=a;var r=n(1644),o=n(1643);function a(e,t,n,r,i,s,l){var c=Array.isArray(t)?0!==t.length?t:void 0:t?[t]:void 0,u=n;if(!u&&c){var p=c[0];u=p&&p.loc&&p.loc.source}var f=r;!f&&c&&(f=c.reduce(function(e,t){return t.loc&&e.push(t.loc.start),e},[])),f&&0===f.length&&(f=void 0);var d=void 0;if(r&&n){var h=n;d=r.map(function(e){return(0,o.getLocation)(h,e)})}else c&&(d=c.reduce(function(e,t){return t.loc&&e.push((0,o.getLocation)(t.loc.source,t.loc.start)),e},[]));Object.defineProperties(this,{message:{value:e,enumerable:!0,writable:!0},locations:{value:d||void 0,enumerable:!0},path:{value:i||void 0,enumerable:!0},nodes:{value:c||void 0},source:{value:u||void 0},positions:{value:f||void 0},originalError:{value:s},extensions:{value:l||s&&s.extensions}}),s&&s.stack?Object.defineProperty(this,"stack",{value:s.stack,writable:!0,configurable:!0}):Error.captureStackTrace?Error.captureStackTrace(this,a):Object.defineProperty(this,"stack",{value:Error().stack,writable:!0,configurable:!0})}a.prototype=Object.create(Error.prototype,{constructor:{value:a},name:{value:"GraphQLError"},toString:{value:function(){return(0,r.printError)(this)}}})},1637:function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r=n(42),o=n(5),a=n(13),i=n(1628),s=n(1624),l=n(141),c=n(69),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var p=new c.a("__graphene__"),f=Object(l.a)("GatewayStore"),d=s.d.ADDRESS_TYPES,h=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={backedCoins:Object(o.Map)({JADE:d}),bridgeCoins:Object(o.Map)(Object(o.fromJS)(p.get("bridgeCoins",{}))),bridgeInputs:["btc","dash","eth","steem"],login:{accountName:"",signer:""},records:{total:0,records:[],offset:0,size:20},down:Object(o.Map)({}),modals:Object(o.Map)(),depositInfo:{},withdrawInfo:{}},e.bindListeners({handleDepositUpdate:i.b.afterUpdateDepositInfo,handleWithdrawUpdate:i.b.afterUpdateWithdrawInfo,handleLogin:i.b.updateLogin,handleRecordsUpdate:i.b.updateFundRecords,openModal:i.b.openModal,closeModal:i.b.closeModal}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["a"]),u(t,[{key:"handleDepositUpdate",value:function(e){var t=d[e.asset]||{},n=Object.assign({},e,{meta:t});f("Open: ",d,n),this.setState({depositInfo:n})}},{key:"handleWithdrawUpdate",value:function(e){this.setState({withdrawInfo:e})}},{key:"handleLogin",value:function(e){this.setState({login:e})}},{key:"handleRecordsUpdate",value:function(e){e.records.forEach(function(e){e.hash||(e.hash=t.findHash(e))}),this.setState({records:e})}},{key:"openModal",value:function(e){this.setState({modals:this.state.modals.set(e,!0)})}},{key:"closeModal",value:function(e){this.setState({modals:this.state.modals.set(e,!1)})}}]),t}();h.findHash=function(e){return e.details&&e.details.length?e.details[e.details.length-1].hash:null};var m=a.a.createStore(h,"GatewayStore");t.b=m},1642:function(e,t,n){"use strict";n.d(t,"b",function(){return S}),n.d(t,"a",function(){return O});var r=n(0),o=(n(2),n(19)),a=n(22),i=n(24),s=n(8),l=n(16),c=n(99),u=n(1),p=n.n(u),f=n(9),d=n.n(f),h=n(67),m=n.n(h),y=n(340),b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},v=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function w(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var E=function(e){function t(e){return g(this,t),k(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return w(t,y["a"]),v(t,[{key:"componentDidMount",value:function(){m.a.rebuild()}},{key:"shouldComponentUpdate",value:function(e){return function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in o)return o.value;var i=o.get;return void 0!==i?i.call(r):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"shouldComponentUpdate",this).call(this,e)||e.toAsset!==this.props.toAsset||e.fromAsset!==this.props.fromAsset||e.amount!==this.props.amount}},{key:"getValue",value:function(){var e=this.props,t=e.amount,n=e.toAsset,r=e.fromAsset,o=e.fullPrecision,a=e.marketStats,i=e.coreAsset,l=void 0,c=void 0,u=n.get("id"),p=n.get("symbol"),f=r.get("id"),d=r.get("symbol");if(o||(t=s.a.get_asset_amount(t,r)),i&&a){var h=i.get("symbol");l=a.get(p+"_"+h),c=a.get(d+"_"+h)}var m=s.a.convertPrice(c&&c.close?c.close:"1.3.0"===f||r.has("bitasset")?r:null,l&&l.close?l.close:"1.3.0"===u||n.has("bitasset")?n:null,f,u);return m?s.a.convertValue(m,t,r,n):null}},{key:"render",value:function(){var e=this.props,t=e.amount,n=e.toAsset,a=e.fromAsset,i=e.fullPrecision,l=n.get("id");n.get("symbol");i||(t=s.a.get_asset_amount(t,a));var c=this.getValue();return c||0===c?r.createElement(o.a,{hide_asset:this.props.hide_asset,noPrefix:!0,amount:c,asset:l,decimalOffset:0}):r.createElement("div",{className:"tooltip inline-block","data-place":"bottom","data-tip":d.a.translate("tooltip.no_price"),style:{fontSize:"0.9rem"}},r.createElement(p.a,{content:"account.no_price"}))}}]),t}();E.propTypes={toAsset:a.a.ChainAsset.isRequired,fromAsset:a.a.ChainAsset.isRequired,coreAsset:a.a.ChainAsset.isRequired},E.defaultProps={toAsset:"1.3.0",fullPrecision:!0,noDecimals:!1,hide_asset:!1,coreAsset:"1.3.0"},E=Object(i.a)(E,{keep_updating:!0});var S=function(e){function t(){return g(this,t),k(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return w(t,r["Component"]),v(t,[{key:"render",value:function(){var e=this.props,t=e.refCallback,n=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["refCallback"]);return r.createElement(E,b({},n,{ref:t}))}}]),t}();S=Object(l.connect)(S,{listenTo:function(){return[c.a]},getProps:function(){return{marketStats:c.a.getState().allMarketStats}}});var O=function(e){function t(){return g(this,t),k(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return w(t,r["Component"]),v(t,[{key:"render",value:function(){var e=this.props.balance,t=!!e.getIn(["balance","amount"]),n=Number(t?e.getIn(["balance","amount"]):e.get("balance")),o=t?e.getIn(["balance","asset_id"]):e.get("asset_type");return isNaN(n)?r.createElement("span",null,"--"):r.createElement(S,{refCallback:this.props.refCallback,hide_asset:this.props.hide_asset,amount:n,fromAsset:o,noDecimals:!0,toAsset:this.props.toAsset})}}]),t}();O.propTypes={balance:a.a.ChainObject.isRequired},O=Object(i.a)(O,{keep_updating:!0})},1643:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getLocation=function(e,t){var n=/\r\n|[\n\r]/g,r=1,o=t+1,a=void 0;for(;(a=n.exec(e.body))&&a.index<t;)r+=1,o=t+1-(a.index+a[0].length);return{line:r,column:o}}},1644:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.printError=function(e){var t=[];if(e.nodes)e.nodes.forEach(function(e){e.loc&&t.push(o(e.loc.source,(0,r.getLocation)(e.loc.source,e.loc.start)))});else if(e.source&&e.locations){var n=e.source;e.locations.forEach(function(e){t.push(o(n,e))})}return 0===t.length?e.message:[e.message].concat(t).join("\n\n")+"\n"};var r=n(1643);function o(e,t){var n=t.line,r=e.locationOffset.line-1,o=function(e,t){return 1===t.line?e.locationOffset.column-1:0}(e,t),s=n+r,l=t.column+o,c=(s-1).toString(),u=s.toString(),p=(s+1).toString(),f=p.length,d=e.body.split(/\r\n|[\n\r]/g);return d[0]=a(e.locationOffset.column-1)+d[0],[e.name+" ("+s+":"+l+")",n>=2&&i(f,c)+": "+d[n-2],i(f,u)+": "+d[n-1],a(2+f+l-1)+"^",n<d.length&&i(f,p)+": "+d[n]].filter(Boolean).join("\n")}function a(e){return Array(e+1).join(" ")}function i(e,t){return a(e-t.length)+t}},1645:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1634);Object.defineProperty(t,"GraphQLError",{enumerable:!0,get:function(){return r.GraphQLError}});var o=n(1679);Object.defineProperty(t,"syntaxError",{enumerable:!0,get:function(){return o.syntaxError}});var a=n(1678);Object.defineProperty(t,"locatedError",{enumerable:!0,get:function(){return a.locatedError}});var i=n(1644);Object.defineProperty(t,"printError",{enumerable:!0,get:function(){return i.printError}});var s=n(1677);Object.defineProperty(t,"formatError",{enumerable:!0,get:function(){return s.formatError}})},1646:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(!e)throw new Error(t)}},1647:function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=n(0),a=n(1702),i=n(1699),s=n(1661);var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),r(t,[{key:"shouldComponentUpdate",value:function(e){var n=this;return Object.keys(t.propTypes).some(function(t){return n.props[t]!==e[t]})}},{key:"componentDidMount",value:function(){this.update()}},{key:"componentDidUpdate",value:function(){this.update()}},{key:"update",value:function(){var e=this.props,t=e.value,n=e.size,r=e.level,o=e.bgColor,a=e.fgColor,l=new i(-1,s[r]);if(l.addData(t),l.make(),null!=this._canvas){var c=this._canvas,u=c.getContext("2d");if(!u)return;var p=l.modules;if(null===p)return;var f=n/p.length,d=n/p.length,h=(window.devicePixelRatio||1)/function(e){return e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1}(u);c.height=c.width=n*h,u.scale(h,h),p.forEach(function(e,t){e.forEach(function(e,n){u&&(u.fillStyle=e?a:o);var r=Math.ceil((n+1)*f)-Math.floor(n*f),i=Math.ceil((t+1)*d)-Math.floor(t*d);u&&u.fillRect(Math.round(n*f),Math.round(t*d),r,i)})})}}},{key:"render",value:function(){var e=this;return o.createElement("canvas",{style:{height:this.props.size,width:this.props.size},height:this.props.size,width:this.props.size,ref:function(t){return e._canvas=t}})}}]),t}();Object.defineProperty(l,"defaultProps",{enumerable:!0,writable:!0,value:{size:128,level:"L",bgColor:"#FFFFFF",fgColor:"#000000"}}),Object.defineProperty(l,"propTypes",{enumerable:!0,writable:!0,value:{value:a.string.isRequired,size:a.number,level:a.oneOf(["L","M","Q","H"]),bgColor:a.string,fgColor:a.string}}),e.exports=l},1649:function(e,t,n){"use strict";n.d(t,"a",function(){return k}),n.d(t,"b",function(){return w}),n.d(t,"e",function(){return E}),n.d(t,"d",function(){return S}),n.d(t,"c",function(){return O});var r=n(1624),o=n(138),a=n(1682),i=n.n(a),s=n(1655),l=n(1653),c=n(1656),u=h(["\n    mutation GenNewAddress($accountName: String!, $asset: String!) {\n      newDepositAddress(accountName: $accountName, asset: $asset) {\n        address\n        accountName\n        asset\n        type\n        createAt\n      }\n    }\n  "],["\n    mutation GenNewAddress($accountName: String!, $asset: String!) {\n      newDepositAddress(accountName: $accountName, asset: $asset) {\n        address\n        accountName\n        asset\n        type\n        createAt\n      }\n    }\n  "]),p=h(["\n    query GetAddress($accountName: String!, $asset: String!) {\n      getDepositAddress(accountName: $accountName, asset: $asset) {\n        address\n        accountName\n        asset\n        type\n        createAt\n        projectInfo {\n          projectName\n        }\n      }\n    }\n  "],["\n    query GetAddress($accountName: String!, $asset: String!) {\n      getDepositAddress(accountName: $accountName, asset: $asset) {\n        address\n        accountName\n        asset\n        type\n        createAt\n        projectInfo {\n          projectName\n        }\n      }\n    }\n  "]),f=h(["\n    query WithdrawInfo($type: String!) {\n      withdrawInfo(type: $type) {\n        fee\n        minValue\n        precision\n        asset\n        type\n        gatewayAccount\n      }\n    }\n  "],["\n    query WithdrawInfo($type: String!) {\n      withdrawInfo(type: $type) {\n        fee\n        minValue\n        precision\n        asset\n        type\n        gatewayAccount\n      }\n    }\n  "]),d=h(["\n    query VerifyAddress(\n      $asset: String!\n      $accountName: String!\n      $address: String!\n    ) {\n      verifyAddress(\n        asset: $asset\n        accountName: $accountName\n        address: $address\n      ) {\n        valid\n        asset\n      }\n    }\n  "],["\n    query VerifyAddress(\n      $asset: String!\n      $accountName: String!\n      $address: String!\n    ) {\n      verifyAddress(\n        asset: $asset\n        accountName: $accountName\n        address: $address\n      ) {\n        valid\n        asset\n      }\n    }\n  "]);function h(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var m=function(e,t,n,r){return new(n||(n=Promise))(function(o,a){function i(e){try{l(r.next(e))}catch(e){a(e)}}function s(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(i,s)}l((r=r.apply(e,t||[])).next())})},y=Object(o.a)("GatewayService"),b=new Headers;b.append("Content-Type","application/x-www-form-urlencoded");var v=new l.a({uri:r.c}),g=new s.a({link:v,cache:new c.a});function k(e,t,n){return m(this,void 0,void 0,regeneratorRuntime.mark(function r(){var o,a;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(y("Get Deposit: ",e,t,n),o=i()(u),a=i()(p),!n){r.next=9;break}return r.next=6,C("mutate",{mutation:o,variables:{accountName:e,asset:t}},"newDepositAddress");case 6:r.t0=r.sent,r.next=12;break;case 9:return r.next=11,C("query",{query:a,variables:{accountName:e,asset:t}},"getDepositAddress");case 11:r.t0=r.sent;case 12:return r.abrupt("return",r.t0);case 13:case"end":return r.stop()}},r,this)}))}function w(e){return m(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=i()(f),t.next=3,C("query",{query:n,variables:{type:e}},"withdrawInfo");case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}},t,this)}))}function E(e,t,n){return m(this,void 0,void 0,regeneratorRuntime.mark(function r(){var o;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return o=i()(d),r.next=3,C("query",{query:o,variables:{asset:n,accountName:t,address:e}},"verifyAddress");case 3:return r.abrupt("return",r.sent);case 4:case"end":return r.stop()}},r,this)}))}function S(e){return m(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_("records",e).then(function(e){return e.data});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}))}function O(e){return m(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_("login",e).then(function(e){return e.data});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}))}function _(e,t){return m(this,void 0,void 0,regeneratorRuntime.mark(function n(){var o,a;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return(o=new Headers).append("Content-Type","application/json"),a={headers:o,method:"POST",body:JSON.stringify(t)},n.next=5,fetch(""+r.b+e,a).then(function(e){return e.json()}).catch(function(e){return{code:400,error:e.message}});case 5:return n.abrupt("return",n.sent);case 6:case"end":return n.stop()}},n,this)}))}function C(e,t,n){return m(this,void 0,void 0,regeneratorRuntime.mark(function r(){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if("newDepositAddress"!==n){r.next=3;break}return r.next=3,g.resetStore();case 3:return r.prev=3,r.next=6,g[e](t);case 6:return r.t0=n,r.abrupt("return",r.sent.data[r.t0]);case 10:throw r.prev=10,r.t1=r.catch(3),console.error("GatewayError: ",r.t1),r.t1;case 14:case"end":return r.stop()}},r,this,[[3,10]])}))}},1652:function(e,t,n){"use strict";var r=n(0),o=n(8),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),a(t,[{key:"render",value:function(){var e=this.props,t=e.price,n=e.preFormattedPrice,a=e.quote,i=e.base,s=(e.component,e.precision),l=n||o.a.price_to_text(t,a,i,s);return l.full>=1?r.createElement("span",null,r.createElement("span",{className:"price-integer"},l.int,"."),l.dec?r.createElement("span",{className:"price-integer"},l.dec):null,l.trailing?r.createElement("span",{className:"price-decimal"},l.trailing):null):l.full>=.1?r.createElement("span",null,r.createElement("span",{className:"price-decimal"},l.int,"."),l.dec?r.createElement("span",{className:"price-integer"},l.dec):null,l.trailing?r.createElement("span",{className:"price-decimal"},l.trailing):null):r.createElement("span",null,r.createElement("span",{className:"price-decimal"},l.int,"."),l.dec?r.createElement("span",{className:"price-decimal"},l.dec):null,l.trailing?r.createElement("span",{className:"price-integer"},l.trailing):null)}}]),t}();t.a=i},1653:function(e,t,n){"use strict";var r=n(1622),o=n(1621),a=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},s=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n},l=function(e,t,n){var r=new Error(n);throw r.response=e,r.statusCode=e.status,r.result=t,r},c={includeQuery:!0,includeExtensions:!1},u=function(e){void 0===e&&(e={});var t=e.uri,n=e.fetch,a=e.includeExtensions,u=s(e,["uri","fetch","includeExtensions"]);return function(e){if(!e&&"undefined"==typeof fetch){var t="unfetch";throw"undefined"==typeof window&&(t="node-fetch"),new Error("fetch is not found globally and no fetcher passed, to fix pass a fetch for\n      your environment like https://www.npmjs.com/package/"+t+".\n\n      For example:\n        import fetch from '"+t+"';\n        import { createHttpLink } from 'apollo-link-http';\n\n        const link = createHttpLink({ uri: '/graphql', fetch: fetch });\n      ")}}(n),n&&function(e){if(e.use)throw new Error("\n      It looks like you're using apollo-fetch! Apollo Link now uses native fetch\n      implementation, so apollo-fetch is not needed. If you want to use your existing\n      apollo-fetch middleware, please check this guide to upgrade:\n        https://github.com/apollographql/apollo-link/blob/master/docs/implementation.md\n    ")}(n),n||(n=fetch),t||(t="/graphql"),new r.a(function(e){return new r.b(function(r){var s,p=e.getContext(),f=p.headers,d=p.credentials,h=p.fetchOptions,m=void 0===h?{}:h,y=p.uri,b=p.http,v=void 0===b?{}:b,g=e.operationName,k=e.extensions,w=e.variables,E=e.query,S=i({},c,v),O={operationName:g,variables:w};(a||S.includeExtensions)&&(O.extensions=k),S.includeQuery&&(O.query=Object(o.print)(E));try{s=JSON.stringify(O)}catch(e){var _=new Error("Network request failed. Payload is not serializable: "+e.message);throw _.parseError=e,_}var C=m;u.fetchOptions&&(C=i({},u.fetchOptions,C));var x=i({method:"POST"},C,{headers:{accept:"*/*","content-type":"application/json"},body:s});u.credentials&&(x.credentials=u.credentials),d&&(x.credentials=d),u.headers&&(x.headers=i({},x.headers,u.headers)),f&&(x.headers=i({},x.headers,f));var P=function(){if("undefined"==typeof AbortController)return{controller:!1,signal:!1};var e=new AbortController;return{controller:e,signal:e.signal}}(),A=P.controller,T=P.signal;return A&&(x.signal=T),n(y||t,x).then(function(t){return e.setContext({response:t}),t}).then(function(e){return function(t){return t.text().then(function(e){try{return JSON.parse(e)}catch(r){var n=r;return n.response=t,n.statusCode=t.status,n.bodyText=e,Promise.reject(n)}}).then(function(n){return t.status>=300&&l(t,n,"Response not successful: Received status code "+t.status),n.hasOwnProperty("data")||n.hasOwnProperty("errors")||l(t,n,"Server response was missing for query '"+e.operationName+"'."),n})}}(e)).then(function(e){return r.next(e),r.complete(),e}).catch(function(e){"AbortError"!==e.name&&r.error(e)}),function(){A&&A.abort()}})})},p=function(e){function t(t){return e.call(this,u(t).request)||this}return a(t,e),t}(r.a);n.d(t,!1,function(){return u}),n.d(t,"a",function(){return p})},1655:function(e,t,n){"use strict";var r,o=n(1621),a=n(1619);function i(e){return e<7}!function(e){e[e.loading=1]="loading",e[e.setVariables=2]="setVariables",e[e.fetchMore=3]="fetchMore",e[e.refetch=4]="refetch",e[e.poll=6]="poll",e[e.ready=7]="ready",e[e.error=8]="error"}(r||(r={}));var s=n(1622),l=n(1670),c=n.n(l),u=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return u(t,e),t.prototype[c.a]=function(){return this},t}(s.b),f=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();var d,h=function(e){var t="";return Array.isArray(e.graphQLErrors)&&0!==e.graphQLErrors.length&&e.graphQLErrors.forEach(function(e){var n=e?e.message:"Error message not found.";t+="GraphQL error: "+n+"\n"}),e.networkError&&(t+="Network error: "+e.networkError.message+"\n"),t=t.replace(/\n$/,"")},m=function(e){function t(t){var n=t.graphQLErrors,r=t.networkError,o=t.errorMessage,a=t.extraInfo,i=e.call(this,o)||this;return i.graphQLErrors=n||[],i.networkError=r||null,i.message=o||h(i),i.extraInfo=a,i}return f(t,e),t}(Error);!function(e){e[e.normal=1]="normal",e[e.refetch=2]="refetch",e[e.poll=3]="poll"}(d||(d={}));var y=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),b=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},v=function(e){function t(t){var n=t.scheduler,r=t.options,o=t.shouldSubscribe,a=void 0===o||o,i=e.call(this,function(e){return i.onSubscribe(e)})||this;return i.isCurrentlyPolling=!1,i.isTornDown=!1,i.options=r,i.variables=r.variables||{},i.queryId=n.queryManager.generateQueryId(),i.shouldSubscribe=a,i.scheduler=n,i.queryManager=n.queryManager,i.observers=[],i.subscriptionHandles=[],i}return y(t,e),t.prototype.result=function(){var e=this;return new Promise(function(t,n){var r,o={next:function(n){t(n),e.observers.some(function(e){return e!==o})||e.queryManager.removeQuery(e.queryId),setTimeout(function(){r.unsubscribe()},0)},error:function(e){n(e)}};r=e.subscribe(o)})},t.prototype.currentResult=function(){if(this.isTornDown)return{data:this.lastError?{}:this.lastResult?this.lastResult.data:{},error:this.lastError,loading:!1,networkStatus:r.error};var e=this.queryManager.queryStore.get(this.queryId);if(function(e,t){return void 0===t&&(t="none"),e&&(e.graphQLErrors&&e.graphQLErrors.length>0&&"none"===t||e.networkError)}(e,this.options.errorPolicy))return{data:{},loading:!1,networkStatus:e.networkStatus,error:new m({graphQLErrors:e.graphQLErrors,networkError:e.networkError})};var t,n=this.queryManager.getCurrentQueryResult(this),o=n.data,a=n.partial,s=!e||e.networkStatus===r.loading,l="network-only"===this.options.fetchPolicy&&s||a&&"cache-only"!==this.options.fetchPolicy,c={data:o,loading:i(t=e?e.networkStatus:l?r.loading:r.ready),networkStatus:t};if(e&&e.graphQLErrors&&"all"===this.options.errorPolicy&&(c.errors=e.graphQLErrors),!a){this.lastResult=b({},c,{stale:!1})}return b({},c,{partial:a})},t.prototype.getLastResult=function(){return this.lastResult},t.prototype.getLastError=function(){return this.lastError},t.prototype.resetLastResults=function(){delete this.lastResult,delete this.lastError,this.isTornDown=!1},t.prototype.refetch=function(e){if("cache-only"===this.options.fetchPolicy)return Promise.reject(new Error("cache-only fetchPolicy option should not be used together with query refetch."));Object(a.q)(this.variables,e)||(this.variables=b({},this.variables,e)),Object(a.q)(this.options.variables,this.variables)||(this.options.variables=b({},this.options.variables,this.variables));var t=b({},this.options,{fetchPolicy:"network-only"});return this.queryManager.fetchQuery(this.queryId,t,d.refetch).then(function(e){return Object(a.x)(e)})},t.prototype.fetchMore=function(e){var t=this;if(!e.updateQuery)throw new Error("updateQuery option is required. This function defines how to update the query data with the new results.");return Promise.resolve().then(function(){var n,r=t.queryManager.generateQueryId();return(n=e.query?e:b({},t.options,e,{variables:b({},t.variables,e.variables)})).fetchPolicy="network-only",t.queryManager.fetchQuery(r,n,d.normal,t.queryId)}).then(function(n){return t.updateQuery(function(t,r){var o=r.variables;return e.updateQuery(t,{fetchMoreResult:n.data,variables:o})}),n})},t.prototype.subscribeToMore=function(e){var t=this,n=this.queryManager.startGraphQLSubscription({query:e.document,variables:e.variables}).subscribe({next:function(n){e.updateQuery&&t.updateQuery(function(t,r){var o=r.variables;return e.updateQuery(t,{subscriptionData:n,variables:o})})},error:function(t){e.onError?e.onError(t):console.error("Unhandled GraphQL subscription error",t)}});return this.subscriptionHandles.push(n),function(){var e=t.subscriptionHandles.indexOf(n);e>=0&&(t.subscriptionHandles.splice(e,1),n.unsubscribe())}},t.prototype.setOptions=function(e){var t=this.options;this.options=b({},this.options,e),e.pollInterval?this.startPolling(e.pollInterval):0===e.pollInterval&&this.stopPolling();var n="network-only"!==t.fetchPolicy&&"network-only"===e.fetchPolicy||"cache-only"===t.fetchPolicy&&"cache-only"!==e.fetchPolicy||"standby"===t.fetchPolicy&&"standby"!==e.fetchPolicy||!1;return this.setVariables(this.options.variables,n,e.fetchResults)},t.prototype.setVariables=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!0),this.isTornDown=!1;var r=b({},this.variables,e);return Object(a.q)(r,this.variables)&&!t?0!==this.observers.length&&n?this.result():new Promise(function(e){return e()}):(this.lastVariables=this.variables,this.variables=r,this.options.variables=r,0===this.observers.length?new Promise(function(e){return e()}):this.queryManager.fetchQuery(this.queryId,b({},this.options,{variables:this.variables})).then(function(e){return Object(a.x)(e)}))},t.prototype.updateQuery=function(e){var t=this.queryManager.getQueryWithPreviousResult(this.queryId),n=t.previousResult,r=t.variables,o=t.document,i=Object(a.C)(function(){return e(n,{variables:r})});i&&(this.queryManager.dataStore.markUpdateQueryResult(o,r,i),this.queryManager.broadcastQueries())},t.prototype.stopPolling=function(){this.isCurrentlyPolling&&(this.scheduler.stopPollingQuery(this.queryId),this.options.pollInterval=void 0,this.isCurrentlyPolling=!1)},t.prototype.startPolling=function(e){if("cache-first"===this.options.fetchPolicy||"cache-only"===this.options.fetchPolicy)throw new Error("Queries that specify the cache-first and cache-only fetchPolicies cannot also be polling queries.");this.isCurrentlyPolling&&(this.scheduler.stopPollingQuery(this.queryId),this.isCurrentlyPolling=!1),this.options.pollInterval=e,this.isCurrentlyPolling=!0,this.scheduler.startPollingQuery(this.options,this.queryId)},t.prototype.onSubscribe=function(e){var t=this;return e._subscription&&e._subscription._observer&&!e._subscription._observer.error&&(e._subscription._observer.error=function(e){console.error("Unhandled error",e.message,e.stack)}),this.observers.push(e),e.next&&this.lastResult&&e.next(this.lastResult),e.error&&this.lastError&&e.error(this.lastError),1===this.observers.length&&this.setUpQuery(),function(){t.observers=t.observers.filter(function(t){return t!==e}),0===t.observers.length&&t.tearDownQuery()}},t.prototype.setUpQuery=function(){var e=this;if(this.shouldSubscribe&&this.queryManager.addObservableQuery(this.queryId,this),this.options.pollInterval){if("cache-first"===this.options.fetchPolicy||"cache-only"===this.options.fetchPolicy)throw new Error("Queries that specify the cache-first and cache-only fetchPolicies cannot also be polling queries.");this.isCurrentlyPolling=!0,this.scheduler.startPollingQuery(this.options,this.queryId)}var t={next:function(t){e.lastResult=t,e.observers.forEach(function(e){return e.next&&e.next(t)})},error:function(t){e.lastError=t,e.observers.forEach(function(e){return e.error&&e.error(t)})}};this.queryManager.startQuery(this.queryId,this.options,this.queryManager.queryListenerForObserver(this.queryId,this.options,t))},t.prototype.tearDownQuery=function(){this.isTornDown=!0,this.isCurrentlyPolling&&(this.scheduler.stopPollingQuery(this.queryId),this.isCurrentlyPolling=!1),this.subscriptionHandles.forEach(function(e){return e.unsubscribe()}),this.subscriptionHandles=[],this.queryManager.removeObservableQuery(this.queryId),this.queryManager.stopQuery(this.queryId),this.observers=[]},t}(p),g=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),k=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.inFlightRequestObservables=new Map,t.subscribers=new Map,t}return g(t,e),t.prototype.request=function(e,t){var n=this;if(e.getContext().forceFetch)return t(e);var r=e.toKey(),o=function(e){return n.inFlightRequestObservables.delete(e),n.subscribers.get(e)};if(!this.inFlightRequestObservables.get(r)){var a,i=t(e),l=new s.b(function(e){var t=n.subscribers.get(r);return t||(t={next:[],error:[],complete:[]}),n.subscribers.set(r,{next:t.next.concat([e.next.bind(e)]),error:t.error.concat([e.error.bind(e)]),complete:t.complete.concat([e.complete.bind(e)])}),a||(a=i.subscribe({next:function(e){var t=o(r);n.subscribers.delete(r),t&&(t.next.forEach(function(t){return t(e)}),t.complete.forEach(function(e){return e()}))},error:function(e){var t=o(r);n.subscribers.delete(r),t&&t.error.forEach(function(t){return t(e)})}})),function(){a&&a.unsubscribe(),n.inFlightRequestObservables.delete(r)}});this.inFlightRequestObservables.set(r,l)}return this.inFlightRequestObservables.get(r)},t}(s.a),w=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},E=function(){function e(e){var t=e.queryManager,n=e.ssrMode;this.inFlightQueries={},this.registeredQueries={},this.intervalQueries={},this.pollingTimers={},this.ssrMode=!1,this.queryManager=t,this.ssrMode=n||!1}return e.prototype.checkInFlight=function(e){var t=this.queryManager.queryStore.get(e);return t&&t.networkStatus!==r.ready&&t.networkStatus!==r.error},e.prototype.fetchQuery=function(e,t,n){var r=this;return new Promise(function(o,a){r.queryManager.fetchQuery(e,t,n).then(function(e){o(e)}).catch(function(e){a(e)})})},e.prototype.startPollingQuery=function(e,t,n){if(!e.pollInterval)throw new Error("Attempted to start a polling query without a polling interval.");return this.ssrMode?t:(this.registeredQueries[t]=e,n&&this.queryManager.addQueryListener(t,n),this.addQueryOnInterval(t,e),t)},e.prototype.stopPollingQuery=function(e){delete this.registeredQueries[e]},e.prototype.fetchQueriesOnInterval=function(e){var t=this;this.intervalQueries[e]=this.intervalQueries[e].filter(function(n){if(!t.registeredQueries.hasOwnProperty(n)||t.registeredQueries[n].pollInterval!==e)return!1;if(t.checkInFlight(n))return!0;var r=t.registeredQueries[n],o=w({},r);return o.fetchPolicy="network-only",t.fetchQuery(n,o,d.poll).catch(function(){}),!0}),0===this.intervalQueries[e].length&&(clearInterval(this.pollingTimers[e]),delete this.intervalQueries[e])},e.prototype.addQueryOnInterval=function(e,t){var n=this,r=t.pollInterval;if(!r)throw new Error("A poll interval is required to start polling query with id '"+e+"'.");this.intervalQueries.hasOwnProperty(r.toString())&&this.intervalQueries[r].length>0?this.intervalQueries[r].push(e):(this.intervalQueries[r]=[e],this.pollingTimers[r]=setInterval(function(){n.fetchQueriesOnInterval(r)},r))},e.prototype.registerPollingQuery=function(e){if(!e.pollInterval)throw new Error("Attempted to register a non-polling query with the scheduler.");return new v({scheduler:this,options:e})},e}(),S=function(){function e(){this.store={}}return e.prototype.getStore=function(){return this.store},e.prototype.get=function(e){return this.store[e]},e.prototype.initMutation=function(e,t,n){this.store[e]={mutationString:t,variables:n||{},loading:!0,error:null}},e.prototype.markMutationError=function(e,t){this.store[e].loading=!1,this.store[e].error=t},e.prototype.markMutationResult=function(e){this.store[e].loading=!1,this.store[e].error=null},e.prototype.reset=function(){this.store={}},e}(),O=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},_=function(){function e(){this.store={}}return e.prototype.getStore=function(){return this.store},e.prototype.get=function(e){return this.store[e]},e.prototype.initQuery=function(e){var t=this.store[e.queryId];if(t&&t.queryString!==e.queryString)throw new Error("Internal Error: may not update existing query string in store");var n,o=!1,i=null;e.storePreviousVariables&&t&&t.networkStatus!==r.loading&&(Object(a.q)(t.variables,e.variables)||(o=!0,i=t.variables)),n=o?r.setVariables:e.isPoll?r.poll:e.isRefetch?r.refetch:r.loading;var s=[];t&&t.graphQLErrors&&(s=t.graphQLErrors),this.store[e.queryId]={queryString:e.queryString,document:e.document,variables:e.variables,previousVariables:i,networkError:null,graphQLErrors:s,networkStatus:n,metadata:e.metadata},"string"==typeof e.fetchMoreForQueryId&&(this.store[e.fetchMoreForQueryId].networkStatus=r.fetchMore)},e.prototype.markQueryResult=function(e,t,n){this.store[e]&&(this.store[e].networkError=null,this.store[e].graphQLErrors=t.errors&&t.errors.length?t.errors:[],this.store[e].previousVariables=null,this.store[e].networkStatus=r.ready,"string"==typeof n&&(this.store[n].networkStatus=r.ready))},e.prototype.markQueryError=function(e,t,n){this.store[e]&&(this.store[e].networkError=t,this.store[e].networkStatus=r.error,"string"==typeof n&&this.markQueryError(n,t,void 0))},e.prototype.markQueryResultClient=function(e,t){this.store[e]&&(this.store[e].networkError=null,this.store[e].previousVariables=null,this.store[e].networkStatus=t?r.ready:r.loading)},e.prototype.stopQuery=function(e){delete this.store[e]},e.prototype.reset=function(e){var t=this;this.store=Object.keys(this.store).filter(function(t){return e.indexOf(t)>-1}).reduce(function(e,n){return e[n]=O({},t.store[n],{networkStatus:r.loading}),e},{})},e}(),C=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},x={listeners:[],invalidated:!1,document:null,newData:null,lastRequestId:null,observableQuery:null,subscriptions:[]},P=function(){function e(e){var t=e.link,n=e.queryDeduplication,r=void 0!==n&&n,o=e.store,a=e.onBroadcast,i=void 0===a?function(){}:a,l=e.ssrMode,c=void 0!==l&&l;this.mutationStore=new S,this.queryStore=new _,this.idCounter=1,this.queries=new Map,this.fetchQueryPromises=new Map,this.queryIdsByName={},this.link=t,this.deduplicator=s.a.from([new k,t]),this.queryDeduplication=r,this.dataStore=o,this.onBroadcast=i,this.scheduler=new E({queryManager:this,ssrMode:c})}return e.prototype.mutate=function(e){var t=this,n=e.mutation,r=e.variables,i=e.optimisticResponse,l=e.updateQueries,c=e.refetchQueries,u=void 0===c?[]:c,p=e.update,f=e.errorPolicy,d=void 0===f?"none":f,h=e.context,y=void 0===h?{}:h;if(!n)throw new Error("mutation option is required. You must specify your GraphQL document in the mutation option.");var b=this.generateQueryId(),v=this.dataStore.getCache();n=v.transformDocument(n),r=Object(a.c)({},Object(a.e)(Object(a.j)(n)),r);var g=Object(o.print)(n),k={query:n,variables:r,operationName:Object(a.l)(n)||void 0,context:y};this.setQuery(b,function(){return{document:n}});var w=function(){var e={};return l&&Object.keys(l).forEach(function(n){return(t.queryIdsByName[n]||[]).forEach(function(r){e[r]={updater:l[n],query:t.queryStore.get(r)}})}),e};return this.mutationStore.initMutation(b,g,r),this.dataStore.markMutationInit({mutationId:b,document:n,variables:r||{},updateQueries:w(),update:p,optimisticResponse:i}),this.broadcastQueries(),new Promise(function(e,o){var a,l,c=C({context:{}},k,{query:v.transformForLink?v.transformForLink(k.query):k.query});c.context.cache=t.dataStore.getCache(),Object(s.c)(t.link,c).subscribe({next:function(e){e.errors&&"none"===d?l=new m({graphQLErrors:e.errors}):(t.mutationStore.markMutationResult(b),t.dataStore.markMutationResult({mutationId:b,result:e,document:n,variables:r||{},updateQueries:w(),update:p}),a=e)},error:function(e){t.mutationStore.markMutationError(b,e),t.dataStore.markMutationComplete({mutationId:b,optimisticResponse:i}),t.broadcastQueries(),t.setQuery(b,function(){return{document:void 0}}),o(new m({networkError:e}))},complete:function(){l&&t.mutationStore.markMutationError(b,l),t.dataStore.markMutationComplete({mutationId:b,optimisticResponse:i}),t.broadcastQueries(),l?o(l):("function"==typeof u&&(u=u(a)),u.forEach(function(e){"string"!=typeof e?t.query({query:e.query,variables:e.variables,fetchPolicy:"network-only"}):t.refetchQueryByName(e)}),t.setQuery(b,function(){return{document:void 0}}),"ignore"===d&&a&&a.errors&&delete a.errors,e(a))}})})},e.prototype.fetchQuery=function(e,t,n,r){var i,s=this,l=t.variables,c=void 0===l?{}:l,u=t.metadata,p=void 0===u?null:u,f=t.fetchPolicy,h=void 0===f?"cache-first":f,y=this.dataStore.getCache(),b=y.transformDocument(t.query),v="network-only"===h;if(n!==d.refetch&&"network-only"!==h){var g=this.dataStore.getCache().diff({query:b,variables:c,returnPartialData:!0,optimistic:!1}),k=g.complete,w=g.result;v=!k||"cache-and-network"===h,i=w}var E=v&&"cache-only"!==h&&"standby"!==h;Object(a.p)(["live"],b)&&(E=!0);var S=this.generateRequestId(),O=this.updateQueryWatch(e,b,t);if(this.setQuery(e,function(){return{document:b,lastRequestId:S,invalidated:!0,cancel:O}}),this.invalidate(!0,r),this.queryStore.initQuery({queryId:e,queryString:Object(o.print)(b),document:b,storePreviousVariables:E,variables:c,isPoll:n===d.poll,isRefetch:n===d.refetch,metadata:p,fetchMoreForQueryId:r}),this.broadcastQueries(),(!E||"cache-and-network"===h)&&(this.queryStore.markQueryResultClient(e,!E),this.invalidate(!0,e,r),this.broadcastQueries()),E){var _=this.fetchRequest({requestId:S,queryId:e,document:y.transformForLink?y.transformForLink(b):b,options:t,fetchMoreForQueryId:r}).catch(function(t){if(function(e){return e.hasOwnProperty("graphQLErrors")}(t))throw t;var n=s.getQuery(e).lastRequestId;throw S>=(n||1)&&(s.queryStore.markQueryError(e,t,r),s.invalidate(!0,e,r),s.broadcastQueries()),s.removeFetchQueryPromise(S),new m({networkError:t})});if("cache-and-network"!==h)return _;_.catch(function(){})}return Promise.resolve({data:i})},e.prototype.queryListenerForObserver=function(e,t,n){var r=this,o=!1;return function(s,l){if(r.invalidate(!1,e),s){var c=r.getQuery(e).observableQuery,u=c?c.options.fetchPolicy:t.fetchPolicy;if("standby"!==u){var p=c?c.options.errorPolicy:t.errorPolicy,f=c?c.getLastResult():null,d=c?c.getLastError():null,h=!l&&null!=s.previousVariables||"cache-only"===u||"cache-and-network"===u,y=Boolean(f&&s.networkStatus!==f.networkStatus),b=p&&(d&&d.graphQLErrors)!==s.graphQLErrors&&"none"!==p;if(!i(s.networkStatus)||y&&t.notifyOnNetworkStatusChange||h){if((!p||"none"===p)&&s.graphQLErrors&&s.graphQLErrors.length>0||s.networkError){var v=new m({graphQLErrors:s.graphQLErrors,networkError:s.networkError});if(o=!0,n.error)try{n.error(v)}catch(e){setTimeout(function(){throw e},0)}else setTimeout(function(){throw v},0),Object(a.v)()||console.info("An unhandled error was thrown because no error handler is registered for the query "+s.queryString);return}try{var g=void 0,k=void 0;if(l)r.setQuery(e,function(){return{newData:null}}),g=l.result,k=!l.complete&&!l.complete;else if(f&&f.data&&!b)g=f.data,k=!1;else{var w=r.getQuery(e).document,E=r.dataStore.getCache().diff({query:w,variables:s.previousVariables||s.variables,optimistic:!0});g=E.result,k=!E.complete}var S=void 0;if(S=k&&"cache-only"!==u?{data:f&&f.data,loading:i(s.networkStatus),networkStatus:s.networkStatus,stale:!0}:{data:g,loading:i(s.networkStatus),networkStatus:s.networkStatus,stale:!1},"all"===p&&s.graphQLErrors&&s.graphQLErrors.length>0&&(S.errors=s.graphQLErrors),n.next)if(!(f&&S&&f.networkStatus===S.networkStatus&&f.stale===S.stale&&f.data===S.data)||o)try{n.next(Object(a.x)(S))}catch(e){setTimeout(function(){throw e},0)}o=!1}catch(e){return o=!0,void(n.error&&n.error(new m({networkError:e})))}}}}}},e.prototype.watchQuery=function(e,t){if(void 0===t&&(t=!0),"standby"===e.fetchPolicy)throw new Error('client.watchQuery cannot be called with fetchPolicy set to "standby"');var n=Object(a.m)(e.query);if(n.variableDefinitions&&n.variableDefinitions.length){var r=Object(a.e)(n);e.variables=Object(a.c)({},r,e.variables)}void 0===e.notifyOnNetworkStatusChange&&(e.notifyOnNetworkStatusChange=!1);var o=C({},e);return new v({scheduler:this.scheduler,options:o,shouldSubscribe:t})},e.prototype.query=function(e){var t=this;if(!e.query)throw new Error("query option is required. You must specify your GraphQL document in the query option.");if("Document"!==e.query.kind)throw new Error('You must wrap the query string in a "gql" tag.');if(e.returnPartialData)throw new Error("returnPartialData option only supported on watchQuery.");if(e.pollInterval)throw new Error("pollInterval option only supported on watchQuery.");if(void 0!==e.notifyOnNetworkStatusChange)throw new Error('Cannot call "query" with "notifyOnNetworkStatusChange" option. Only "watchQuery" has that option.');e.notifyOnNetworkStatusChange=!1;var n=this.idCounter,r=new Promise(function(o,a){return t.addFetchQueryPromise(n,r,o,a),t.watchQuery(e,!1).result().then(function(e){t.removeFetchQueryPromise(n),o(e)}).catch(function(e){t.removeFetchQueryPromise(n),a(e)})});return r},e.prototype.generateQueryId=function(){var e=this.idCounter.toString();return this.idCounter++,e},e.prototype.stopQueryInStore=function(e){this.queryStore.stopQuery(e),this.invalidate(!0,e),this.broadcastQueries()},e.prototype.addQueryListener=function(e,t){this.setQuery(e,function(e){var n=e.listeners;return{listeners:(void 0===n?[]:n).concat([t]),invalidate:!1}})},e.prototype.updateQueryWatch=function(e,t,n){var r=this,o=this.getQuery(e).cancel;o&&o();return this.dataStore.getCache().watch({query:t,variables:n.variables,optimistic:!0,previousResult:function(){var t=null,n=r.getQuery(e).observableQuery;if(n){var o=n.getLastResult();o&&(t=o.data)}return t},callback:function(t){r.setQuery(e,function(){return{invalidated:!0,newData:t}})}})},e.prototype.addFetchQueryPromise=function(e,t,n,r){this.fetchQueryPromises.set(e.toString(),{promise:t,resolve:n,reject:r})},e.prototype.removeFetchQueryPromise=function(e){this.fetchQueryPromises.delete(e.toString())},e.prototype.addObservableQuery=function(e,t){this.setQuery(e,function(){return{observableQuery:t}});var n=Object(a.m)(t.options.query);if(n.name&&n.name.value){var r=n.name.value;this.queryIdsByName[r]=this.queryIdsByName[r]||[],this.queryIdsByName[r].push(t.queryId)}},e.prototype.removeObservableQuery=function(e){var t=this.getQuery(e),n=t.observableQuery,r=t.cancel;if(r&&r(),n){var o=Object(a.m)(n.options.query),i=o.name?o.name.value:null;this.setQuery(e,function(){return{observableQuery:null}}),i&&(this.queryIdsByName[i]=this.queryIdsByName[i].filter(function(e){return!(n.queryId===e)}))}},e.prototype.resetStore=function(){this.fetchQueryPromises.forEach(function(e){(0,e.reject)(new Error("Store reset while query was in flight."))});var e=[];this.queries.forEach(function(t,n){t.observableQuery&&e.push(n)}),this.queryStore.reset(e),this.mutationStore.reset();var t=this.dataStore.reset(),n=this.getObservableQueryPromises();return this.broadcastQueries(),t.then(function(){return Promise.all(n)})},e.prototype.getObservableQueryPromises=function(){var e=this,t=[];return this.queries.forEach(function(n,r){var o=n.observableQuery;if(o){var a=o.options.fetchPolicy;o.resetLastResults(),"cache-only"!==a&&"standby"!==a&&t.push(o.refetch()),e.setQuery(r,function(){return{newData:null}}),e.invalidate(!0,r)}}),t},e.prototype.reFetchObservableQueries=function(){var e=this.getObservableQueryPromises();return this.broadcastQueries(),Promise.all(e)},e.prototype.startQuery=function(e,t,n){return this.addQueryListener(e,n),this.fetchQuery(e,t).catch(function(){}),e},e.prototype.startGraphQLSubscription=function(e){var t,n=this,r=e.query,o=this.dataStore.getCache(),i=o.transformDocument(r),l=Object(a.c)({},Object(a.e)(Object(a.k)(r)),e.variables),c={query:i,variables:l,operationName:Object(a.l)(i)||void 0},u=[];return new p(function(e){if(u.push(e),1===u.length){var r={next:function(e){n.dataStore.markSubscriptionResult(e,i,l),n.broadcastQueries(),u.forEach(function(t){t.next&&t.next(e)})},error:function(e){u.forEach(function(t){t.error&&t.error(e)})}},a=C({},c,{query:o.transformForLink?o.transformForLink(c.query):c.query});t=Object(s.c)(n.link,a).subscribe(r)}return function(){0===(u=u.filter(function(t){return t!==e})).length&&t&&t.unsubscribe()}})},e.prototype.stopQuery=function(e){this.removeQuery(e),this.stopQueryInStore(e)},e.prototype.removeQuery=function(e){this.getQuery(e).subscriptions.forEach(function(e){return e.unsubscribe()}),this.queries.delete(e)},e.prototype.getCurrentQueryResult=function(e){var t=e.options,n=t.variables,r=t.query,o=e.getLastResult(),i=this.getQuery(e.queryId).newData;if(i)return Object(a.x)({data:i.result,partial:!1});try{var s=this.dataStore.getCache().read({query:r,variables:n,previousResult:o?o.data:void 0,optimistic:!0});return Object(a.x)({data:s,partial:!1})}catch(e){return Object(a.x)({data:{},partial:!0})}},e.prototype.getQueryWithPreviousResult=function(e){var t;if("string"==typeof e){var n=this.getQuery(e).observableQuery;if(!n)throw new Error("ObservableQuery with this id doesn't exist: "+e);t=n}else t=e;var r=t.options,o=r.variables,a=r.query;return{previousResult:this.getCurrentQueryResult(t).data,variables:o,document:a}},e.prototype.broadcastQueries=function(){var e=this;this.onBroadcast(),this.queries.forEach(function(t,n){t.invalidated&&t.listeners&&t.listeners.filter(function(e){return!!e}).forEach(function(r){r(e.queryStore.get(n),t.newData)})})},e.prototype.fetchRequest=function(e){var t,n,o=this,i=e.requestId,l=e.queryId,c=e.document,u=e.options,p=e.fetchMoreForQueryId,f=u.variables,d=u.context,h=u.errorPolicy,y=void 0===h?"none":h,b={query:c,variables:f,operationName:Object(a.l)(c)||void 0,context:d||{}};b.context.forceFetch=!this.queryDeduplication,b.context.cache=this.dataStore.getCache();var v=new Promise(function(e,a){o.addFetchQueryPromise(i,v,e,a);var u=Object(s.c)(o.deduplicator,b).subscribe({next:function(e){var r=o.getQuery(l).lastRequestId;if(i>=(r||1)){try{o.dataStore.markQueryResult(e,c,f,p,"ignore"===y)}catch(e){return void a(e)}o.queryStore.markQueryResult(l,e,p),o.invalidate(!0,l,p),o.broadcastQueries()}if(e.errors&&"none"===y)a(new m({graphQLErrors:e.errors}));else if("all"===y&&(n=e.errors),p)t=e.data;else try{t=o.dataStore.getCache().read({variables:f,query:c,optimistic:!1})}catch(e){}},error:function(e){o.removeFetchQueryPromise(i),o.setQuery(l,function(e){return{subscriptions:e.subscriptions.filter(function(e){return e!==u})}}),a(e)},complete:function(){o.removeFetchQueryPromise(i),o.setQuery(l,function(e){return{subscriptions:e.subscriptions.filter(function(e){return e!==u})}}),e({data:t,errors:n,loading:!1,networkStatus:r.ready,stale:!1})}});o.setQuery(l,function(e){return{subscriptions:e.subscriptions.concat([u])}})});return v},e.prototype.refetchQueryByName=function(e){var t=this,n=this.queryIdsByName[e];if(void 0!==n)return Promise.all(n.map(function(e){return t.getQuery(e).observableQuery}).filter(function(e){return!!e}).map(function(e){return e.refetch()}))},e.prototype.generateRequestId=function(){var e=this.idCounter;return this.idCounter++,e},e.prototype.getQuery=function(e){return this.queries.get(e)||C({},x)},e.prototype.setQuery=function(e,t){var n=this.getQuery(e),r=C({},n,t(n));this.queries.set(e,r)},e.prototype.invalidate=function(e,t,n){t&&this.setQuery(t,function(){return{invalidated:e}}),n&&this.setQuery(n,function(){return{invalidated:e}})},e}(),A=function(){function e(e){this.cache=e}return e.prototype.getCache=function(){return this.cache},e.prototype.markQueryResult=function(e,t,n,r,o){void 0===o&&(o=!1);var i=!Object(a.o)(e);o&&Object(a.o)(e)&&e.data&&(i=!0),!r&&i&&this.cache.write({result:e.data,dataId:"ROOT_QUERY",query:t,variables:n})},e.prototype.markSubscriptionResult=function(e,t,n){Object(a.o)(e)||this.cache.write({result:e.data,dataId:"ROOT_SUBSCRIPTION",query:t,variables:n})},e.prototype.markMutationInit=function(e){var t=this;if(e.optimisticResponse){var n;n="function"==typeof e.optimisticResponse?e.optimisticResponse(e.variables):e.optimisticResponse;this.cache.recordOptimisticTransaction(function(r){var o=t.cache;t.cache=r;try{t.markMutationResult({mutationId:e.mutationId,result:{data:n},document:e.document,variables:e.variables,updateQueries:e.updateQueries,update:e.update})}finally{t.cache=o}},e.mutationId)}},e.prototype.markMutationResult=function(e){var t=this;if(!Object(a.o)(e.result)){var n=[];n.push({result:e.result.data,dataId:"ROOT_MUTATION",query:e.document,variables:e.variables}),e.updateQueries&&Object.keys(e.updateQueries).filter(function(t){return e.updateQueries[t]}).forEach(function(r){var o=e.updateQueries[r],i=o.query,s=o.updater,l=t.cache.diff({query:i.document,variables:i.variables,returnPartialData:!0,optimistic:!1}),c=l.result;if(l.complete){var u=Object(a.C)(function(){return s(c,{mutationResult:e.result,queryName:Object(a.l)(i.document)||void 0,queryVariables:i.variables})});u&&n.push({result:u,dataId:"ROOT_QUERY",query:i.document,variables:i.variables})}}),this.cache.performTransaction(function(e){n.forEach(function(t){return e.write(t)})});var r=e.update;r&&this.cache.performTransaction(function(t){Object(a.C)(function(){return r(t,e.result)})})}},e.prototype.markMutationComplete=function(e){var t=e.mutationId;e.optimisticResponse&&this.cache.removeOptimistic(t)},e.prototype.markUpdateQueryResult=function(e,t,n){this.cache.write({result:n,dataId:"ROOT_QUERY",variables:t,query:e})},e.prototype.reset=function(){return this.cache.reset()},e}(),T=n(1667),D=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},j=!1,R=new s.a(function(e,t){return e.query=Object(a.y)(e.query),t(e)}),F=function(){function e(e){var t=this;this.defaultOptions={};var n=e.link,r=e.cache,o=e.ssrMode,i=void 0!==o&&o,s=e.ssrForceFetchDelay,l=void 0===s?0:s,c=e.connectToDevTools,u=e.queryDeduplication,p=void 0===u||u,f=e.defaultOptions;if(!n||!r)throw new Error("\n        In order to initialize Apollo Client, you must specify link & cache properties on the config object.\n        This is part of the required upgrade when migrating from Apollo Client 1.0 to Apollo Client 2.0.\n        For more information, please visit:\n          https://www.apollographql.com/docs/react/basics/setup.html\n        to help you get started.\n      ");this.link=R.concat(n),this.cache=r,this.store=new A(r),this.disableNetworkFetches=i||l>0,this.queryDeduplication=p,this.ssrMode=i,this.defaultOptions=f||{},l&&setTimeout(function(){return t.disableNetworkFetches=!1},l),this.watchQuery=this.watchQuery.bind(this),this.query=this.query.bind(this),this.mutate=this.mutate.bind(this),this.resetStore=this.resetStore.bind(this),this.reFetchObservableQueries=this.reFetchObservableQueries.bind(this);var d=!Object(a.v)()&&"undefined"!=typeof window&&!window.__APOLLO_CLIENT__;(void 0===c?d:c&&"undefined"!=typeof window)&&(window.__APOLLO_CLIENT__=this),j||Object(a.v)()||(j=!0,"undefined"!=typeof window&&window.document&&window.top===window.self&&void 0===window.__APOLLO_DEVTOOLS_GLOBAL_HOOK__&&navigator.userAgent.indexOf("Chrome")>-1&&console.debug("Download the Apollo DevTools for a better development experience: https://chrome.google.com/webstore/detail/apollo-client-developer-t/jdkknkkbebbapilgoeccciglkfbmbnfm")),this.version=T.version}return e.prototype.watchQuery=function(e){return this.initQueryManager(),this.defaultOptions.watchQuery&&(e=D({},this.defaultOptions.watchQuery,e)),this.disableNetworkFetches&&"network-only"===e.fetchPolicy&&(e=D({},e,{fetchPolicy:"cache-first"})),this.queryManager.watchQuery(e)},e.prototype.query=function(e){if(this.initQueryManager(),"cache-and-network"===e.fetchPolicy)throw new Error("cache-and-network fetchPolicy can only be used with watchQuery");return this.defaultOptions.query&&(e=D({},this.defaultOptions.query,e)),this.disableNetworkFetches&&"network-only"===e.fetchPolicy&&(e=D({},e,{fetchPolicy:"cache-first"})),this.queryManager.query(e)},e.prototype.mutate=function(e){return this.initQueryManager(),this.defaultOptions.mutate&&(e=D({},this.defaultOptions.mutate,e)),this.queryManager.mutate(e)},e.prototype.subscribe=function(e){return this.initQueryManager(),this.queryManager.startGraphQLSubscription(e)},e.prototype.readQuery=function(e){return this.initProxy().readQuery(e)},e.prototype.readFragment=function(e){return this.initProxy().readFragment(e)},e.prototype.writeQuery=function(e){var t=this.initProxy().writeQuery(e);return this.queryManager.broadcastQueries(),t},e.prototype.writeFragment=function(e){var t=this.initProxy().writeFragment(e);return this.queryManager.broadcastQueries(),t},e.prototype.__actionHookForDevTools=function(e){this.devToolsHookCb=e},e.prototype.__requestRaw=function(e){return Object(s.c)(this.link,e)},e.prototype.initQueryManager=function(){var e=this;this.queryManager||(this.queryManager=new P({link:this.link,store:this.store,queryDeduplication:this.queryDeduplication,ssrMode:this.ssrMode,onBroadcast:function(){e.devToolsHookCb&&e.devToolsHookCb({action:{},state:{queries:e.queryManager.queryStore.getStore(),mutations:e.queryManager.mutationStore.getStore()},dataWithOptimisticResults:e.cache.extract(!0)})}}))},e.prototype.resetStore=function(){return this.queryManager?this.queryManager.resetStore():Promise.resolve(null)},e.prototype.reFetchObservableQueries=function(){return this.queryManager?this.queryManager.reFetchObservableQueries():Promise.resolve(null)},e.prototype.extract=function(e){return this.initProxy().extract(e)},e.prototype.restore=function(e){return this.initProxy().restore(e)},e.prototype.initProxy=function(){return this.proxy||(this.initQueryManager(),this.proxy=this.cache),this.proxy},e}();n.d(t,!1,function(){return o.print}),n.d(t,!1,function(){return v}),n.d(t,!1,function(){return r}),n.d(t,!1,function(){return d}),n.d(t,!1,function(){return m}),n.d(t,"a",function(){return F})},1656:function(e,t,n){"use strict";var r,o=n(1619),a=function(){function e(){}return e.prototype.transformDocument=function(e){return e},e.prototype.transformForLink=function(e){return e},e.prototype.readQuery=function(e,t){return void 0===t&&(t=!1),this.read({query:e.query,variables:e.variables,optimistic:t})},e.prototype.readFragment=function(e,t){return void 0===t&&(t=!1),this.read({query:Object(o.h)(e.fragment,e.fragmentName),variables:e.variables,rootId:e.id,optimistic:t})},e.prototype.writeQuery=function(e){this.write({dataId:"ROOT_QUERY",result:e.data,query:e.query,variables:e.variables})},e.prototype.writeFragment=function(e){this.write({dataId:e.id,result:e.data,variables:e.variables,query:Object(o.h)(e.fragment,e.fragmentName)})},e}();r||(r={});var i=!1,s=function(){function e(){}return e.prototype.ensureReady=function(){return Promise.resolve()},e.prototype.canBypassInit=function(){return!0},e.prototype.match=function(e,t,n){var r=n.store.get(e.id);return!!r&&(r.__typename?r.__typename===t||(Object(o.D)("You are using the simple (heuristic) fragment matcher, but your queries contain union or interface types.\n     Apollo Client will not be able to able to accurately map fragments.To make this error go away, use the IntrospectionFragmentMatcher as described in the docs: http://dev.apollodata.com/react/initialization.html#fragment-matcher","error"),n.returnPartialData=!0,!0):(i||(console.warn("You're using fragments in your queries, but either don't have the addTypename:\n  true option set in Apollo Client, or you are trying to write a fragment to the store without the __typename.\n   Please turn on the addTypename option and include __typename when writing fragments so that Apollo Client\n   can accurately match fragments."),console.warn("Could not find __typename on Fragment ",t,r),console.warn("DEPRECATION WARNING: using fragments without __typename is unsupported behavior and will be removed in future versions of Apollo client. You should fix this and set addTypename to true now."),Object(o.w)()||(i=!0)),n.returnPartialData=!0,!0))},e}(),l=function(){function e(e){e&&e.introspectionQueryResultData?(this.possibleTypesMap=this.parseIntrospectionResult(e.introspectionQueryResultData),this.isReady=!0):this.isReady=!1,this.match=this.match.bind(this)}return e.prototype.match=function(e,t,n){if(!this.isReady)throw new Error("FragmentMatcher.match() was called before FragmentMatcher.init()");var r=n.store.get(e.id);if(!r)return!1;if(!r.__typename)throw new Error("Cannot match fragment because __typename property is missing: "+JSON.stringify(r));if(r.__typename===t)return!0;var o=this.possibleTypesMap[t];return!!(o&&o.indexOf(r.__typename)>-1)},e.prototype.parseIntrospectionResult=function(e){var t={};return e.__schema.types.forEach(function(e){"UNION"!==e.kind&&"INTERFACE"!==e.kind||(t[e.name]=e.possibleTypes.map(function(e){return e.name}))}),t},e}(),c=n(1621),u=function(){function e(e){void 0===e&&(e={}),this.data=e}return e.prototype.toObject=function(){return this.data},e.prototype.get=function(e){return this.data[e]},e.prototype.set=function(e,t){this.data[e]=t},e.prototype.delete=function(e){this.data[e]=void 0},e.prototype.clear=function(){this.data={}},e.prototype.replace=function(e){this.data=e||{}},e}();function p(e){return new u(e)}var f=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),d=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="WriteError",t}return f(t,e),t}(Error);function m(e,t){var n=new h("Error writing result to store for query:\n "+Object(c.print)(t));return n.message+="\n"+e.message,n.stack=e.stack,n}function y(e){var t=e.result,n=e.query,r=e.storeFactory,a=void 0===r?p:r,i=e.store,s=void 0===i?a():i,l=e.variables,c=e.dataIdFromObject,u=e.fragmentMap,f=void 0===u?{}:u,d=e.fragmentMatcherFunction,h=Object(o.m)(n);l=Object(o.c)({},Object(o.e)(h),l);try{return v({dataId:"ROOT_QUERY",result:t,selectionSet:h.selectionSet,context:{store:s,storeFactory:a,processedData:{},variables:l,dataIdFromObject:c,fragmentMap:f,fragmentMatcherFunction:d}})}catch(e){throw m(e,n)}}function b(e){var t=e.dataId,n=e.result,r=e.document,a=e.storeFactory,i=void 0===a?p:a,s=e.store,l=void 0===s?i():s,c=e.variables,u=e.dataIdFromObject,f=e.fragmentMatcherFunction,d=Object(o.k)(r),h=d.selectionSet,y=Object(o.d)(Object(o.g)(r));c=Object(o.c)({},Object(o.e)(d),c);try{return v({result:n,dataId:t,selectionSet:h,context:{store:l,storeFactory:i,processedData:{},variables:c,dataIdFromObject:u,fragmentMap:y,fragmentMatcherFunction:f}})}catch(e){throw m(e,r)}}function v(e){var t=e.result,n=e.dataId,r=e.selectionSet,a=e.context,i=a.variables,s=a.store,l=a.fragmentMap;return r.selections.forEach(function(e){var r=Object(o.A)(e,i);if(Object(o.r)(e)){var s=Object(o.z)(e),p=t[s];if(r)if(void 0!==p)!function(e){var t,n,r=e.field,a=e.value,i=e.dataId,s=e.context,l=s.variables,u=s.dataIdFromObject,p=s.store,f=Object(o.B)(r,l),h=!1,m="";if(r.selectionSet&&null!==a)if(Array.isArray(a)){var y=i+"."+f;t=function e(t,n,r,o){return t.map(function(t,a){if(null===t)return null;var i=n+"."+a;if(Array.isArray(t))return e(t,i,r,o);var s=!0;if(o.dataIdFromObject){var l=o.dataIdFromObject(t);l&&(i=l,s=!1)}k(i,r,o.processedData)||v({dataId:i,result:t,selectionSet:r,context:o});var c={type:"id",id:i,generated:s};return c})}(a,y,r.selectionSet,s)}else{var b=i+"."+f,w=!0;if(g(b)||(b="$"+b),u){var E=u(a);if(E&&g(E))throw new Error('IDs returned by dataIdFromObject cannot begin with the "$" character.');E&&(b=E,w=!1)}if(k(b,r,s.processedData)||v({dataId:b,result:a,selectionSet:r.selectionSet,context:s}),t={type:"id",id:b,generated:w},(n=p.get(i))&&n[f]!==t){var S=n[f];if(Object(o.s)(t)&&t.generated&&Object(o.s)(S)&&!S.generated)throw new Error("Store error: the application attempted to write an object with no provided id but the store already contains an id of "+S.id+" for this object. The selectionSet that was trying to be written is:\n"+Object(c.print)(r));Object(o.s)(S)&&S.generated&&(m=S.id,h=!0)}}else t=null!=a&&"object"==typeof a?{type:"json",json:a}:a;var O,_=d({},p.get(i),((O={})[f]=t,O));h&&function e(t,n,r){var a=r.get(t);var i=r.get(n);Object.keys(a).forEach(function(s){var l=a[s],c=i[s];Object(o.s)(l)&&g(l.id)&&Object(o.s)(c)&&e(l.id,c.id,r),r.delete(t),r.set(n,d({},a,i))})}(m,t.id,p);(n=p.get(i))&&t===n[f]||p.set(i,_)}({dataId:n,value:p,field:e,context:a});else!(e.directives&&e.directives.length&&e.directives.some(function(e){return e.name&&"defer"===e.name.value}))&&a.fragmentMatcherFunction&&(Object(o.v)()||console.warn("Missing field "+s+" in "+JSON.stringify(t,null,2).substring(0,100)))}else{var f=void 0;if(Object(o.t)(e))f=e;else if(!(f=(l||{})[e.name.value]))throw new Error("No fragment named "+e.name.value+".");var h=!0;if(a.fragmentMatcherFunction&&f.typeCondition){var m={store:new u({self:t}),returnPartialData:!1,hasMissingField:!1,cacheResolvers:{}};h=a.fragmentMatcherFunction({type:"id",id:"self",generated:!1},f.typeCondition.name.value,m),!Object(o.v)()&&m.returnPartialData&&console.error("WARNING: heuristic fragment matching going on!")}r&&h&&v({result:t,selectionSet:f.selectionSet,dataId:n,context:a})}}),s}function g(e){return"$"===e[0]}function k(e,t,n){if(!n)return!1;if(n[e]){if(n[e].indexOf(t)>=0)return!0;n[e].push(t)}else n[e]=[t];return!1}function w(e,t,n,r,a,i){void 0===i&&(i={});var s=Object(o.i)(t),l=Object(o.g)(t),c={fragmentMap:Object(o.d)(l),contextValue:r,variableValues:a,resultMapper:i.resultMapper,resolver:e,fragmentMatcher:i.fragmentMatcher||function(){return!0}};return E(s.selectionSet,n,c)}function E(e,t,n){var r=n.fragmentMap,a=n.contextValue,i=n.variableValues,s={};return e.selections.forEach(function(e){if(Object(o.A)(e,i))if(Object(o.r)(e)){var l=function(e,t,n){var r=n.variableValues,a=n.contextValue,i=n.resolver,s=e.name.value,l=Object(o.b)(e,r),c={isLeaf:!e.selectionSet,resultKey:Object(o.z)(e),directives:Object(o.f)(e,r)},u=i(s,t,l,a,c);if(!e.selectionSet)return u;if(null==u)return u;if(Array.isArray(u))return function e(t,n,r){return n.map(function(n){return null===n?null:Array.isArray(n)?e(t,n,r):E(t.selectionSet,n,r)})}(e,u,n);return E(e.selectionSet,u,n)}(e,t,n),c=Object(o.z)(e);void 0!==l&&(void 0===s[c]?s[c]=l:S(s[c],l))}else{var u=void 0;if(Object(o.t)(e))u=e;else if(!(u=r[e.name.value]))throw new Error("No fragment named "+e.name.value);var p=u.typeCondition.name.value;if(n.fragmentMatcher(t,p,a)){var f=E(u.selectionSet,t,n);S(s,f)}}}),n.resultMapper?n.resultMapper(s,t):s}function S(e,t){if(null===t||"object"!=typeof t)return t;Object.keys(e).forEach(function(n){t.hasOwnProperty(n)&&S(e[n],t[n])}),Object.keys(t).forEach(function(n){e.hasOwnProperty(n)||(e[n]=t[n])})}function O(e){this.message=e,this.stack=""}O.prototype=Error.prototype;var _=w,C=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},x="undefined"!=typeof Symbol?Symbol("id"):"@@id";function P(e){return T(C({},e,{returnPartialData:!1})).result}var A=function(e,t,n,r,a){var i=a.resultKey,s=a.directives;D(t);var l=t.id,c=r.store.get(l),u=Object(o.n)(e,n,s),p=(c||{})[u];if(void 0===p&&r.cacheResolvers&&c&&(c.__typename||"ROOT_QUERY"===l)){var f=c.__typename||"Query",d=r.cacheResolvers[f];if(d){var h=d[e];h&&(p=h(c,n))}}if(void 0===p){if(!r.returnPartialData)throw new Error("Can't find field "+u+" on object ("+l+") "+JSON.stringify(c,null,2)+".");return r.hasMissingField=!0,p}return Object(o.u)(p)?t.previousResult&&Object(o.q)(t.previousResult[i],p.json)?t.previousResult[i]:p.json:(t.previousResult&&(p=function e(t,n){if(Object(o.s)(t))return C({},t,{previousResult:n});if(Array.isArray(t)){var r=new Map;return Array.isArray(n)&&n.forEach(function(e){e&&e[x]&&r.set(e[x],e)}),t.map(function(t,a){var i=n&&n[a];return Object(o.s)(t)&&(i=r.get(t.id)||i),e(t,i)})}return t}(p,t.previousResult[i])),p)};function T(e){var t=e.store,n=e.query,r=e.variables,a=e.previousResult,i=e.returnPartialData,s=void 0===i||i,l=e.rootId,c=void 0===l?"ROOT_QUERY":l,u=e.fragmentMatcherFunction,p=e.config,f=Object(o.m)(n);r=Object(o.c)({},Object(o.e)(f),r);var d={store:t,returnPartialData:s,cacheResolvers:p&&p.cacheResolvers||{},hasMissingField:!1};return{result:_(A,n,{type:"id",id:c,previousResult:a},d,r,{fragmentMatcher:u,resultMapper:j}),complete:!d.hasMissingField}}function D(e){if(!Object(o.s)(e))throw new Error("Encountered a sub-selection on the query, but the store doesn't have an object reference. This should never happen during normal use unless you have custom code that is directly manipulating the store; please file an issue.")}function j(e,t){if(t.previousResult){var n=Object.keys(e);if(Object.keys(t.previousResult).reduce(function(e,t){return e&&n.indexOf(t)>-1},!0)&&n.every(function(n){return function e(t,n){if(t===n)return!0;if(!Array.isArray(t)||!Array.isArray(n)||t.length!==n.length)return!1;return t.every(function(t,r){return e(t,n[r])})}(e[n],t.previousResult[n])}))return t.previousResult}return Object.defineProperty(e,x,{enumerable:!1,configurable:!1,writable:!1,value:t.id}),e}var R=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},F=function(){function e(e){void 0===e&&(e={}),this.data=e,this.recordedData={}}return e.prototype.record=function(e){e(this);var t=this.recordedData;return this.recordedData={},t},e.prototype.toObject=function(){return R({},this.data,this.recordedData)},e.prototype.get=function(e){return this.recordedData.hasOwnProperty(e)?this.recordedData[e]:this.data[e]},e.prototype.set=function(e,t){this.get(e)!==t&&(this.recordedData[e]=t)},e.prototype.delete=function(e){this.recordedData[e]=void 0},e.prototype.clear=function(){var e=this;Object.keys(this.data).forEach(function(t){return e.delete(t)}),this.recordedData={}},e.prototype.replace=function(e){this.clear(),this.recordedData=R({},e)},e}();function N(e,t){return new F(e).record(t)}var q=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),I=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},M={fragmentMatcher:new s,dataIdFromObject:L,addTypename:!0,storeFactory:p};function L(e){if(e.__typename){if(void 0!==e.id)return e.__typename+":"+e.id;if(void 0!==e._id)return e.__typename+":"+e._id}return null}var B=function(e){function t(t){void 0===t&&(t={});var n=e.call(this)||this;return n.optimistic=[],n.watches=[],n.silenceBroadcast=!1,n.config=I({},M,t),n.config.customResolvers&&(n.config.cacheResolvers=n.config.customResolvers),n.addTypename=!!n.config.addTypename,n.data=n.config.storeFactory(),n}return q(t,e),t.prototype.restore=function(e){return e&&this.data.replace(e),this},t.prototype.extract=function(e){if(void 0===e&&(e=!1),e&&this.optimistic.length>0){var t=this.optimistic.map(function(e){return e.data});return Object.assign.apply(Object,[{},this.data.toObject()].concat(t))}return this.data.toObject()},t.prototype.read=function(e){return e.rootId&&void 0===this.data.get(e.rootId)?null:P({store:this.config.storeFactory(this.extract(e.optimistic)),query:this.transformDocument(e.query),variables:e.variables,rootId:e.rootId,fragmentMatcherFunction:this.config.fragmentMatcher.match,previousResult:e.previousResult,config:this.config})},t.prototype.write=function(e){b({dataId:e.dataId,result:e.result,variables:e.variables,document:this.transformDocument(e.query),store:this.data,dataIdFromObject:this.config.dataIdFromObject,fragmentMatcherFunction:this.config.fragmentMatcher.match}),this.broadcastWatches()},t.prototype.diff=function(e){return T({store:this.config.storeFactory(this.extract(e.optimistic)),query:this.transformDocument(e.query),variables:e.variables,returnPartialData:e.returnPartialData,previousResult:e.previousResult,fragmentMatcherFunction:this.config.fragmentMatcher.match,config:this.config})},t.prototype.watch=function(e){var t=this;return this.watches.push(e),function(){t.watches=t.watches.filter(function(t){return t!==e})}},t.prototype.evict=function(e){throw new Error("eviction is not implemented on InMemory Cache")},t.prototype.reset=function(){return this.data.clear(),this.broadcastWatches(),Promise.resolve()},t.prototype.removeOptimistic=function(e){var t=this,n=this.optimistic.filter(function(t){return t.id!==e});this.optimistic=[],n.forEach(function(e){t.recordOptimisticTransaction(e.transaction,e.id)}),this.broadcastWatches()},t.prototype.performTransaction=function(e){var t=this.silenceBroadcast;this.silenceBroadcast=!0,e(this),t||(this.silenceBroadcast=!1),this.broadcastWatches()},t.prototype.recordOptimisticTransaction=function(e,t){var n=this;this.silenceBroadcast=!0;var r=N(this.extract(!0),function(t){var r=n.data;n.data=t,n.performTransaction(e),n.data=r});this.optimistic.push({id:t,transaction:e,data:r}),this.silenceBroadcast=!1,this.broadcastWatches()},t.prototype.transformDocument=function(e){return this.addTypename?Object(o.a)(e):e},t.prototype.readQuery=function(e,t){return void 0===t&&(t=!1),this.read({query:e.query,variables:e.variables,optimistic:t})},t.prototype.readFragment=function(e,t){return void 0===t&&(t=!1),this.read({query:this.transformDocument(Object(o.h)(e.fragment,e.fragmentName)),variables:e.variables,rootId:e.id,optimistic:t})},t.prototype.writeQuery=function(e){this.write({dataId:"ROOT_QUERY",result:e.data,query:this.transformDocument(e.query),variables:e.variables})},t.prototype.writeFragment=function(e){this.write({dataId:e.id,result:e.data,query:this.transformDocument(Object(o.h)(e.fragment,e.fragmentName)),variables:e.variables})},t.prototype.broadcastWatches=function(){var e=this;this.silenceBroadcast||this.watches.forEach(function(t){var n=e.diff({query:t.query,variables:t.variables,previousResult:t.previousResult&&t.previousResult(),optimistic:t.optimistic});t.callback(n)})},t}(a);n.d(t,"a",function(){return B}),n.d(t,!1,function(){return L}),n.d(t,!1,function(){return x}),n.d(t,!1,function(){return P}),n.d(t,!1,function(){return T}),n.d(t,!1,function(){return D}),n.d(t,!1,function(){return h}),n.d(t,!1,function(){return m}),n.d(t,!1,function(){return y}),n.d(t,!1,function(){return b}),n.d(t,!1,function(){return v}),n.d(t,!1,function(){return s}),n.d(t,!1,function(){return l}),n.d(t,!1,function(){return u}),n.d(t,!1,function(){return p}),n.d(t,!1,function(){return F}),n.d(t,!1,function(){return N})},1659:function(e,t){for(var n={glog:function(e){if(e<1)throw new Error("glog("+e+")");return n.LOG_TABLE[e]},gexp:function(e){for(;e<0;)e+=255;for(;e>=256;)e-=255;return n.EXP_TABLE[e]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},r=0;r<8;r++)n.EXP_TABLE[r]=1<<r;for(r=8;r<256;r++)n.EXP_TABLE[r]=n.EXP_TABLE[r-4]^n.EXP_TABLE[r-5]^n.EXP_TABLE[r-6]^n.EXP_TABLE[r-8];for(r=0;r<255;r++)n.LOG_TABLE[n.EXP_TABLE[r]]=r;e.exports=n},1660:function(e,t,n){var r=n(1659);function o(e,t){if(void 0==e.length)throw new Error(e.length+"/"+t);for(var n=0;n<e.length&&0==e[n];)n++;this.num=new Array(e.length-n+t);for(var r=0;r<e.length-n;r++)this.num[r]=e[r+n]}o.prototype={get:function(e){return this.num[e]},getLength:function(){return this.num.length},multiply:function(e){for(var t=new Array(this.getLength()+e.getLength()-1),n=0;n<this.getLength();n++)for(var a=0;a<e.getLength();a++)t[n+a]^=r.gexp(r.glog(this.get(n))+r.glog(e.get(a)));return new o(t,0)},mod:function(e){if(this.getLength()-e.getLength()<0)return this;for(var t=r.glog(this.get(0))-r.glog(e.get(0)),n=new Array(this.getLength()),a=0;a<this.getLength();a++)n[a]=this.get(a);for(a=0;a<e.getLength();a++)n[a]^=r.gexp(r.glog(e.get(a))+t);return new o(n,0).mod(e)}},e.exports=o},1661:function(e,t){e.exports={L:1,M:0,Q:3,H:2}},1662:function(e,t){e.exports={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8}},1663:function(e,t,n){"use strict";var r=n(0),o=n(2),a=n(1),i=n.n(a),s=n(3),l=n(22),c=n(24),u=n(9),p=n.n(u),f=n(337),d=n(19),h=n(5),m=n(26),y=n.n(m),b=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function k(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var w=((E=function(e){function t(){return v(this,t),g(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return k(t,r["Component"]),b(t,[{key:"render",value:function(){return 0!==this.props.assets.length&&this.props.value?r.createElement(f.a,{isAsset:!0,entries:this.props.assets.map(function(e){return e&&e.get("symbol")}).filter(function(e){return!!e}),values:this.props.assets.reduce(function(e,t){return t&&t.get("symbol")&&(e[t.get("symbol")]=t),e},{}),singleEntry:this.props.assets[0]?r.createElement(d.a,{asset:this.props.assets[0].get("id"),amount:0,hide_amount:!0}):null,value:"",onChange:this.props.onChange}):null}}]),t}()).propTypes={assets:l.a.ChainAssetsList,value:o.string,onChange:o.func},E);w=Object(c.a)(w);var E,S=function(e){function t(){return v(this,t),g(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return k(t,r["Component"]),b(t,[{key:"getAsset",value:function(){return this.props.asset}},{key:"getError",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props.assetInput,t=this.props.error;return t||!e||this.getNameType(e)||(t=p.a.translate("explorer.asset.invalid",{name:e})),t}},{key:"getNameType",value:function(e){return e?s.d.is_valid_symbol_error(e,!0)?null:"symbol":null}},{key:"onInputChanged",value:function(e){var t=e.target.value.trim().substr(0,16).toUpperCase();this.props.onChange&&t!==this.props.assetInput&&this.props.onChange(t)}},{key:"onKeyDown",value:function(e){13===e.keyCode&&(this.onFound(e),this.onAction(e))}},{key:"componentDidMount",value:function(){this.props.onFound&&this.props.asset&&this.props.onFound(this.props.asset)}},{key:"componentWillReceiveProps",value:function(e){this.props.onFound&&e.asset!==this.props.asset&&this.props.onFound(e.asset)}},{key:"onFound",value:function(e){e.preventDefault(),!this.props.onFound||this.getError()||this.props.disableActionButton||this.props.asset&&this.props.onFound(this.props.asset)}},{key:"onAssetSelect",value:function(e){e&&(this.props.onFound(e),this.props.onChange(e.get("symbol")))}},{key:"onAction",value:function(e){e.preventDefault(),!this.props.onAction||this.getError()||this.props.disableActionButton||this.props.asset&&this.props.onAction(this.props.asset)}},{key:"render",value:function(){var e=this.props,t=e.disabled,n=e.noLabel,o=this.getError(),a=void 0;t||(this.props.asset?a=this.props.asset.get("symbol"):!o&&this.props.assetInput&&(o=p.a.translate("explorer.asset.not_found",{name:this.props.assetInput})));var s=y()("button",{disabled:!this.props.asset||o||this.props.disableActionButton});return r.createElement("div",{className:this.props.className?this.props.className+" asset-selector":"asset-selector",style:this.props.style},r.createElement("div",{className:"header-area"},o||n?null:r.createElement("label",{className:"right-label"},"  ",r.createElement("span",null,a)),r.createElement(i.a,{component:"label",content:this.props.label})),r.createElement("div",{className:"input-area"},r.createElement("div",{className:"inline-label input-wrapper"},r.createElement("input",{style:this.props.inputStyle,disabled:this.props.disabled,type:"text",value:this.props.assetInput||"",placeholder:p.a.translate("explorer.assets.symbol"),ref:"user_input",onChange:this.onInputChanged.bind(this),onKeyDown:this.onKeyDown.bind(this),tabIndex:this.props.tabIndex}),r.createElement("div",{className:"form-label select floating-dropdown"},this.props.asset?r.createElement(w,{ref:this.props.refCallback,value:this.props.asset.get("symbol"),assets:h.List(this.props.assets),onChange:this.onAssetSelect.bind(this)}):null),this.props.children,this.props.onAction?r.createElement("button",{className:s,onClick:this.onAction.bind(this)},r.createElement(i.a,{content:this.props.action_label})):null)),r.createElement("div",{className:"error-area",style:{paddingBottom:"10px"}},r.createElement("span",{style:{wordBreak:"break-all"}},o)))}}]),t}();S.propTypes={label:o.string,error:o.string,placeholder:o.string,onChange:o.func,onFound:o.func,assetInput:o.string,asset:l.a.ChainAsset,tabIndex:o.number,disableActionButton:o.string},S.defaultProps={disabled:!1},t.a=Object(c.a)(S)},1664:function(e,t,n){"use strict";var r=n(42),o=n(5),a=n.n(o),i=n(13),s=n(1630),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var c=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.assets=a.a.Map(),e.asset_symbol_to_id={},e.searchTerms={},e.lookupResults=[],e.assetsLoading=!1,e.bindListeners({onGetAssetList:s.a.getAssetList,onLookupAsset:s.a.lookupAsset}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["a"]),l(t,[{key:"onGetAssetList",value:function(e){var t=this;if(!e)return!1;this.assetsLoading=e.loading,e.assets&&e.assets.forEach(function(n){for(var r=0;r<e.dynamic.length;r++)if(e.dynamic[r].id===n.dynamic_asset_data_id){n.dynamic=e.dynamic[r];break}if(n.bitasset_data_id){n.market_asset=!0;for(r=0;r<e.bitasset_data.length;r++)if(e.bitasset_data[r].id===n.bitasset_data_id){n.bitasset_data=e.bitasset_data[r];break}}else n.market_asset=!1;t.assets=t.assets.set(n.id,n),t.asset_symbol_to_id[n.symbol]=n.id})}},{key:"onLookupAsset",value:function(e){this.searchTerms[e.searchID]=e.symbol,this.lookupResults=e.assets}}]),t}();t.a=i.a.createStore(c,"AssetStore")},1667:function(e,t){t.version="2.1.0"},1668:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,n=e.Symbol;"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable";return t}},1669:function(e,t,n){"use strict";(function(e,r){Object.defineProperty(t,"__esModule",{value:!0});var o,a=function(e){return e&&e.__esModule?e:{default:e}}(n(1668));o="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:r;var i=(0,a.default)(o);t.default=i}).call(this,n(52),n(178)(e))},1670:function(e,t,n){e.exports=n(1669)},1671:function(e,t,n){"use strict";(function(e){!function(e,t){function n(e){return"function"==typeof Symbol&&Boolean(Symbol[e])}function r(e){return n(e)?Symbol[e]:"@@"+e}function o(e,t){var n=e[t];if(null!=n){if("function"!=typeof n)throw new TypeError(n+" is not a function");return n}}function a(e){var t=e.constructor;return void 0!==t&&null===(t=t[r("species")])&&(t=void 0),void 0!==t?t:p}function i(e,t){Object.keys(t).forEach(function(n){var r=Object.getOwnPropertyDescriptor(t,n);r.enumerable=!1,Object.defineProperty(e,n,r)})}function s(e){var t=e._cleanup;t&&(e._cleanup=void 0,t())}function l(e){return void 0===e._observer}function c(e,t){if(Object(e)!==e)throw new TypeError("Observer must be an object");this._cleanup=void 0,this._observer=e;var n=o(e,"start");if(n&&n.call(e,this),!l(this)){e=new u(this);try{var r=t.call(void 0,e);if(null!=r){if("function"==typeof r.unsubscribe)r=function(e){return function(){e.unsubscribe()}}(r);else if("function"!=typeof r)throw new TypeError(r+" is not a function");this._cleanup=r}}catch(t){return void e.error(t)}l(this)&&s(this)}}function u(e){this._subscription=e}function p(e){if("function"!=typeof e)throw new TypeError("Observable initializer must be a function");this._subscriber=e}"function"!=typeof Symbol||Symbol.observable||(Symbol.observable=Symbol("observable")),i(c.prototype={},{get closed(){return l(this)},unsubscribe:function(){!function(e){l(e)||(e._observer=void 0,s(e))}(this)}}),i(u.prototype={},{get closed(){return l(this._subscription)},next:function(e){var t=this._subscription;if(!l(t)){var n=t._observer,r=o(n,"next");if(r)return r.call(n,e)}},error:function(e){var t=this._subscription;if(l(t))throw e;var n=t._observer;t._observer=void 0;try{var r=o(n,"error");if(!r)throw e;e=r.call(n,e)}catch(e){try{s(t)}finally{throw e}}return s(t),e},complete:function(e){var t=this._subscription;if(!l(t)){var n=t._observer;t._observer=void 0;try{var r=o(n,"complete");e=r?r.call(n,e):void 0}catch(e){try{s(t)}finally{throw e}}return s(t),e}}}),i(p.prototype,{subscribe:function(e){for(var t=[],n=1;n<arguments.length;++n)t.push(arguments[n]);return"function"==typeof e&&(e={next:e,error:t[0],complete:t[1]}),new c(e,this._subscriber)},forEach:function(e){var t=this;return new Promise(function(n,r){if("function"!=typeof e)return Promise.reject(new TypeError(e+" is not a function"));t.subscribe({_subscription:null,start:function(e){if(Object(e)!==e)throw new TypeError(e+" is not an object");this._subscription=e},next:function(t){var n=this._subscription;if(!n.closed)try{return e(t)}catch(e){r(e),n.unsubscribe()}},error:r,complete:n})})},map:function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");var n=a(this);return new n(function(n){return t.subscribe({next:function(t){if(!n.closed){try{t=e(t)}catch(e){return n.error(e)}return n.next(t)}},error:function(e){return n.error(e)},complete:function(e){return n.complete(e)}})})},filter:function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");var n=a(this);return new n(function(n){return t.subscribe({next:function(t){if(!n.closed){try{if(!e(t))return}catch(e){return n.error(e)}return n.next(t)}},error:function(e){return n.error(e)},complete:function(){return n.complete()}})})},reduce:function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");var n=a(this),r=arguments.length>1,o=!1,i=arguments[1],s=i;return new n(function(n){return t.subscribe({next:function(t){if(!n.closed){var a=!o;if(o=!0,!a||r)try{s=e(s,t)}catch(e){return n.error(e)}else s=t}},error:function(e){n.error(e)},complete:function(){o||r?(n.next(s),n.complete()):n.error(new TypeError("Cannot reduce an empty sequence"))}})})},flatMap:function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");var n=a(this);return new n(function(n){var r=!1,o=[],a=t.subscribe({next:function(t){if(e)try{t=e(t)}catch(e){return void n.error(e)}p.from(t).subscribe({_subscription:null,start:function(e){o.push(this._subscription=e)},next:function(e){n.next(e)},error:function(e){n.error(e)},complete:function(){var e=o.indexOf(this._subscription);e>=0&&o.splice(e,1),i()}})},error:function(e){return n.error(e)},complete:function(){r=!0,i()}});function i(){r&&0===o.length&&n.complete()}return function(){o.forEach(function(e){return e.unsubscribe()}),a.unsubscribe()}})}}),Object.defineProperty(p.prototype,r("observable"),{value:function(){return this},writable:!0,configurable:!0}),i(p,{from:function(e){var t="function"==typeof this?this:p;if(null==e)throw new TypeError(e+" is not an object");var a=o(e,r("observable"));if(a){var i=a.call(e);if(Object(i)!==i)throw new TypeError(i+" is not an object");return i.constructor===t?i:new t(function(e){return i.subscribe(e)})}if(n("iterator")&&(a=o(e,r("iterator"))))return new t(function(t){for(var n,r=a.call(e)[Symbol.iterator]();!(n=r.next()).done;){var o=n.value;if(t.next(o),t.closed)return}t.complete()});if(Array.isArray(e))return new t(function(t){for(var n=0;n<e.length;++n)if(t.next(e[n]),t.closed)return;t.complete()});throw new TypeError(e+" is not observable")},of:function(){for(var e=[],t=0;t<arguments.length;++t)e.push(arguments[t]);var n="function"==typeof this?this:p;return new n(function(t){for(var n=0;n<e.length;++n)if(t.next(e[n]),t.closed)return;t.complete()})}}),Object.defineProperty(p,r("species"),{get:function(){return this},configurable:!0}),Object.defineProperty(p,"observableSymbol",{value:r("observable")}),e.Observable=p}(t)}).call(this,n(178)(e))},1672:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.visit=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r,s=void 0,l=Array.isArray(e),c=[e],u=-1,p=[],f=void 0,d=void 0,h=void 0,m=[],y=[],b=e;do{var v=++u===c.length,g=v&&0!==p.length;if(v){if(d=0===y.length?void 0:m[m.length-1],f=h,h=y.pop(),g){if(l)f=f.slice();else{var k={};for(var w in f)f.hasOwnProperty(w)&&(k[w]=f[w]);f=k}for(var E=0,S=0;S<p.length;S++){var O=p[S][0],_=p[S][1];l&&(O-=E),l&&null===_?(f.splice(O,1),E++):f[O]=_}}u=s.index,c=s.keys,p=s.edits,l=s.inArray,s=s.prev}else{if(d=h?l?u:c[u]:void 0,null===(f=h?h[d]:b)||void 0===f)continue;h&&m.push(d)}var C=void 0;if(!Array.isArray(f)){if(!a(f))throw new Error("Invalid AST Node: "+JSON.stringify(f));var x=i(t,f.kind,v);if(x){if((C=x.call(t,f,d,h,m,y))===o)break;if(!1===C){if(!v){m.pop();continue}}else if(void 0!==C&&(p.push([d,C]),!v)){if(!a(C)){m.pop();continue}f=C}}}void 0===C&&g&&p.push([d,f]),v?m.pop():(s={inArray:l,index:u,keys:c,edits:p,prev:s},l=Array.isArray(f),c=l?f:n[f.kind]||[],u=-1,p=[],h&&y.push(h),h=f)}while(void 0!==s);0!==p.length&&(b=p[p.length-1][1]);return b},t.visitInParallel=function(e){var t=new Array(e.length);return{enter:function(n){for(var r=0;r<e.length;r++)if(!t[r]){var a=i(e[r],n.kind,!1);if(a){var s=a.apply(e[r],arguments);if(!1===s)t[r]=n;else if(s===o)t[r]=o;else if(void 0!==s)return s}}},leave:function(n){for(var r=0;r<e.length;r++)if(t[r])t[r]===n&&(t[r]=null);else{var a=i(e[r],n.kind,!0);if(a){var s=a.apply(e[r],arguments);if(s===o)t[r]=o;else if(void 0!==s&&!1!==s)return s}}}}},t.visitWithTypeInfo=function(e,t){return{enter:function(n){e.enter(n);var r=i(t,n.kind,!1);if(r){var o=r.apply(t,arguments);return void 0!==o&&(e.leave(n),a(o)&&e.enter(o)),o}},leave:function(n){var r=i(t,n.kind,!0),o=void 0;return r&&(o=r.apply(t,arguments)),e.leave(n),o}}},t.getVisitFn=i;var r=t.QueryDocumentKeys={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"]},o=t.BREAK={};function a(e){return Boolean(e&&"string"==typeof e.kind)}function i(e,t,n){var r=e[t];if(r){if(!n&&"function"==typeof r)return r;var o=n?r.leave:r.enter;if("function"==typeof o)return o}else{var a=n?e.leave:e.enter;if(a){if("function"==typeof a)return a;var i=a[t];if("function"==typeof i)return i}}}},1673:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.DirectiveLocation={QUERY:"QUERY",MUTATION:"MUTATION",SUBSCRIPTION:"SUBSCRIPTION",FIELD:"FIELD",FRAGMENT_DEFINITION:"FRAGMENT_DEFINITION",FRAGMENT_SPREAD:"FRAGMENT_SPREAD",INLINE_FRAGMENT:"INLINE_FRAGMENT",SCHEMA:"SCHEMA",SCALAR:"SCALAR",OBJECT:"OBJECT",FIELD_DEFINITION:"FIELD_DEFINITION",ARGUMENT_DEFINITION:"ARGUMENT_DEFINITION",INTERFACE:"INTERFACE",UNION:"UNION",ENUM:"ENUM",ENUM_VALUE:"ENUM_VALUE",INPUT_OBJECT:"INPUT_OBJECT",INPUT_FIELD_DEFINITION:"INPUT_FIELD_DEFINITION"}},1674:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.NAME="Name",t.DOCUMENT="Document",t.OPERATION_DEFINITION="OperationDefinition",t.VARIABLE_DEFINITION="VariableDefinition",t.VARIABLE="Variable",t.SELECTION_SET="SelectionSet",t.FIELD="Field",t.ARGUMENT="Argument",t.FRAGMENT_SPREAD="FragmentSpread",t.INLINE_FRAGMENT="InlineFragment",t.FRAGMENT_DEFINITION="FragmentDefinition",t.INT="IntValue",t.FLOAT="FloatValue",t.STRING="StringValue",t.BOOLEAN="BooleanValue",t.NULL="NullValue",t.ENUM="EnumValue",t.LIST="ListValue",t.OBJECT="ObjectValue",t.OBJECT_FIELD="ObjectField",t.DIRECTIVE="Directive",t.NAMED_TYPE="NamedType",t.LIST_TYPE="ListType",t.NON_NULL_TYPE="NonNullType",t.SCHEMA_DEFINITION="SchemaDefinition",t.OPERATION_TYPE_DEFINITION="OperationTypeDefinition",t.SCALAR_TYPE_DEFINITION="ScalarTypeDefinition",t.OBJECT_TYPE_DEFINITION="ObjectTypeDefinition",t.FIELD_DEFINITION="FieldDefinition",t.INPUT_VALUE_DEFINITION="InputValueDefinition",t.INTERFACE_TYPE_DEFINITION="InterfaceTypeDefinition",t.UNION_TYPE_DEFINITION="UnionTypeDefinition",t.ENUM_TYPE_DEFINITION="EnumTypeDefinition",t.ENUM_VALUE_DEFINITION="EnumValueDefinition",t.INPUT_OBJECT_TYPE_DEFINITION="InputObjectTypeDefinition",t.SCALAR_TYPE_EXTENSION="ScalarTypeExtension",t.OBJECT_TYPE_EXTENSION="ObjectTypeExtension",t.INTERFACE_TYPE_EXTENSION="InterfaceTypeExtension",t.UNION_TYPE_EXTENSION="UnionTypeExtension",t.ENUM_TYPE_EXTENSION="EnumTypeExtension",t.INPUT_OBJECT_TYPE_EXTENSION="InputObjectTypeExtension",t.DIRECTIVE_DEFINITION="DirectiveDefinition"},1675:function(e,t,n){"use strict";function r(e){for(var t=0;t<e.length&&(" "===e[t]||"\t"===e[t]);)t++;return t}function o(e){return r(e)===e.length}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){for(var t=e.split(/\r\n|[\n\r]/g),n=null,a=1;a<t.length;a++){var i=t[a],s=r(i);if(s<i.length&&(null===n||s<n)&&0===(n=s))break}if(n)for(var l=1;l<t.length;l++)t[l]=t[l].slice(n);for(;t.length>0&&o(t[0]);)t.shift();for(;t.length>0&&o(t[t.length-1]);)t.pop();return t.join("\n")}},1676:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TokenKind=void 0,t.createLexer=function(e,t){var n=new T(s,0,0,0,0,null);return{source:e,options:t,lastToken:n,token:n,line:1,lineStart:0,advance:a,lookahead:i}},t.getTokenDesc=function(e){var t=e.value;return t?e.kind+' "'+t+'"':e.kind};var r=n(1645),o=function(e){return e&&e.__esModule?e:{default:e}}(n(1675));function a(){return this.lastToken=this.token,this.token=this.lookahead()}function i(){var e=this.token;if(e.kind!==l)do{e=e.next||(e.next=j(this,e))}while(e.kind===x);return e}var s="<SOF>",l="<EOF>",c="!",u="$",p="(",f=")",d="...",h=":",m="=",y="@",b="[",v="]",g="{",k="|",w="}",E="Name",S="Int",O="Float",_="String",C="BlockString",x="Comment";t.TokenKind={SOF:s,EOF:l,BANG:c,DOLLAR:u,PAREN_L:p,PAREN_R:f,SPREAD:d,COLON:h,EQUALS:m,AT:y,BRACKET_L:b,BRACKET_R:v,BRACE_L:g,PIPE:k,BRACE_R:w,NAME:E,INT:S,FLOAT:O,STRING:_,BLOCK_STRING:C,COMMENT:x};var P=String.prototype.charCodeAt,A=String.prototype.slice;function T(e,t,n,r,o,a,i){this.kind=e,this.start=t,this.end=n,this.line=r,this.column=o,this.value=i,this.prev=a,this.next=null}function D(e){return isNaN(e)?l:e<127?JSON.stringify(String.fromCharCode(e)):'"\\u'+("00"+e.toString(16).toUpperCase()).slice(-4)+'"'}function j(e,t){var n=e.source,a=n.body,i=a.length,s=function(e,t,n){var r=e.length,o=t;for(;o<r;){var a=P.call(e,o);if(9===a||32===a||44===a||65279===a)++o;else if(10===a)++o,++n.line,n.lineStart=o;else{if(13!==a)break;10===P.call(e,o+1)?o+=2:++o,++n.line,n.lineStart=o}}return o}(a,t.end,e),j=e.line,N=1+s-e.lineStart;if(s>=i)return new T(l,i,i,j,N,t);var q=P.call(a,s);if(q<32&&9!==q&&10!==q&&13!==q)throw(0,r.syntaxError)(n,s,"Cannot contain the invalid character "+D(q)+".");switch(q){case 33:return new T(c,s,s+1,j,N,t);case 35:return function(e,t,n,r,o){var a=e.body,i=void 0,s=t;do{i=P.call(a,++s)}while(null!==i&&(i>31||9===i));return new T(x,t,s,n,r,o,A.call(a,t+1,s))}(n,s,j,N,t);case 36:return new T(u,s,s+1,j,N,t);case 40:return new T(p,s,s+1,j,N,t);case 41:return new T(f,s,s+1,j,N,t);case 46:if(46===P.call(a,s+1)&&46===P.call(a,s+2))return new T(d,s,s+3,j,N,t);break;case 58:return new T(h,s,s+1,j,N,t);case 61:return new T(m,s,s+1,j,N,t);case 64:return new T(y,s,s+1,j,N,t);case 91:return new T(b,s,s+1,j,N,t);case 93:return new T(v,s,s+1,j,N,t);case 123:return new T(g,s,s+1,j,N,t);case 124:return new T(k,s,s+1,j,N,t);case 125:return new T(w,s,s+1,j,N,t);case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 95:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:return function(e,t,n,r,o){var a=e.body,i=a.length,s=t+1,l=0;for(;s!==i&&null!==(l=P.call(a,s))&&(95===l||l>=48&&l<=57||l>=65&&l<=90||l>=97&&l<=122);)++s;return new T(E,t,s,n,r,o,A.call(a,t,s))}(n,s,j,N,t);case 45:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return function(e,t,n,o,a,i){var s=e.body,l=n,c=t,u=!1;45===l&&(l=P.call(s,++c));if(48===l){if((l=P.call(s,++c))>=48&&l<=57)throw(0,r.syntaxError)(e,c,"Invalid number, unexpected digit after 0: "+D(l)+".")}else c=R(e,c,l),l=P.call(s,c);46===l&&(u=!0,l=P.call(s,++c),c=R(e,c,l),l=P.call(s,c));69!==l&&101!==l||(u=!0,43!==(l=P.call(s,++c))&&45!==l||(l=P.call(s,++c)),c=R(e,c,l));return new T(u?O:S,t,c,o,a,i,A.call(s,t,c))}(n,s,q,j,N,t);case 34:return 34===P.call(a,s+1)&&34===P.call(a,s+2)?function(e,t,n,a,i){var s=e.body,l=t+3,c=l,u=0,p="";for(;l<s.length&&null!==(u=P.call(s,l));){if(34===u&&34===P.call(s,l+1)&&34===P.call(s,l+2))return p+=A.call(s,c,l),new T(C,t,l+3,n,a,i,(0,o.default)(p));if(u<32&&9!==u&&10!==u&&13!==u)throw(0,r.syntaxError)(e,l,"Invalid character within String: "+D(u)+".");92===u&&34===P.call(s,l+1)&&34===P.call(s,l+2)&&34===P.call(s,l+3)?(p+=A.call(s,c,l)+'"""',c=l+=4):++l}throw(0,r.syntaxError)(e,l,"Unterminated string.")}(n,s,j,N,t):function(e,t,n,o,a){var i=e.body,s=t+1,l=s,c=0,u="";for(;s<i.length&&null!==(c=P.call(i,s))&&10!==c&&13!==c;){if(34===c)return u+=A.call(i,l,s),new T(_,t,s+1,n,o,a,u);if(c<32&&9!==c)throw(0,r.syntaxError)(e,s,"Invalid character within String: "+D(c)+".");if(++s,92===c){switch(u+=A.call(i,l,s-1),c=P.call(i,s)){case 34:u+='"';break;case 47:u+="/";break;case 92:u+="\\";break;case 98:u+="\b";break;case 102:u+="\f";break;case 110:u+="\n";break;case 114:u+="\r";break;case 116:u+="\t";break;case 117:var p=F(P.call(i,s+1),P.call(i,s+2),P.call(i,s+3),P.call(i,s+4));if(p<0)throw(0,r.syntaxError)(e,s,"Invalid character escape sequence: \\u"+i.slice(s+1,s+5)+".");u+=String.fromCharCode(p),s+=4;break;default:throw(0,r.syntaxError)(e,s,"Invalid character escape sequence: \\"+String.fromCharCode(c)+".")}l=++s}}throw(0,r.syntaxError)(e,s,"Unterminated string.")}(n,s,j,N,t)}throw(0,r.syntaxError)(n,s,function(e){if(39===e)return"Unexpected single quote character ('), did you mean to use a double quote (\")?";return"Cannot parse the unexpected character "+D(e)+"."}(q))}function R(e,t,n){var o=e.body,a=t,i=n;if(i>=48&&i<=57){do{i=P.call(o,++a)}while(i>=48&&i<=57);return a}throw(0,r.syntaxError)(e,a,"Invalid number, expected digit but got: "+D(i)+".")}function F(e,t,n,r){return N(e)<<12|N(t)<<8|N(n)<<4|N(r)}function N(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:-1}T.prototype.toJSON=T.prototype.inspect=function(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}}},1677:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.formatError=function(e){return e||(0,o.default)(0,"Received null or undefined error."),r({},e.extensions,{message:e.message||"An unknown error occurred.",locations:e.locations,path:e.path})};var o=function(e){return e&&e.__esModule?e:{default:e}}(n(1646))},1678:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.locatedError=function(e,t,n){if(e&&Array.isArray(e.path))return e;return new r.GraphQLError(e&&e.message,e&&e.nodes||t,e&&e.source,e&&e.positions,n,e)};var r=n(1634)},1679:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.syntaxError=function(e,t,n){return new r.GraphQLError("Syntax Error: "+n,void 0,e,[t])};var r=n(1634)},1680:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Source=void 0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n(1646));t.Source=function e(t,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.body=t,this.name=n||"GraphQL request",this.locationOffset=o||{line:1,column:1},this.locationOffset.line>0||(0,r.default)(0,"line in locationOffset is 1-indexed and must be positive"),this.locationOffset.column>0||(0,r.default)(0,"column in locationOffset is 1-indexed and must be positive")}},1681:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parse=function(e,t){var n="string"==typeof e?new r.Source(e):e;if(!(n instanceof r.Source))throw new TypeError("Must provide Source. Received: "+String(n));return function(e){var t=e.token;X(e,a.TokenKind.SOF);var n=[];do{n.push(c(e))}while(!Q(e,a.TokenKind.EOF));return{kind:i.DOCUMENT,definitions:n,loc:U(e,t)}}((0,a.createLexer)(n,t||{}))},t.parseValue=function(e,t){var n="string"==typeof e?new r.Source(e):e,o=(0,a.createLexer)(n,t||{});X(o,a.TokenKind.SOF);var i=E(o,!1);return X(o,a.TokenKind.EOF),i},t.parseType=function(e,t){var n="string"==typeof e?new r.Source(e):e,o=(0,a.createLexer)(n,t||{});X(o,a.TokenKind.SOF);var i=A(o);return X(o,a.TokenKind.EOF),i},t.parseConstValue=O,t.parseTypeReference=A,t.parseNamedType=T;var r=n(1680),o=n(1645),a=n(1676),i=n(1674),s=n(1673);function l(e){var t=X(e,a.TokenKind.NAME);return{kind:i.NAME,value:t.value,loc:U(e,t)}}function c(e){if(G(e,a.TokenKind.NAME))switch(e.token.value){case"query":case"mutation":case"subscription":case"fragment":return u(e);case"schema":case"scalar":case"type":case"interface":case"union":case"enum":case"input":case"extend":case"directive":return D(e)}else{if(G(e,a.TokenKind.BRACE_L))return u(e);if(j(e))return D(e)}throw K(e)}function u(e){if(G(e,a.TokenKind.NAME))switch(e.token.value){case"query":case"mutation":case"subscription":return p(e);case"fragment":return function(e){var t=e.token;if(J(e,"fragment"),e.options.experimentalFragmentVariables)return{kind:i.FRAGMENT_DEFINITION,name:w(e),variableDefinitions:d(e),typeCondition:(J(e,"on"),T(e)),directives:x(e,!1),selectionSet:y(e),loc:U(e,t)};return{kind:i.FRAGMENT_DEFINITION,name:w(e),typeCondition:(J(e,"on"),T(e)),directives:x(e,!1),selectionSet:y(e),loc:U(e,t)}}(e)}else if(G(e,a.TokenKind.BRACE_L))return p(e);throw K(e)}function p(e){var t=e.token;if(G(e,a.TokenKind.BRACE_L))return{kind:i.OPERATION_DEFINITION,operation:"query",name:void 0,variableDefinitions:[],directives:[],selectionSet:y(e),loc:U(e,t)};var n=f(e),r=void 0;return G(e,a.TokenKind.NAME)&&(r=l(e)),{kind:i.OPERATION_DEFINITION,operation:n,name:r,variableDefinitions:d(e),directives:x(e,!1),selectionSet:y(e),loc:U(e,t)}}function f(e){var t=X(e,a.TokenKind.NAME);switch(t.value){case"query":return"query";case"mutation":return"mutation";case"subscription":return"subscription"}throw K(e,t)}function d(e){return G(e,a.TokenKind.PAREN_L)?Z(e,a.TokenKind.PAREN_L,h,a.TokenKind.PAREN_R):[]}function h(e){var t=e.token;return{kind:i.VARIABLE_DEFINITION,variable:m(e),type:(X(e,a.TokenKind.COLON),A(e)),defaultValue:Q(e,a.TokenKind.EQUALS)?E(e,!0):void 0,loc:U(e,t)}}function m(e){var t=e.token;return X(e,a.TokenKind.DOLLAR),{kind:i.VARIABLE,name:l(e),loc:U(e,t)}}function y(e){var t=e.token;return{kind:i.SELECTION_SET,selections:Z(e,a.TokenKind.BRACE_L,b,a.TokenKind.BRACE_R),loc:U(e,t)}}function b(e){return G(e,a.TokenKind.SPREAD)?function(e){var t=e.token;if(X(e,a.TokenKind.SPREAD),G(e,a.TokenKind.NAME)&&"on"!==e.token.value)return{kind:i.FRAGMENT_SPREAD,name:w(e),directives:x(e,!1),loc:U(e,t)};var n=void 0;"on"===e.token.value&&(e.advance(),n=T(e));return{kind:i.INLINE_FRAGMENT,typeCondition:n,directives:x(e,!1),selectionSet:y(e),loc:U(e,t)}}(e):function(e){var t=e.token,n=l(e),r=void 0,o=void 0;Q(e,a.TokenKind.COLON)?(r=n,o=l(e)):o=n;return{kind:i.FIELD,alias:r,name:o,arguments:v(e,!1),directives:x(e,!1),selectionSet:G(e,a.TokenKind.BRACE_L)?y(e):void 0,loc:U(e,t)}}(e)}function v(e,t){var n=t?k:g;return G(e,a.TokenKind.PAREN_L)?Z(e,a.TokenKind.PAREN_L,n,a.TokenKind.PAREN_R):[]}function g(e){var t=e.token;return{kind:i.ARGUMENT,name:l(e),value:(X(e,a.TokenKind.COLON),E(e,!1)),loc:U(e,t)}}function k(e){var t=e.token;return{kind:i.ARGUMENT,name:l(e),value:(X(e,a.TokenKind.COLON),O(e)),loc:U(e,t)}}function w(e){if("on"===e.token.value)throw K(e);return l(e)}function E(e,t){var n=e.token;switch(n.kind){case a.TokenKind.BRACKET_L:return function(e,t){var n=e.token,r=t?O:_;return{kind:i.LIST,values:function(e,t,n,r){X(e,t);var o=[];for(;!Q(e,r);)o.push(n(e));return o}(e,a.TokenKind.BRACKET_L,r,a.TokenKind.BRACKET_R),loc:U(e,n)}}(e,t);case a.TokenKind.BRACE_L:return function(e,t){var n=e.token;X(e,a.TokenKind.BRACE_L);var r=[];for(;!Q(e,a.TokenKind.BRACE_R);)r.push(C(e,t));return{kind:i.OBJECT,fields:r,loc:U(e,n)}}(e,t);case a.TokenKind.INT:return e.advance(),{kind:i.INT,value:n.value,loc:U(e,n)};case a.TokenKind.FLOAT:return e.advance(),{kind:i.FLOAT,value:n.value,loc:U(e,n)};case a.TokenKind.STRING:case a.TokenKind.BLOCK_STRING:return S(e);case a.TokenKind.NAME:return"true"===n.value||"false"===n.value?(e.advance(),{kind:i.BOOLEAN,value:"true"===n.value,loc:U(e,n)}):"null"===n.value?(e.advance(),{kind:i.NULL,loc:U(e,n)}):(e.advance(),{kind:i.ENUM,value:n.value,loc:U(e,n)});case a.TokenKind.DOLLAR:if(!t)return m(e)}throw K(e)}function S(e){var t=e.token;return e.advance(),{kind:i.STRING,value:t.value,block:t.kind===a.TokenKind.BLOCK_STRING,loc:U(e,t)}}function O(e){return E(e,!0)}function _(e){return E(e,!1)}function C(e,t){var n=e.token;return{kind:i.OBJECT_FIELD,name:l(e),value:(X(e,a.TokenKind.COLON),E(e,t)),loc:U(e,n)}}function x(e,t){for(var n=[];G(e,a.TokenKind.AT);)n.push(P(e,t));return n}function P(e,t){var n=e.token;return X(e,a.TokenKind.AT),{kind:i.DIRECTIVE,name:l(e),arguments:v(e,t),loc:U(e,n)}}function A(e){var t=e.token,n=void 0;return Q(e,a.TokenKind.BRACKET_L)?(n=A(e),X(e,a.TokenKind.BRACKET_R),n={kind:i.LIST_TYPE,type:n,loc:U(e,t)}):n=T(e),Q(e,a.TokenKind.BANG)?{kind:i.NON_NULL_TYPE,type:n,loc:U(e,t)}:n}function T(e){var t=e.token;return{kind:i.NAMED_TYPE,name:l(e),loc:U(e,t)}}function D(e){var t=j(e)?e.lookahead():e.token;if(t.kind===a.TokenKind.NAME)switch(t.value){case"schema":return function(e){var t=e.token;J(e,"schema");var n=x(e,!0),r=Z(e,a.TokenKind.BRACE_L,F,a.TokenKind.BRACE_R);return{kind:i.SCHEMA_DEFINITION,directives:n,operationTypes:r,loc:U(e,t)}}(e);case"scalar":return function(e){var t=e.token,n=R(e);J(e,"scalar");var r=l(e),o=x(e,!0);return{kind:i.SCALAR_TYPE_DEFINITION,description:n,name:r,directives:o,loc:U(e,t)}}(e);case"type":return function(e){var t=e.token,n=R(e);J(e,"type");var r=l(e),o=N(e),a=x(e,!0),s=q(e);return{kind:i.OBJECT_TYPE_DEFINITION,description:n,name:r,interfaces:o,directives:a,fields:s,loc:U(e,t)}}(e);case"interface":return function(e){var t=e.token,n=R(e);J(e,"interface");var r=l(e),o=x(e,!0),a=q(e);return{kind:i.INTERFACE_TYPE_DEFINITION,description:n,name:r,directives:o,fields:a,loc:U(e,t)}}(e);case"union":return function(e){var t=e.token,n=R(e);J(e,"union");var r=l(e),o=x(e,!0),a=B(e);return{kind:i.UNION_TYPE_DEFINITION,description:n,name:r,directives:o,types:a,loc:U(e,t)}}(e);case"enum":return function(e){var t=e.token,n=R(e);J(e,"enum");var r=l(e),o=x(e,!0),a=V(e);return{kind:i.ENUM_TYPE_DEFINITION,description:n,name:r,directives:o,values:a,loc:U(e,t)}}(e);case"input":return function(e){var t=e.token,n=R(e);J(e,"input");var r=l(e),o=x(e,!0),a=H(e);return{kind:i.INPUT_OBJECT_TYPE_DEFINITION,description:n,name:r,directives:o,fields:a,loc:U(e,t)}}(e);case"extend":return function(e){var t=e.lookahead();if(t.kind===a.TokenKind.NAME)switch(t.value){case"scalar":return function(e){var t=e.token;J(e,"extend"),J(e,"scalar");var n=l(e),r=x(e,!0);if(0===r.length)throw K(e);return{kind:i.SCALAR_TYPE_EXTENSION,name:n,directives:r,loc:U(e,t)}}(e);case"type":return function(e){var t=e.token;J(e,"extend"),J(e,"type");var n=l(e),r=N(e),o=x(e,!0),a=q(e);if(0===r.length&&0===o.length&&0===a.length)throw K(e);return{kind:i.OBJECT_TYPE_EXTENSION,name:n,interfaces:r,directives:o,fields:a,loc:U(e,t)}}(e);case"interface":return function(e){var t=e.token;J(e,"extend"),J(e,"interface");var n=l(e),r=x(e,!0),o=q(e);if(0===r.length&&0===o.length)throw K(e);return{kind:i.INTERFACE_TYPE_EXTENSION,name:n,directives:r,fields:o,loc:U(e,t)}}(e);case"union":return function(e){var t=e.token;J(e,"extend"),J(e,"union");var n=l(e),r=x(e,!0),o=B(e);if(0===r.length&&0===o.length)throw K(e);return{kind:i.UNION_TYPE_EXTENSION,name:n,directives:r,types:o,loc:U(e,t)}}(e);case"enum":return function(e){var t=e.token;J(e,"extend"),J(e,"enum");var n=l(e),r=x(e,!0),o=V(e);if(0===r.length&&0===o.length)throw K(e);return{kind:i.ENUM_TYPE_EXTENSION,name:n,directives:r,values:o,loc:U(e,t)}}(e);case"input":return function(e){var t=e.token;J(e,"extend"),J(e,"input");var n=l(e),r=x(e,!0),o=H(e);if(0===r.length&&0===o.length)throw K(e);return{kind:i.INPUT_OBJECT_TYPE_EXTENSION,name:n,directives:r,fields:o,loc:U(e,t)}}(e)}throw K(e,t)}(e);case"directive":return function(e){var t=e.token,n=R(e);J(e,"directive"),X(e,a.TokenKind.AT);var r=l(e),o=M(e);J(e,"on");var s=function(e){Q(e,a.TokenKind.PIPE);var t=[];do{t.push(z(e))}while(Q(e,a.TokenKind.PIPE));return t}(e);return{kind:i.DIRECTIVE_DEFINITION,description:n,name:r,arguments:o,locations:s,loc:U(e,t)}}(e)}throw K(e,t)}function j(e){return G(e,a.TokenKind.STRING)||G(e,a.TokenKind.BLOCK_STRING)}function R(e){if(j(e))return S(e)}function F(e){var t=e.token,n=f(e);X(e,a.TokenKind.COLON);var r=T(e);return{kind:i.OPERATION_TYPE_DEFINITION,operation:n,type:r,loc:U(e,t)}}function N(e){var t=[];if("implements"===e.token.value){e.advance();do{t.push(T(e))}while(G(e,a.TokenKind.NAME))}return t}function q(e){return G(e,a.TokenKind.BRACE_L)?Z(e,a.TokenKind.BRACE_L,I,a.TokenKind.BRACE_R):[]}function I(e){var t=e.token,n=R(e),r=l(e),o=M(e);X(e,a.TokenKind.COLON);var s=A(e),c=x(e,!0);return{kind:i.FIELD_DEFINITION,description:n,name:r,arguments:o,type:s,directives:c,loc:U(e,t)}}function M(e){return G(e,a.TokenKind.PAREN_L)?Z(e,a.TokenKind.PAREN_L,L,a.TokenKind.PAREN_R):[]}function L(e){var t=e.token,n=R(e),r=l(e);X(e,a.TokenKind.COLON);var o=A(e),s=void 0;Q(e,a.TokenKind.EQUALS)&&(s=O(e));var c=x(e,!0);return{kind:i.INPUT_VALUE_DEFINITION,description:n,name:r,type:o,defaultValue:s,directives:c,loc:U(e,t)}}function B(e){var t=[];if(Q(e,a.TokenKind.EQUALS)){Q(e,a.TokenKind.PIPE);do{t.push(T(e))}while(Q(e,a.TokenKind.PIPE))}return t}function V(e){return G(e,a.TokenKind.BRACE_L)?Z(e,a.TokenKind.BRACE_L,W,a.TokenKind.BRACE_R):[]}function W(e){var t=e.token,n=R(e),r=l(e),o=x(e,!0);return{kind:i.ENUM_VALUE_DEFINITION,description:n,name:r,directives:o,loc:U(e,t)}}function H(e){return G(e,a.TokenKind.BRACE_L)?Z(e,a.TokenKind.BRACE_L,L,a.TokenKind.BRACE_R):[]}function z(e){var t=e.token,n=l(e);if(s.DirectiveLocation.hasOwnProperty(n.value))return n;throw K(e,t)}function U(e,t){if(!e.options.noLocation)return new Y(t,e.lastToken,e.source)}function Y(e,t,n){this.start=e.start,this.end=t.end,this.startToken=e,this.endToken=t,this.source=n}function G(e,t){return e.token.kind===t}function Q(e,t){var n=e.token.kind===t;return n&&e.advance(),n}function X(e,t){var n=e.token;if(n.kind===t)return e.advance(),n;throw(0,o.syntaxError)(e.source,n.start,"Expected "+t+", found "+(0,a.getTokenDesc)(n))}function J(e,t){var n=e.token;if(n.kind===a.TokenKind.NAME&&n.value===t)return e.advance(),n;throw(0,o.syntaxError)(e.source,n.start,'Expected "'+t+'", found '+(0,a.getTokenDesc)(n))}function K(e,t){var n=t||e.token;return(0,o.syntaxError)(e.source,n.start,"Unexpected "+(0,a.getTokenDesc)(n))}function Z(e,t,n,r){X(e,t);for(var o=[n(e)];!Q(e,r);)o.push(n(e));return o}Y.prototype.toJSON=Y.prototype.inspect=function(){return{start:this.start,end:this.end}}},1682:function(e,t,n){var r=n(1681).parse;function o(e){return e.replace(/[\s,]+/g," ").trim()}var a={},i={};function s(e){return o(e.source.body.substring(e.start,e.end))}var l=!0;function c(e){var t=o(e);if(a[t])return a[t];var n=r(e);if(!n||"Document"!==n.kind)throw new Error("Not a valid GraphQL document.");return n=function e(t,n){var r=Object.prototype.toString.call(t);if("[object Array]"===r)return t.map(function(t){return e(t,n)});if("[object Object]"!==r)throw new Error("Unexpected input.");n&&t.loc&&delete t.loc,t.loc&&(delete t.loc.startToken,delete t.loc.endToken);var o,a,i,s=Object.keys(t);for(o in s)s.hasOwnProperty(o)&&(a=t[s[o]],"[object Object]"!==(i=Object.prototype.toString.call(a))&&"[object Array]"!==i||(t[s[o]]=e(a,!0)));return t}(n=function(e){for(var t={},n=[],r=0;r<e.definitions.length;r++){var o=e.definitions[r];if("FragmentDefinition"===o.kind){var a=o.name.value,c=s(o.loc);i.hasOwnProperty(a)&&!i[a][c]?(l&&console.warn("Warning: fragment with name "+a+" already exists.\ngraphql-tag enforces all fragment names across your application to be unique; read more about\nthis in the docs: http://dev.apollodata.com/core/fragments.html#unique-names"),i[a][c]=!0):i.hasOwnProperty(a)||(i[a]={},i[a][c]=!0),t[c]||(t[c]=!0,n.push(o))}else n.push(o)}return e.definitions=n,e}(n),!1),a[t]=n,n}function u(){for(var e=Array.prototype.slice.call(arguments),t=e[0],n="string"==typeof t?t:t[0],r=1;r<e.length;r++)e[r]&&e[r].kind&&"Document"===e[r].kind?n+=e[r].loc.source.body:n+=e[r],n+=t[r];return c(n)}u.default=u,u.resetCaches=function(){a={},i={}},u.disableFragmentWarnings=function(){l=!1},e.exports=u},1685:function(e,t,n){"use strict";var r=n(0),o=n(2),a=n(30),i=n(39),s=n.n(i),l=n(124),c=n(91),u=n(1),p=n.n(u),f=n(22),d=n(24),h=n(19),m=n(8),y=n(26),b=n.n(y),v=n(1623),g=n(335),k=n(154),w=n(11),E=n(86),S=n(9),O=n.n(S),_=n(336),C=n(5),x=n.n(C),P=n(3),A=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function T(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function D(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function j(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var R=function(e){function t(e){T(this,t);var n=D(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.state=n._initialState(e),n}return j(t,r["Component"]),A(t,[{key:"_initialState",value:function(e){var t=e?this._getCurrentPosition(e):{};if(t.collateral){var n=m.a.get_asset_amount(t.debt,e.quote_asset),r=m.a.get_asset_amount(t.collateral,e.backing_asset);return{short_amount:n?n.toString():null,collateral:r?r.toString():null,collateral_ratio:this._getCollateralRatio(n,r),errors:this._getInitialErrors(),isValid:!1,original_position:{debt:n,collateral:r}}}return{short_amount:0,collateral:0,collateral_ratio:this._getInitialCollateralRatio(e),errors:this._getInitialErrors(),isValid:!1,original_position:{debt:0,collateral:0}}}},{key:"componentDidMount",value:function(){var e=this._initialState(this.props);this.setState(e),this._setUpdatedPosition(e)}},{key:"shouldComponentUpdate",value:function(e,t){return!(m.a.are_equal_shallow(t,this.state)&&x.a.is(e.quote_asset,this.props.quote_asset)&&!e.backing_asset.get("symbol")!==this.props.backing_asset.get("symbol")&&x.a.is(e.account,this.props.account)&&x.a.is(e.call_orders,this.props.call_orders))}},{key:"componentWillReceiveProps",value:function(e){e.account===this.props.account&&e.hasCallOrders===this.props.hasCallOrders&&e.quote_asset.get("id")===this.props.quote_asset.get("id")||this.setState(this._initialState(e))}},{key:"_getInitialErrors",value:function(){return{collateral_balance:null,ratio_too_high:null}}},{key:"confirmClicked",value:function(e){e.preventDefault(),s.a.publish(this.props.modalId,"close")}},{key:"_onBorrowChange",value:function(e){var t=this._getFeedPrice(),n=e.amount.replace(/,/g,""),r={short_amount:n,collateral:(this.state.collateral_ratio*(n/t)).toFixed(this.props.backing_asset.get("precision")),collateral_ratio:this.state.collateral_ratio};this.setState(r),this._validateFields(r),this._setUpdatedPosition(r)}},{key:"_onCollateralChange",value:function(e){var t=e.amount.replace(/,/g,""),n=this._getFeedPrice(),r=t/(this.state.short_amount/n),o=this._isPredictionMarket(this.props)?{short_amount:t,collateral:t,collateral_ratio:1}:{short_amount:this.state.short_amount,collateral:t,collateral_ratio:Object(a.isFinite)(r)?r:this._getInitialCollateralRatio(this.props)};this.setState(o),this._validateFields(o),this._setUpdatedPosition(o)}},{key:"_onRatioChange",value:function(e){var t=this._getFeedPrice(),n=e.target.value,r={short_amount:this.state.short_amount,collateral:(this.state.short_amount/t*n).toFixed(this.props.backing_asset.get("precision")),collateral_ratio:n};this.setState(r),this._validateFields(r),this._setUpdatedPosition(r)}},{key:"_setUpdatedPosition",value:function(e){this.setState({newPosition:parseFloat(e.short_amount)/parseFloat(e.collateral)})}},{key:"_validateFields",value:function(e){var t=this._getInitialErrors(),n=this.state.original_position,r=this.props.backing_balance?this.props.backing_balance.toJS():{balance:0};parseFloat(e.collateral)-n.collateral>m.a.get_asset_amount(r.balance,this.props.backing_asset.toJS())&&(t.collateral_balance=O.a.translate("borrow.errors.collateral"));var o=e.short_amount>=0&&e.collateral>=0&&(e.short_amount!=n.debt||e.collateral!=n.collateral),a=this.props.quote_asset.getIn(["bitasset","current_feed","maintenance_collateral_ratio"])/1e3;parseFloat(e.collateral_ratio)<(this._isPredictionMarket(this.props)?1:a)?(t.below_maintenance=O.a.translate("borrow.errors.below",{mr:a}),o=!1):parseFloat(e.collateral_ratio)<(this._isPredictionMarket(this.props)?1:a+.5)&&(t.close_maintenance=O.a.translate("borrow.errors.close",{mr:a}),o=!0),this.setState({errors:t,isValid:o})}},{key:"_onSubmit",value:function(e){e.preventDefault();var t=m.a.get_asset_precision(this.props.quote_asset.get("precision")),n=m.a.get_asset_precision(this.props.backing_asset.get("precision")),r=this._getCurrentPosition(this.props),o=k.a.new_transaction();o.add_type_operation("call_order_update",{fee:{amount:0,asset_id:0},funding_account:this.props.account.get("id"),delta_collateral:{amount:parseInt(this.state.collateral*n-r.collateral,10),asset_id:this.props.backing_asset.get("id")},delta_debt:{amount:parseInt(this.state.short_amount*t-r.debt,10),asset_id:this.props.quote_asset.get("id")}}),w.a.process_transaction(o,null,!0).catch(function(e){}),s.a.publish(this.props.modalId,"close")}},{key:"_getCurrentPosition",value:function(e){var t={collateral:null,debt:null};if(e&&e.hasCallOrders&&e.call_orders)for(var n in e.call_orders)e.call_orders.hasOwnProperty(n)&&e.call_orders[n]&&e.quote_asset.get("id")===e.call_orders[n].getIn(["call_price","quote","asset_id"])&&(t=e.call_orders[n].toJS());return t}},{key:"_getFeedPrice",value:function(){return this.props?this._isPredictionMarket(this.props)?1:1/m.a.get_asset_price(this.props.quote_asset.getIn(["bitasset","current_feed","settlement_price","quote","amount"]),this.props.backing_asset,this.props.quote_asset.getIn(["bitasset","current_feed","settlement_price","base","amount"]),this.props.quote_asset):1}},{key:"_getInitialCollateralRatio",value:function(e){return this._isPredictionMarket(e)?1:0}},{key:"_getCollateralRatio",value:function(e,t){return t/(e/this._getFeedPrice())}},{key:"_isPredictionMarket",value:function(e){return e.quote_asset.getIn(["bitasset","is_prediction_market"])}},{key:"render",value:function(){var e=this,t=this.props,n=t.quote_asset,o=t.bitasset_balance,a=t.backing_asset,i=t.backing_balance,s=this.state,l=s.short_amount,u=s.collateral,f=s.collateral_ratio,d=s.errors,y=s.isValid,k=m.a.get_asset_precision(this.props.quote_asset.get("precision")),w=m.a.get_asset_precision(this.props.backing_asset.get("precision"));f&&!isNaN(f)&&f>0&&f<1e3||(f=0),o=o?o.toJS():{balance:0,id:null},i=i?i.toJS():{balance:0,id:null};var S=b()("form-group",{"has-error":d.collateral_balance}),C=b()("form-group",{"has-error":d.below_maintenance},{"has-warning":d.close_maintenance}),x=b()("button",{disabled:d.collateral_balance||!y},{success:y}),A=this._getCurrentPosition(this.props),T=i.id?P.b.getObject(i.id):null,D=(T?T.get("balance"):0)-parseInt(this.state.collateral*w-A.collateral,10),j=r.createElement("span",null,r.createElement(p.a,{component:"span",content:"transfer.available"}),":"," ",o.id?r.createElement(g.a,{balance:o.id}):r.createElement(h.a,{amount:0,asset:n.get("id")})),R=r.createElement("span",null,r.createElement(p.a,{component:"span",content:"transfer.available"}),":"," ",i.id?r.createElement(h.a,{amount:D,asset:a.get("id")}):r.createElement(h.a,{amount:0,asset:a.get("id")})),F=this._getFeedPrice(),N=this.props.quote_asset.getIn(["bitasset","current_feed","maintenance_collateral_ratio"])/1e3,q=this.props.quote_asset.getIn(["bitasset","current_feed","maximum_short_squeeze_ratio"])/1e3,I=this._isPredictionMarket(this.props);return!I&&isNaN(F)?r.createElement("div",null,r.createElement("form",{className:"grid-container text-center no-overflow",noValidate:!0},r.createElement(p.a,{component:"h3",content:"borrow.no_valid",asset_symbol:n.get("symbol")})),r.createElement("div",{className:"grid-content button-group text-center no-overflow"},r.createElement(c.a,{close:this.props.modalId},r.createElement("div",{className:" button warning"},r.createElement(p.a,{content:"account.perm.cancel"}))))):r.createElement("div",null,r.createElement("form",{className:"grid-container small-10 small-offset-1 no-overflow",noValidate:!0},r.createElement(p.a,{component:"h3",content:"borrow.title",asset_symbol:n.get("symbol")}),r.createElement("div",{style:{textAlign:"left"}},this.props.hide_help?null:r.createElement(_.a,{path:"components/"+(I?"BorrowModalPrediction":"BorrowModal"),debt:n.get("symbol"),collateral:a.get("symbol"),borrower:this.props.account.get("name"),mr:N}),I?null:r.createElement("div",{style:{paddingBottom:"1rem"}},r.createElement("div",{className:"borrow-price-feeds"},r.createElement("span",{className:"borrow-price-label"},r.createElement(p.a,{content:"transaction.feed_price"}),": "),r.createElement(E.a,{noPopOver:!0,quote_amount:n.getIn(["bitasset","current_feed","settlement_price","base","amount"]),quote_asset:n.getIn(["bitasset","current_feed","settlement_price","base","asset_id"]),base_asset:n.getIn(["bitasset","current_feed","settlement_price","quote","asset_id"]),base_amount:n.getIn(["bitasset","current_feed","settlement_price","quote","amount"])})),r.createElement("div",{className:"borrow-price-feeds"},r.createElement("span",{className:"inline-block tooltip borrow-price-label","data-place":"bottom","data-tip":O.a.translate("tooltip.margin_price")},r.createElement(p.a,{content:"exchange.squeeze"}),": "),r.createElement(E.a,{decimals:2,callPrice:!0,noPopOver:!0,quote_amount:n.getIn(["bitasset","current_feed","settlement_price","base","amount"]),quote_asset:n.getIn(["bitasset","current_feed","settlement_price","base","asset_id"]),base_asset:n.getIn(["bitasset","current_feed","settlement_price","quote","asset_id"]),base_amount:q*n.getIn(["bitasset","current_feed","settlement_price","quote","amount"])})),r.createElement("b",null),r.createElement("div",{className:"borrow-price-final "+(d.below_maintenance?"has-error":d.close_maintenance?"has-warning":"")},r.createElement("span",{className:"borrow-price-label"},r.createElement(p.a,{content:"exchange.your_price"}),": "),this.state.newPosition?r.createElement(E.a,{noPopOver:!0,quote_amount:N*this.state.short_amount*k,quote_asset:n.get("id"),base_asset:a.get("id"),base_amount:this.state.collateral*w}):null)),r.createElement("div",{className:"form-group"},r.createElement(v.a,{label:"transaction.borrow_amount",amount:l.toString(),onChange:this._onBorrowChange.bind(this),asset:n.get("id"),assets:[n.get("id")],display_balance:j,placeholder:"0.0",tabIndex:1})),r.createElement("div",{className:S},r.createElement(v.a,{label:"transaction.collateral",amount:u.toString(),onChange:this._onCollateralChange.bind(this),asset:a.get("id"),assets:[a.get("id")],display_balance:R,placeholder:"0.0",tabIndex:1}),d.collateral_balance?r.createElement("div",{style:{paddingTop:"0.5rem"}},d.collateral_balance):null),I?null:r.createElement("div",{className:C},r.createElement(p.a,{component:"label",content:"borrow.coll_ratio"}),r.createElement("input",{min:"0",max:"6",step:"0.05",onChange:this._onRatioChange.bind(this),value:f,type:"range",disabled:!l}),r.createElement("div",{className:"inline-block"},m.a.format_number(f,2)),d.below_maintenance||d.close_maintenance?r.createElement("div",{style:{maxWidth:"calc(100% - 50px)"},className:"float-right"},d.below_maintenance,d.close_maintenance):null),r.createElement("div",{className:"no-padding grid-content button-group no-overflow"},r.createElement("div",{onClick:this._onSubmit.bind(this),href:!0,className:x},r.createElement(p.a,{content:"borrow.adjust"})),r.createElement("div",{onClick:function(t){t.preventDefault(),e.setState(e._initialState(e.props))},href:!0,className:"button info"},r.createElement(p.a,{content:"wallet.reset"}))))))}}]),t}();R.propTypes={quote_asset:f.a.ChainAsset.isRequired,bitasset_balance:f.a.ChainObject,backing_asset:f.a.ChainAsset.isRequired,backing_balance:f.a.ChainObject,call_orders:f.a.ChainObjectsList,hasCallOrders:o.bool},R=Object(d.a)(R,{keep_updating:!0});var F=function(e){function t(){T(this,t);var e=D(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={smallScreen:!1},e}return j(t,r["Component"]),A(t,[{key:"show",value:function(){var e="borrow_modal_"+this.props.quote_asset;s.a.publish(e,"open")}},{key:"componentWillMount",value:function(){this.setState({smallScreen:window.innerHeight<=800})}},{key:"render",value:function(){var e=this.props,t=e.quote_asset,n=e.backing_asset,o=e.account,a="borrow_modal_"+t,i=o.get("balances").toJS(),s=void 0,c=void 0;if(i)for(var u in i)u===n&&(s=i[u]),u===t&&(c=i[u]);return r.createElement(l.a,{id:a,overlay:!0,ref:a},r.createElement("div",{className:"grid-block vertical"},r.createElement(R,{quote_asset:t,call_orders:o.get("call_orders"),hasCallOrders:o.get("call_orders")&&o.get("call_orders").size>0,modalId:a,bitasset_balance:c,backing_balance:s,backing_asset:n,hide_help:this.state.smallScreen,account:o})))}}]),t}();t.a=F},1695:function(e,t,n){var r=n(1662),o=n(1660),a=n(1659),i=0,s=1,l=2,c=3,u=4,p=5,f=6,d=7,h={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(e){for(var t=e<<10;h.getBCHDigit(t)-h.getBCHDigit(h.G15)>=0;)t^=h.G15<<h.getBCHDigit(t)-h.getBCHDigit(h.G15);return(e<<10|t)^h.G15_MASK},getBCHTypeNumber:function(e){for(var t=e<<12;h.getBCHDigit(t)-h.getBCHDigit(h.G18)>=0;)t^=h.G18<<h.getBCHDigit(t)-h.getBCHDigit(h.G18);return e<<12|t},getBCHDigit:function(e){for(var t=0;0!=e;)t++,e>>>=1;return t},getPatternPosition:function(e){return h.PATTERN_POSITION_TABLE[e-1]},getMask:function(e,t,n){switch(e){case i:return(t+n)%2==0;case s:return t%2==0;case l:return n%3==0;case c:return(t+n)%3==0;case u:return(Math.floor(t/2)+Math.floor(n/3))%2==0;case p:return t*n%2+t*n%3==0;case f:return(t*n%2+t*n%3)%2==0;case d:return(t*n%3+(t+n)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}},getErrorCorrectPolynomial:function(e){for(var t=new o([1],0),n=0;n<e;n++)t=t.multiply(new o([1,a.gexp(n)],0));return t},getLengthInBits:function(e,t){if(1<=t&&t<10)switch(e){case r.MODE_NUMBER:return 10;case r.MODE_ALPHA_NUM:return 9;case r.MODE_8BIT_BYTE:case r.MODE_KANJI:return 8;default:throw new Error("mode:"+e)}else if(t<27)switch(e){case r.MODE_NUMBER:return 12;case r.MODE_ALPHA_NUM:return 11;case r.MODE_8BIT_BYTE:return 16;case r.MODE_KANJI:return 10;default:throw new Error("mode:"+e)}else{if(!(t<41))throw new Error("type:"+t);switch(e){case r.MODE_NUMBER:return 14;case r.MODE_ALPHA_NUM:return 13;case r.MODE_8BIT_BYTE:return 16;case r.MODE_KANJI:return 12;default:throw new Error("mode:"+e)}}},getLostPoint:function(e){for(var t=e.getModuleCount(),n=0,r=0;r<t;r++)for(var o=0;o<t;o++){for(var a=0,i=e.isDark(r,o),s=-1;s<=1;s++)if(!(r+s<0||t<=r+s))for(var l=-1;l<=1;l++)o+l<0||t<=o+l||0==s&&0==l||i==e.isDark(r+s,o+l)&&a++;a>5&&(n+=3+a-5)}for(r=0;r<t-1;r++)for(o=0;o<t-1;o++){var c=0;e.isDark(r,o)&&c++,e.isDark(r+1,o)&&c++,e.isDark(r,o+1)&&c++,e.isDark(r+1,o+1)&&c++,0!=c&&4!=c||(n+=3)}for(r=0;r<t;r++)for(o=0;o<t-6;o++)e.isDark(r,o)&&!e.isDark(r,o+1)&&e.isDark(r,o+2)&&e.isDark(r,o+3)&&e.isDark(r,o+4)&&!e.isDark(r,o+5)&&e.isDark(r,o+6)&&(n+=40);for(o=0;o<t;o++)for(r=0;r<t-6;r++)e.isDark(r,o)&&!e.isDark(r+1,o)&&e.isDark(r+2,o)&&e.isDark(r+3,o)&&e.isDark(r+4,o)&&!e.isDark(r+5,o)&&e.isDark(r+6,o)&&(n+=40);var u=0;for(o=0;o<t;o++)for(r=0;r<t;r++)e.isDark(r,o)&&u++;return n+=10*(Math.abs(100*u/t/t-50)/5)}};e.exports=h},1696:function(e,t){function n(){this.buffer=new Array,this.length=0}n.prototype={get:function(e){var t=Math.floor(e/8);return 1==(this.buffer[t]>>>7-e%8&1)},put:function(e,t){for(var n=0;n<t;n++)this.putBit(1==(e>>>t-n-1&1))},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}},e.exports=n},1697:function(e,t,n){var r=n(1661);function o(e,t){this.totalCount=e,this.dataCount=t}o.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],o.getRSBlocks=function(e,t){var n=o.getRsBlockTable(e,t);if(void 0==n)throw new Error("bad rs block @ typeNumber:"+e+"/errorCorrectLevel:"+t);for(var r=n.length/3,a=new Array,i=0;i<r;i++)for(var s=n[3*i+0],l=n[3*i+1],c=n[3*i+2],u=0;u<s;u++)a.push(new o(l,c));return a},o.getRsBlockTable=function(e,t){switch(t){case r.L:return o.RS_BLOCK_TABLE[4*(e-1)+0];case r.M:return o.RS_BLOCK_TABLE[4*(e-1)+1];case r.Q:return o.RS_BLOCK_TABLE[4*(e-1)+2];case r.H:return o.RS_BLOCK_TABLE[4*(e-1)+3];default:return}},e.exports=o},1698:function(e,t,n){var r=n(1662);function o(e){this.mode=r.MODE_8BIT_BYTE,this.data=e}o.prototype={getLength:function(e){return this.data.length},write:function(e){for(var t=0;t<this.data.length;t++)e.put(this.data.charCodeAt(t),8)}},e.exports=o},1699:function(e,t,n){var r=n(1698),o=n(1697),a=n(1696),i=n(1695),s=n(1660);function l(e,t){this.typeNumber=e,this.errorCorrectLevel=t,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var c=l.prototype;c.addData=function(e){var t=new r(e);this.dataList.push(t),this.dataCache=null},c.isDark=function(e,t){if(e<0||this.moduleCount<=e||t<0||this.moduleCount<=t)throw new Error(e+","+t);return this.modules[e][t]},c.getModuleCount=function(){return this.moduleCount},c.make=function(){if(this.typeNumber<1){var e=1;for(e=1;e<40;e++){for(var t=o.getRSBlocks(e,this.errorCorrectLevel),n=new a,r=0,s=0;s<t.length;s++)r+=t[s].dataCount;for(s=0;s<this.dataList.length;s++){var l=this.dataList[s];n.put(l.mode,4),n.put(l.getLength(),i.getLengthInBits(l.mode,e)),l.write(n)}if(n.getLengthInBits()<=8*r)break}this.typeNumber=e}this.makeImpl(!1,this.getBestMaskPattern())},c.makeImpl=function(e,t){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++){this.modules[n]=new Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++)this.modules[n][r]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(e,t),this.typeNumber>=7&&this.setupTypeNumber(e),null==this.dataCache&&(this.dataCache=l.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,t)},c.setupPositionProbePattern=function(e,t){for(var n=-1;n<=7;n++)if(!(e+n<=-1||this.moduleCount<=e+n))for(var r=-1;r<=7;r++)t+r<=-1||this.moduleCount<=t+r||(this.modules[e+n][t+r]=0<=n&&n<=6&&(0==r||6==r)||0<=r&&r<=6&&(0==n||6==n)||2<=n&&n<=4&&2<=r&&r<=4)},c.getBestMaskPattern=function(){for(var e=0,t=0,n=0;n<8;n++){this.makeImpl(!0,n);var r=i.getLostPoint(this);(0==n||e>r)&&(e=r,t=n)}return t},c.createMovieClip=function(e,t,n){var r=e.createEmptyMovieClip(t,n);this.make();for(var o=0;o<this.modules.length;o++)for(var a=1*o,i=0;i<this.modules[o].length;i++){var s=1*i;this.modules[o][i]&&(r.beginFill(0,100),r.moveTo(s,a),r.lineTo(s+1,a),r.lineTo(s+1,a+1),r.lineTo(s,a+1),r.endFill())}return r},c.setupTimingPattern=function(){for(var e=8;e<this.moduleCount-8;e++)null==this.modules[e][6]&&(this.modules[e][6]=e%2==0);for(var t=8;t<this.moduleCount-8;t++)null==this.modules[6][t]&&(this.modules[6][t]=t%2==0)},c.setupPositionAdjustPattern=function(){for(var e=i.getPatternPosition(this.typeNumber),t=0;t<e.length;t++)for(var n=0;n<e.length;n++){var r=e[t],o=e[n];if(null==this.modules[r][o])for(var a=-2;a<=2;a++)for(var s=-2;s<=2;s++)this.modules[r+a][o+s]=-2==a||2==a||-2==s||2==s||0==a&&0==s}},c.setupTypeNumber=function(e){for(var t=i.getBCHTypeNumber(this.typeNumber),n=0;n<18;n++){var r=!e&&1==(t>>n&1);this.modules[Math.floor(n/3)][n%3+this.moduleCount-8-3]=r}for(n=0;n<18;n++){r=!e&&1==(t>>n&1);this.modules[n%3+this.moduleCount-8-3][Math.floor(n/3)]=r}},c.setupTypeInfo=function(e,t){for(var n=this.errorCorrectLevel<<3|t,r=i.getBCHTypeInfo(n),o=0;o<15;o++){var a=!e&&1==(r>>o&1);o<6?this.modules[o][8]=a:o<8?this.modules[o+1][8]=a:this.modules[this.moduleCount-15+o][8]=a}for(o=0;o<15;o++){a=!e&&1==(r>>o&1);o<8?this.modules[8][this.moduleCount-o-1]=a:o<9?this.modules[8][15-o-1+1]=a:this.modules[8][15-o-1]=a}this.modules[this.moduleCount-8][8]=!e},c.mapData=function(e,t){for(var n=-1,r=this.moduleCount-1,o=7,a=0,s=this.moduleCount-1;s>0;s-=2)for(6==s&&s--;;){for(var l=0;l<2;l++)if(null==this.modules[r][s-l]){var c=!1;a<e.length&&(c=1==(e[a]>>>o&1)),i.getMask(t,r,s-l)&&(c=!c),this.modules[r][s-l]=c,-1==--o&&(a++,o=7)}if((r+=n)<0||this.moduleCount<=r){r-=n,n=-n;break}}},l.PAD0=236,l.PAD1=17,l.createData=function(e,t,n){for(var r=o.getRSBlocks(e,t),s=new a,c=0;c<n.length;c++){var u=n[c];s.put(u.mode,4),s.put(u.getLength(),i.getLengthInBits(u.mode,e)),u.write(s)}var p=0;for(c=0;c<r.length;c++)p+=r[c].dataCount;if(s.getLengthInBits()>8*p)throw new Error("code length overflow. ("+s.getLengthInBits()+">"+8*p+")");for(s.getLengthInBits()+4<=8*p&&s.put(0,4);s.getLengthInBits()%8!=0;)s.putBit(!1);for(;!(s.getLengthInBits()>=8*p||(s.put(l.PAD0,8),s.getLengthInBits()>=8*p));)s.put(l.PAD1,8);return l.createBytes(s,r)},l.createBytes=function(e,t){for(var n=0,r=0,o=0,a=new Array(t.length),l=new Array(t.length),c=0;c<t.length;c++){var u=t[c].dataCount,p=t[c].totalCount-u;r=Math.max(r,u),o=Math.max(o,p),a[c]=new Array(u);for(var f=0;f<a[c].length;f++)a[c][f]=255&e.buffer[f+n];n+=u;var d=i.getErrorCorrectPolynomial(p),h=new s(a[c],d.getLength()-1).mod(d);l[c]=new Array(d.getLength()-1);for(f=0;f<l[c].length;f++){var m=f+h.getLength()-l[c].length;l[c][f]=m>=0?h.get(m):0}}var y=0;for(f=0;f<t.length;f++)y+=t[f].totalCount;var b=new Array(y),v=0;for(f=0;f<r;f++)for(c=0;c<t.length;c++)f<a[c].length&&(b[v++]=a[c][f]);for(f=0;f<o;f++)for(c=0;c<t.length;c++)f<l[c].length&&(b[v++]=l[c][f]);return b},e.exports=l},1700:function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},1701:function(e,t,n){"use strict";var r=n(110),o=n(81),a=n(1700);e.exports=function(){function e(e,t,n,r,i,s){s!==a&&o(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=r,n.PropTypes=n,n}},1702:function(e,t,n){e.exports=n(1701)()},1703:function(e,t,n){"use strict";n.d(t,"b",function(){return O}),n.d(t,"c",function(){return S}),n.d(t,"a",function(){return _});var r=n(0),o=n(2),a=n(1113),i=n(64),s=n(8),l=n(1),c=n.n(l),u=n(1652),p=n(1633),f=n(80),d=n(51),h=n(3),m=n(37),y=n(1642),b=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function w(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var E={textAlign:"right"},S=function(e){function t(){return g(this,t),k(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return w(t,r["Component"]),b(t,[{key:"render",value:function(){var e=this.props,t=e.baseSymbol,n=e.quoteSymbol,o=e.dashboard,a=(e.isMyAccount,e.settings),i=a?a.get("unit"):"1.3.0";return o?r.createElement("thead",null,r.createElement("tr",null,r.createElement("th",null,r.createElement(c.a,{content:"account.cyb_market"})),r.createElement("th",{style:E},r.createElement(c.a,{content:"exchange.price"})),r.createElement("th",{style:E},r.createElement(c.a,{content:"account.qty"})),r.createElement("th",{style:E},r.createElement(c.a,{content:"exchange.total"})),r.createElement("th",{style:E},r.createElement(c.a,{content:"exchange.order_value"})," (",r.createElement(f.a,{name:i}),")"),r.createElement("th",null,r.createElement(c.a,{content:"account.trade"})),r.createElement("th",null,r.createElement(c.a,{content:"wallet.cancel"})))):r.createElement("thead",null,r.createElement("tr",null,r.createElement("th",{className:"text-right"},r.createElement(c.a,{className:"header-sub-title",content:"exchange.price"})),r.createElement("th",{className:"text-right"},t?r.createElement("span",{className:"header-sub-title"},r.createElement(f.a,{dataPlace:"top",name:n})):null),r.createElement("th",{className:"text-right"},t?r.createElement("span",{className:"header-sub-title"},r.createElement(f.a,{dataPlace:"top",name:t})):null),r.createElement("th",{className:"text-right",style:{width:"28%"}},r.createElement(c.a,{className:"header-sub-title",content:"transaction.expiration"})),r.createElement("th",{style:{whiteSpace:"nowrap"}},r.createElement(c.a,{content:"wallet.cancel"}))))}}]),t}();S.defaultProps={quoteSymbol:null,baseSymbol:null};var O=function(e){function t(){return g(this,t),k(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return w(t,r["Component"]),b(t,[{key:"shouldComponentUpdate",value:function(e){return e.order.for_sale!==this.props.order.for_sale||e.order.id!==this.props.order.id||e.isMyAccount!==this.props.isMyAccount||e.quote!==this.props.quote||e.base!==this.props.base||e.order.market_base!==this.props.order.market_base}},{key:"render",value:function(){var e=this.props,t=e.base,n=e.quote,o=e.order,l=e.showSymbols,c=e.dashboard,p=(e.isMyAccount,e.settings),h=o.isBid(),m=o.isCall(),b=(m?"orderHistoryCall":h?"orderHistoryBid":"orderHistoryAsk")+" text-right",v=l?r.createElement("span",null," "+t.get("symbol")+"/"+n.get("symbol")):null,g=l?" "+t.get("symbol"):null,k=l?" "+n.get("symbol"):null,w=p?p.get("unit"):"1.3.0";return c?r.createElement("tr",{key:o.id},r.createElement("td",{style:{textAlign:"center",paddingLeft:0,borderRight:"none"}},r.createElement(a.a,{to:"/asset/"+n.get("symbol")},r.createElement(f.a,{noTip:!0,name:n.get("symbol")})),"/",r.createElement(a.a,{to:"/asset/"+t.get("symbol")},r.createElement(f.a,{noTip:!0,name:t.get("symbol")}))),r.createElement("td",{className:b,style:E},r.createElement(u.a,{price:o.getPrice(),base:t,quote:n}),v),r.createElement("td",{style:E},s.a.format_number(o[h?"amountToReceive":"amountForSale"]().getAmount({real:!0}),n.get("precision"))," ",k),r.createElement("td",{style:E},s.a.format_number(o[h?"amountForSale":"amountToReceive"]().getAmount({real:!0}),t.get("precision"))," ",g),r.createElement("td",{className:"text-right"},r.createElement(y.b,{hide_asset:!0,amount:o.amountForSale().getAmount(),fromAsset:o.amountForSale().asset_id,noDecimals:!0,toAsset:w})),r.createElement("td",null,r.createElement(a.a,{to:"/market/"+n.get("symbol")+"_"+t.get("symbol")},r.createElement(d.a,{name:"trade",className:"icon-14px"}))),r.createElement("td",{className:"text-center",style:{padding:"2px 5px"}},m?null:r.createElement("a",{style:{marginRight:0},className:"order-cancel",onClick:this.props.onCancel},r.createElement(d.a,{name:"cross-circle",className:"icon-14px"})))):r.createElement("tr",{key:o.id},r.createElement("td",{className:b,style:{paddingLeft:10}},r.createElement(u.a,{price:o.getPrice(),base:t,quote:n}),v),r.createElement("td",{className:"text-right"},s.a.format_number(o[h?"amountToReceive":"amountForSale"]().getAmount({real:!0}),n.get("precision"))," ",k),r.createElement("td",{className:"text-right"},s.a.format_number(o[h?"amountForSale":"amountToReceive"]().getAmount({real:!0}),t.get("precision"))," ",g),r.createElement("td",{className:"text-right",style:{width:"28%"}},m?null:r.createElement(i.a,{value:o.expiration,format:"short"})),r.createElement("td",{className:"text-center",style:{padding:"2px 5px"}},m?null:r.createElement("a",{style:{marginRight:0},className:"order-cancel",onClick:this.props.onCancel},r.createElement(d.a,{name:"cross-circle",className:"icon-14px"}))))}}]),t}();O.defaultProps={showSymbols:!1};var _=function(e){function t(e){g(this,t);var n=k(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._getOrders=n._getOrders.bind(n),n}return w(t,r["Component"]),b(t,[{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(){}},{key:"_getOrders",value:function(){var e,t=this,n=this.props,r=n.currentAccount,o=n.base,a=n.quote,i=r.get("orders"),s=r.get("call_orders"),l=o.get("id"),c=a.get("id"),u=(v(e={},o.get("id"),{precision:o.get("precision")}),v(e,a.get("id"),{precision:a.get("precision")}),e),p=i.toArray().map(function(e){var t=h.b.getObject(e);if(!t)return null;var n=t.getIn(["sell_price","base","asset_id"]),r=t.getIn(["sell_price","quote","asset_id"]);return n===l&&r===c||n===c&&r===l?new m.d(t.toJS(),u,a.get("id")):void 0}).filter(function(e){return!!e}),f=s.toArray().map(function(e){var n=h.b.getObject(e);if(!n)return null;var r=n.getIn(["call_price","base","asset_id"]),o=n.getIn(["call_price","quote","asset_id"]);return r===l&&o===c||r===c&&o===l?t.props.feedPrice?new m.b(n.toJS(),u,a.get("id"),t.props.feedPrice):null:void 0}).filter(function(e){return!!e}).filter(function(e){return e.isMarginCalled()});return p.concat(f)}},{key:"render",value:function(){var e=this,t=this.props,n=t.base,o=t.quote,a=t.quoteSymbol,i=t.baseSymbol;if(!n||!o)return null;var s=this._getOrders(),l=r.createElement("tr",null,r.createElement("td",{style:{textAlign:"center"},colSpan:5},r.createElement(c.a,{content:"account.no_orders"}))),u=s.filter(function(e){return e.isBid()}).sort(function(e,t){return t.getPrice()-e.getPrice()}).map(function(t){var a=t.getPrice();return r.createElement(O,{price:a,key:t.id,order:t,base:n,quote:o,onCancel:e.props.onCancel.bind(e,t.id)})}),f=s.filter(function(e){return!e.isBid()}).sort(function(e,t){return e.getPrice()-t.getPrice()}).map(function(t){var a=t.getPrice();return r.createElement(O,{price:a,key:t.id,order:t,base:n,quote:o,onCancel:e.props.onCancel.bind(e,t.id)})}),d=[];return f.length&&(d=d.concat(f)),u.length&&(d=d.concat(u)),d.sort(function(e,t){return e.props.price-t.props.price}),[r.createElement("div",{className:"exchange-content-header"},r.createElement(c.a,{content:"exchange.my_orders"})),r.createElement("table",{className:"table order-table table-hover"},r.createElement(S,{type:"sell",baseSymbol:i,quoteSymbol:a})),r.createElement("div",{className:"grid-block no-padding market-right-padding _scroll-bar",ref:"asks",style:{overflow:"auto",maxHeight:720}},r.createElement("table",{style:{paddingBottom:5},className:"table order-table table-hover"},r.createElement(p.a,{component:"tbody",transitionName:"newrow"},d.length?d:l)),",")]}}]),t}();_.defaultProps={base:{},quote:{},orders:{},quoteSymbol:"",baseSymbol:""},_.propTypes={base:o.object.isRequired,quote:o.object.isRequired,orders:o.object.isRequired,quoteSymbol:o.string.isRequired,baseSymbol:o.string.isRequired}},1713:function(e,t,n){"use strict";n.r(t),n.d(t,"Notification",function(){return o});var r=n(0),o=r.createClass({displayName:"Notification",getDefaultProps:function(){return{position:"top-right",color:"success",title:null,image:null,content:null,wrapperElement:"p"}},render:function(){var e="notification "+this.props.position+" "+this.props.color;e+=" "+(this.props.className||"");var t=null;return this.props.image&&(t=r.createElement("div",{className:"notification-icon"},r.createElement("img",{src:"{{ image }}"}))),r.createElement("div",{id:this.props.id,"data-closable":!0,className:e},r.createElement("a",{href:"#",className:"close-button",onClick:this.props.closeHandler},"×"),t,r.createElement("div",{className:"notification-content"},r.createElement("h1",null,this.props.title),r.createElement(this.props.wrapperElement,null,this.props.children)))}});t.default=o},1714:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(0),o=(n(2),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var c=function(e){function t(){return i(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,r["Component"]),a(t,[{key:"onKeyPress",value:function(e){"."===e.key&&""===e.target.value&&(e.target.value="0");var t=e.target.value+e.key,n=t.match(/\./g),r=n?n.length:0;"."===e.key&&r>1&&e.preventDefault(),parseFloat(t)!=t&&e.preventDefault(),this.props.onKeyPress&&this.props.onKeyPress(e)}}]),t}(),u=function(e){function t(){return i(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return l(t,c),a(t,[{key:"componentWillReceiveProps",value:function(e){this.props.value&&!e.value&&(this.refs.input.value="")}},{key:"render",value:function(){return r.createElement("input",o({ref:"input",type:"text"},this.props,{onKeyPress:this.onKeyPress.bind(this)}))}}]),t}();t.b=u},1715:function(e,t,n){"use strict";var r=n(11),o=n(69),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=new o.a("__cyb__"),s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.current_blocktrades_address_cache_version_string="2"}return a(e,[{key:"getIndexForDepositKeyInExchange",value:function(e,t,n){return[this.current_blocktrades_address_cache_version_string,e,t,n].reduce(function(e,t){return e.concat("[",t,"]")},"")}},{key:"getCachedInputAddress",value:function(e,t,n,o){r.a.getWallet();var a=this.getIndexForDepositKeyInExchange(t,n,o),s=i.get("deposit_keys",{});s[e]=s[e]||{},s[e][a]=s[e][a]||[];var l=s[e][a].length;return l?s[e][a][l-1]:null}},{key:"cacheInputAddress",value:function(e,t,n,o,a,s){if(a){r.a.getWallet();null;var l=this.getIndexForDepositKeyInExchange(t,n,o),c=i.get("deposit_keys",{});c[e]=c[e]||{},c[e][l]=c[e][l]||[],c[e][l].push({address:a,memo:s}),i.set("deposit_keys",c)}}}]),e}();t.a=s},1716:function(e,t,n){"use strict";n.d(t,"d",function(){return i}),n.d(t,"c",function(){return s}),n.d(t,"b",function(){return l}),n.d(t,"e",function(){return u}),n.d(t,"f",function(){return p}),n.d(t,"a",function(){return f});var r=n(69),o=n(104),a=new r.a("");function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.c.BASE+o.c.DEPOSIT_LIMIT;return fetch(n+"?inputCoinType="+encodeURIComponent(e)+"&outputCoinType="+encodeURIComponent(t),{method:"get",headers:new Headers({Accept:"application/json"})}).then(function(e){return e.json().then(function(e){return e})}).catch(function(n){console.log("error fetching deposit limit of",e,t,n)})}function s(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:o.c.BASE+o.c.ESTIMATE_OUTPUT;return fetch(r+"?inputAmount="+encodeURIComponent(e)+"&inputCoinType="+encodeURIComponent(t)+"&outputCoinType="+encodeURIComponent(n),{method:"get",headers:new Headers({Accept:"application/json"})}).then(function(e){return e.json().then(function(e){return e})}).catch(function(e){console.log("error fetching deposit limit of",t,n,e)})}function l(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:o.c.BASE+o.c.ESTIMATE_INPUT;return fetch(r+"?outputAmount="+encodeURIComponent(e)+"&inputCoinType="+encodeURIComponent(t)+"&outputCoinType="+encodeURIComponent(n),{method:"get",headers:new Headers({Accept:"application/json"})}).then(function(e){return e.json().then(function(e){return e})}).catch(function(e){console.log("error fetching deposit limit of",t,n,e)})}var c={};function u(e){var t=e.inputCoinType,n=e.outputCoinType,r=e.outputAddress,a=e.url,i=void 0===a?o.c.BASE_OL:a,s=e.stateCallback,l={inputCoinType:t,outputCoinType:n,outputAddress:r},u=JSON.stringify(l);c[u]||(c[u]=!0,fetch(i+"/simple-api/initiate-trade",{method:"post",headers:new Headers({Accept:"application/json","Content-Type":"application/json"}),body:u}).then(function(e){e.json().then(function(e){delete c[u];var t={address:e.inputAddress||"unknown",memo:e.inputMemo,error:e.error||null};s&&s(t)},function(e){delete c[u],s&&s(null)})},function(e){delete c[u],s&&s(null)}).catch(function(e){console.log("fetch error:",e),delete c[u]}))}function p(e){var t=e.url,n=void 0===t?o.c.BASE:t,r=e.walletType,a=e.newAddress;return a?fetch(n+"/wallets/"+r+"/address-validator?address="+encodeURIComponent(a),{method:"get",headers:new Headers({Accept:"application/json"})}).then(function(e){return e.json().then(function(e){return e.isValid})}).catch(function(e){console.log("validate error:",e)}):new Promise(function(e){return e()})}var f={has:function(e){return a.has("history_address_"+e)},set:function(e){var t=e.wallet,n=e.addresses;a.set("history_address_"+t,n)},get:function(e){return a.get("history_address_"+e,[])},setLast:function(e){var t=e.wallet,n=e.address;a.set("history_address_last_"+t,n)},getLast:function(e){return a.get("history_address_last_"+e,"")}}},1717:function(e,t){e.exports=function(){return navigator.languages&&navigator.languages.length?navigator.languages[0]:navigator.userLanguage?navigator.userLanguage:navigator.language}},1721:function(e,t,n){"use strict";var r=function(e){for(var t,n=e.length,r=n^n,o=0;n>=4;)t=1540483477*(65535&(t=255&e.charCodeAt(o)|(255&e.charCodeAt(++o))<<8|(255&e.charCodeAt(++o))<<16|(255&e.charCodeAt(++o))<<24))+((1540483477*(t>>>16)&65535)<<16),r=1540483477*(65535&r)+((1540483477*(r>>>16)&65535)<<16)^(t=1540483477*(65535&(t^=t>>>24))+((1540483477*(t>>>16)&65535)<<16)),n-=4,++o;switch(n){case 3:r^=(255&e.charCodeAt(o+2))<<16;case 2:r^=(255&e.charCodeAt(o+1))<<8;case 1:r=1540483477*(65535&(r^=255&e.charCodeAt(o)))+((1540483477*(r>>>16)&65535)<<16)}return r=1540483477*(65535&(r^=r>>>13))+((1540483477*(r>>>16)&65535)<<16),((r^=r>>>15)>>>0).toString(36)},o=function e(t){function n(e,t,n){var o=t.trim().split(m);t=o;var a=o.length,i=e.length;switch(i){case 0:case 1:var s=0;for(e=0===i?"":e[0]+" ";s<a;++s)t[s]=r(e,t[s],n).trim();break;default:var l=s=0;for(t=[];s<a;++s)for(var c=0;c<i;++c)t[l++]=r(e[c]+" ",o[s],n).trim()}return t}function r(e,t,n){var r=t.charCodeAt(0);switch(33>r&&(r=(t=t.trim()).charCodeAt(0)),r){case 38:return t.replace(y,"$1"+e.trim());case 58:switch(t.charCodeAt(1)){case 103:break;default:return e.trim()+t.replace(y,"$1"+e.trim())}default:if(0<1*n&&0<t.indexOf("\f"))return t.replace(y,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function o(e,t,n,r){var i=e+";",s=2*t+3*n+4*r;if(944===s){e=i.indexOf(":",9)+1;var l=i.substring(e,i.length-1).trim();return l=i.substring(0,e).trim()+l+";",1===A||2===A&&a(l,1)?"-webkit-"+l+l:l}if(0===A||2===A&&!a(i,1))return i;switch(s){case 1015:return 97===i.charCodeAt(10)?"-webkit-"+i+i:i;case 951:return 116===i.charCodeAt(3)?"-webkit-"+i+i:i;case 963:return 110===i.charCodeAt(5)?"-webkit-"+i+i:i;case 1009:if(100!==i.charCodeAt(4))break;case 969:case 942:return"-webkit-"+i+i;case 978:return"-webkit-"+i+"-moz-"+i+i;case 1019:case 983:return"-webkit-"+i+"-moz-"+i+"-ms-"+i+i;case 883:return 45===i.charCodeAt(8)?"-webkit-"+i+i:i;case 932:if(45===i.charCodeAt(4))switch(i.charCodeAt(5)){case 103:return"-webkit-box-"+i.replace("-grow","")+"-webkit-"+i+"-ms-"+i.replace("grow","positive")+i;case 115:return"-webkit-"+i+"-ms-"+i.replace("shrink","negative")+i;case 98:return"-webkit-"+i+"-ms-"+i.replace("basis","preferred-size")+i}return"-webkit-"+i+"-ms-"+i+i;case 964:return"-webkit-"+i+"-ms-flex-"+i+i;case 1023:if(99!==i.charCodeAt(8))break;return"-webkit-box-pack"+(l=i.substring(i.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+i+"-ms-flex-pack"+l+i;case 1005:return d.test(i)?i.replace(f,":-webkit-")+i.replace(f,":-moz-")+i:i;case 1e3:switch(t=(l=i.substring(13).trim()).indexOf("-")+1,l.charCodeAt(0)+l.charCodeAt(t)){case 226:l=i.replace(k,"tb");break;case 232:l=i.replace(k,"tb-rl");break;case 220:l=i.replace(k,"lr");break;default:return i}return"-webkit-"+i+"-ms-"+l+i;case 1017:if(-1===i.indexOf("sticky",9))break;case 975:switch(t=(i=e).length-10,s=(l=(33===i.charCodeAt(t)?i.substring(0,t):i).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|l.charCodeAt(7))){case 203:if(111>l.charCodeAt(8))break;case 115:i=i.replace(l,"-webkit-"+l)+";"+i;break;case 207:case 102:i=i.replace(l,"-webkit-"+(102<s?"inline-":"")+"box")+";"+i.replace(l,"-webkit-"+l)+";"+i.replace(l,"-ms-"+l+"box")+";"+i}return i+";";case 938:if(45===i.charCodeAt(5))switch(i.charCodeAt(6)){case 105:return"-webkit-"+i+"-webkit-box-"+(l=i.replace("-items",""))+"-ms-flex-"+l+i;case 115:return"-webkit-"+i+"-ms-flex-item-"+i.replace(S,"")+i;default:return"-webkit-"+i+"-ms-flex-line-pack"+i.replace("align-content","").replace(S,"")+i}break;case 973:case 989:if(45!==i.charCodeAt(3)||122===i.charCodeAt(4))break;case 931:case 953:if(!0===_.test(e))return 115===(l=e.substring(e.indexOf(":")+1)).charCodeAt(0)?o(e.replace("stretch","fill-available"),t,n,r).replace(":fill-available",":stretch"):i.replace(l,"-webkit-"+l)+i.replace(l,"-moz-"+l.replace("fill-",""))+i;break;case 962:if(i="-webkit-"+i+(102===i.charCodeAt(5)?"-ms-"+i:"")+i,211===n+r&&105===i.charCodeAt(13)&&0<i.indexOf("transform",10))return i.substring(0,i.indexOf(";",27)+1).replace(h,"$1-webkit-$2")+i}return i}function a(e,t){var n=e.indexOf(1===t?":":"{"),r=e.substring(0,3!==t?n:10);return n=e.substring(n+1,e.length-1),R(2!==t?r:r.replace(O,"$1"),n,t)}function i(e,t){var n=o(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(E," or ($1)").substring(4):"("+t+")"}function s(e,t,n,r,o,a,i,s,l,u){for(var p,f=0,d=t;f<j;++f)switch(p=D[f].call(c,e,d,n,r,o,a,i,s,l,u)){case void 0:case!1:case!0:case null:break;default:d=p}switch(d){case void 0:case!1:case!0:case null:case t:break;default:return d}}function l(e){for(var t in e){var n=e[t];switch(t){case"prefix":R=null,n?"function"!=typeof n?A=1:(A=2,R=n):A=0}}return l}function c(t,r){if(void 0!==this&&this.constructor===c)return e(t);var l=t;if(33>l.charCodeAt(0)&&(l=l.trim()),l=[l],0<j){var f=s(-1,r,l,l,x,C,0,0,0,0);void 0!==f&&"string"==typeof f&&(r=f)}var d=function e(t,r,l,c,f){for(var d,h,m,y,k,E,S=0,O=0,_=0,D=0,R=0,N=0,q=y=d=0,I=0,M=h=0,L=0,B=l.length,V=B-1,W="",H="",z="",U="";I<B;){if(m=l.charCodeAt(I),I===V&&0!==O+D+_+S&&(0!==O&&(m=47===O?10:47),D=_=S=0,B++,V++),0===O+D+_+S){if(I===V&&(0<h&&(W=W.replace(p,"")),0<W.trim().length)){switch(m){case 32:case 9:case 59:case 13:case 10:break;default:W+=l.charAt(I)}m=59}switch(m){case 123:for(d=(W=W.trim()).charCodeAt(0),y=1,L=++I;I<B;){switch(m=l.charCodeAt(I)){case 123:y++;break;case 125:y--}if(0===y)break;I++}switch(m=l.substring(L,I),0===d&&(d=(W=W.replace(u,"").trim()).charCodeAt(0)),d){case 64:switch(0<h&&(W=W.replace(p,"")),h=W.charCodeAt(1)){case 100:case 109:case 115:case 45:y=r;break;default:y=T}if(L=(m=e(r,y,m,h,f+1)).length,0<j&&(E=s(3,m,y=n(T,W,M),r,x,C,L,h,f,c),W=y.join(""),void 0!==E&&0===(L=(m=E.trim()).length)&&(h=0,m="")),0<L)switch(h){case 115:W=W.replace(w,i);case 100:case 109:case 45:m=W+"{"+m+"}";break;case 107:m=(W=W.replace(b,"$1 $2"))+"{"+m+"}",m=1===A||2===A&&a("@"+m,3)?"@-webkit-"+m+"@"+m:"@"+m;break;default:m=W+m,112===c&&(H+=m,m="")}else m="";break;default:m=e(r,n(r,W,M),m,c,f+1)}z+=m,y=M=h=q=d=0,W="",m=l.charCodeAt(++I);break;case 125:case 59:if(1<(L=(W=(0<h?W.replace(p,""):W).trim()).length))switch(0===q&&(d=W.charCodeAt(0),45===d||96<d&&123>d)&&(L=(W=W.replace(" ",":")).length),0<j&&void 0!==(E=s(1,W,r,t,x,C,H.length,c,f,c))&&0===(L=(W=E.trim()).length)&&(W="\0\0"),d=W.charCodeAt(0),h=W.charCodeAt(1),d+h){case 0:break;case 169:case 163:U+=W+l.charAt(I);break;default:58!==W.charCodeAt(L-1)&&(H+=o(W,d,h,W.charCodeAt(2)))}M=h=q=d=0,W="",m=l.charCodeAt(++I)}}switch(m){case 13:case 10:47===O?O=0:0===1+d&&(h=1,W+="\0"),0<j*F&&s(0,W,r,t,x,C,H.length,c,f,c),C=1,x++;break;case 59:case 125:if(0===O+D+_+S){C++;break}default:switch(C++,k=l.charAt(I),m){case 9:case 32:if(0===D+S+O)switch(R){case 44:case 58:case 9:case 32:k="";break;default:32!==m&&(k=" ")}break;case 0:k="\\0";break;case 12:k="\\f";break;case 11:k="\\v";break;case 38:0===D+O+S&&(h=M=1,k="\f"+k);break;case 108:if(0===D+O+S+P&&0<q)switch(I-q){case 2:112===R&&58===l.charCodeAt(I-3)&&(P=R);case 8:111===N&&(P=N)}break;case 58:0===D+O+S&&(q=I);break;case 44:0===O+_+D+S&&(h=1,k+="\r");break;case 34:case 39:0===O&&(D=D===m?0:0===D?m:D);break;case 91:0===D+O+_&&S++;break;case 93:0===D+O+_&&S--;break;case 41:0===D+O+S&&_--;break;case 40:if(0===D+O+S){if(0===d)switch(2*R+3*N){case 533:break;default:d=1}_++}break;case 64:0===O+_+D+S+q+y&&(y=1);break;case 42:case 47:if(!(0<D+S+_))switch(O){case 0:switch(2*m+3*l.charCodeAt(I+1)){case 235:O=47;break;case 220:L=I,O=42}break;case 42:47===m&&42===R&&(33===l.charCodeAt(L+2)&&(H+=l.substring(L,I+1)),k="",O=0)}}0===O&&(W+=k)}N=R,R=m,I++}if(0<(L=H.length)){if(y=r,0<j&&void 0!==(E=s(2,H,y,t,x,C,L,c,f,c))&&0===(H=E).length)return U+H+z;if(H=y.join(",")+"{"+H+"}",0!=A*P){switch(2!==A||a(H,2)||(P=0),P){case 111:H=H.replace(g,":-moz-$1")+H;break;case 112:H=H.replace(v,"::-webkit-input-$1")+H.replace(v,"::-moz-$1")+H.replace(v,":-ms-input-$1")+H}P=0}}return U+H+z}(T,l,r,0,0);return 0<j&&void 0!==(f=s(-2,d,l,l,x,C,d.length,0,0,0))&&(d=f),P=0,C=x=1,d}var u=/^\0+/g,p=/[\0\r\f]/g,f=/: */g,d=/zoo|gra/,h=/([,: ])(transform)/g,m=/,\r+?/g,y=/([\t\r\n ])*\f?&/g,b=/@(k\w+)\s*(\S*)\s*/,v=/::(place)/g,g=/:(read-only)/g,k=/[svh]\w+-[tblr]{2}/,w=/\(\s*(.*)\s*\)/g,E=/([\s\S]*?);/g,S=/-self|flex-/g,O=/[^]*?(:[rp][el]a[\w-]+)[^]*/,_=/stretch|:\s*\w+\-(?:conte|avail)/,C=1,x=1,P=0,A=1,T=[],D=[],j=0,R=null,F=0;return c.use=function e(t){switch(t){case void 0:case null:j=D.length=0;break;default:switch(t.constructor){case Array:for(var n=0,r=t.length;n<r;++n)e(t[n]);break;case Function:D[j++]=t;break;case Boolean:F=0|!!t}}return e},c.set=l,void 0!==t&&l(t),c},a=n(1790),i=n.n(a);var s={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},l=/[A-Z]|^ms/g,c=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}(function(e){return e.replace(l,"-$&").toLowerCase()}),u=function(e,t){return null==t||"boolean"==typeof t?"":1===s[e]||45===e.charCodeAt(1)||isNaN(t)||0===t?t:t+"px"},p=function e(t){for(var n=t.length,r=0,o="";r<n;r++){var a=t[r];if(null!=a){var i=void 0;switch(typeof a){case"boolean":break;case"function":i=e([a()]);break;case"object":if(Array.isArray(a))i=e(a);else for(var s in i="",a)a[s]&&s&&(i&&(i+=" "),i+=s);break;default:i=a}i&&(o&&(o+=" "),o+=i)}}return o},f="undefined"!=typeof document;function d(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key||""),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),(void 0!==e.container?e.container:document.head).appendChild(t),t}function h(e){this.isSpeedy=!0,this.tags=[],this.ctr=0,this.opts=e}function m(){if(this.injected)throw new Error("already injected!");this.tags[0]=d(this.opts),this.injected=!0}function y(e){if(0!==this.ctr)throw new Error("cannot change speedy now");this.isSpeedy=!!e}function b(e,t){if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(this.tags[this.tags.length-1]);try{n.insertRule(e,n.cssRules.length)}catch(e){0}}else{var r=d(this.opts);this.tags.push(r),r.appendChild(document.createTextNode(e+(t||"")))}this.ctr++,this.ctr%65e3==0&&this.tags.push(d(this.opts))}function v(e){return e.parentNode.removeChild(e)}function g(){this.tags.forEach(v),this.tags=[],this.ctr=0,this.injected=!1}var k=function(){var e=h.prototype;return e.inject=m,e.speedy=y,e.insert=b,e.flush=g,h}();t.a=function(e,t){if(void 0!==e.__SECRET_EMOTION__)return e.__SECRET_EMOTION__;void 0===t&&(t={});var n,a,s=t.key||"css",l=i()(function(e){n+=e,f&&h.insert(e,y)});void 0!==t.prefix&&(a={prefix:t.prefix});var d={registered:{},inserted:{},nonce:t.nonce,key:s},h=new k(t);f&&h.inject();var m=new o(a);m.use(t.stylisPlugins)(l);var y="";function b(e,t){if(null==e)return"";switch(typeof e){case"boolean":return"";case"function":if(void 0!==e.__emotion_styles){var n=e.toString();return n}return b.call(this,void 0===this?e():e(this.mergedProps,this.context),t);case"object":return function(e){if(w.has(e))return w.get(e);var t="";return Array.isArray(e)?e.forEach(function(e){t+=b.call(this,e,!1)},this):Object.keys(e).forEach(function(n){"object"!=typeof e[n]?void 0!==d.registered[e[n]]?t+=n+"{"+d.registered[e[n]]+"}":t+=c(n)+":"+u(n,e[n])+";":Array.isArray(e[n])&&"string"==typeof e[n][0]&&void 0===d.registered[e[n][0]]?e[n].forEach(function(e){t+=c(n)+":"+u(n,e)+";"}):t+=n+"{"+b.call(this,e[n],!1)+"}"},this),w.set(e,t),t}.call(this,e);default:var r=d.registered[e];return!1===t&&void 0!==r?r:e}}var v,g,w=new WeakMap,E=/label:\s*([^\s;\n{]+)\s*;/g,S=function(e){var t=!0,n="",o="";null==e||void 0===e.raw?(t=!1,n+=b.call(this,e,!1)):n+=e[0];for(var a=arguments.length,i=new Array(a>1?a-1:0),s=1;s<a;s++)i[s-1]=arguments[s];return i.forEach(function(r,o){n+=b.call(this,r,46===n.charCodeAt(n.length-1)),!0===t&&void 0!==e[o+1]&&(n+=e[o+1])},this),g=n,n=n.replace(E,function(e,t){return o+="-"+t,""}),v=r(n+o)+o,n};function O(e,t){void 0===d.inserted[v]&&(n="",m(e,t),d.inserted[v]=n)}var _=function(){var e=S.apply(this,arguments),t=s+"-"+v;return void 0===d.registered[t]&&(d.registered[t]=g),O("."+t,e),t};function C(e,t){var n="";return t.split(" ").forEach(function(t){void 0!==d.registered[t]?e.push(t):n+=t+" "}),n}function x(e,t){var n=[],r=C(n,e);return n.length<2?e:r+_(n,t)}function P(e){d.inserted[e]=!0}if(f){var A=document.querySelectorAll("[data-emotion-"+s+"]");Array.prototype.forEach.call(A,function(e){h.tags[0].parentNode.insertBefore(e,h.tags[0]),e.getAttribute("data-emotion-"+s).split(" ").forEach(P)})}var T={flush:function(){f&&(h.flush(),h.inject()),d.inserted={},d.registered={}},hydrate:function(e){e.forEach(P)},cx:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return x(p(t))},merge:x,getRegisteredStyles:C,injectGlobal:function(){O("",S.apply(this,arguments))},keyframes:function(){var e=S.apply(this,arguments),t="animation-"+v;return O("","@keyframes "+t+"{"+e+"}"),t},css:_,sheet:h,caches:d};return e.__SECRET_EMOTION__=T,T}},1764:function(e,t,n){"use strict";var r;!function(){var o=void 0!==t&&t||{}||this||window;void 0===(r=function(){return o}.call(t,n,t,e))||(e.exports=r);var a="http://www.w3.org/2000/xmlns/",i=/url\(["']?(.+?)["']?\)/,s={woff2:"font/woff2",woff:"font/woff",otf:"application/x-font-opentype",ttf:"application/x-font-ttf",eot:"application/vnd.ms-fontobject",sfnt:"application/font-sfnt",svg:"image/svg+xml"},l=function(e){if(!function(e){return e instanceof HTMLElement||e instanceof SVGElement}(e))throw new Error("an HTMLElement or SVGElement is required; got "+e)},c=function(e,t,n){var r=e.viewBox&&e.viewBox.baseVal&&e.viewBox.baseVal[n]||null!==t.getAttribute(n)&&!t.getAttribute(n).match(/%$/)&&parseInt(t.getAttribute(n))||e.getBoundingClientRect()[n]||parseInt(t.style[n])||parseInt(window.getComputedStyle(e).getPropertyValue(n));return void 0===r||null===r||isNaN(parseFloat(r))?0:r},u=function(e){for(var t=window.atob(e.split(",")[1]),n=e.split(",")[0].split(":")[1].split(";")[0],r=new ArrayBuffer(t.length),o=new Uint8Array(r),a=0;a<t.length;a++)o[a]=t.charCodeAt(a);return new Blob([r],{type:n})},p=function(e){var t=e.cssText.match(i),n=t&&t[1]||"";if(n&&!n.match(/^data:/)&&"about:blank"!==n){var r=n.startsWith("../")?e.href+"/../"+n:n.startsWith("./")?e.href+"/."+n:n;return{text:e.cssText,format:function(e){var t=Object.keys(s).filter(function(t){return e.indexOf("."+t)>0}).map(function(e){return s[e]});return t?t[0]:(console.error("Unknown font format for "+e+". Fonts may not be working correctly."),"application/octet-stream")}(r),url:r}}},f=function(e){return Promise.all(Array.from(e.querySelectorAll("image")).map(function(e){var t=e.getAttributeNS("http://www.w3.org/1999/xlink","href")||e.getAttribute("href");return t?(function(e){return e&&0===e.lastIndexOf("http",0)&&-1===e.lastIndexOf(window.location.host)}(t)&&(t+=(-1===t.indexOf("?")?"?":"&")+"t="+(new Date).valueOf()),new Promise(function(n,r){var o=document.createElement("canvas"),a=new Image;a.crossOrigin="anonymous",a.src=t,a.onerror=function(){return r(new Error("Could not load "+t))},a.onload=function(){o.width=a.width,o.height=a.height,o.getContext("2d").drawImage(a,0,0),e.setAttributeNS("http://www.w3.org/1999/xlink","href",o.toDataURL("image/png")),n(!0)}})):Promise.resolve(null)}))},d={},h=function(e){return Promise.all(e.map(function(e){return new Promise(function(t,n){if(d[e.url])return t(d[e.url]);var r=new XMLHttpRequest;r.addEventListener("load",function(){var n=function(e){for(var t="",n=new Uint8Array(e),r=0;r<n.byteLength;r++)t+=String.fromCharCode(n[r]);return window.btoa(t)}(r.response),o=e.text.replace(i,'url("data:'+e.format+";base64,"+n+'")')+"\n";d[e.url]=o,t(o)}),r.addEventListener("error",function(n){console.warn("Failed to load font from: "+e.url,n),d[e.url]=null,t(null)}),r.addEventListener("abort",function(n){console.warn("Aborted loading font from: "+e.url,n),t(null)}),r.open("GET",e.url),r.responseType="arraybuffer",r.send()})})).then(function(e){return e.filter(function(e){return e}).join("")})},m=null,y=function(e,t){var n=t||{},r=n.selectorRemap,o=n.modifyStyle,a=n.modifyCss,i=n.fonts,s=a||function(e,t){return(r?r(e):e)+"{"+(o?o(t):t)+"}\n"},l=[],c=void 0===i,u=i||[];return(m||(m=Array.from(document.styleSheets).map(function(e){try{return e.cssRules}catch(t){console.warn("Stylesheet could not be loaded: "+e.href)}}))).forEach(function(t){t&&Array.from(t).forEach(function(t){if(void 0!==t.style)if(function(e,t){if(t)try{return e.querySelector(t)||e.parentNode&&e.parentNode.querySelector(t)}catch(e){console.warn('Invalid CSS selector "'+t+'"',e)}}(e,t.selectorText))l.push(s(t.selectorText,t.style.cssText));else if(c&&t.cssText.match(/^@font-face/)){var n=p(t);n&&u.push(n)}else l.push(t.cssText)})}),h(u).then(function(e){return l.join("\n")+e})};o.prepareSvg=function(e,t,n){l(e);var r=t||{},o=r.left,i=void 0===o?0:o,s=r.top,u=void 0===s?0:s,p=r.width,d=r.height,h=r.scale,m=void 0===h?1:h,b=r.responsive,v=void 0!==b&&b;return f(e).then(function(){var r=e.cloneNode(!0),o=function(e,t,n,r){if("svg"===e.tagName)return{width:n||c(e,t,"width"),height:r||c(e,t,"height")};if(e.getBBox){var o=e.getBBox(),a=o.x,i=o.y;return{width:a+o.width,height:i+o.height}}}(e,r,p,d),s=o.width,l=o.height;if("svg"!==e.tagName){if(!e.getBBox)return void console.error("Attempted to render non-SVG element",e);r.setAttribute("transform",r.getAttribute("transform").replace(/translate\(.*?\)/,""));var f=document.createElementNS("http://www.w3.org/2000/svg","svg");f.appendChild(r),r=f}return r.setAttribute("version","1.1"),r.setAttribute("viewBox",[i,u,s,l].join(" ")),r.getAttribute("xmlns")||r.setAttributeNS(a,"xmlns","http://www.w3.org/2000/svg"),r.getAttribute("xmlns:xlink")||r.setAttributeNS(a,"xmlns:xlink","http://www.w3.org/1999/xlink"),v?(r.removeAttribute("width"),r.removeAttribute("height"),r.setAttribute("preserveAspectRatio","xMinYMin meet")):(r.setAttribute("width",s*m),r.setAttribute("height",l*m)),Array.from(r.querySelectorAll("foreignObject > *")).forEach(function(e){e.getAttribute("xmlns")||e.setAttributeNS(a,"xmlns","http://www.w3.org/1999/xhtml")}),y(e,t).then(function(e){var t=document.createElement("style");t.setAttribute("type","text/css"),t.innerHTML="<![CDATA[\n"+e+"\n]]>";var o=document.createElement("defs");o.appendChild(t),r.insertBefore(o,r.firstChild);var a=document.createElement("div");a.appendChild(r);var i=a.innerHTML.replace(/NS\d+:href/gi,'xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href');if("function"!=typeof n)return{src:i,width:s,height:l};n(i,s,l)})})},o.svgAsDataUri=function(e,t,n){l(e);var r=o.prepareSvg(e,t).then(function(e){var t=e.src;return"data:image/svg+xml;base64,"+window.btoa(function(e){return decodeURIComponent(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,function(e,t){var n=String.fromCharCode("0x"+t);return"%"===n?"%25":n}))}('<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd" [<!ENTITY nbsp "&#160;">]>'+t))});return"function"==typeof n?r.then(n):r},o.svgAsPngUri=function(e,t,n){l(e);var r=t||{},a=r.encoderType,i=void 0===a?"image/png":a,s=r.encoderOptions,c=void 0===s?.8:s,u=r.backgroundColor,p=r.canvg,f=function(e){var t=e.src,r=e.width,o=e.height,a=document.createElement("canvas"),s=a.getContext("2d"),l=window.devicePixelRatio||1;a.width=r*l,a.height=o*l,a.style.width=a.width+"px",a.style.height=a.height+"px",s.setTransform(l,0,0,l,0,0),p?p(a,t):s.drawImage(t,0,0),u&&(s.globalCompositeOperation="destination-over",s.fillStyle=u,s.fillRect(0,0,a.width,a.height));var f=void 0;try{f=a.toDataURL(i,c)}catch(e){if("undefined"!=typeof SecurityError&&e instanceof SecurityError||"SecurityError"===e.name)return void console.error("Rendered SVG images cannot be downloaded in this browser.");throw e}return"function"==typeof n&&n(f),Promise.resolve(f)};return p?o.prepareSvg(e,t).then(f):o.svgAsDataUri(e,t).then(function(e){return new Promise(function(t,n){var r=new Image;r.onload=function(){return t(f({src:r,width:r.width,height:r.height}))},r.onerror=function(){n("There was an error loading the data URI as an image on the following SVG\n"+window.atob(e.slice(26))+"Open the following link to see browser's diagnosis\n"+e)},r.src=e})})},o.download=function(e,t){if(navigator.msSaveOrOpenBlob)navigator.msSaveOrOpenBlob(u(t),e);else{var n=document.createElement("a");if("download"in n){n.download=e,n.style.display="none",document.body.appendChild(n);try{var r=u(t),o=URL.createObjectURL(r);n.href=o,n.onclick=function(){return requestAnimationFrame(function(){return URL.revokeObjectURL(o)})}}catch(e){console.warn("This browser does not support object URLs. Falling back to string URL."),n.href=t}n.click(),document.body.removeChild(n)}else window.open(t,"_temp","menubar=no,toolbar=no,status=no")}},o.saveSvg=function(e,t,n){l(e),o.svgAsDataUri(e,n||{},function(e){return o.download(t,e)})},o.saveSvgAsPng=function(e,t,n){l(e),o.svgAsPngUri(e,n||{},function(e){return o.download(t,e)})}}()},1765:function(e,t,n){(function(t){var n=1/0,r=9007199254740991,o="[object Arguments]",a="[object Function]",i="[object GeneratorFunction]",s="object"==typeof t&&t&&t.Object===Object&&t,l="object"==typeof self&&self&&self.Object===Object&&self,c=s||l||Function("return this")();function u(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}var p=Object.prototype,f=p.hasOwnProperty,d=p.toString,h=c.Symbol,m=p.propertyIsEnumerable,y=h?h.isConcatSpreadable:void 0;function b(e){return v(e)||function(e){return function(e){return function(e){return!!e&&"object"==typeof e}(e)&&function(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=r}(e.length)&&!function(e){var t=function(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}(e)?d.call(e):"";return t==a||t==i}(e)}(e)}(e)&&f.call(e,"callee")&&(!m.call(e,"callee")||d.call(e)==o)}(e)||!!(y&&e&&e[y])}var v=Array.isArray;e.exports=function(e){return e&&e.length?function e(t,n,r,o,a){var i=-1,s=t.length;for(r||(r=b),a||(a=[]);++i<s;){var l=t[i];n>0&&r(l)?n>1?e(l,n-1,r,o,a):u(a,l):o||(a[a.length]=l)}return a}(e,n):[]}}).call(this,n(52))},1766:function(e,t,n){"use strict";(function(e){var r=n(0),o=(n(2),n(39)),a=n.n(o),i=n(124),s=n(1),l=n.n(s),c=n(37),u=n(8),p=n(24),f=n(22),d=n(68),h=n(67),m=n.n(h),y=n(9),b=n.n(y),v=n(1716),g=n(1715),k=n(343),w=n(51),E=n(31),S=n(339),O=n(80),_=n(3),C=n(30),x=n(1714),P=n(104),A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},T=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function D(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function R(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var F=function(t){function n(e){D(this,n);var t=j(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return console.log("constructor"),t.state={toAddress:v.a.getLast(e.walletType),withdrawValue:"",amountError:null,symbol:e.asset.get("symbol"),to_withdraw:new c.a({asset_id:e.asset.get("id"),precision:e.asset.get("precision")}),fee_asset_id:"1.3.0",feeStatus:{}},t._validateAddress(t.state.toAddress,e),t.deposit_address_cache=new g.a,t.addDepositAddress=t.addDepositAddress.bind(t),t._checkFeeStatus=t._checkFeeStatus.bind(t),t._checkBalance=t._checkBalance.bind(t),t._getCurrentBalance=t._getCurrentBalance.bind(t),t._getFee=t._getFee.bind(t),t._updateFee=Object(C.debounce)(t._updateFee.bind(t),250),t}return R(n,x["a"]),T(n,[{key:"componentWillMount",value:function(){this._getDepositAddress(),this._updateFee(),this._checkFeeStatus()}},{key:"componentWillReceiveProps",value:function(e){e.asset&&this.props.asset&&e.asset.get("id")!==this.props.asset.get("id")&&this.setState({to_withdraw:new c.a({asset_id:e.asset.get("id"),precision:e.asset.get("precision")}),gateFee:e.asset.get("gateFee"),intermediateAccount:e.asset.get("intermediateAccount"),symbol:e.asset.get("symbol"),memo:"",withdrawValue:"",receive_address:null,toAddress:v.a.getLast(e.walletType)},this._getDepositAddress)}},{key:"_getDepositAddress",value:function(){if(this.props.backingCoinType){var e=this.props.sender.get("name"),t=this.deposit_address_cache.getCachedInputAddress("openledger",e,this.props.backingCoinType.toLowerCase(),this.props.symbol.toLowerCase());t?this.setState({receive_address:t}):Object(v.e)(this._getDepositObject())}}},{key:"_getDepositObject",value:function(){return{inputCoinType:this.props.backingCoinType.toLowerCase(),outputCoinType:this.props.symbol.toLowerCase(),outputAddress:this.props.sender.get("name"),stateCallback:this.addDepositAddress}}},{key:"addDepositAddress",value:function(e){var t=this.props.sender.get("name");this.deposit_address_cache.cacheInputAddress("openledger",t,this.props.backingCoinType.toLowerCase(),this.props.symbol.toLowerCase(),e.address,e.memo),this.setState({receive_address:e})}},{key:"componentDidUpdate",value:function(){m.a.rebuild()}},{key:"onSubmit",value:function(t){if(t.preventDefault(),0===this.state.to_withdraw.getAmount())return this.setState({amountError:"transfer.errors.pos"});if(this.props.intermediateAccount){var n=this._getFee(),r=this._getGateFee(),o=this.state.to_withdraw.clone(),a=o.clone(this._getCurrentBalance().get("balance"));o.plus(r),a.lt(o)&&(o=this.state.to_withdraw.clone()),d.a.transfer(this.props.sender.get("id"),this.props.intermediateAccount,this.state.to_withdraw.getAmount(),this.state.to_withdraw.asset_id,this.props.backingCoinType.toLowerCase()+":"+this.state.toAddress+(this.state.memo?":"+new e(this.state.memo,"utf-8"):""),null,n.asset_id)}}},{key:"_updateAmount",value:function(){var e=this._getFee(),t=this._getCurrentBalance(),n=new c.a({amount:t?t.get("balance"):0,asset_id:this.props.asset.get("id"),precision:this.props.asset.get("precision")});n.asset_id===e.asset_id&&n.minus(e),this.state.to_withdraw.setAmount({sats:n.getAmount()}),this.setState({withdrawValue:n.getAmount({real:!0}),amountError:null},this._checkBalance)}},{key:"_checkFeeStatus",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props.sender;if(t){var n=["1.3.0",this.state.to_withdraw.asset_id],r={},o=[];n.forEach(function(n){o.push(Object(S.b)({accountID:t.get("id"),feeID:n,options:["price_per_kbyte"],data:{type:"memo",content:e.props.backingCoinType.toLowerCase()+":"+e.state.toAddress+(e.state.memo?":"+e.state.memo:"")}}))}),Promise.all(o).then(function(t){n.forEach(function(e,n){r[e]=t[n]}),u.a.are_equal_shallow(e.state.feeStatus,r)||e.setState({feeStatus:r}),e._checkBalance()}).catch(function(e){console.error(e)})}}},{key:"_updateFee",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state.fee_asset_id;if(!this.props.sender)return null;Object(S.b)({accountID:this.props.sender.get("id"),feeID:t,options:["price_per_kbyte"],data:{type:"memo",content:this.props.backingCoinType.toLowerCase()+":"+this.state.toAddress+(this.state.memo?":"+this.state.memo:"")}}).then(function(t){var n=t.fee,r=t.hasBalance,o=t.hasPoolBalance;e.setState({feeAmount:n,hasBalance:r,hasPoolBalance:o,error:!r||!o},e._checkFeeStatus)})}},{key:"_getCurrentBalance",value:function(){var e=this;return this.props.balances.find(function(t){return t&&t.get("asset_type")===e.props.asset.get("id")})}},{key:"_checkBalance",value:function(){var e=this.state,t=e.feeAmount,n=e.to_withdraw,r=this.props.asset,o=this._getCurrentBalance();if(o&&t){var a=Object(S.a)(n.getAmount({real:!0}),r,this._getFee(),o,this._getGateFee());if(null!==a)return this.state.balanceError!==!a&&this.setState({balanceError:!a}),a}}},{key:"_getFee",value:function(){var e={getAmount:function(){return 0},asset_id:this.state.fee_asset_id};if(!this.state.feeStatus||!this.state.feeAmount)return e;var t=this.state.feeStatus["1.3.0"],n=this.state.feeStatus[this.state.to_withdraw.asset_id];return t&&t.hasBalance?t.fee:t&&!t.hasBalance&&n&&n.hasBalance?n.fee:t?t.fee:e}},{key:"_onInputAmount",value:function(e){try{this.state.to_withdraw.setAmount({real:parseFloat(e.target.value||0)}),this.setState({withdrawValue:e.target.value,amountError:null},this._checkBalance)}catch(e){console.error("err:",e)}}},{key:"_onInputTo",value:function(e){var t=e.target.value.trim();this.setState({withdraw_address_check_in_progress:!0,withdraw_address_selected:t,validAddress:null,toAddress:t}),this._validateAddress(t)}},{key:"_onMemoChanged",value:function(e){this.setState({memo:e.target.value},this._updateFee)}},{key:"_validateAddress",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.props;Object(v.f)({url:P.c.BASE_OL,walletType:n.walletType,newAddress:e}).then(function(n){t.state.toAddress===e&&t.setState({withdraw_address_check_in_progress:!1,validAddress:!!n})}).catch(function(e){console.error("Error when validating address:",e)})}},{key:"_openRegistrarSite",value:function(e){e.preventDefault(),window.open(SettingsStore.site_registr,"_blank").opener=null}},{key:"_getGateFee",value:function(){var e=this.props,t=e.gateFee,n=e.asset;return new c.a({real:parseFloat(t?t.replace(",",""):0),asset_id:n.get("id"),precision:n.get("precision")})}},{key:"_renderWithdraw",value:function(){var e=this.state.amountError,t=u.a.replaceName(this.props.asset.get("symbol"),!!this.props.asset.get("bitasset")).name,n=1,o=this.props.supportsMemos,a=this._getFee(),i=this._getGateFee(),s=this.state.feeStatus[a.asset_id],c=_.b.getAsset(a.asset_id),p=s&&!s.hasBalance||this.state.balanceError||!this.state.toAddress||!this.state.withdrawValue;return r.createElement("div",null,r.createElement("p",null,r.createElement(l.a,{content:"gateway.withdraw_funds",asset:t})),this._renderCurrentBalance(),r.createElement("div",{className:"SimpleTrade__withdraw-row"},r.createElement("label",{className:"left-label"},b.a.translate("modal.withdraw.amount")),r.createElement("div",{className:"inline-label input-wrapper"},r.createElement("input",{tabIndex:n++,type:"number",min:"0",onKeyPress:this.onKeyPress.bind(this),value:this.state.withdrawValue,onChange:this._onInputAmount.bind(this)}),r.createElement("div",{className:"form-label select floating-dropdown"},r.createElement("div",{className:"dropdown-wrapper inactive"},r.createElement("div",null,t)))),e?r.createElement("p",{className:"has-error no-margin",style:{paddingTop:10}},r.createElement(l.a,{content:e})):null,this.state.balanceError?r.createElement("p",{className:"has-error no-margin",style:{paddingTop:10}},r.createElement(l.a,{content:"transfer.errors.insufficient"})):null),r.createElement("div",{className:"SimpleTrade__withdraw-row"},r.createElement("label",{className:"left-label"},b.a.translate("transfer.fee")),r.createElement("div",{className:"inline-label input-wrapper"},r.createElement("input",{type:"text",disabled:!0,value:a.getAmount({real:!0})}),r.createElement("div",{className:"form-label select floating-dropdown"},r.createElement("div",{className:"dropdown-wrapper inactive"},r.createElement("div",null,c?r.createElement(O.a,{name:c.get("symbol")}):null)))),s&&!s.hasBalance?r.createElement("p",{className:"has-error no-margin",style:{paddingTop:10}},r.createElement(l.a,{content:"transfer.errors.insufficient"})):null),r.createElement("div",{className:"SimpleTrade__withdraw-row"},r.createElement("label",{className:"left-label"},b.a.translate("gateway.fee")),r.createElement("div",{className:"inline-label input-wrapper"},r.createElement("input",{type:"text",disabled:!0,value:i.getAmount({real:!0})}),r.createElement("div",{className:"form-label select floating-dropdown"},r.createElement("div",{className:"dropdown-wrapper inactive"},r.createElement("div",null,r.createElement(O.a,{name:this.props.asset.get("symbol")}))))),s&&!s.hasBalance?r.createElement("p",{className:"has-error no-margin",style:{paddingTop:10}},r.createElement(l.a,{content:"transfer.errors.insufficient"})):null),r.createElement("div",{className:"SimpleTrade__withdraw-row"},r.createElement("label",{className:"left-label"},b.a.translate("modal.withdraw.address")),r.createElement("div",{className:"inline-label input-wrapper"},r.createElement("input",{placeholder:b.a.translate("gateway.withdraw_placeholder",{asset:t}),tabIndex:n++,type:"text",value:this.state.toAddress,onChange:this._onInputTo.bind(this)}),r.createElement("div",{className:"form-label select floating-dropdown"},r.createElement("div",{className:"dropdown-wrapper inactive"},r.createElement("div",{"data-place":"right","data-tip":b.a.translate("tooltip.withdraw_address",{asset:t})},"?")))),!this.state.validAddress&&this.state.toAddress?r.createElement("div",{className:"has-error",style:{paddingTop:10}},r.createElement(l.a,{content:"gateway.valid_address",coin_type:t})):null),o?r.createElement("div",{className:"SimpleTrade__withdraw-row"},r.createElement("label",{className:"left-label"},b.a.translate("transfer.memo")),r.createElement("div",{className:"inline-label input-wrapper"},r.createElement("textarea",{rows:"1",value:this.state.memo,tabIndex:n++,onChange:this._onMemoChanged.bind(this)})),!this.state.validAddress&&this.state.toAddress?r.createElement("div",{className:"has-error",style:{paddingTop:10}},r.createElement(l.a,{content:"gateway.valid_address",coin_type:t})):null):null,r.createElement("div",{className:"button-group SimpleTrade__withdraw-row"},r.createElement("button",{tabIndex:n++,className:"button"+(p?" disabled":""),onClick:this.onSubmit.bind(this),type:"submit"},r.createElement(l.a,{content:"gateway.withdraw_now"}))))}},{key:"_renderDeposit",value:function(){var e=this.state.receive_address,t=u.a.replaceName(this.props.asset.get("symbol"),!!this.props.asset.get("bitasset")).name,n=e&&"memo"in e&&e.memo,o=e&&e.address||"",a=1;return r.createElement("div",{className:o?"":"no-overflow"},r.createElement("p",null,r.createElement(l.a,{unsafe:!0,content:"gateway.add_funds",account:this.props.sender.get("name")})),this._renderCurrentBalance(),r.createElement("div",{className:"SimpleTrade__withdraw-row"},r.createElement("p",{style:{marginBottom:10},"data-place":"right","data-tip":b.a.translate("tooltip.deposit_tip",{asset:t})},r.createElement(l.a,{className:"help-tooltip",content:"gateway.deposit_to",asset:t}),":"),o?r.createElement("label",null,r.createElement("span",{className:"inline-label"},r.createElement("input",{readOnly:!0,type:"text",value:o}),r.createElement(k.a,{text:o}))):r.createElement(E.a,{type:"three-bounce"}),n?r.createElement("label",null,r.createElement("span",{className:"inline-label"},r.createElement("input",{readOnly:!0,type:"text",value:b.a.translate("transfer.memo")+": "+e.memo}),r.createElement(k.a,{text:e.memo}))):null,e&&e.error?r.createElement("div",{className:"has-error",style:{paddingTop:10}},e.error.message):null),r.createElement("div",{className:"button-group SimpleTrade__withdraw-row"},r.createElement("button",{tabIndex:a++,className:"button",onClick:v.e.bind(null,this._getDepositObject()),type:"submit"},r.createElement(l.a,{content:"gateway.generate_new"}))))}},{key:"_renderCurrentBalance",value:function(){var e=u.a.replaceName(this.props.asset.get("symbol"),!!this.props.asset.get("bitasset")).name,t="deposit"===this.props.action,n=this._getCurrentBalance(),o=n?new c.a({asset_id:n.get("asset_type"),precision:this.props.asset.get("precision"),amount:n.get("balance")}):null,a=t?r.createElement("span",{style:{border:"2px solid black",borderLeft:"none"},className:"form-label"},e):r.createElement("button",{"data-place":"right","data-tip":b.a.translate("tooltip.withdraw_full"),className:"button",style:{border:"2px solid black",borderLeft:"none"},onClick:this._updateAmount.bind(this,n?parseInt(n.get("balance"),10):0)},r.createElement(w.a,{name:"clippy"}));return r.createElement("div",{className:"SimpleTrade__withdraw-row",style:{fontSize:"1rem"}},r.createElement("label",{style:{fontSize:"1rem"}},b.a.translate("gateway.balance_asset",{asset:e}),":",r.createElement("span",{className:"inline-label"},r.createElement("input",{disabled:!0,style:{color:"black",border:"2px solid black",padding:10,width:"100%"},value:o?o.getAmount({real:!0}):0}),a)))}},{key:"render",value:function(){var e=this.props,t=e.asset,n="deposit"===e.action;if(!t)return null;var o=u.a.replaceName(t.get("symbol"),!0).name,a=this.props.isDown?r.createElement("div",null,r.createElement(l.a,{className:"txtlabel cancel",content:"gateway.unavailable_OPEN",component:"p"})):this.props.isAvailable?n?this._renderDeposit():this._renderWithdraw():r.createElement("div",null,r.createElement(l.a,{className:"txtlabel cancel",content:"gateway.unavailable",component:"p"}));return r.createElement("div",{className:"SimpleTrade__modal"},r.createElement("div",{className:"Modal__header"},r.createElement("h3",null,r.createElement(l.a,{content:n?"gateway.deposit":"modal.withdraw.submit"})," ",o)),r.createElement("div",{className:"Modal__divider"}),r.createElement("div",{className:"grid-block vertical no-overflow",style:{zIndex:1002,paddingLeft:"2rem",paddingRight:"2rem",paddingTop:"1rem"}},a))}}]),n}();F.propTypes={sender:f.a.ChainAccount.isRequired,asset:f.a.ChainAsset.isRequired,coreAsset:f.a.ChainAsset.isRequired,globalObject:f.a.ChainAsset.isRequired},F.defaultProps={coreAsset:"1.3.0",globalObject:"2.0.0"},F=Object(p.a)(F);var N=function(e){function t(){D(this,t);var e=j(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={open:!1},e}return R(t,r["Component"]),T(t,[{key:"show",value:function(){var e=this;this.setState({open:!0},function(){a.a.publish(e.props.modalId,"open")})}},{key:"onClose",value:function(){this.setState({open:!1})}},{key:"render",value:function(){return r.createElement(i.a,{className:"test",onClose:this.onClose.bind(this),overlay:!0,id:this.props.modalId},this.state.open?r.createElement(F,A({},this.props,{open:this.state.open})):null)}}]),t}();t.a=N}).call(this,n(20).Buffer)},1781:function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},1782:function(e,t,n){"use strict";var r=n(110),o=n(81),a=n(1781);e.exports=function(){function e(e,t,n,r,i,s){s!==a&&o(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=r,n.PropTypes=n,n}},1783:function(e,t,n){e.exports=n(1782)()},1784:function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},1785:function(e,t,n){"use strict";var r=n(110),o=n(81),a=n(1784);e.exports=function(){function e(e,t,n,r,i,s){s!==a&&o(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=r,n.PropTypes=n,n}},1786:function(e,t,n){e.exports=n(1785)()},1787:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(0),i=l(a),s=l(n(1786));function l(e){return e&&e.__esModule?e:{default:e}}var c={position:"absolute",top:0,left:0,visibility:"hidden",height:0,overflow:"scroll",whiteSpace:"pre"},u=["extraWidth","injectStyles","inputClassName","inputRef","inputStyle","minWidth","onAutosize","placeholderIsMinWidth"],p=function(e,t){t.style.fontSize=e.fontSize,t.style.fontFamily=e.fontFamily,t.style.fontWeight=e.fontWeight,t.style.fontStyle=e.fontStyle,t.style.letterSpacing=e.letterSpacing,t.style.textTransform=e.textTransform},f=!("undefined"==typeof window||!window.navigator)&&/MSIE |Trident\/|Edge\//.test(window.navigator.userAgent),d=function(){return f?"_"+Math.random().toString(36).substr(2,12):void 0},h=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.inputRef=function(e){n.input=e,"function"==typeof n.props.inputRef&&n.props.inputRef(e)},n.placeHolderSizerRef=function(e){n.placeHolderSizer=e},n.sizerRef=function(e){n.sizer=e},n.state={inputWidth:e.minWidth,inputId:e.id||d()},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),o(t,[{key:"componentDidMount",value:function(){this.mounted=!0,this.copyInputStyles(),this.updateInputWidth()}},{key:"componentWillReceiveProps",value:function(e){var t=e.id;t!==this.props.id&&this.setState({inputId:t||d()})}},{key:"componentDidUpdate",value:function(e,t){t.inputWidth!==this.state.inputWidth&&"function"==typeof this.props.onAutosize&&this.props.onAutosize(this.state.inputWidth),this.updateInputWidth()}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"copyInputStyles",value:function(){if(this.mounted&&window.getComputedStyle){var e=this.input&&window.getComputedStyle(this.input);e&&(p(e,this.sizer),this.placeHolderSizer&&p(e,this.placeHolderSizer))}}},{key:"updateInputWidth",value:function(){if(this.mounted&&this.sizer&&void 0!==this.sizer.scrollWidth){var e=void 0;e=this.props.placeholder&&(!this.props.value||this.props.value&&this.props.placeholderIsMinWidth)?Math.max(this.sizer.scrollWidth,this.placeHolderSizer.scrollWidth)+2:this.sizer.scrollWidth+2,(e+="number"===this.props.type&&void 0===this.props.extraWidth?16:parseInt(this.props.extraWidth)||0)<this.props.minWidth&&(e=this.props.minWidth),e!==this.state.inputWidth&&this.setState({inputWidth:e})}}},{key:"getInput",value:function(){return this.input}},{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){this.input.blur()}},{key:"select",value:function(){this.input.select()}},{key:"renderStyles",value:function(){var e=this.props.injectStyles;return f&&e?i.default.createElement("style",{dangerouslySetInnerHTML:{__html:"input#"+this.state.inputId+"::-ms-clear {display: none;}"}}):null}},{key:"render",value:function(){var e=[this.props.defaultValue,this.props.value,""].reduce(function(e,t){return null!==e&&void 0!==e?e:t}),t=r({},this.props.style);t.display||(t.display="inline-block");var n=r({boxSizing:"content-box",width:this.state.inputWidth+"px"},this.props.inputStyle),o=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(this.props,[]);return function(e){u.forEach(function(t){return delete e[t]})}(o),o.className=this.props.inputClassName,o.id=this.state.inputId,o.style=n,i.default.createElement("div",{className:this.props.className,style:t},this.renderStyles(),i.default.createElement("input",r({},o,{ref:this.inputRef})),i.default.createElement("div",{ref:this.sizerRef,style:c},e),this.props.placeholder?i.default.createElement("div",{ref:this.placeHolderSizerRef,style:c},this.props.placeholder):null)}}]),t}();h.propTypes={className:s.default.string,defaultValue:s.default.any,extraWidth:s.default.oneOfType([s.default.number,s.default.string]),id:s.default.string,injectStyles:s.default.bool,inputClassName:s.default.string,inputRef:s.default.func,inputStyle:s.default.object,minWidth:s.default.oneOfType([s.default.number,s.default.string]),onAutosize:s.default.func,onChange:s.default.func,placeholder:s.default.string,placeholderIsMinWidth:s.default.bool,style:s.default.object,value:s.default.any},h.defaultProps={minWidth:1,injectStyles:!0},t.default=h},1788:function(e,t,n){(function(t){(function(){var n,r,o,a,i,s;"undefined"!=typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:void 0!==t&&null!==t&&t.hrtime?(e.exports=function(){return(n()-i)/1e6},r=t.hrtime,a=(n=function(){var e;return 1e9*(e=r())[0]+e[1]})(),s=1e9*t.uptime(),i=a-s):Date.now?(e.exports=function(){return Date.now()-o},o=Date.now()):(e.exports=function(){return(new Date).getTime()-o},o=(new Date).getTime())}).call(this)}).call(this,n(62))},1789:function(e,t,n){(function(t){for(var r=n(1788),o="undefined"==typeof window?t:window,a=["moz","webkit"],i="AnimationFrame",s=o["request"+i],l=o["cancel"+i]||o["cancelRequest"+i],c=0;!s&&c<a.length;c++)s=o[a[c]+"Request"+i],l=o[a[c]+"Cancel"+i]||o[a[c]+"CancelRequest"+i];if(!s||!l){var u=0,p=0,f=[];s=function(e){if(0===f.length){var t=r(),n=Math.max(0,1e3/60-(t-u));u=n+t,setTimeout(function(){var e=f.slice(0);f.length=0;for(var t=0;t<e.length;t++)if(!e[t].cancelled)try{e[t].callback(u)}catch(e){setTimeout(function(){throw e},0)}},Math.round(n))}return f.push({handle:++p,callback:e,cancelled:!1}),p},l=function(e){for(var t=0;t<f.length;t++)f[t].handle===e&&(f[t].cancelled=!0)}}e.exports=function(e){return s.call(o,e)},e.exports.cancel=function(){l.apply(o,arguments)},e.exports.polyfill=function(e){e||(e=o),e.requestAnimationFrame=s,e.cancelAnimationFrame=l}}).call(this,n(52))},1790:function(e,t,n){e.exports=function(){"use strict";return function(e){function t(t){if(t)try{e(t+"}")}catch(e){}}return function(n,r,o,a,i,s,l,c,u,p){switch(n){case 1:if(0===u&&64===r.charCodeAt(0))return e(r+";"),"";break;case 2:if(0===c)return r+"/*|*/";break;case 3:switch(c){case 102:case 112:return e(o[0]+r),"";default:return r+(0===p?"/*|*/":"")}case-2:r.split("/*|*/}").forEach(t)}}}}()},1791:function(e,t,n){"use strict";(function(e){n.d(t,"b",function(){return i}),n.d(t,"a",function(){return s});var r=n(1721),o=void 0!==e?e:{},a=Object(r.a)(o),i=(a.flush,a.hydrate,a.cx,a.merge,a.getRegisteredStyles,a.injectGlobal),s=(a.keyframes,a.css);a.sheet,a.caches}).call(this,n(52))},1819:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(99),i=n(27),s=n(10),l=n(1637),c=n(139),u=n.n(c),p=n(2),f=n.n(p),d=n(56),h=n(1703),m=n(8),y=n(1),b=n.n(y),v=n(26),g=n.n(v),k=n(1652),w=n(80),E=n(273),S=n(67),O=n.n(S),_=n(16),C=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var x=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={change:null},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),C(t,[{key:"shouldComponentUpdate",value:function(e){return!(!e.volume2||e.volume2===this.props.volume2)||(e.price!==this.props.price||e.ready!==this.props.ready)}},{key:"componentWillReceiveProps",value:function(e){e.ready&&this.props.ready?this.setState({change:parseFloat(e.price)-parseFloat(this.props.price)}):this.setState({change:0})}},{key:"componentDidUpdate",value:function(){O.a.rebuild()}},{key:"render",value:function(){var e=this.props,t=e.base,n=e.quote,o=e.hideQuote,a=e.hideBase,i=(e.price,e.content),s=e.ready,l=e.value,c=e.valueByYuan,u=e.volume,p=e.volume2,f=e.withYuan,d=e.toolTip,h=this.state.change,y=null;h&&null!==h&&(y=h>0?"change-up":"change-down");var v=p?m.a.format_volume(p):null,k=h&&null!==h?r.createElement("span",{className:y}," ","change-up"===y?r.createElement("span",null,"↑"):r.createElement("span",null,"↓")):null;return r.createElement("li",{className:g()("stat",this.props.className),"data-place":"bottom","data-tip":d},r.createElement("span",null,i&&r.createElement(b.a,{content:i}),i&&r.createElement("br",null),r.createElement("b",{className:"value stat-primary "+(a?y:"")},s?l:0," ",!a&&k),r.createElement("span",{className:"symbol-text"},!a&&r.createElement(w.a,{name:t.get("symbol")}),o||!n||u?null:r.createElement("span",null,"/",r.createElement(w.a,{name:n.get("symbol")})))),"number"==typeof p?r.createElement("span",null,r.createElement("span",null),r.createElement("b",{className:"value stat-primary"},s?r.createElement("span",null," / ",v):0," ",k),r.createElement("span",{className:"symbol-text"},r.createElement(w.a,{name:n.get("symbol")}))):null,f&&!isNaN(c)&&r.createElement("span",null,r.createElement("span",null),!a&&" / ",r.createElement("b",{className:"value stat-primary"},r.createElement("span",{className:"symbol-text"},"¥"),s?r.createElement("span",null," ",c):0," ")))}}]),t}(),P=x=Object(_.connect)(x,{listenTo:function(){return[E.a]},getProps:function(e){var t=e.volume,n=e.price,r=e.quote,o=e.base,a=t?m.a.format_volume(n):m.a.price_text(n,r,o),i=m.a.replaceName(o.get("symbol"),!1).name,s=E.a.getState().priceState[i];return{value:a,valueByYuan:s?parseFloat((a*s).toFixed(2)):NaN}}}),A=n(41),T=n(58),D=n(9),j=n.n(D),R=n(1791),F=n(96),N=n(1789),q=n.n(N),I=n(1787),M=n.n(I),L=n(1783),B=n.n(L),V=[{base:"A",letters:/[\u0041\u24B6\uFF21\u00C0\u00C1\u00C2\u1EA6\u1EA4\u1EAA\u1EA8\u00C3\u0100\u0102\u1EB0\u1EAE\u1EB4\u1EB2\u0226\u01E0\u00C4\u01DE\u1EA2\u00C5\u01FA\u01CD\u0200\u0202\u1EA0\u1EAC\u1EB6\u1E00\u0104\u023A\u2C6F]/g},{base:"AA",letters:/[\uA732]/g},{base:"AE",letters:/[\u00C6\u01FC\u01E2]/g},{base:"AO",letters:/[\uA734]/g},{base:"AU",letters:/[\uA736]/g},{base:"AV",letters:/[\uA738\uA73A]/g},{base:"AY",letters:/[\uA73C]/g},{base:"B",letters:/[\u0042\u24B7\uFF22\u1E02\u1E04\u1E06\u0243\u0182\u0181]/g},{base:"C",letters:/[\u0043\u24B8\uFF23\u0106\u0108\u010A\u010C\u00C7\u1E08\u0187\u023B\uA73E]/g},{base:"D",letters:/[\u0044\u24B9\uFF24\u1E0A\u010E\u1E0C\u1E10\u1E12\u1E0E\u0110\u018B\u018A\u0189\uA779]/g},{base:"DZ",letters:/[\u01F1\u01C4]/g},{base:"Dz",letters:/[\u01F2\u01C5]/g},{base:"E",letters:/[\u0045\u24BA\uFF25\u00C8\u00C9\u00CA\u1EC0\u1EBE\u1EC4\u1EC2\u1EBC\u0112\u1E14\u1E16\u0114\u0116\u00CB\u1EBA\u011A\u0204\u0206\u1EB8\u1EC6\u0228\u1E1C\u0118\u1E18\u1E1A\u0190\u018E]/g},{base:"F",letters:/[\u0046\u24BB\uFF26\u1E1E\u0191\uA77B]/g},{base:"G",letters:/[\u0047\u24BC\uFF27\u01F4\u011C\u1E20\u011E\u0120\u01E6\u0122\u01E4\u0193\uA7A0\uA77D\uA77E]/g},{base:"H",letters:/[\u0048\u24BD\uFF28\u0124\u1E22\u1E26\u021E\u1E24\u1E28\u1E2A\u0126\u2C67\u2C75\uA78D]/g},{base:"I",letters:/[\u0049\u24BE\uFF29\u00CC\u00CD\u00CE\u0128\u012A\u012C\u0130\u00CF\u1E2E\u1EC8\u01CF\u0208\u020A\u1ECA\u012E\u1E2C\u0197]/g},{base:"J",letters:/[\u004A\u24BF\uFF2A\u0134\u0248]/g},{base:"K",letters:/[\u004B\u24C0\uFF2B\u1E30\u01E8\u1E32\u0136\u1E34\u0198\u2C69\uA740\uA742\uA744\uA7A2]/g},{base:"L",letters:/[\u004C\u24C1\uFF2C\u013F\u0139\u013D\u1E36\u1E38\u013B\u1E3C\u1E3A\u0141\u023D\u2C62\u2C60\uA748\uA746\uA780]/g},{base:"LJ",letters:/[\u01C7]/g},{base:"Lj",letters:/[\u01C8]/g},{base:"M",letters:/[\u004D\u24C2\uFF2D\u1E3E\u1E40\u1E42\u2C6E\u019C]/g},{base:"N",letters:/[\u004E\u24C3\uFF2E\u01F8\u0143\u00D1\u1E44\u0147\u1E46\u0145\u1E4A\u1E48\u0220\u019D\uA790\uA7A4]/g},{base:"NJ",letters:/[\u01CA]/g},{base:"Nj",letters:/[\u01CB]/g},{base:"O",letters:/[\u004F\u24C4\uFF2F\u00D2\u00D3\u00D4\u1ED2\u1ED0\u1ED6\u1ED4\u00D5\u1E4C\u022C\u1E4E\u014C\u1E50\u1E52\u014E\u022E\u0230\u00D6\u022A\u1ECE\u0150\u01D1\u020C\u020E\u01A0\u1EDC\u1EDA\u1EE0\u1EDE\u1EE2\u1ECC\u1ED8\u01EA\u01EC\u00D8\u01FE\u0186\u019F\uA74A\uA74C]/g},{base:"OI",letters:/[\u01A2]/g},{base:"OO",letters:/[\uA74E]/g},{base:"OU",letters:/[\u0222]/g},{base:"P",letters:/[\u0050\u24C5\uFF30\u1E54\u1E56\u01A4\u2C63\uA750\uA752\uA754]/g},{base:"Q",letters:/[\u0051\u24C6\uFF31\uA756\uA758\u024A]/g},{base:"R",letters:/[\u0052\u24C7\uFF32\u0154\u1E58\u0158\u0210\u0212\u1E5A\u1E5C\u0156\u1E5E\u024C\u2C64\uA75A\uA7A6\uA782]/g},{base:"S",letters:/[\u0053\u24C8\uFF33\u1E9E\u015A\u1E64\u015C\u1E60\u0160\u1E66\u1E62\u1E68\u0218\u015E\u2C7E\uA7A8\uA784]/g},{base:"T",letters:/[\u0054\u24C9\uFF34\u1E6A\u0164\u1E6C\u021A\u0162\u1E70\u1E6E\u0166\u01AC\u01AE\u023E\uA786]/g},{base:"TZ",letters:/[\uA728]/g},{base:"U",letters:/[\u0055\u24CA\uFF35\u00D9\u00DA\u00DB\u0168\u1E78\u016A\u1E7A\u016C\u00DC\u01DB\u01D7\u01D5\u01D9\u1EE6\u016E\u0170\u01D3\u0214\u0216\u01AF\u1EEA\u1EE8\u1EEE\u1EEC\u1EF0\u1EE4\u1E72\u0172\u1E76\u1E74\u0244]/g},{base:"V",letters:/[\u0056\u24CB\uFF36\u1E7C\u1E7E\u01B2\uA75E\u0245]/g},{base:"VY",letters:/[\uA760]/g},{base:"W",letters:/[\u0057\u24CC\uFF37\u1E80\u1E82\u0174\u1E86\u1E84\u1E88\u2C72]/g},{base:"X",letters:/[\u0058\u24CD\uFF38\u1E8A\u1E8C]/g},{base:"Y",letters:/[\u0059\u24CE\uFF39\u1EF2\u00DD\u0176\u1EF8\u0232\u1E8E\u0178\u1EF6\u1EF4\u01B3\u024E\u1EFE]/g},{base:"Z",letters:/[\u005A\u24CF\uFF3A\u0179\u1E90\u017B\u017D\u1E92\u1E94\u01B5\u0224\u2C7F\u2C6B\uA762]/g},{base:"a",letters:/[\u0061\u24D0\uFF41\u1E9A\u00E0\u00E1\u00E2\u1EA7\u1EA5\u1EAB\u1EA9\u00E3\u0101\u0103\u1EB1\u1EAF\u1EB5\u1EB3\u0227\u01E1\u00E4\u01DF\u1EA3\u00E5\u01FB\u01CE\u0201\u0203\u1EA1\u1EAD\u1EB7\u1E01\u0105\u2C65\u0250]/g},{base:"aa",letters:/[\uA733]/g},{base:"ae",letters:/[\u00E6\u01FD\u01E3]/g},{base:"ao",letters:/[\uA735]/g},{base:"au",letters:/[\uA737]/g},{base:"av",letters:/[\uA739\uA73B]/g},{base:"ay",letters:/[\uA73D]/g},{base:"b",letters:/[\u0062\u24D1\uFF42\u1E03\u1E05\u1E07\u0180\u0183\u0253]/g},{base:"c",letters:/[\u0063\u24D2\uFF43\u0107\u0109\u010B\u010D\u00E7\u1E09\u0188\u023C\uA73F\u2184]/g},{base:"d",letters:/[\u0064\u24D3\uFF44\u1E0B\u010F\u1E0D\u1E11\u1E13\u1E0F\u0111\u018C\u0256\u0257\uA77A]/g},{base:"dz",letters:/[\u01F3\u01C6]/g},{base:"e",letters:/[\u0065\u24D4\uFF45\u00E8\u00E9\u00EA\u1EC1\u1EBF\u1EC5\u1EC3\u1EBD\u0113\u1E15\u1E17\u0115\u0117\u00EB\u1EBB\u011B\u0205\u0207\u1EB9\u1EC7\u0229\u1E1D\u0119\u1E19\u1E1B\u0247\u025B\u01DD]/g},{base:"f",letters:/[\u0066\u24D5\uFF46\u1E1F\u0192\uA77C]/g},{base:"g",letters:/[\u0067\u24D6\uFF47\u01F5\u011D\u1E21\u011F\u0121\u01E7\u0123\u01E5\u0260\uA7A1\u1D79\uA77F]/g},{base:"h",letters:/[\u0068\u24D7\uFF48\u0125\u1E23\u1E27\u021F\u1E25\u1E29\u1E2B\u1E96\u0127\u2C68\u2C76\u0265]/g},{base:"hv",letters:/[\u0195]/g},{base:"i",letters:/[\u0069\u24D8\uFF49\u00EC\u00ED\u00EE\u0129\u012B\u012D\u00EF\u1E2F\u1EC9\u01D0\u0209\u020B\u1ECB\u012F\u1E2D\u0268\u0131]/g},{base:"j",letters:/[\u006A\u24D9\uFF4A\u0135\u01F0\u0249]/g},{base:"k",letters:/[\u006B\u24DA\uFF4B\u1E31\u01E9\u1E33\u0137\u1E35\u0199\u2C6A\uA741\uA743\uA745\uA7A3]/g},{base:"l",letters:/[\u006C\u24DB\uFF4C\u0140\u013A\u013E\u1E37\u1E39\u013C\u1E3D\u1E3B\u017F\u0142\u019A\u026B\u2C61\uA749\uA781\uA747]/g},{base:"lj",letters:/[\u01C9]/g},{base:"m",letters:/[\u006D\u24DC\uFF4D\u1E3F\u1E41\u1E43\u0271\u026F]/g},{base:"n",letters:/[\u006E\u24DD\uFF4E\u01F9\u0144\u00F1\u1E45\u0148\u1E47\u0146\u1E4B\u1E49\u019E\u0272\u0149\uA791\uA7A5]/g},{base:"nj",letters:/[\u01CC]/g},{base:"o",letters:/[\u006F\u24DE\uFF4F\u00F2\u00F3\u00F4\u1ED3\u1ED1\u1ED7\u1ED5\u00F5\u1E4D\u022D\u1E4F\u014D\u1E51\u1E53\u014F\u022F\u0231\u00F6\u022B\u1ECF\u0151\u01D2\u020D\u020F\u01A1\u1EDD\u1EDB\u1EE1\u1EDF\u1EE3\u1ECD\u1ED9\u01EB\u01ED\u00F8\u01FF\u0254\uA74B\uA74D\u0275]/g},{base:"oi",letters:/[\u01A3]/g},{base:"ou",letters:/[\u0223]/g},{base:"oo",letters:/[\uA74F]/g},{base:"p",letters:/[\u0070\u24DF\uFF50\u1E55\u1E57\u01A5\u1D7D\uA751\uA753\uA755]/g},{base:"q",letters:/[\u0071\u24E0\uFF51\u024B\uA757\uA759]/g},{base:"r",letters:/[\u0072\u24E1\uFF52\u0155\u1E59\u0159\u0211\u0213\u1E5B\u1E5D\u0157\u1E5F\u024D\u027D\uA75B\uA7A7\uA783]/g},{base:"s",letters:/[\u0073\u24E2\uFF53\u00DF\u015B\u1E65\u015D\u1E61\u0161\u1E67\u1E63\u1E69\u0219\u015F\u023F\uA7A9\uA785\u1E9B]/g},{base:"t",letters:/[\u0074\u24E3\uFF54\u1E6B\u1E97\u0165\u1E6D\u021B\u0163\u1E71\u1E6F\u0167\u01AD\u0288\u2C66\uA787]/g},{base:"tz",letters:/[\uA729]/g},{base:"u",letters:/[\u0075\u24E4\uFF55\u00F9\u00FA\u00FB\u0169\u1E79\u016B\u1E7B\u016D\u00FC\u01DC\u01D8\u01D6\u01DA\u1EE7\u016F\u0171\u01D4\u0215\u0217\u01B0\u1EEB\u1EE9\u1EEF\u1EED\u1EF1\u1EE5\u1E73\u0173\u1E77\u1E75\u0289]/g},{base:"v",letters:/[\u0076\u24E5\uFF56\u1E7D\u1E7F\u028B\uA75F\u028C]/g},{base:"vy",letters:/[\uA761]/g},{base:"w",letters:/[\u0077\u24E6\uFF57\u1E81\u1E83\u0175\u1E87\u1E85\u1E98\u1E89\u2C73]/g},{base:"x",letters:/[\u0078\u24E7\uFF58\u1E8B\u1E8D]/g},{base:"y",letters:/[\u0079\u24E8\uFF59\u1EF3\u00FD\u0177\u1EF9\u0233\u1E8F\u00FF\u1EF7\u1E99\u1EF5\u01B4\u024F\u1EFF]/g},{base:"z",letters:/[\u007A\u24E9\uFF5A\u017A\u1E91\u017C\u017E\u1E93\u1E95\u01B6\u0225\u0240\u2C6C\uA763]/g}],W=function(e){for(var t=0;t<V.length;t++)e=e.replace(V[t].letters,V[t].base);return e},H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},z=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},U=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Y=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},G=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Q=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},X=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},J=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},K=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},Z=function(e){return e.replace(/^\s+|\s+$/g,"")},$=function(e){return e.label+" "+e.value},ee=function(e){function t(){return z(this,t),J(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Q(t,e),U(t,[{key:"render",value:function(){var e=this.props,t=(e.in,e.out,e.onExited,e.appear,e.enter,e.exit,e.innerRef),n=X(e,["in","out","onExited","appear","enter","exit","innerRef"]);return o.a.createElement("input",G({ref:t},n,{className:Object(R.a)({background:0,border:0,fontSize:"inherit",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(0)"})}))}}]),t}(r.Component),te=function(e){function t(){return z(this,t),J(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Q(t,e),U(t,[{key:"componentDidMount",value:function(){this.props.innerRef(Object(F.findDOMNode)(this))}},{key:"componentWillUnmount",value:function(){this.props.innerRef(null)}},{key:"render",value:function(){return this.props.children}}]),t}(r.Component),ne=["boxSizing","height","overflow","paddingRight","position"],re={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function oe(e){e.preventDefault()}function ae(e){e.stopPropagation()}function ie(){var e=this.scrollTop,t=this.scrollHeight,n=e+this.offsetHeight;0===e?this.scrollTop=1:n===t&&(this.scrollTop=e-1)}function se(){return"ontouchstart"in window||navigator.maxTouchPoints}var le=!("undefined"==typeof window||!window.document||!window.document.createElement),ce=0,ue=function(e){function t(){var e,n,r;z(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=J(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.originalStyles={},r.listenerOptions={capture:!1,passive:!1},J(r,n)}return Q(t,e),U(t,[{key:"componentDidMount",value:function(){var e=this;if(le){var t=this.props,n=t.accountForScrollbars,r=t.touchScrollTarget,o=document.body,a=o&&o.style;if(n&&ne.forEach(function(t){var n=a&&a[t];e.originalStyles[t]=n}),n&&ce<1){var i=parseInt(this.originalStyles.paddingRight,10)||0,s=document.body?document.body.clientWidth:0,l=window.innerWidth-s+i||0;Object.keys(re).forEach(function(e){var t=re[e];a&&(a[e]=t)}),a&&(a.paddingRight=l+"px")}o&&se()&&(o.addEventListener("touchmove",oe,this.listenerOptions),r&&(r.addEventListener("touchstart",ie,this.listenerOptions),r.addEventListener("touchmove",ae,this.listenerOptions))),ce+=1}}},{key:"componentWillUnmount",value:function(){var e=this;if(le){var t=this.props,n=t.accountForScrollbars,r=t.touchScrollTarget,o=document.body,a=o&&o.style;ce=Math.max(ce-1,0),n&&ce<1&&ne.forEach(function(t){var n=e.originalStyles[t];a&&(a[t]=n)}),o&&se()&&(o.removeEventListener("touchmove",oe,this.listenerOptions),r&&(r.removeEventListener("touchstart",ie,this.listenerOptions),r.removeEventListener("touchmove",ae,this.listenerOptions)))}}},{key:"render",value:function(){return null}}]),t}(r.Component);ue.defaultProps={accountForScrollbars:!0};var pe=function(e){return function(t){var n=t.css,r=t.innerRef,a=X(t,["css","innerRef"]);return o.a.createElement(e,G({ref:r,className:Object(R.a)(n)},a))}}("div"),fe=function(e){return o.a.createElement("span",G({className:Object(R.a)({border:0,clip:"rect(1px, 1px, 1px, 1px)",height:1,overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:1})},e))};function de(){return o.a.createElement(pe,{className:Object(R.a)({position:"fixed",left:0,bottom:0,right:0,top:0})},o.a.createElement(ue,null))}var he=function(e){function t(){var e,n,r;z(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=J(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.isBottom=!1,r.isTop=!1,r.cancelScroll=function(e){e.preventDefault(),e.stopPropagation()},r.handleEventDelta=function(e,t){var n=r.props,o=n.onBottomArrive,a=n.onBottomLeave,i=n.onTopArrive,s=n.onTopLeave,l=r.scrollTarget,c=l.scrollTop,u=l.scrollHeight,p=l.clientHeight,f=r.scrollTarget,d=t>0,h=u-p-c,m=!1;h>t&&r.isBottom&&(a&&a(e),r.isBottom=!1),d&&r.isTop&&(s&&s(e),r.isTop=!1),d&&t>h?(o&&!r.isBottom&&o(e),f.scrollTop=u,m=!0,r.isBottom=!0):!d&&-t>c&&(i&&!r.isTop&&i(e),f.scrollTop=0,m=!0,r.isTop=!0),m&&r.cancelScroll(e)},r.onWheel=function(e){r.handleEventDelta(e,e.deltaY)},r.onTouchStart=function(e){r.touchStart=e.changedTouches[0].clientY},r.onTouchMove=function(e){var t=r.touchStart-e.changedTouches[0].clientY;r.handleEventDelta(e,t)},r.getScrollTarget=function(e){r.scrollTarget=e},J(r,n)}return Q(t,e),U(t,[{key:"componentDidMount",value:function(){this.startListening(this.scrollTarget)}},{key:"componentWillUnmount",value:function(){this.stopListening(this.scrollTarget)}},{key:"startListening",value:function(e){e.scrollHeight<=e.clientHeight||("function"==typeof e.addEventListener&&e.addEventListener("wheel",this.onWheel,!1),"function"==typeof e.addEventListener&&e.addEventListener("touchstart",this.onTouchStart,!1),"function"==typeof e.addEventListener&&e.addEventListener("touchmove",this.onTouchMove,!1))}},{key:"stopListening",value:function(e){e.scrollHeight<=e.clientHeight||("function"==typeof e.removeEventListener&&e.removeEventListener("wheel",this.onWheel,!1),"function"==typeof e.removeEventListener&&e.removeEventListener("touchstart",this.onTouchStart,!1),"function"==typeof e.removeEventListener&&e.removeEventListener("touchmove",this.onTouchMove,!1))}},{key:"render",value:function(){return o.a.createElement(te,{innerRef:this.getScrollTarget},this.props.children)}}]),t}(r.Component),me=function(e){function t(){return z(this,t),J(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Q(t,e),U(t,[{key:"render",value:function(){var e=this.props,t=e.isEnabled,n=X(e,["isEnabled"]);return t?o.a.createElement(he,n):this.props.children}}]),t}(r.Component);me.defaultProps={isEnabled:!0};var ye=function(){};function be(e,t){return t?e+"__"+t:e}var ve=function(e){return Array.isArray(e)?e.filter(Boolean):"object"===(void 0===e?"undefined":H(e))&&null!==e?[e]:[]};function ge(e){return[document.documentElement,document.body,window].includes(e)}function ke(e){return ge(e)?window.pageYOffset:e.scrollTop}function we(e,t){ge(e)?window.scrollTo(0,t):e.scrollTop=t}function Ee(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:200,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:ye,o=ke(e),a=t-o,i=10,s=0;!function t(){var l=function(e,t,n,r){return n*((e=e/r-1)*e*e+1)+t}(s+=i,o,a,n);we(e,l),s<n?q()(t):r(e)}()}function Se(){try{return document.createEvent("TouchEvent"),!0}catch(e){return!1}}var Oe="#222",_e="#2684FF",Ce="#B2D4FF",xe="#DEEBFF",Pe="#DE350B",Ae="#FFBDAD",Te="hsl(0, 0%, 100%)",De="hsl(0, 0%, 98%)",je="hsl(0, 0%, 95%)",Re="hsl(0, 0%, 90%)",Fe="hsl(0, 0%, 80%)",Ne="hsl(0, 0%, 70%)",qe="hsl(0, 0%, 60%)",Ie="hsl(0, 0%, 50%)",Me="hsl(0, 0%, 40%)",Le="hsl(0, 0%, 0%)",Be="hsla(0, 0%, 0%, 0.1)",Ve={baseUnit:4,controlHeight:38,menuGutter:8},We=function(e){function t(){return z(this,t),J(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Q(t,e),U(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.className,r=e.cx,a=e.isMulti,i=e.getStyles,s=e.hasValue;return o.a.createElement("div",{className:r(Object(R.a)(i("valueContainer",this.props)),{"value-container":!0,"value-container--is-multi":a,"value-container--has-value":s},n)},t)}}]),t}(r.Component),He=function(e){var t=e.size,n=X(e,["size"]);return o.a.createElement("svg",G({height:t,width:t,viewBox:"0 0 20 20",className:Object(R.a)({display:"inline-block",fill:"currentColor",lineHeight:1,stroke:"currentColor",strokeWidth:0})},n))},ze=function(e){return o.a.createElement(He,G({size:20,focusable:"false",role:"presentation"},e),o.a.createElement("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},Ue=function(e){return o.a.createElement(He,G({size:20,focusable:"false",role:"presentation"},e),o.a.createElement("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},Ye=function(e){var t=e.isFocused;return{color:t?Me:Fe,display:"flex",padding:2*Ve.baseUnit,transition:"color 150ms",":hover":{color:t?Le:qe}}},Ge=Ye,Qe=Ye,Xe=function(e){var t=e.color,n=e.delay,r=e.offset;return o.a.createElement("span",{css:{animationDuration:"1s",animationDelay:n+"ms",animationIterationCount:"infinite",animationName:"react-select-loading-indicator",animationTimingFunction:"ease-in-out",backgroundColor:t,borderRadius:"1em",display:"inline-block",marginLeft:r?"1em":null,height:"1em",verticalAlign:"top",width:"1em"}})};Object(R.b)("@keyframes ","react-select-loading-indicator","{0%,80%,100%{opacity:0;}40%{opacity:1;}};");var Je=function(e){var t=e.className,n=e.cx,r=e.getStyles,a=e.innerProps,i=e.isFocused,s=e.isRtl,l=i?Oe:Fe;return o.a.createElement("div",G({},a,{className:n(Object(R.a)(r("loadingIndicator",e)),{indicator:!0,"loading-indicator":!0},t)}),o.a.createElement(Xe,{color:l,delay:0,offset:s}),o.a.createElement(Xe,{color:l,delay:160,offset:!0}),o.a.createElement(Xe,{color:l,delay:320,offset:!s}),o.a.createElement(fe,null,"Loading"))};Je.defaultProps={size:4};function Ke(e){var t=e.maxHeight,n=e.menuEl,r=e.minHeight,o=e.placement,a=e.shouldScroll,i=e.isFixedPosition,s=function(e){var t=getComputedStyle(e),n="absolute"===t.position,r=/(auto|scroll)/,o=document.documentElement;if("fixed"===t.position)return o;for(var a=e;a=a.parentElement;)if(t=getComputedStyle(a),(!n||"static"!==t.position)&&r.test(t.overflow+t.overflowY+t.overflowX))return a;return o}(n),l={placement:"bottom",maxHeight:t};if(!n||!n.offsetParent)return l;var c=s.getBoundingClientRect().height,u=n.getBoundingClientRect(),p=u.bottom,f=u.height,d=u.top,h=n.offsetParent.getBoundingClientRect().top,m=window.innerHeight,y=ke(s),b=Ve.menuGutter,v=h-b,g=m-d,k=v+y,w=c-y-d,E=p-m+y+b,S=y+d-b;switch(o){case"auto":case"bottom":if(g>=f)return{placement:"bottom",maxHeight:t};if(w>=f&&!i)return a&&Ee(s,E,160),{placement:"bottom",maxHeight:t};if(!i&&w>=r||i&&g>=r)return a&&Ee(s,E,160),{placement:"bottom",maxHeight:i?g-b:w-b};if("auto"===o||i){var O=t;return(!i&&k>=r||i&&v>=r)&&(O=i?v-b-Ve.controlHeight:k-b-Ve.controlHeight),{placement:"top",maxHeight:O}}if("bottom"===o)return we(s,E),{placement:"bottom",maxHeight:t};break;case"top":if(v>=f)return{placement:"top",maxHeight:t};if(k>=f&&!i)return a&&Ee(s,S,160),{placement:"top",maxHeight:t};if(!i&&k>=r||i&&v>=r){var _=t;return(!i&&k>=r||i&&v>=r)&&(_=i?v-b:k-b),a&&Ee(s,S,160),{placement:"top",maxHeight:_}}return{placement:"bottom",maxHeight:t};default:throw new Error('Invalid placement provided "'+o+'".')}return l}var Ze=function(e){return"auto"===e?"bottom":e},$e=function(e){function t(){var e,n,r;z(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=J(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.state={maxHeight:r.props.maxMenuHeight,placement:null},r.getPlacement=function(e){var t=r.props,n=t.minMenuHeight,o=t.maxMenuHeight,a=t.menuPlacement,i=t.menuPosition,s=t.menuShouldScrollIntoView,l=r.context.getPortalPlacement;if(e){var c="fixed"===i,u=Ke({maxHeight:o,menuEl:e,minHeight:n,placement:a,shouldScroll:s&&!c,isFixedPosition:c});l&&l(u),r.setState(u)}},r.getState=function(){var e=r.props.menuPlacement,t=r.state.placement||Ze(e);return G({},r.props,{placement:t,maxHeight:r.state.maxHeight})},J(r,n)}return Q(t,e),U(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.className,r=e.cx,a=e.getStyles,i=e.innerProps;return o.a.createElement("div",G({className:r(Object(R.a)(a("menu",this.getState())),{menu:!0},n),ref:this.getPlacement},i),t)}}]),t}(r.Component);$e.contextTypes={getPortalPlacement:B.a.func};var et=function(){return{color:qe,padding:2*Ve.baseUnit+"px "+3*Ve.baseUnit+"px",textAlign:"center"}},tt=et,nt=et,rt=function(e){var t=e.children,n=e.className,r=e.cx,a=e.getStyles,i=e.innerProps;return o.a.createElement("div",G({className:r(Object(R.a)(a("noOptionsMessage",e)),{"menu-notice":!0,"menu-notice--no-options":!0},n)},i),t)};rt.defaultProps={children:"No options"};var ot=function(e){var t=e.children,n=e.className,r=e.cx,a=e.getStyles,i=e.innerProps;return o.a.createElement("div",G({className:r(Object(R.a)(a("loadingMessage",e)),{"menu-notice":!0,"menu-notice--loading":!0},n)},i),t)};ot.defaultProps={children:"Loading..."};var at=function(e){function t(){var e,n,r;z(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=J(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.state={placement:null},r.getPortalPlacement=function(e){var t=e.placement;t!==Ze(r.props.menuPlacement)&&r.setState({placement:t})},J(r,n)}return Q(t,e),U(t,[{key:"getChildContext",value:function(){return{getPortalPlacement:this.getPortalPlacement}}},{key:"render",value:function(){var e=this.props,t=e.appendTo,n=e.children,r=e.controlElement,a=e.menuPlacement,i=e.menuPosition,s=e.getStyles,l="fixed"===i;if(!t&&!l||!r)return null;var c=this.state.placement||Ze(a),u=function(e){var t=e.getBoundingClientRect();return{bottom:t.bottom,height:t.height,left:t.left,right:t.right,top:t.top,width:t.width}}(r),p=l?0:window.pageYOffset,f={offset:u[c]+p,position:i,rect:u},d=o.a.createElement("div",{className:Object(R.a)(s("menuPortal",f))},n);return t?Object(F.createPortal)(d,t):d}}]),t}(r.Component);at.childContextTypes={getPortalPlacement:B.a.func};var it=pe,st=pe,lt=function(e){function t(){return z(this,t),J(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Q(t,e),U(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=X(e,["children"]);return o.a.createElement(pe,n,t)}}]),t}(r.Component);lt.defaultProps={children:o.a.createElement(ze,{size:14})};var ct=function(e){function t(){return z(this,t),J(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Q(t,e),U(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.className,r=e.components,a=e.cx,i=e.getStyles,s=e.innerProps,l=e.isDisabled,c=e.removeProps,u={container:a(Object(R.a)(i("multiValue",this.props)),{"multi-value":!0,"multi-value--is-disabled":l},n),label:a(Object(R.a)(i("multiValueLabel",this.props)),{"multi-value__label":!0},n),remove:a(Object(R.a)(i("multiValueRemove",this.props)),{"multi-value__remove":!0},n)},p=r.Container,f=r.Label,d=r.Remove;return o.a.createElement(p,G({className:u.container},s),o.a.createElement(f,{className:u.label},t),o.a.createElement(d,G({className:u.remove},c)))}}]),t}(r.Component);ct.defaultProps={cropWithEllipsis:!0};var ut={ClearIndicator:function(e){var t=e.children,n=void 0===t?o.a.createElement(ze,null):t,r=e.className,a=e.cx,i=e.getStyles,s=e.innerProps;return o.a.createElement("div",G({},s,{className:a(Object(R.a)(i("clearIndicator",e)),{indicator:!0,"clear-indicator":!0},r)}),n)},Control:function(e){var t=e.children,n=e.cx,r=e.getStyles,a=e.className,i=e.isDisabled,s=e.isFocused,l=e.innerProps;return o.a.createElement("div",G({className:n(Object(R.a)(r("control",e)),{control:!0,"control-is-disabled":i,"control-is-focused":s},a)},l),t)},DropdownIndicator:function(e){var t=e.children,n=void 0===t?o.a.createElement(Ue,null):t,r=e.className,a=e.cx,i=e.getStyles,s=e.innerProps;return o.a.createElement("div",G({},s,{className:a(Object(R.a)(i("dropdownIndicator",e)),{indicator:!0,"dropdown-indicator":!0},r)}),n)},DownChevron:Ue,CrossIcon:ze,Group:function(e){var t=e.children,n=e.className,r=e.cx,a=e.getStyles,i=e.Heading,s=e.headingProps,l=e.label,c=e.innerProps;return o.a.createElement("div",G({className:r(Object(R.a)(a("group",e)),{group:!0},n)},c),o.a.createElement(i,G({getStyles:a,cx:r},s),l),o.a.createElement("div",null,t))},GroupHeading:function(e){var t=e.className,n=e.cx,r=e.getStyles,a=X(e,["className","cx","getStyles"]);return o.a.createElement("div",G({className:n(Object(R.a)(r("groupHeading",e)),{"group-heading":!0},t)},a))},IndicatorsContainer:function(e){var t=e.children,n=e.className,r=e.cx,a=e.getStyles;return o.a.createElement("div",{className:r(Object(R.a)(a("indicatorsContainer",e)),{indicators:!0},n)},t)},IndicatorSeparator:function(e){var t=e.className,n=e.cx,r=e.getStyles,a=e.innerProps;return o.a.createElement("span",G({},a,{className:n(Object(R.a)(r("indicatorSeparator",e)),{"indicator-separator":!0},t)}))},Input:function(e){var t=e.className,n=e.cx,r=e.getStyles,a=e.innerRef,i=e.isHidden,s=e.isDisabled,l=X(e,["className","cx","getStyles","innerRef","isHidden","isDisabled"]);return o.a.createElement("div",{className:Object(R.a)(r("input",l))},o.a.createElement(M.a,G({className:n(null,{input:!0},t),inputRef:a,inputStyle:function(e){return{background:0,border:0,fontSize:"inherit",opacity:e?0:1,outline:0,padding:0,color:"inherit"}}(i),disabled:s},l)))},LoadingIndicator:Je,Menu:$e,MenuList:function(e){var t=e.children,n=e.className,r=e.cx,a=e.getStyles,i=e.isMulti,s=e.innerProps;return o.a.createElement("div",G({className:r(Object(R.a)(a("menuList",e)),{"menu-list":!0,"menu-list--is-multi":i},n)},s),t)},MenuPortal:at,LoadingMessage:ot,NoOptionsMessage:rt,MultiValue:ct,MultiValueContainer:it,MultiValueLabel:st,MultiValueRemove:lt,Option:function(e){var t=e.children,n=e.className,r=e.cx,a=e.getStyles,i=e.isDisabled,s=e.isFocused,l=e.isSelected,c=e.innerProps;return o.a.createElement("div",G({className:r(Object(R.a)(a("option",e)),{option:!0,"option--is-disabled":i,"option--is-focused":s,"option--is-selected":l},n)},c),t)},Placeholder:function(e){var t=e.children,n=e.className,r=e.cx,a=e.getStyles,i=e.innerProps;return o.a.createElement("div",G({className:r(Object(R.a)(a("placeholder",e)),{placeholder:!0},n)},i),t)},SelectContainer:function(e){var t=e.children,n=e.className,r=e.cx,a=e.getStyles,i=e.innerProps,s=e.isDisabled,l=e.isRtl;return o.a.createElement("div",G({className:r(Object(R.a)(a("container",e)),{"--is-disabled":s,"--is-rtl":l},n)},i),t)},SingleValue:function(e){var t=e.children,n=e.className,r=e.cx,a=e.getStyles,i=e.isDisabled,s=e.innerProps;return o.a.createElement("div",G({className:r(Object(R.a)(a("singleValue",e)),{"single-value":!0,"single-value--is-disabled":i},n),css:a("singleValue",e)},s),t)},ValueContainer:We},pt=function(e){return G({},ut,e.components)},ft={clearIndicator:Qe,container:function(e){var t=e.isDisabled;return{direction:e.isRtl?"rtl":null,pointerEvents:t?"none":null,position:"relative"}},control:function(e){var t=e.isDisabled,n=e.isFocused;return{alignItems:"center",backgroundColor:t?je:n?Te:De,borderColor:t?Re:n?_e:Fe,borderRadius:4,borderStyle:"solid",borderWidth:1,boxShadow:n?"0 0 0 1px "+_e:null,cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:Ve.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms","&:hover":{borderColor:n?_e:Ne}}},dropdownIndicator:Ge,group:function(){return{paddingBottom:2*Ve.baseUnit,paddingTop:2*Ve.baseUnit}},groupHeading:function(){return{color:"#999",cursor:"default",display:"block",fontSize:"75%",fontWeight:"500",marginBottom:"0.25em",paddingLeft:3*Ve.baseUnit,paddingRight:3*Ve.baseUnit,textTransform:"uppercase"}},indicatorsContainer:function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},indicatorSeparator:function(e){return{alignSelf:"stretch",backgroundColor:e.isDisabled?Re:Fe,marginBottom:2*Ve.baseUnit,marginTop:2*Ve.baseUnit,width:1}},input:function(e){var t=e.isDisabled;return{margin:Ve.baseUnit/2,paddingBottom:Ve.baseUnit/2,paddingTop:Ve.baseUnit/2,visibility:t?"hidden":"visible",color:Oe}},loadingIndicator:function(e){var t=e.isFocused,n=e.size;return{color:t?Me:Fe,display:"flex",padding:2*Ve.baseUnit,transition:"color 150ms",alignSelf:"center",fontSize:n,lineHeight:1,marginRight:n,textAlign:"center",verticalAlign:"middle"}},loadingMessage:nt,menu:function(e){var t,n=e.placement;return Y(t={},function(e){return e?{bottom:"top",top:"bottom"}[e]:"bottom"}(n),"100%"),Y(t,"backgroundColor",Te),Y(t,"borderRadius",4),Y(t,"boxShadow","0 0 0 1px "+Be+", 0 4px 11px "+Be),Y(t,"marginBottom",Ve.menuGutter),Y(t,"marginTop",Ve.menuGutter),Y(t,"position","absolute"),Y(t,"width","100%"),Y(t,"zIndex",1),t},menuList:function(e){return{maxHeight:e.maxHeight,overflowY:"auto",paddingBottom:Ve.baseUnit,paddingTop:Ve.baseUnit,position:"relative",WebkitOverflowScrolling:"touch"}},menuPortal:function(e){var t=e.rect,n=e.offset,r=e.position;return{left:t.left,position:r,top:n,width:t.width,zIndex:1}},multiValue:function(){return{backgroundColor:Re,borderRadius:2,display:"flex",margin:Ve.baseUnit/2,minWidth:0}},multiValueLabel:function(e){var t=e.cropWithEllipsis;return{color:Oe,fontSize:"85%",overflow:"hidden",padding:3,paddingLeft:6,textOverflow:t?"ellipsis":null,whiteSpace:"nowrap"}},multiValueRemove:function(e){return{alignItems:"center",borderRadius:2,backgroundColor:e.isFocused&&Ae,display:"flex",paddingLeft:Ve.baseUnit,paddingRight:Ve.baseUnit,":hover":{backgroundColor:Ae,color:Pe}}},noOptionsMessage:tt,option:function(e){var t=e.isDisabled,n=e.isFocused,r=e.isSelected;return{backgroundColor:r?_e:n?xe:"transparent",color:t?Fe:r?Te:"inherit",cursor:"default",display:"block",fontSize:"inherit",padding:2*Ve.baseUnit+"px "+3*Ve.baseUnit+"px",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)",":active":{backgroundColor:r?_e:Ce}}},placeholder:function(){return{color:Ie,marginLeft:Ve.baseUnit/2,marginRight:Ve.baseUnit/2,position:"absolute",top:"50%",transform:"translateY(-50%)"}},singleValue:function(e){return{color:e.isDisabled?qe:Oe,marginLeft:Ve.baseUnit/2,marginRight:Ve.baseUnit/2,maxWidth:"calc(100% - "+2*Ve.baseUnit+"px)",overflow:"hidden",position:"absolute",textOverflow:"ellipsis",whiteSpace:"nowrap",top:"50%",transform:"translateY(-50%)"}},valueContainer:function(){return{alignItems:"center",display:"flex",flex:1,flexWrap:"wrap",padding:Ve.baseUnit/2+"px "+2*Ve.baseUnit+"px",WebkitOverflowScrolling:"touch",position:"relative"}}};var dt={backspaceRemovesValue:!0,blurInputOnSelect:Se(),captureMenuScroll:!Se(),closeMenuOnSelect:!0,components:{},escapeClearsValue:!1,filterOption:function(e){return function(t,n){var r=G({ignoreCase:!0,ignoreAccents:!0,stringify:$,trim:!0,matchFrom:"any"},e),o=r.ignoreCase,a=r.ignoreAccents,i=r.stringify,s=r.trim,l=r.matchFrom,c=s?Z(n):n,u=s?Z(i(t)):i(t);return o&&(c=c.toLowerCase(),u=u.toLowerCase()),a&&(c=W(c),u=W(u)),"start"===l?u.substr(0,c.length)===c:u.indexOf(c)>-1}}(),formatGroupLabel:function(e){return e.label},getOptionLabel:function(e){return e.label},getOptionValue:function(e){return e.value},hideSelectedOptions:!0,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:function(e){return!!e.isDisabled},loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!function(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch(e){return!1}}(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var t=e.count;return t+" result"+(1!==t?"s":"")+" available."},styles:{},tabIndex:"0",tabSelectsValue:!0},ht=1,mt=function(e){function t(e){z(this,t);var n=J(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));vt.call(n);var r=e.value;n.components=pt(e),n.instancePrefix="react-select-"+(n.props.instanceId||++ht);var o=ve(r),a=n.buildMenuOptions(e,o);return n.state.menuOptions=a,n.state.selectValue=o,n}return Q(t,e),U(t,[{key:"componentDidMount",value:function(){this.props.autoFocus&&this.focusInput()}},{key:"componentWillReceiveProps",value:function(e){var t=this.props,n=t.components,r=t.options,o=t.value,a=t.inputValue;if(e.components!==n&&(this.components=pt(e)),e.value!==o||e.options!==r||e.inputValue!==a){var i=ve(e.value),s=this.buildMenuOptions(e,i),l=this.getNextFocusedValue(i),c=this.getNextFocusedOption(s.focusable);this.setState({menuOptions:s,selectValue:i,focusedOption:c,focusedValue:l})}null!=this.inputIsHiddenAfterUpdate&&(this.setState({inputIsHidden:this.inputIsHiddenAfterUpdate}),delete this.inputIsHiddenAfterUpdate),e.menuIsOpen&&!this.props.menuIsOpen?this.startListeningToTouch():!e.menuIsOpen&&this.props.menuIsOpen&&this.stopListeningToTouch()}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.isDisabled,r=t.menuIsOpen,o=this.state.isFocused;(o&&!n&&e.isDisabled||o&&r&&!e.menuIsOpen)&&this.focusInput(),this.menuRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&function(e,t){var n=e.getBoundingClientRect(),r=t.getBoundingClientRect(),o=t.offsetHeight/3;r.bottom+o>n.bottom?we(e,Math.min(t.offsetTop+t.clientHeight-e.offsetHeight+o,e.scrollHeight)):r.top-o<n.top&&we(e,Math.max(t.offsetTop-o,0))}(this.menuRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close"}),this.props.onMenuClose()}},{key:"onInputChange",value:function(e,t){this.props.onInputChange(e,t)}},{key:"focusInput",value:function(){this.input&&this.input.focus()}},{key:"blurInput",value:function(){this.input&&this.input.blur()}},{key:"openMenu",value:function(e){var t=this.state,n=t.menuOptions,r=t.selectValue,o=this.props.isMulti,a="first"===e?0:n.focusable.length-1;if(!o){var i=n.focusable.indexOf(r[0]);i>-1&&(a=i)}this.scrollToFocusedOptionOnUpdate=!0,this.inputIsHiddenAfterUpdate=!1,this.onMenuOpen(),this.setState({focusedValue:null,focusedOption:n.focusable[a]})}},{key:"focusValue",value:function(e){var t=this.props.isMulti,n=this.state,r=n.selectValue,o=n.focusedValue;if(t){this.setState({focusedOption:null});var a=o?r.indexOf(o):-1,i=r.length-1,s=-1;if(r.length){switch(e){case"previous":s=0===a?0:-1===a?i:a-1;break;case"next":a>-1&&a<i&&(s=a+1)}this.setState({inputIsHidden:-1!==s,focusedValue:r[s]})}}}},{key:"focusOption",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"first",t=this.props.pageSize,n=this.state,r=n.focusedOption,o=n.menuOptions.focusable;if(o.length){var a=0,i=r?o.indexOf(r):-1;"up"===e?a=i>0?i-1:o.length-1:"down"===e?a=(i+1)%o.length:"pageup"===e?(a=i-t)<0&&(a=0):"pagedown"===e?(a=i+t)>o.length-1&&(a=o.length-1):"last"===e&&(a=o.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:o[a],focusedValue:null})}}},{key:"getCommonProps",value:function(){var e=this.clearValue,t=this.getStyles,n=this.setValue,r=this.selectOption,o=this.props,a=o.className,i=o.classNamePrefix,s=o.isMulti,l=o.isRtl,c=o.options,u=this.state.selectValue,p=this.hasValue(),f=i;return a&&void 0===i&&(console.warn("\n        Warning: the behaviour of 'className' has changed between 2.0.0-beta.2 and 2.0.0-beta.3.\n        You can now use className to specify the class name of the outer container, and classNamePrefix to enable our provided BEM class names for internal elements.\n        The className prop will have no effect on internal elements when 2.0.0 is released.\n      "),f=a),{cx:function(e,t,n,r){var o=[t,r];if(n&&e)for(var a in n)n.hasOwnProperty(a)&&n[a]&&o.push(""+be(e,a));return o.filter(function(e){return e}).map(function(e){return String(e).trim()}).join(" ")}.bind(null,f),clearValue:e,getStyles:t,getValue:function(){return u},hasValue:p,isMulti:s,isRtl:l,options:c,selectOption:r,setValue:n,selectProps:o}}},{key:"getNextFocusedValue",value:function(e){if(this.clearFocusValueOnUpdate)return this.clearFocusValueOnUpdate=!1,null;var t=this.state,n=t.focusedValue,r=t.selectValue.indexOf(n);if(r>-1){if(e.indexOf(n)>-1)return n;if(r<e.length)return e[r]}return null}},{key:"getNextFocusedOption",value:function(e){var t=this.state.focusedOption;return t&&e.indexOf(t)>-1?t:e[0]}},{key:"getOptionLabel",value:function(e){return this.props.getOptionLabel(e)}},{key:"getOptionValue",value:function(e){return this.props.getOptionValue(e)}},{key:"hasValue",value:function(){return this.state.selectValue.length>0}},{key:"hasOptions",value:function(){return!!this.state.menuOptions.render.length}},{key:"countOptions",value:function(){return this.state.menuOptions.focusable.length}},{key:"isClearable",value:function(){var e=this.props,t=e.isClearable,n=e.isMulti;return void 0===t?n:t}},{key:"isOptionDisabled",value:function(e){return"function"==typeof this.props.isOptionDisabled&&this.props.isOptionDisabled(e)}},{key:"isOptionSelected",value:function(e,t){var n=this;if(t.indexOf(e)>-1)return!0;if("function"==typeof this.props.isOptionSelected)return this.props.isOptionSelected(e,t);var r=this.getOptionValue(e);return t.some(function(e){return n.getOptionValue(e)===r})}},{key:"filterOption",value:function(e,t){return!this.props.filterOption||this.props.filterOption(e,t)}},{key:"formatOptionLabel",value:function(e,t){if("function"==typeof this.props.formatOptionLabel){var n=this.props.inputValue,r=this.state.selectValue;return this.props.formatOptionLabel(e,{context:t,inputValue:n,selectValue:r})}return this.getOptionLabel(e)}},{key:"formatGroupLabel",value:function(e){return this.props.formatGroupLabel(e)}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"buildMenuOptions",value:function(e,t){var n=this,r=e.hideSelectedOptions,o=e.isMulti,a=e.inputValue,i=void 0===a?"":a,s=function(e,a){var s=n.isOptionDisabled(e),l=n.isOptionSelected(e,t),c=n.getOptionLabel(e),u=n.getOptionValue(e);if(!(o&&r&&l)&&n.filterOption({label:c,value:u,data:e},i)){var p=s?void 0:function(){return n.onOptionHover(e)},f=s?void 0:function(){return n.selectOption(e)},d=n.getElementId("option")+"-"+a;return{innerProps:{"aria-selected":l,id:d,onClick:f,onMouseMove:p,onMouseOver:p,role:"option",tabIndex:-1},data:e,isDisabled:s,isSelected:l,key:d,label:c,type:"option",value:u}}};return e.options.reduce(function(e,t,r){if(t.options){n.hasGroups||(n.hasGroups=!0);var o=t.options.map(function(t,n){var o=s(t,r+"-"+n);return o&&!o.isDisabled&&e.focusable.push(t),o}).filter(Boolean);if(o.length){var a=n.getElementId("group")+"-"+r;e.render.push({type:"group",key:a,data:t,options:o})}}else{var i=s(t,""+r);i&&(e.render.push(i),i.isDisabled||e.focusable.push(t))}return e},{render:[],focusable:[]})}},{key:"renderScreenReaderStatus",value:function(){var e=this.props.screenReaderStatus;return o.a.createElement(fe,{"aria-atomic":"true","aria-live":"polite",role:"status"},e({count:this.countOptions()}))}},{key:"renderInput",value:function(){var e=this.props,t=e.isDisabled,n=e.isLoading,r=e.isSearchable,a=e.inputId,i=e.inputValue,s=e.menuIsOpen,l=e.tabIndex,c=this.components.Input,u=this.state.inputIsHidden,p=a||this.getElementId("input");if(!r)return o.a.createElement(ee,{id:p,innerRef:this.onInputRef,onBlur:this.onInputBlur,onChange:ye,onFocus:this.onInputFocus,readOnly:!0,tabIndex:l,value:""});var f={"aria-activedescendant":this.getActiveDescendentId(),"aria-autocomplete":"list","aria-busy":n,"aria-describedby":this.props["aria-describedby"],"aria-expanded":s,"aria-haspopup":s,"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-owns":s?this.getElementId("listbox"):void 0,role:"combobox"},d=this.commonProps.cx;return o.a.createElement(c,G({autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",cx:d,getStyles:this.getStyles,id:p,innerRef:this.onInputRef,isDisabled:t,isHidden:u,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:l,type:"text",value:i},f))}},{key:"renderPlaceholderOrValue",value:function(){var e=this,t=this.components,n=t.MultiValue,r=t.MultiValueContainer,a=t.MultiValueLabel,i=t.MultiValueRemove,s=t.SingleValue,l=t.Placeholder,c=this.commonProps,u=this.props,p=u.isDisabled,f=u.isMulti,d=u.inputValue,h=u.placeholder,m=this.state,y=m.selectValue,b=m.focusedValue;if(!this.hasValue())return d?null:o.a.createElement(l,G({},c,{key:"placeholder",isDisabled:p}),h);if(f)return y.map(function(t){var s=t===b;return o.a.createElement(n,G({},c,{components:{Container:r,Label:a,Remove:i},isFocused:s,isDisabled:p,key:e.getOptionValue(t),removeProps:{onClick:function(){return e.removeValue(t)},onMouseDown:function(e){e.preventDefault(),e.stopPropagation()}},data:t}),e.formatOptionLabel(t,"value"))});if(d)return null;var v=y[0];return o.a.createElement(s,G({},c,{data:v,isDisabled:p}),this.formatOptionLabel(v,"value"))}},{key:"renderClearIndicator",value:function(){var e=this.components.ClearIndicator,t=this.commonProps,n=this.props,r=n.isDisabled,a=n.isLoading,i=this.state.isFocused;if(!this.isClearable()||!e||r||!this.hasValue()||a)return null;var s={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,role:"button"};return o.a.createElement(e,G({},t,{innerProps:s,isFocused:i}))}},{key:"renderLoadingIndicator",value:function(){var e=this.components.LoadingIndicator,t=this.commonProps,n=this.props,r=n.isDisabled,a=n.isLoading,i=this.state.isFocused;if(!e||!a)return null;return o.a.createElement(e,G({},t,{innerProps:{role:"presentation"},isDisabled:r,isFocused:i}))}},{key:"renderIndicatorSeparator",value:function(){var e=this.components,t=e.DropdownIndicator,n=e.IndicatorSeparator;if(!t||!n)return null;var r=this.commonProps,a=this.props.isDisabled,i=this.state.isFocused;return o.a.createElement(n,G({},r,{innerProps:{role:"presentation"},isDisabled:a,isFocused:i}))}},{key:"renderDropdownIndicator",value:function(){var e=this.components.DropdownIndicator;if(!e)return null;var t=this.commonProps,n=this.props.isDisabled,r=this.state.isFocused,a={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,role:"button"};return o.a.createElement(e,G({},t,{innerProps:a,isDisabled:n,isFocused:r}))}},{key:"renderMenu",value:function(){var e=this,t=this.components,n=t.Group,r=t.GroupHeading,a=t.Menu,i=t.MenuList,s=t.MenuPortal,l=t.LoadingMessage,c=t.NoOptionsMessage,u=t.Option,p=this.commonProps,f=this.state,d=f.focusedOption,h=f.menuOptions,m=this.props,y=m.captureMenuScroll,b=m.inputValue,v=m.isLoading,g=m.isMulti,k=m.loadingMessage,w=m.minMenuHeight,E=m.maxMenuHeight,S=m.menuIsOpen,O=m.menuPlacement,_=m.menuPosition,C=m.menuPortalTarget,x=m.menuShouldBlockScroll,P=m.menuShouldScrollIntoView,A=m.noOptionsMessage,T=m.onMenuScrollToTop,D=m.onMenuScrollToBottom;if(!S)return null;var j=function(t){var n=d===t.data;return t.innerProps.ref=n?e.onFocusedOptionRef:void 0,o.a.createElement(u,G({},p,t,{isFocused:n}),e.formatOptionLabel(t.data,"menu"))},R=void 0;R=this.hasOptions()?h.render.map(function(t){if("group"===t.type){t.type;var a=X(t,["type"]),i=t.key+"-heading";return o.a.createElement(n,G({},p,a,{Heading:r,innerProps:{"aria-expanded":!0,"aria-labelledby":i,role:"group"},headingProps:{id:i},label:e.formatGroupLabel(t.data)}),t.options.map(function(e){return j(e)}))}if("option"===t.type)return j(t)}):v?o.a.createElement(l,p,k({inputValue:b})):o.a.createElement(c,p,A({inputValue:b}));var F=o.a.createElement("div",null,x?o.a.createElement(de,null):null,o.a.createElement(a,G({},p,{innerProps:{onMouseDown:this.onMenuMouseDown,onMouseMove:this.onMenuMouseMove},isLoading:v,minMenuHeight:w,maxMenuHeight:E,menuPlacement:O,menuPosition:_,menuShouldScrollIntoView:P}),o.a.createElement(me,{isEnabled:y,onTopArrive:T,onBottomArrive:D},o.a.createElement(i,G({},p,{innerProps:{"aria-multiselectable":g,id:this.getElementId("listbox"),ref:this.onMenuRef,role:"listbox"},isLoading:v,maxHeight:E}),R))));return C||"fixed"===_?o.a.createElement(s,G({},p,{appendTo:C,controlElement:this.controlRef,menuPlacement:O,menuPosition:_}),F):F}},{key:"renderFormField",value:function(){var e=this,t=this.props,n=t.delimiter,r=t.isDisabled,a=t.isMulti,i=t.name,s=this.state.selectValue;if(i&&!r){if(a){if(n){var l=s.map(function(t){return e.getOptionValue(t)}).join(n);return o.a.createElement("input",{name:i,type:"hidden",value:l})}return o.a.createElement("div",null,s.map(function(t,n){return o.a.createElement("input",{key:"i-"+n,name:i,type:"hidden",value:e.getOptionValue(t)})}))}var c=s[0]?this.getOptionValue(s[0]):"";return o.a.createElement("input",{name:i,type:"hidden",value:c})}}},{key:"render",value:function(){var e=this.components,t=e.Control,n=e.IndicatorsContainer,r=e.SelectContainer,a=e.ValueContainer,i=this.props,s=i.className,l=i.id,c=i.isDisabled,u=this.state.isFocused,p=this.commonProps=this.getCommonProps();return o.a.createElement(r,G({},p,{className:s,innerProps:{id:l,onKeyDown:this.onKeyDown},isDisabled:c,isFocused:u}),this.renderScreenReaderStatus(),o.a.createElement(t,G({},p,{innerProps:{ref:this.onControlRef,onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:c,isFocused:u}),o.a.createElement(a,G({},p,{isDisabled:c}),this.renderPlaceholderOrValue(),this.renderInput()),o.a.createElement(n,G({},p,{isDisabled:c}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}]),t}(r.Component);mt.defaultProps=dt;var yt,bt,vt=function(){var e=this;this.blockOptionHover=!1,this.clearFocusValueOnUpdate=!1,this.hasGroups=!1,this.instancePrefix="",this.openAfterFocus=!1,this.scrollToFocusedOptionOnUpdate=!1,this.state={focusedOption:null,focusedValue:null,inputIsHidden:!1,isFocused:!1,menuOptions:{render:[],focusable:[]},selectValue:[]},this.onInputRef=function(t){e.input=t},this.onControlRef=function(t){e.controlRef=t},this.onMenuRef=function(t){e.menuRef=t},this.onFocusedOptionRef=function(t){e.focusedOptionRef=t},this.focus=this.focusInput,this.blur=this.blurInput,this.setValue=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"set-value",r=e.props,o=r.closeMenuOnSelect,a=r.isMulti,i=r.onChange;e.onInputChange("",{action:"set-value"}),o&&(e.inputIsHiddenAfterUpdate=!a,e.onMenuClose()),e.clearFocusValueOnUpdate=!0,i(t,{action:n})},this.selectOption=function(t){var n=e.props,r=n.blurInputOnSelect;if(n.isMulti){var o=e.state.selectValue;e.isOptionSelected(t,o)?e.setValue(o.filter(function(e){return e!==t}),"deselect-option"):e.setValue([].concat(K(o),[t]),"select-option")}else e.setValue(t,"select-option");r&&e.blurInput()},this.removeValue=function(t){(0,e.props.onChange)(e.state.selectValue.filter(function(e){return e!==t}),{action:"remove-value"}),e.focusInput()},this.clearValue=function(){var t=e.props,n=t.isMulti;(0,t.onChange)(n?[]:null,{action:"clear"})},this.popValue=function(){var t=e.props.onChange,n=e.state.selectValue;t(n.slice(0,n.length-1),{action:"pop-value"})},this.getStyles=function(t,n){var r=ft[t](n);r.boxSizing="border-box";var o=e.props.styles[t];return o?o(r,n):r},this.getElementId=function(t){return e.instancePrefix+"-"+t},this.getActiveDescendentId=function(){var t=e.props.menuIsOpen,n=e.state,r=n.menuOptions,o=n.focusedOption;if(o&&t){var a=r.focusable.indexOf(o),i=r.render[a];return i&&i.key}},this.onMenuMouseDown=function(t){0===t.button&&(t.stopPropagation(),t.preventDefault(),e.focusInput())},this.onMenuMouseMove=function(t){e.blockOptionHover=!1},this.onControlMouseDown=function(t){var n=e.props.openMenuOnClick;e.state.isFocused?e.props.menuIsOpen?e.onMenuClose():e.openMenu("first"):(n&&(e.openAfterFocus=!0),e.focusInput()),"INPUT"!==t.target.tagName&&t.preventDefault()},this.onDropdownIndicatorMouseDown=function(t){if(!(t&&"mousedown"===t.type&&0!==t.button||e.props.isDisabled)){var n=e.props,r=n.isMulti,o=n.menuIsOpen;e.focusInput(),o?(e.inputIsHiddenAfterUpdate=!r,e.onMenuClose()):e.openMenu("first"),t.preventDefault(),t.stopPropagation()}},this.onClearIndicatorMouseDown=function(t){t&&"mousedown"===t.type&&0!==t.button||(e.clearValue(),t.stopPropagation(),e.openAfterFocus=!1,setTimeout(function(){return e.focusInput()}))},this.onTouchStart=function(){e.userIsDragging=!1},this.onTouchMove=function(){e.userIsDragging=!0},this.onTouchEnd=function(t){e.userIsDragging||e.controlRef&&!e.controlRef.contains(t.target)&&e.menuRef&&!e.menuRef.contains(t.target)&&e.blurInput()},this.onControlTouchEnd=function(t){e.userIsDragging||e.onControlMouseDown(t)},this.onClearIndicatorTouchEnd=function(t){e.userIsDragging||e.onClearIndicatorMouseDown(t)},this.onDropdownIndicatorTouchEnd=function(t){e.userIsDragging||e.onDropdownIndicatorMouseDown(t)},this.handleInputChange=function(t){var n=t.currentTarget.value;e.inputIsHiddenAfterUpdate=!1,e.onInputChange(n,{action:"input-change"}),e.onMenuOpen()},this.onInputFocus=function(t){e.props.onFocus&&e.props.onFocus(t),e.inputIsHiddenAfterUpdate=!1,e.setState({isFocused:!0}),(e.openAfterFocus||e.props.openMenuOnFocus)&&e.openMenu("first"),e.openAfterFocus=!1},this.onInputBlur=function(t){e.props.onBlur&&e.props.onBlur(t),e.onInputChange("",{action:"input-blur"}),e.onMenuClose(),e.setState({focusedValue:null,isFocused:!1})},this.onOptionHover=function(t){e.blockOptionHover||e.state.focusedOption===t||e.setState({focusedOption:t})},this.onKeyDown=function(t){var n=e.props,r=n.isMulti,o=n.backspaceRemovesValue,a=n.escapeClearsValue,i=n.inputValue,s=n.isClearable,l=n.isDisabled,c=n.menuIsOpen,u=n.onKeyDown,p=n.tabSelectsValue,f=n.openMenuOnFocus,d=e.state,h=d.focusedOption,m=d.focusedValue,y=d.selectValue;if(!(l||"function"==typeof u&&(u(t),t.defaultPrevented))){switch(e.blockOptionHover=!0,t.key){case"ArrowLeft":if(!r||i)return;e.focusValue("previous");break;case"ArrowRight":if(!r||i)return;e.focusValue("next");break;case"Backspace":if(i)return;if(m)e.removeValue(m);else{if(!o)return;e.popValue()}break;case"Tab":if(t.shiftKey||!c||!p||!h||f&&e.isOptionSelected(h,y))return;e.selectOption(h);break;case"Enter":if(c){if(!h)return;e.selectOption(h)}else e.focusOption("first");break;case"Escape":c?(e.inputIsHiddenAfterUpdate=!1,e.onInputChange("",{action:"menu-close"}),e.onMenuClose()):s&&a&&e.clearValue();break;case" ":if(i)return;if(!c){e.openMenu("first");break}if(!h)return;e.selectOption(h);break;case"ArrowUp":c?e.focusOption("up"):e.openMenu("last");break;case"ArrowDown":c?e.focusOption("down"):e.openMenu("first");break;case"PageUp":if(!c)return;e.focusOption("pageup");break;case"PageDown":if(!c)return;e.focusOption("pagedown");break;case"Home":if(!c)return;e.focusOption("first");break;case"End":if(!c)return;e.focusOption("last");break;default:return}t.preventDefault()}}},gt=function(e){var t,n;return n=t=function(t){function n(){var e,t,r;z(this,n);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return t=r=J(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(a))),r.state={inputValue:void 0!==r.props.inputValue?r.props.inputValue:r.props.defaultInputValue,menuIsOpen:void 0!==r.props.menuIsOpen?r.props.menuIsOpen:r.props.defaultMenuIsOpen,value:void 0!==r.props.value?r.props.value:r.props.defaultValue},r.onChange=function(e,t){r.callProp("onChange",e,t),r.setState({value:e})},r.onInputChange=function(e,t){var n=r.callProp("onInputChange",e,t);r.setState({inputValue:void 0!==n?n:e})},r.onMenuOpen=function(){r.callProp("onMenuOpen"),r.setState({menuIsOpen:!0})},r.onMenuClose=function(){r.callProp("onMenuClose"),r.setState({menuIsOpen:!1})},J(r,t)}return Q(n,t),U(n,[{key:"focus",value:function(){this.select.focus()}},{key:"blur",value:function(){this.select.blur()}},{key:"getProp",value:function(e){return void 0!==this.props[e]?this.props[e]:this.state[e]}},{key:"callProp",value:function(e){if("function"==typeof this.props[e]){for(var t,n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return(t=this.props)[e].apply(t,K(r))}}},{key:"render",value:function(){var t=this;return o.a.createElement(e,G({},this.props,{ref:function(e){t.select=e},inputValue:this.getProp("inputValue"),menuIsOpen:this.getProp("menuIsOpen"),onChange:this.onChange,onInputChange:this.onInputChange,onMenuClose:this.onMenuClose,onMenuOpen:this.onMenuOpen,value:this.getProp("value")}))}}]),n}(r.Component),t.defaultProps={defaultInputValue:"",defaultMenuIsOpen:!1,defaultValue:null},n},kt={cacheOptions:!1,defaultOptions:!1},wt=function(e){var t,n;return n=t=function(t){function n(e){z(this,n);var t=J(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return t.mounted=!1,t.optionsCache={},t.handleInputChange=function(e,n){var r=t.props,o=r.cacheOptions,a=function(e,t,n){if(n){var r=n(e,t);if("string"==typeof r)return r}return e}(e,n,r.onInputChange);if(!a)return delete t.lastRequest,void t.setState({inputValue:"",loadedInputValue:"",loadedOptions:[],isLoading:!1,passEmptyOptions:!1});if(o&&t.optionsCache[a])t.setState({inputValue:a,loadedInputValue:a,loadedOptions:t.optionsCache[a],isLoading:!1,passEmptyOptions:!1});else{var i=t.lastRequest={};t.setState({inputValue:a,isLoading:!0,passEmptyOptions:!t.state.loadedInputValue},function(){t.loadOptions(a,function(e){t.mounted&&(e&&(t.optionsCache[a]=e),i===t.lastRequest&&(delete t.lastRequest,t.setState({isLoading:!1,loadedInputValue:a,loadedOptions:e||[],passEmptyOptions:!1})))})})}return a},t.state={defaultOptions:Array.isArray(e.defaultOptions)?e.defaultOptions:void 0,inputValue:"",isLoading:!0===e.defaultOptions,loadedOptions:[],passEmptyOptions:!1},t}return Q(n,t),U(n,[{key:"componentDidMount",value:function(){var e=this;this.mounted=!0,!0===this.props.defaultOptions&&this.loadOptions("",function(t){if(e.mounted){var n=!!e.lastRequest;e.setState({defaultOptions:t||[],isLoading:n})}})}},{key:"componentWillReceiveProps",value:function(e){e.cacheOptions!==this.props.cacheOptions&&(this.optionsCache={})}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"focus",value:function(){this.select.focus()}},{key:"blur",value:function(){this.select.blur()}},{key:"loadOptions",value:function(e,t){var n=this.props.loadOptions;if(!n)return t();var r=n(e,t);r&&"function"==typeof r.then&&r.then(t,function(){return t()})}},{key:"render",value:function(){var t=this,n=this.props,r=(n.loadOptions,X(n,["loadOptions"])),a=this.state,i=a.defaultOptions,s=a.inputValue,l=a.isLoading,c=a.loadedInputValue,u=a.loadedOptions,p=a.passEmptyOptions?[]:s&&c?u:i||[];return o.a.createElement(e,G({},r,{ref:function(e){t.select=e},options:p,filterOption:null,isLoading:l,onInputChange:this.handleInputChange}))}}]),n}(r.Component),t.defaultProps=kt,n},Et=(wt(gt(mt)),function(e,t){var n=e.toLowerCase();return t.value.toLowerCase()===n||t.label.toLowerCase()===n}),St=G({allowCreateWhileLoading:!1},{formatCreateLabel:function(e){return'Create "'+e+'"'},isValidNewOption:function(e,t,n){return!(!e||t.some(function(t){return Et(e,t)})||n.some(function(t){return Et(e,t)}))},getNewOptionData:function(e,t){return{label:t,value:e,__isNew__:!0}}}),Ot=function(e){var t,n;return n=t=function(t){function n(e){z(this,n);var t=J(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));t.onChange=function(e,n){var r=t.props,o=r.getNewOptionData,a=r.inputValue,i=r.isMulti,s=r.onChange,l=r.onCreateOption,c=r.value;if("select-option"!==n.action)return s(e,n);var u=t.state.newOption,p=Array.isArray(e)?e:[e];if(p[p.length-1]!==u)s(e,n);else if(l)l(a);else{var f=o(a,a),d={action:"create-option"};s(i?[].concat(K(ve(c)),[f]):f,d)}};var r=e.options||[];return t.state={newOption:void 0,options:r},t}return Q(n,t),U(n,[{key:"componentWillReceiveProps",value:function(e){var t=e.allowCreateWhileLoading,n=e.formatCreateLabel,r=e.getNewOptionData,o=e.inputValue,a=e.isLoading,i=e.isValidNewOption,s=e.value,l=e.options||[],c=this.state.newOption;c=i(o,ve(s),l)?r(o,n(o)):void 0,this.setState({newOption:c,options:!t&&a||!c?l:[].concat(K(l),[c])})}},{key:"focus",value:function(){this.select.focus()}},{key:"blur",value:function(){this.select.blur()}},{key:"render",value:function(){var t=this,n=X(this.props,[]),r=this.state.options;return o.a.createElement(e,G({},n,{ref:function(e){t.select=e},options:r,onChange:this.onChange}))}}]),n}(r.Component),t.defaultProps=St,n},_t=(gt(Ot(mt)),wt(gt(Ot(mt))),gt(mt)),Ct=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),xt=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function Pt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function At(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Tt(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function Dt(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}!function(e){e[e.Ask=0]="Ask",e[e.Bid=1]="Bid",e[e.All=2]="All"}(yt||(yt={})),function(e){e[e.Accum=0]="Accum",e[e.Interval=1]="Interval"}(bt||(bt={}));var jt={base:{display:"flex",flexShrink:0,position:"relative",padding:"0 0.5rem",margin:"0 -0.5em"}},Rt={base:Object.assign({},jt.base,{flexGrow:1,flexFlow:"column",transition:"all 0.4s ease-in-out",overflowY:"hidden",justifyContent:"space-between",flex:"1"}),expand:{flex:"1"},hidden:{flex:"0"},scroll:{overflowY:"auto",height:"calc(100% - 32px)"}},Ft={height:"calc(100% - 32px)"},Nt=Object.assign({},Ft,Rt,{display:"flex",padding:"0 0.5rem",flexFlow:"column"}),qt={flexBasis:"24px",lineHeight:"24px"},It={height:"32px",display:"flex",alignItems:"center"},Mt=function(e,t,n,r){return t&&e&&Array.isArray(e)&&n?e.length>n?e.slice(0,n):[].concat(Dt(e),Dt(new Array(n-e.length).fill(r))):e},Lt=function(e){return{zIndex:2,lineHeight:"24px",width:e}},Bt=((Vt=function(e){function t(){return Pt(this,t),At(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Tt(t,r["Component"]),xt(t,[{key:"shouldComponentUpdate",value:function(e){return e.order.ne(this.props.order)||e.index!==this.props.index||e.digits!==this.props.digits||e.depthType!==this.props.depthType||e.currentAccount!==this.props.currentAccount}},{key:"render",value:function(){var e=this.props,t=e.order,n=e.quote,o=e.base,a=(e.final,e.digits),i=e.depthType,s=e.total,l=e.withYuan,c=e.unitYuan,u=e.max,p=t.isBid(),f=(t.isCall(),r.createElement(k.a,{price:t.getPrice(t.sell_price,a),quote:n,base:o,precision:a})),d=l?parseFloat((c*t.getPrice(t.sell_price,a)).toFixed(a-3)):NaN,h=(t?i===bt.Interval?100*((p?t.amountToReceive().amount:t.amountForSale().amount)/u).toFixed(4):100*(t.accum/s).toFixed(4):0)+"%";return r.createElement("div",{onClick:this.props.onClick,className:g()("link","order-row",{"my-order":t.isMine(this.props.currentAccount)}),style:[jt.base,qt],"data-tip":l&&!isNaN(d)?"¥ "+d:null,"data-place":"left"},r.createElement("i",{className:"bg",style:{position:"absolute",zIndex:1,width:h,height:"100%",margin:"0 -0.5em",backgroundColor:p?T.i.$colorGrass:T.i.$colorFlame,opacity:.25}}),r.createElement("span",{className:"text-left",style:[Lt("30%"),{color:p?T.i.$colorGrass:T.i.$colorFlame}]},f),r.createElement("span",{className:"text-right",style:Lt("30%")},m.a.format_number(t[p?"amountToReceive":"amountForSale"]().getAmount({real:!0}),n.get("precision"))),r.createElement("span",{className:"text-right",style:Lt("40%")},m.a.format_number(t[p?"amountForSale":"amountToReceive"]().getAmount({real:!0}),o.get("precision"))))}}]),t}()).defaultProps={depthType:bt.Interval},Vt);Bt=Object(A.a)(Bt),Bt=Object(_.connect)(Bt,{listenTo:function(){return[E.a]},getProps:function(e){var t=e.base,n=m.a.replaceName(t.get("symbol"),!1).name;return{unitYuan:E.a.getState().priceState[n]||NaN}}});var Vt,Wt,Ht=function(e){function t(e){Pt(this,t);var n=At(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.combineOptions=[],n.handleDepthChange=function(e){n.setState({depth:e});var t=n.props.onDepthChange;t&&t(e)};var r=Math.max(e.basePrecision,Gt.PRECISION_SIZE),o=n.combineOptions=new Array(Gt.PRECISION_SIZE).fill(1).map(function(e,t){return{label:j.a.translate("exchange.depth",{depth:r-t}),value:r-t}});return n.state={depth:o[0]},n}return Tt(t,r["PureComponent"]),xt(t,[{key:"render",value:function(){var e=this.props,t=e.type,n=e.depthType,o=e.onTypeChange,a=e.onDepthTypeChange;e.onDepthChange,e.basePrecision;return r.createElement(r.Fragment,null,r.createElement(T.r,{active:t===yt.All,onClick:o.bind(this,yt.All),style:Gt.Styles.tab},r.createElement(b.a,{content:"exchange.orderbook.all"})),r.createElement(T.r,{active:t===yt.Ask,onClick:o.bind(this,yt.Ask),style:Gt.Styles.tab},r.createElement(b.a,{content:"exchange.orderbook.ask"})),r.createElement(T.r,{active:t===yt.Bid,onClick:o.bind(this,yt.Bid),style:Gt.Styles.tab},r.createElement(b.a,{content:"exchange.orderbook.bid"})),r.createElement("i",{style:{flexGrow:1}}),r.createElement(T.r,{type:"secondary",active:n===bt.Interval,onClick:a.bind(this,bt.Interval),style:Gt.Styles.tab},r.createElement(b.a,{content:"exchange.orderbook.compare_depth"})),r.createElement(T.r,{type:"secondary",active:n===bt.Accum,onClick:a.bind(this,bt.Accum),style:Gt.Styles.tab},r.createElement(b.a,{content:"exchange.orderbook.accum_depth"})),r.createElement("i",{style:{flexGrow:1}}),r.createElement(_t,{onChange:this.handleDepthChange,styles:Object(T.e)("orderbook"),options:this.combineOptions,value:this.state.depth}))}}]),t}(),zt=function(e){function t(){return Pt(this,t),At(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Tt(t,r["PureComponent"]),xt(t,[{key:"render",value:function(){return r.createElement("div",{style:jt.base},r.createElement("span",{className:"text-left",style:Lt("30%")},"---"),r.createElement("span",{className:"text-right",style:Lt("30%")},"---"),r.createElement("span",{className:"text-right",style:Lt("40%")},"---"))}}]),t}(),Ut=function(e){function t(){return Pt(this,t),At(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Tt(t,r["PureComponent"]),xt(t,[{key:"render",value:function(){var e=this.props,t=e.baseSymbol,n=e.quoteSymbol;return r.createElement("div",{key:"top-header",style:It,className:"top-header"},r.createElement("span",{className:"header-sub-title text-left",style:{width:"30%"}},j.a.translate("exchange.price"),"(",r.createElement(w.a,{dataPlace:"top",name:t}),")"),r.createElement("span",{className:"header-sub-title text-right",style:{width:"30%"}},j.a.translate("exchange.quantity"),"(",r.createElement(w.a,{dataPlace:"top",name:n}),")"),r.createElement("span",{className:"header-sub-title text-right",style:{width:"40%"}},j.a.translate("exchange.total_bidask"),"(",r.createElement(w.a,{dataPlace:"top",name:t}),")"))}}]),t}(),Yt=function(e){function t(){return Pt(this,t),At(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Tt(t,r["Component"]),xt(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.orders,o=(t.displayType,t.type),a=(t.countOfRow,t.base),i=t.quote,s=t.onOrderClick,l=t.currentAccount,c=t.depthType,u=t.total,p=t.digits,f=t.max;return(o===yt.Ask?n.reverse():n).map(function(t,n){return null===t?r.createElement(zt,{key:"$nullOrder"+n}):r.createElement(Bt,{index:n,key:t.getPrice()+(t.isCall()?"_call":""),order:t,onClick:s.bind(e,t),digits:p,withYuan:!0,base:a,quote:i,final:0===n,depthType:c,max:f,total:u,currentAccount:l})})}}]),t}(),Gt=((Wt=function(e){function t(e){Pt(this,t);var n=At(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.setType=function(e){n.setState({type:e}),n.fixPos()},n.setDepthType=function(e){n.setState({depthType:e})},n.fixPos=function(){setTimeout(function(){n.askWrapper&&(n.askWrapper.scrollTop=n.askWrapper.scrollHeight+1e3),n.state.type!==yt.Ask&&setTimeout(function(){n.askWrapper.scrollTop=n.askWrapper.scrollHeight+1e3},200)},200)},n.onDepthChange=function(e){var t=e.value;n.setState({digits:t})},n.onDepthTypeChange={},n.state={scrollToBottom:!0,flip:e.flipOrderBook,showAllBids:!0,showAllAsks:!0,rowCount:20,digits:8,depthType:bt.Interval,type:yt.All},n}return Tt(t,r["Component"]),xt(t,[{key:"componentDidUpdate",value:function(){}},{key:"componentDidMount",value:function(){this.fixPos()}},{key:"componentDidCatch",value:function(){return r.createElement("h1",null,"Opps")}},{key:"render",value:function(){var e=this,t=this.props,n=t.combinedBids,o=t.combinedAsks,a=(t.highestBid,t.lowestAsk,t.quote),i=t.base,s=(t.totalAsks,t.totalBids,t.quoteSymbol,t.baseSymbol,t.horizontal,t.marketReady),l=t.latest,c=this.state,u=(c.showAllAsks,c.showAllBids,c.rowCount,c.type),p=c.digits,f=c.depthType,d=document.getElementById("orderBook")?Math.floor((document.getElementById("orderBook").offsetHeight/24-3)/2):24;if(!i||!a)return null;var h=[n,o].map(function(e){return Array.from(e.reduce(function(e,t){var n=t.getPrice(t.sell_price,p);e[n];if(e.has(n)){var r=e.get(n).sum(t);e.set(n,r)}else e.set(n,t);return e},new Map).values())}),m=Ct(h,2),y=m[0],b=m[1];Array.prototype.lastOne=function(){return this.length?this.filter(function(e){return e}).slice(-1)[0]:null},b=yt.Ask===u?Mt(b,b.length<2*d,2*d,null):Mt(b,!0,d,null);var v=0,g=0,k=0;(y=yt.Bid===u?Mt(y,y.length<2*d,2*d,null):Mt(y,!0,d,null)).filter(function(e){return e}).forEach(function(e){var t=e.isBid()?e.amountToReceive().amount:e.amountForSale().amount;g=Math.max(g,t),v+=t,e.accum=v}),v=0,b.filter(function(e){return e}).forEach(function(e){var t=e.isBid()?e.amountToReceive().amount:e.amountForSale().amount;k=Math.max(k,t),v+=t,e.accum=v});var w=Math.max(y.lastOne()&&y.lastOne().accum||0,b.lastOne()&&b.lastOne().accum||0),E=r.createElement("div",{style:[qt,{backgroundColor:T.i.$colorAnchor,margin:"0 -0.5rem"}],className:"text-center"},r.createElement(P,{ready:s,price:l&&l.full||{},quote:a,withYuan:!0,base:i,hideQuote:!0}));return r.createElement(r.Fragment,null,r.createElement("div",{className:"order-book-title",style:It},r.createElement(Ht,{type:this.state.type,onTypeChange:this.setType,basePrecision:8,depthType:this.state.depthType,onDepthTypeChange:this.setDepthType,onDepthChange:this.onDepthChange})),r.createElement("div",{className:"order-book-wrapper",style:Ft},r.createElement(Ut,{baseSymbol:i.get("symbol"),quoteSymbol:a.get("symbol")}),r.createElement("div",{className:"order-book-body _scroll-bar",style:[Nt]},r.createElement("div",{ref:function(t){return e.askWrapper=t},className:"ask-wrapper",style:[Rt.base,u===yt.All&&Rt.expand,u===yt.Ask&&Rt.scroll,u===yt.Bid&&Rt.hidden]},r.createElement(Yt,{displayType:this.state.type,type:yt.Ask,currentAccount:this.props.currentAccount,countOfRow:d,total:w,digits:p,base:i,quote:a,orders:b,max:k,depthType:f,onOrderClick:this.props.onClick.bind(this)})),E,r.createElement("div",{className:"bid-wrapper",style:[Rt.base,u===yt.All&&Rt.expand,u===yt.Bid&&Rt.scroll,u===yt.Ask&&Rt.hidden]},r.createElement(Yt,{displayType:this.state.type,type:yt.Bid,currentAccount:this.props.currentAccount,countOfRow:d,digits:p,base:i,total:w,quote:a,depthType:f,max:g,orders:y,onOrderClick:this.props.onClick.bind(this)})))))}}]),t}()).PRECISION_SIZE=4,Wt.defaultProps={bids:[],asks:[],orders:{}},Wt.propTypes={bids:p.array.isRequired,asks:p.array.isRequired,orders:p.object.isRequired},Wt.Styles={tab:{marginRight:"0.5rem",lineHeight:"24px",height:"24px"}},Wt),Qt=Gt=Object(A.a)(Gt),Xt=n(5),Jt=n.n(Xt),Kt=n(1665),Zt=n.n(Kt),$t=n(71),en=n(21),tn=n(1633),nn=n(3),rn=n(130),on=n(220),an=n(1717),sn=n.n(an),ln=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var cn=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),ln(t,[{key:"componentWillMount",value:function(){on.a.getBlock.defer(this.props.block_number)}},{key:"shouldComponentUpdate",value:function(e){return e.block&&!this.props.block&&setTimeout(O.a.rebuild,1e3),e.block!==this.props.block}},{key:"render",value:function(){var e=this.props,t=e.block,n=e.tooltip,o=e.component,a=e.format;return t?r.createElement(o,{className:n?"tooltip":"","data-tip":n?t.timestamp:""},r.createElement("span",null,j.a.localize(t.timestamp,{type:"date",format:a}))):r.createElement(o)}}]),t}();cn.defaultProps={format:-1!==sn()().toLowerCase().indexOf("en-us")?"market_history_us":"market_history",tooltip:!1,component:"span"};var un=cn=Object(_.connect)(cn,{listenTo:function(){return[rn.a]},getProps:function(e){return{block:rn.a.getState().blocks.get(e.block_number)}}}),pn=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var fn=nn.c.operations,dn=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.state={activeTab:e.viewSettings.get("historyTab","history")},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),pn(t,[{key:"shouldComponentUpdate",value:function(e,t){return!Jt.a.is(e.history,this.props.history)||e.baseSymbol!==this.props.baseSymbol||e.quoteSymbol!==this.props.quoteSymbol||e.className!==this.props.className||t.activeTab!==this.state.activeTab||e.currentAccount!==this.props.currentAccount}},{key:"_changeTab",value:function(e){en.a.changeViewSetting({historyTab:e}),this.setState({activeTab:e}),this.refs.history.scrollTop=0,setTimeout(O.a.rebuild,1e3)}},{key:"render",value:function(){var e=this.props,t=e.history,n=e.myHistory,o=e.base,a=e.quote,i=e.baseSymbol,s=e.quoteSymbol,l=e.isNullAccount,c=this.state.activeTab,u=null;if(l&&(c="history"),"my_history"===c&&n&&n.size){var p=-1,f=o.get("id").split(".")[2]>a.get("id").split(".")[2];u=n.filter(function(e){return e.getIn(["op",0])===fn.fill_order}).filter(function(e){var t=a.get("id"),n=o.get("id"),r=e.getIn(["op",1,"pays","asset_id"]),i=e.getIn(["op",1,"receives","asset_id"]);return(t===r||t===i)&&(n===r||n===i)}).sort(function(e,t){return t.get("block_num")-e.get("block_num")}).map(function(e){var t=e.toJS().op[1];p++;var n=void 0,i=void 0,s=!1;t.pays.asset_id===o.get("id")?(n=o,i=a,s=!0):(n=a,i=o);var l=$t.a.parse_order_history(t,n,i,s,f),c=e.get("block_num");return r.createElement("tr",{key:"my_history_"+p},r.createElement("td",{className:l.className},r.createElement(k.a,{preFormattedPrice:l})),r.createElement("td",null,l.receives),r.createElement("td",null,l.pays),r.createElement(un,{component:"td",block_number:c,tooltip:!0}))}).toArray()}else if(t&&t.size){var d=0,h=-1,m=o.get("id").split(".")[2]>a.get("id").split(".")[2];u=this.props.history.filter(function(){return++d%2==0}).take(100).map(function(e){h++;var t=void 0,n=void 0,i=!1;e.pays.asset_id===o.get("id")?(t=o,n=a,i=!0):(t=a,n=o);var s=$t.a.parse_order_history(e,t,n,i,m);return r.createElement("tr",{key:"history_"+h},r.createElement("td",{className:s.className},r.createElement(k.a,{preFormattedPrice:s})),r.createElement("td",null,s.receives),r.createElement("td",null,s.pays),r.createElement("td",{className:"tooltip","data-tip":new Date(e.time)},j.a.localize(new Date(e.time),{type:"date",format:-1!==sn()().toLowerCase().indexOf("en-us")?"market_history_us":"market_history"})))}).toArray()}var y="mymarkets-header clickable",v=g()(y,{inactive:"my_history"===c}),E=g()(y,{inactive:"history"===c});return r.createElement("div",{className:this.props.className},r.createElement("div",{className:"flex-wrapper flex-wrapper-main flex-column small-12 ",style:{height:"100%"}},r.createElement("div",{style:this.props.headerStyle,className:"grid-block shrink left-orderbook-header bottom-header"},r.createElement("div",{className:g()(E,{disabled:l}),onClick:this._changeTab.bind(this,"my_history")},r.createElement(b.a,{content:"exchange.my_history"})),r.createElement("div",{className:v,onClick:this._changeTab.bind(this,"history")},r.createElement(b.a,{content:"exchange.history"}))),r.createElement("div",{className:"grid-block shrink left-orderbook-header "},r.createElement("table",{className:"table table-4 order-table fixed-table market-right-padding"},r.createElement("thead",null,r.createElement("tr",null,r.createElement("th",{className:"text-center"},r.createElement(b.a,{className:"header-sub-title",content:"exchange.price"})),r.createElement("th",{className:"text-center"},r.createElement("span",{className:"header-sub-title"},r.createElement(w.a,{dataPlace:"top",name:s}))),r.createElement("th",{className:"text-center"},r.createElement("span",{className:"header-sub-title"},r.createElement(w.a,{dataPlace:"top",name:i}))),r.createElement("th",{className:"text-center"},r.createElement(b.a,{className:"header-sub-title",content:"explorer.block.date"})))))),r.createElement("div",{className:"table-container flex-wrapper flex-column grid-block _scroll-bar",ref:"history",style:{maxHeight:420}},r.createElement("table",{className:"table table-4 flex-wrapper-main order-table text-right fixed-table market-right-padding"},r.createElement(tn.a,{component:"tbody",transitionName:"newrow"},u)))))}}]),t}();dn.defaultProps={history:[]},dn.propTypes={history:p.object.isRequired};var hn=Object(_.connect)(dn,{listenTo:function(){return[s.b]},getProps:function(){return{viewSettings:s.b.getState().viewSettings}}}),mn=n(19),yn=n(22),bn=n(24),vn=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var gn=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),vn(t,[{key:"render",value:function(){return this.props.account?r.createElement("span",null,this.props.account.get("name")):null}}]),t}();gn.propTypes={account:yn.a.ChainObject.isRequired},gn.defaultProps={autosubscribe:!1};var kn=Object(bn.a)(gn),wn=n(51),En=n(1808),Sn=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var On={row:{base:{width:"100%"},active:{backgroundColor:T.i.$colorGreyLightWhite,opacity:.8}},cell:{active:{color:T.i.$colorOrange}}},_n=((Cn=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.statsInterval=null,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),Sn(t,[{key:"_onClick",value:function(e){"/market/"+e!==this.props.location.pathname&&(d.a.switchMarket(),this.props.history.push("/market/"+e))}},{key:"componentDidMount",value:function(){d.a.getMarketStats.defer(this.props.base,this.props.quote),this.statsChecked=new Date,this.statsInterval=setInterval(d.a.getMarketStats.bind(this,this.props.base,this.props.quote),3e4)}},{key:"componentWillUnmount",value:function(){clearInterval(this.statsInterval)}},{key:"shouldComponentUpdate",value:function(e){return!m.a.are_equal_shallow(e,this.props)}},{key:"_onStar",value:function(e,t,n){n.preventDefault(),this.props.starred?en.a.removeStarMarket(e,t):en.a.addStarMarket(e,t)}},{key:"render",value:function(){var e=this,t=this.props,n=t.quote,o=t.base,a=(t.noSymbols,t.stats),i=t.starred,s=t.unitYuan,l=t.tooltipPosition,c=t.withYuan,u=t.hideZeroVol;if(!n||!o)return null;if(u&&a&&0===a.volumeBase)return null;var p=n.get("symbol")+"_"+o.get("symbol"),f=n.get("symbol")+":"+o.get("symbol"),d=n.get("dynamic"),h=o.get("dynamic"),y=m.a.convertPrice(n,o),b=a&&a.price?a.price.toReal():a&&a.close&&a.close.quote.amount&&a.close.base.amount?m.a.get_asset_price(a.close.quote.amount,n,a.close.base.amount,o,!0):m.a.get_asset_price(y.quote.amount,n,y.base.amount,o,!0),v=parseFloat((s*b).toFixed(2)),g="button outline",k=null;this.props.compact&&(g+=" no-margin",k={marginBottom:0,fontSize:"0.75rem",padding:"4px 10px",borderRadius:"0px",letterSpacing:"0.05rem"});var w=this.props.columns.map(function(t){switch(t.name){case"star":var s=i?"gold-star":"grey-star";return r.createElement("span",{onClick:e._onStar.bind(e,n.get("symbol"),o.get("symbol")),key:t.index},r.createElement(wn.a,{className:s,name:"fi-star"}));case"vol":var l=a?a.volumeBase:0;return r.createElement("span",{onClick:e._onClick.bind(e,p),className:"text-right",key:t.index},m.a.format_volume(l));case"change":var c=m.a.format_number(a&&a.change?a.change:0,2),u="0.00"===c?"":parseFloat(c)>0?"change-up":"change-down";return r.createElement("span",{onClick:e._onClick.bind(e,p),className:"text-right "+u,key:t.index},c+"%");case"marketName":return r.createElement("span",{onClick:e._onClick.bind(e,p),key:t.index},r.createElement("div",{className:g,style:k},f));case"market":return r.createElement("span",{onClick:e._onClick.bind(e,p),key:t.index,style:[e.props.current&&On.cell.active]},e.props.name);case"price":var y=6;return-1!==["BTC","OPEN.BTC","TRADE.BTC","GOLD","SILVER"].indexOf(o.get("symbol"))&&(y=8),r.createElement("span",{onClick:e._onClick.bind(e,p),className:"text-right",key:t.index},m.a.format_number(b,b>1e3?0:b>10?2:y));case"quoteSupply":return r.createElement("span",{onClick:e._onClick.bind(e,p),key:t.index},d?r.createElement(mn.a,{style:{fontWeight:"bold"},amount:parseInt(d.get("current_supply"),10),asset:n.get("id")}):null);case"baseSupply":return r.createElement("span",{onClick:e._onClick.bind(e,p),key:t.index},h?r.createElement(mn.a,{style:{fontWeight:"bold"},amount:parseInt(h.get("current_supply"),10),asset:o.get("id")}):null);case"issuer":return r.createElement("span",{onClick:e._onClick.bind(e,p),key:t.index},r.createElement(kn,{account:n.get("issuer")}));case"add":return r.createElement("span",{style:{textAlign:"right"},key:t.index,onClick:e.props.onCheckMarket.bind(e,p)},r.createElement("input",{type:"checkbox",checked:!!e.props.isChecked||e.props.isDefault,disabled:e.props.isDefault,"data-tip":e.props.isDefault?"This market is a default market and cannot be removed":null}));case"remove":return r.createElement("span",{key:t.index,className:"clickable",onClick:e.props.removeMarket},r.createElement("span",{style:{marginBottom:"6px",marginRight:"6px",zIndex:999},className:"text float-right remove"},"–"))}}).sort(function(e,t){return e.key>t.key});return this.props.current&&" activeMarket",r.createElement("div",{className:"table-row clickable",style:[On.row.base,this.props.current&&On.row.active],"data-tip":c&&!isNaN(v)?"¥ "+v:null,"data-place":l,"data-offset":"{'right': 6}"},w)}}]),t}()).propTypes={quote:yn.a.ChainAsset.isRequired,base:yn.a.ChainAsset.isRequired},Cn.defaultProps={noSymbols:!1,withYuan:!1,tempComponent:"tr",tooltipPosition:"right"},Cn.contextTypes={router:p.object.isRequired},Cn);_n=Object(A.a)(_n),_n=Object(bn.a)(_n),_n=Object(_.connect)(_n,{listenTo:function(){return[E.a]},getProps:function(e){var t=e.base,n=m.a.replaceName(t,!1).name;return{unitYuan:E.a.getState().priceState[n]||NaN}}});var Cn,xn=_n=Object(En.a)(_n),Pn=n(87),An=n(1664),Tn=n(1630),Dn=n(30),jn=n(1663),Rn=n(31),Fn=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Nn=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function qn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function In(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Mn(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Ln=new Date,Bn={"JADE.USDT":{CYB:0,"JADE.ETH":1,"JADE.BTC":2,"JADE.EOS":3,"JADE.LTC":4}},Vn={CYB:new Set(["JADE.JCT"]),"JADE.ETH":new Set(["JADE.LTC"]),"JADE.EOS":new Set(["JADE.LTC"]),"JADE.BTC":new Set(["JADE.MT","JADE.ETH","JADE.BTC","JADE.EOS","JADE.INK","JADE.BAT","JADE.VET","JADE.OMG","JADE.SNT","JADE.NAS","JADE.KNC","JADE.PAY","JADE.GET","JADE.MAD","JADE.GNX","JADE.KEY","JADE.TCT","JADE.JCT","JADE.MCO","JADE.CTXC","JADE.NES","JADE.RHOC","JADE.PPT","JADE.MKR","JADE.FUN","JADE.GNT","JADE.MVP","JADE.DPY"])},Wn={"JADE.ETH":{"JADE.JCT":-1}},Hn=function(e){function t(e){qn(this,t);var n=In(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state=n._getInitialState(e),n}return Mn(t,r["Component"]),Nn(t,[{key:"_getInitialState",value:function(e){var t=!!e.findMarketTab||e.viewSettings.get("myMarketsBase_"+e.index);return{open:void 0===t||t,inverseSort:e.viewSettings.get("myMarketsInvert",!0),sortBy:e.viewSettings.get("myMarketsSort","volume")}}},{key:"componentWillReceiveProps",value:function(e){e.findMarketTab!==this.props.findMarketTab&&this.setState(this._getInitialState(e))}},{key:"shouldComponentUpdate",value:function(e,t){return!e.markets||!this.props.markets||(!m.a.are_equal_shallow(t,this.state)||!m.a.are_equal_shallow(e.markets,this.props.markets)||e.starredMarkets!==this.props.starredMarkets||e.marketStats!==this.props.marketStats||e.userMarkets!==this.props.userMarkets)}},{key:"_inverseSort",value:function(){en.a.changeViewSetting({myMarketsInvert:!this.state.myMarketsInvert}),this.setState({inverseSort:!this.state.inverseSort})}},{key:"_changeSort",value:function(e){e!==this.state.sortBy?(en.a.changeViewSetting({myMarketsSort:e}),this.setState({sortBy:e})):this._inverseSort()}},{key:"_onToggle",value:function(e){if(!this.props.findMarketTab){var t=!this.state.open;this.setState({open:t});var n={};n["myMarketsBase_"+this.props.index]=t,en.a.changeViewSetting(n)}}},{key:"_onToggleUserMarket",value:function(e){var t=e.split("_"),n=Fn(t,2),r=n[0],o=n[1],a=!this.props.userMarkets.get(e);en.a.setUserMarket(r,o,a)}},{key:"render",value:function(){var e=this,t=this.props,n=t.columns,o=t.markets,a=t.base,i=t.marketStats,s=t.starredMarkets,l=t.current,c=(t.findMarketTab,this.state),u=c.sortBy,p=c.inverseSort,f=c.open;if(!o||!o.length)return null;var d=n.map(function(t){switch(t.name){case"market":return r.createElement("span",{key:t.name,className:"clickable",onClick:e._changeSort.bind(e,"name")},r.createElement(b.a,{content:"exchange.market"}));case"vol":return r.createElement("span",{key:t.name,className:"clickable",onClick:e._changeSort.bind(e,"volume"),style:{textAlign:"right"}},r.createElement(b.a,{content:"exchange.vol_short"}));case"price":return r.createElement("span",{key:t.name,style:{textAlign:"right"}},r.createElement(b.a,{content:"exchange.price"}));case"quoteSupply":return r.createElement("span",{key:t.name},r.createElement(b.a,{content:"exchange.quote_supply"}));case"baseSupply":return r.createElement("span",{key:t.name},r.createElement(b.a,{content:"exchange.base_supply"}));case"change":return r.createElement("span",{key:t.name,className:"clickable",onClick:e._changeSort.bind(e,"change"),style:{textAlign:"right"}},r.createElement(b.a,{content:"exchange.change"}));case"issuer":return r.createElement("span",{key:t.name},r.createElement(b.a,{content:"explorer.assets.issuer"}));case"add":default:return r.createElement("span",{key:t.name})}}),h=o.map(function(t){return r.createElement(xn,{key:t.id,withYuan:!0,name:"others"===a?r.createElement("span",null,r.createElement(w.a,{name:t.quote}),":",r.createElement(w.a,{name:t.base})):r.createElement(w.a,{dataPlace:"left",name:t.quote}),quote:t.quote,base:t.base,columns:n,hideZeroVol:!0,compact:!0,noSymbols:!0,stats:i.get(t.id),starred:s.has(t.id),current:l===t.id,isChecked:e.props.userMarkets.has(t.id),isDefault:e.props.defaultMarkets&&e.props.defaultMarkets.has(t.id),onCheckMarket:e._onToggleUserMarket.bind(e)})}).filter(function(e){return null!==e}).filter(function(e){return e.props.base in Vn?!Vn[e.props.base].has(e.props.quote):e}).filter(function(e){return e.props.base in Bn?e.props.quote in Bn[e.props.base]:e}).sort(function(e,t){if(e.props.base in Bn)return Bn[e.props.base][e.props.quote]-Bn[e.props.base][t.props.quote];if(e.props.base in Wn&&(e.props.quote in Wn[e.props.base]||t.props.quote in Wn[e.props.base]))return e.props.quote in Wn[e.props.base]?-1:1;var n=e.key.split("_"),r=t.key.split("_"),o=i.get(n[0]+"_"+n[1]),a=i.get(r[0]+"_"+r[1]);switch(u){case"name":return m.a.replaceName(n[0]).name>m.a.replaceName(r[0]).name?p?-1:1:n[0]<r[0]?p?1:-1:m.a.replaceName(n[1]).name>m.a.replaceName(r[1]).name?p?-1:1:m.a.replaceName(n[1]).name<m.a.replaceName(r[1]).name?p?1:-1:0;case"volume":return o&&a?p?a.volumeBase-o.volumeBase:o.volumeBase-a.volumeBase:0;case"change":return o&&a?p?a.change-o.change:o.change-a.change:0}});f?r.createElement("span",null,"▼"):r.createElement("span",null,"▲");return f&&[r.createElement("div",{className:"table table-hover"},r.createElement("div",{className:"table-row",style:{paddingRight:"10px"}},d)),r.createElement("div",{className:"table table-hover _scroll-bar",style:{overflowY:"auto",paddingRight:"4px"}},h)]}}]),t}();Hn.defaultProps={maxRows:20};var zn=((Un=function(e){function t(e){qn(this,t);var n=In(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.getAssetList=Object(Dn.debounce)(Tn.a.getAssetList.defer,150),n._renderFindMarkets=function(){var e=[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(n.props.preferredBases));return r.createElement("div",{className:"grid-block",style:{overflow:"visible",width:"100%",textAlign:"left",padding:"0.75rem 0.5rem"}},r.createElement(jn.a,{onAssetSelect:n._onFoundBaseAsset.bind(n),assets:e,className:"small-12 medium-6",onChange:n._onInputBaseAsset.bind(n),asset:n.state.findBaseInput,assetInput:n.state.findBaseInput,tabIndex:1,onFound:n._onFoundBaseAsset.bind(n),label:"exchange.base",noLabel:!0,inputStyle:{fontSize:"0.9rem"},style:{padding:2}}),r.createElement("div",{className:"market-more small-12 medium-6",style:{padding:2,marginTop:"-1px"}},r.createElement("label",null,r.createElement(b.a,{content:"account.user_issued_assets.name"}),":"),r.createElement("input",{style:{fontSize:"0.9rem",position:"relative",top:1},type:"text",value:n.state.inputValue,onChange:n._onInputName.bind(n),placeholder:j.a.translate("exchange.search")})))};var o=[null],a=o[0],i=2===o.length?o[1]:null;return n.state={inverseSort:e.viewSettings.get("myMarketsInvert",!0),sortBy:e.viewSettings.get("myMarketsSort","volume"),activeTab:e.viewSettings.get("favMarketTab","my-market"),activeMarketTab:e.viewSettings.get("activeMarketTab",0),lookupQuote:a,lookupBase:i,inputValue:null,minWidth:"100%",findBaseInput:"USD",activeFindBase:"USD"},n}return Mn(t,r["Component"]),Nn(t,[{key:"shouldComponentUpdate",value:function(e,t){return"find-market"===this.state.activeTab||"find-market"!==t.activeTab||e.searchAssets.size||this._lookupAssets("OPEN.",!0),!(Xt.is(e.searchAssets,this.props.searchAssets)&&Xt.is(e.markets,this.props.markets)&&Xt.is(e.starredMarkets,this.props.starredMarkets)&&Xt.is(e.defaultMarkets,this.props.defaultMarkets)&&Xt.is(e.marketStats,this.props.marketStats)&&m.a.are_equal_shallow(t,this.state)&&e.locale===this.props.locale&&e.current===this.props.current&&e.minWidth===this.props.minWidth&&e.listHeight===this.props.listHeight&&e.preferredBases===this.props.preferredBases&&e.onlyStars===this.props.onlyStars&&e.assetsLoading===this.props.assetsLoading&&e.userMarkets===this.props.userMarkets)}},{key:"componentDidMount",value:function(){this.refs.favorites;"find-market"===this.state.activeTab&&this._lookupAssets("OPEN.",!0)}},{key:"_inverseSort",value:function(){en.a.changeViewSetting({myMarketsInvert:!this.state.myMarketsInvert}),this.setState({inverseSort:!this.state.inverseSort})}},{key:"_changeSort",value:function(e){e!==this.state.sortBy?(en.a.changeViewSetting({myMarketsSort:e}),this.setState({sortBy:e})):this._inverseSort()}},{key:"_goMarkets",value:function(){this.context.router.history.push("/markets")}},{key:"_changeTab",value:function(e){en.a.changeViewSetting({favMarketTab:e}),this.setState({activeTab:e})}},{key:"_onInputName",value:function(e){var t=e.target.value.toUpperCase();this.setState({inputValue:t}),this._lookupAssets(t)}},{key:"_lookupAssets",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(console.log("__lookupAssets",e,t),e||""===e){var n=new Date,r=e.toUpperCase().split(":"),o=r[0],a=2===r.length?r[1]:null;if(this.setState({lookupQuote:o,lookupBase:a}),en.a.changeViewSetting.defer({marketLookupInput:e.toUpperCase()}),this.state.lookupQuote!==o||t){if(o.length<1||n-Ln<=250)return!1}else if(a&&this.state.lookupBase!==a){if(a.length<1||n-Ln<=250)return!1;this.getAssetList(a,50)}}}},{key:"toggleActiveMarketTab",value:function(e){en.a.changeViewSetting({activeMarketTab:e}),this.setState({activeMarketTab:e})}},{key:"_onInputBaseAsset",value:function(e){this.setState({findBaseInput:e.toUpperCase(),error:null})}},{key:"_onFoundBaseAsset",value:function(e){e&&this.setState({activeFindBase:e.get("symbol")})}},{key:"render",value:function(){var e=this,t=this.props,n=t.starredMarkets,o=t.defaultMarkets,a=t.marketStats,i=t.columns,s=t.searchAssets,l=t.assetsLoading,c=t.preferredBases,u=(t.core,t.current),p=t.viewSettings,f=t.listHeight,h=t.onlyStars,y=t.userMarkets,v=this.state,k=v.activeMarketTab,E=v.activeTab,S=v.lookupQuote,O=v.lookupBase,_=(r.createElement("div",null),"my-market"===E);c.map(function(e){return e});_||(c=(c=c.clear()).push(this.state.activeFindBase));var C={},x=[];S||(S="OPEN."),_||(k=0),s.filter(function(e){return O&&O.length?0===e.symbol.indexOf(O):-1!==e.symbol.indexOf(S)}).forEach(function(e){O&&O.length?0===e.symbol.indexOf(O)&&x.push(e.symbol):c.includes(e.symbol)&&e.symbol.length>=S.length&&e.symbol.length<S.length+3&&x.push(e.symbol)}),x=(x=x.concat(c.filter(function(e){return!O||!O.length||0===e.indexOf(O)}).toArray())).filter(function(e){return!(O&&O.length>1)||0===e.indexOf(O)});var P=[];s.size&&s.filter(function(e){return-1!==e.symbol.indexOf(S)&&e.symbol.length>=S.length}).forEach(function(e){x.forEach(function(t){var n=e.symbol+"_"+t;t!==e.symbol&&P.push([n,{quote:e.symbol,base:t}])})}),P=P.filter(function(e){return!O||e[1].quote===S}),P=Xt.Map(P);var A=_?o:P;_&&y.size&&y.forEach(function(e,t){A=A.set(t,e)}),A.size>0&&A.filter(function(t){if(_){var r=t.quote+"_"+t.base;return m.a.replaceName(t.quote).name,e.state.myMarketFilter?-1!==m.a.replaceName(t.quote).name.indexOf(e.state.myMarketFilter):!(h&&!n.has(r))}return!(S.length<1)&&-1!==t.quote.indexOf(S)}).map(function(e){var t=e.quote+"_"+e.base;return c.includes(e.base)?(C[e.base]||(C[e.base]=[]),C[e.base].push({id:t,quote:e.quote,base:e.base}),null):{id:t,quote:e.quote,base:e.base}}).filter(function(e){return null!==e}).take(_?100:20).toArray();var D="mymarkets-header clickable",R=g()(D,{inactive:!_}),F=(g()(D,{inactive:_}),{minWidth:this.state.minWidth,minHeight:"6rem"});return f&&(F.height=f),[r.createElement("div",{className:"grid-block shrink left-orderbook-header"},r.createElement("div",{ref:"myMarkets",className:R,onClick:this._changeTab.bind(this,"my-market")},r.createElement(b.a,{content:"exchange.market_name"}))),this.props.controls&&r.createElement("div",{className:"small-12 medium-6",style:{padding:"1rem 0"}},this.props.controls?r.createElement("div",{style:{paddingBottom:"0.5rem"}},this.props.controls):null),r.createElement("ul",{className:"mymarkets-tabs",style:{padding:"0 0.5em"}},c.map(function(t,n){return t?r.createElement(T.r,{style:{lineHeight:"1.8",marginRight:"1rem",display:"inline-block",height:"1.8em",fontWeight:"bold",borderBottomWidth:"2px"},key:t,active:k===n,onClick:e.toggleActiveMarketTab.bind(e,n)},r.createElement(w.a,{name:t,dataPlace:"left"})):null})),_?r.createElement("div",{className:"grid-block shrink",style:{width:"100%",textAlign:"left",padding:"0.75rem 0.5rem"}},r.createElement(T.h,{active:this.props.onlyStars,onChange:function(){d.a.toggleStars()},labelStyle:{alignItems:"center"}},r.createElement(b.a,{content:"exchange.show_star_2"}),r.createElement(b.a,{content:"exchange.show_star_1"}),r.createElement(T.k,{icon:"star"})),r.createElement(T.j,null),r.createElement("div",{className:"float-right"},r.createElement("input",{style:{fontSize:"0.9rem",height:"inherit",padding:2},className:"no-margin",type:"text",placeholder:j.a.translate("exchange.filter_name"),value:this.state.myMarketFilter,onChange:function(t){e.setState({myMarketFilter:t.target.value&&t.target.value.toUpperCase()})}}))):this._renderFindMarkets(),r.createElement("div",{style:F,className:"table-container grid-block vertical mymarkets-list",ref:"favorites"},l?r.createElement("div",{style:{position:"absolute",paddingTop:"3rem",textAlign:"center",width:"100%"}},r.createElement(Rn.a,{type:"three-bounce"})):null,c.filter(function(e){return e===c.get(k)}).map(function(t,o){return r.createElement(Hn,{userMarkets:e.props.userMarkets,defaultMarkets:e.props.defaultMarkets,index:o,allowChange:!1,key:t,current:u,starredMarkets:n,marketStats:a,viewSettings:p,columns:_?i:e.props.findColumns||i,markets:C[t],base:t,maxRows:_?20:10,findMarketTab:!_})}))]}}]),t}()).propTypes={core:yn.a.ChainAsset.isRequired},Un.defaultProps={activeTab:"my-market",core:"1.3.0",setMinWidth:!1},Un.contextTypes={router:p.object.isRequired},Un);zn=Object(bn.a)(zn,{keep_updating:!0});var Un,Yn=function(e){function t(){return qn(this,t),In(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Mn(t,r["Component"]),Nn(t,[{key:"render",value:function(){return r.createElement(zn,Object.assign({},this.props))}}]),t}(),Gn=Object(_.connect)(Yn,{listenTo:function(){return[s.b,a.a,An.a,Pn.a]},getProps:function(){return{locale:Pn.a.getState().currentLocale,starredMarkets:s.b.getState().starredMarkets,defaultMarkets:s.b.getState().defaultMarkets,viewSettings:s.b.getState().viewSettings,preferredBases:s.b.getState().preferredBases,marketStats:a.a.getState().allMarketStats,userMarkets:s.b.getState().userMarkets,searchAssets:An.a.getState().assets,onlyStars:a.a.getState().onlyStars,assetsLoading:An.a.getState().assetsLoading}}}),Qn=n(1766),Xn=n(39),Jn=n.n(Xn),Kn=n(124),Zn=n(37),$n=n(1716),er=n(1715),tr=n(343),nr=n(104),rr=n(337),or=n(1647),ar=n.n(or),ir=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sr=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function lr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cr(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function ur(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var pr=function(e){function t(e){lr(this,t);var n=cr(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.state={toAddress:$n.a.getLast(e.walletType),withdrawValue:"",amountError:null,inputAmount:0,receiveLoading:!1,limitLoading:!0,apiError:!1},n._validateAddress(n.state.toAddress,e),n.deposit_address_cache=new er.a,n}return ur(t,r["Component"]),sr(t,[{key:"onClose",value:function(){Jn.a.publish(this.props.modalId,"close")}},{key:"componentWillMount",value:function(){this._getDepositAddress()}},{key:"componentDidMount",value:function(){this._getDepositLimit(),this._estimateOutput()}},{key:"componentWillReceiveProps",value:function(e){e.inputCoinType===this.props.inputCoinType&&e.outputCoinType===this.props.outputCoinType||(this._getDepositLimit(e),this._estimateOutput(e),this._getDepositAddress(e))}},{key:"shouldComponentUpdate",value:function(e,t){return e.inputCoinType!==this.props.inputCoinType||e.outputCoinType!==this.props.outputCoinType||e.sender!==this.props.sender||e.asset!==this.props.asset||e.isAvailable!==this.props.isAvailable||e.isDown!==this.props.isDown||!m.a.are_equal_shallow(t,this.state)}},{key:"_getDepositLimit",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;this.setState({limitLoading:!0}),Object($n.d)(t.inputCoinType,t.outputCoinType).then(function(t){e.setState({depositLimit:t.depositLimit,limitLoading:!1})}).catch(function(t){console.log("deposit limit error:",t),e.setState({depositLimit:null,limitLoading:!1})})}},{key:"_onAmountChange",value:function(e,t){var n=new RegExp(/[[:digit:]]/),r=t.target;switch(n.test(r.value)||(r.value=r.value.replace(/[^0-9.]/g,"")),"."==r.value.charAt(0)&&(r.value="0."),r.value.charAt(r.value.length)!=r.value.search(".")&&r.value.substr(1),r.value=m.a.limitByPrecision(r.value,8),e){case"input":this.setState({inputAmount:r.value},this._estimateOutput.bind(this));break;case"output":this.setState({outputAmount:r.value},this._estimateInput.bind(this))}}},{key:"_estimateOutput",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;this.setState({receiveAmount:0,sendAmount:this.state.inputAmount}),this.state.inputAmount&&(this.setState({receiveLoading:!0}),Object($n.c)(this.state.inputAmount,t.inputCoinType,t.outputCoinType).then(function(t){e.setState({inputAmount:t.inputAmount,receiveAmount:t.outputAmount,receiveLoading:!1})}).catch(function(t){console.log("receive amount err:",t),e.setState({receiveLoading:!1,apiError:!0})}))}},{key:"_estimateInput",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;this.setState({receiveAmount:this.state.outputAmount,sendAmount:0}),this.state.outputAmount&&(this.setState({receiveLoading:!0}),Object($n.b)(this.state.outputAmount,t.inputCoinType,t.outputCoinType).then(function(t){e.setState({inputAmount:t.inputAmount,sendAmount:m.a.limitByPrecision(t.inputAmount,8),receiveLoading:!1})}).catch(function(t){console.log("send amount err:",t),e.setState({receiveLoading:!1,apiError:!0})}))}},{key:"_getDepositAddress",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;if(e.inputCoinType){this.setState({receive_address:null}),Object($n.e)(this._getDepositObject(e))}}},{key:"_getDepositObject",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;return{inputCoinType:t.inputCoinType.toLowerCase(),outputCoinType:t.outputCoinType.toLowerCase(),outputAddress:t.sender.get("name"),url:nr.c.BASE,stateCallback:function(n){e.addDepositAddress(t.inputCoinType.toLowerCase(),t.outputCoinType.toLowerCase(),t.sender.get("name"),n)}}}},{key:"addDepositAddress",value:function(e,t,n,r){this.deposit_address_cache.cacheInputAddress("blocktrades",n,e,t,r.address,r.memo),this.setState({receive_address:r})}},{key:"componentDidUpdate",value:function(){O.a.rebuild()}},{key:"_validateAddress",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.props;Object($n.f)({walletType:n.walletType,newAddress:e}).then(function(n){t.state.toAddress===e&&t.setState({withdraw_address_check_in_progress:!1,validAddress:n})}).catch(function(e){console.error("Error when validating address:",e)})}},{key:"_openRegistrarSite",value:function(e){e.preventDefault(),window.open(s.b.site_registr,"_blank").opener=null}},{key:"_onDropDownSelect",value:function(e){en.a.changeViewSetting({preferredBridge:e})}},{key:"onBlockTradesContact",value:function(){console.log("Open New Tab"),window.open("https://www.blocktrades.us/contact","_blank").focus()}},{key:"_renderDeposit",value:function(){var e=m.a.replaceName(this.props.asset.get("symbol"),!!this.props.asset.get("bitasset")),t=e.name,n=e.prefix,o=this.state,a=o.receive_address,i=o.apiError,s=a&&"memo"in a&&a.memo,l=a&&a.address||"",c=r.createElement("div",{className:"SimpleTrade__QR"},r.createElement(ar.a,{size:140,value:l})),u=Object.keys(this.props.bridges.toJS()),p=this.props.inputCoinType.toUpperCase(),f=(n||"")+t,d=(this.state.receiveAmount/this.state.inputAmount).toFixed(4),h=f+"/"+p,y=this.state.inputAmount>parseFloat(this.state.depositLimit)||this.state.sendAmount>parseFloat(this.state.depositLimit),v=y?{border:"1px solid #a94442"}:null;return r.createElement("div",{className:l?"":"no-overflow"},r.createElement("div",{className:"SimpleTrade__withdraw-row"},r.createElement("label",{className:"left-label"},"ASSET"),r.createElement("div",{className:"inline-label input-wrapper"},r.createElement("input",{disabled:!0,type:"text",defaultValue:f}))),r.createElement("div",{className:"SimpleTrade__withdraw-row"},r.createElement("div",{className:"grid-block"},r.createElement("label",{className:"left-label"},"BRIDGE"),r.createElement("span",{"data-tip":j.a.translate("tooltip.bridge_TRADE"),className:"inline-block tooltip",onClick:this.onBlockTradesContact.bind(this)}," ",r.createElement(wn.a,{style:{position:"relative",top:0},name:"question-circle"}))),r.createElement("div",{className:"inline-label input-wrapper"},r.createElement("input",{disabled:!0,type:"text",defaultValue:"BLOCKTRADES"})," ")),r.createElement("span",{style:i?{display:"none"}:{display:""}},r.createElement("div",{className:"SimpleTrade__withdraw-row"},r.createElement("div",{className:"no-margin no-padding"},r.createElement("div",{className:"small-6",style:{paddingRight:10}},r.createElement("div",{className:"grid-block"},r.createElement("label",{className:"left-label"},r.createElement(b.a,{content:"transfer.send"})),y?r.createElement("div",{className:"error-msg inline-block tooltip","data-tip":j.a.translate("tooltip.over_limit")},r.createElement(b.a,{content:"gateway.over_limit"})," ",r.createElement(wn.a,{name:"question-circle"})):null),r.createElement("div",{className:"inline-label input-wrapper"},r.createElement("input",{style:v,type:"text",value:this.state.sendAmount,onInput:this._onAmountChange.bind(this,"input")}),r.createElement("div",{className:"form-label select floating-dropdown"},r.createElement(rr.a,{entries:u,values:u.reduce(function(e,t){return t&&(e[t]=t),e},{}),singleEntry:u[0],value:this.props.preferredBridge||u[0],onChange:this._onDropDownSelect,upperCase:!0})))),r.createElement("div",{className:"small-6",style:{paddingLeft:10}},r.createElement("label",{className:"left-label"},r.createElement(b.a,{content:"gateway.deposit_limit"})),r.createElement("div",{className:"inline-label input-wrapper"},r.createElement("input",{disabled:!0,type:"number",value:this.state.depositLimit&&parseFloat(this.state.depositLimit).toFixed(4)||0}),r.createElement("div",{className:"input-right-symbol"},p))))),r.createElement("div",{className:"SimpleTrade__withdraw-row"},r.createElement("div",{className:"no-margin no-padding"},r.createElement("div",{className:"small-6",style:{paddingRight:10}},r.createElement("label",{className:"left-label"},r.createElement(b.a,{content:"exchange.receive"})),r.createElement("div",{className:"inline-label input-wrapper"},r.createElement("input",{style:v,type:"text",value:this.state.receiveAmount,onInput:this._onAmountChange.bind(this,"output")}),r.createElement("div",{className:"input-right-symbol"},f))),r.createElement("div",{className:"small-6",style:{paddingLeft:10}},r.createElement("div",{className:"grid-block"},r.createElement("label",{className:"left-label"},r.createElement(b.a,{content:"exchange.price"}),"  ",this.state.receiveLoading?r.createElement(b.a,{content:"footer.loading"}):"")),r.createElement("div",{className:"inline-label input-wrapper"},r.createElement("input",{disabled:!0,type:"number",value:y?0:d}),r.createElement("div",{className:"input-right-symbol"},h))))),l?r.createElement("div",{className:"SimpleTrade__withdraw-row",style:{textAlign:"center"}},s?null:c,r.createElement("div",{className:"grid-block SimpleTrade__deposit-info"},r.createElement("div",{className:"copyIcon"},r.createElement(tr.a,{text:l,className:"SimpleTrade__copyIcon"})),r.createElement("div",{className:"deposit-details"},r.createElement("div",null,r.createElement(b.a,{unsafe:!0,content:"gateway.purchase_notice",inputAsset:p,outputAsset:f})),r.createElement("div",null,l))),s?r.createElement("div",{className:"grid-block SimpleTrade__deposit-info",style:{marginTop:"10px"}},r.createElement("div",{className:"copyIcon"},r.createElement(tr.a,{text:a.memo,className:"SimpleTrade__copyIcon"})),r.createElement("div",{className:"deposit-details"},r.createElement("div",null,r.createElement(b.a,{unsafe:!0,content:"gateway.purchase_notice_memo"})),r.createElement("div",null,a.memo))):null):r.createElement("div",{style:{textAlign:"center"}},r.createElement(Rn.a,{type:"three-bounce"})),r.createElement("div",{className:"SimpleTrade__withdraw-row",style:{textAlign:"center",paddingBottom:"2rem"}},r.createElement("div",{className:"no-margin no-padding"},r.createElement("button",{className:"ActionButton_Close",onClick:this.onClose.bind(this)},r.createElement(b.a,{content:"transfer.close"}))))),r.createElement("span",{style:i?{display:""}:{display:"none"}},r.createElement("div",{className:"SimpleTrade__withdraw-row",style:{textAlign:"center",paddingBottom:"2rem",color:"#bb2926"}},r.createElement(b.a,{className:"txtlabel cancel",content:"gateway.unavailable_TRADE",component:"p"}),r.createElement("button",{className:"ActionButton_Close",onClick:this.onClose.bind(this)},r.createElement(b.a,{content:"transfer.close"})))))}},{key:"_renderCurrentBalance",value:function(){var e=this,t=m.a.replaceName(this.props.asset.get("symbol"),!!this.props.asset.get("bitasset")).name,n="deposit"===this.props.action,o=this.props.balances.find(function(t){return t&&t.get("asset_type")===e.props.asset.get("id")}),a=o?new Zn.a({asset_id:o.get("asset_type"),precision:this.props.asset.get("precision"),amount:o.get("balance")}):null,i=n?r.createElement("span",{style:{border:"2px solid black",borderLeft:"none"},className:"form-label"},t):r.createElement("button",{"data-place":"right","data-tip":j.a.translate("tooltip.withdraw_full"),className:"button",style:{border:"2px solid black",borderLeft:"none"},onClick:this._updateAmount.bind(this,o?parseInt(o.get("balance"),10):0)},r.createElement(wn.a,{name:"clippy"}));return r.createElement("div",{className:"SimpleTrade__withdraw-row",style:{fontSize:"1rem"}},r.createElement("label",{style:{fontSize:"1rem"}},j.a.translate("gateway.balance_asset",{asset:t}),":",r.createElement("span",{className:"inline-label"},r.createElement("input",{disabled:!0,style:{color:"black",border:"2px solid black",padding:10,width:"100%"},value:a?a.getAmount({real:!0}):0}),i)))}},{key:"render",value:function(){if(!this.props.asset)return null;var e=n(722);return r.createElement("div",{className:"SimpleTrade__modal"},r.createElement("div",{className:"Modal__header",style:{background:"none"}}),r.createElement("div",{className:"grid-block vertical no-overflow",style:{zIndex:1002,paddingLeft:"2rem",paddingRight:"2rem"}},r.createElement("div",{style:{textAlign:"center"}},r.createElement("img",{style:{margin:0,height:80},src:e}),r.createElement("br",null),r.createElement("p",{style:{fontSize:"1.8rem",fontWeight:"bold",marginBottom:0}},"Buy")),this.props.isDown?r.createElement("div",{style:{textAlign:"center"}},r.createElement(b.a,{className:"txtlabel cancel",content:"gateway.unavailable_TRADE",component:"p"})):this.props.isAvailable?this._renderDeposit():r.createElement("div",{style:{textAlign:"center"}},r.createElement(b.a,{className:"txtlabel cancel",content:"gateway.unavailable",component:"p"}))))}}]),t}();pr.propTypes={sender:yn.a.ChainAccount.isRequired,asset:yn.a.ChainAsset.isRequired},pr=Object(bn.a)(pr);var fr=function(e){function t(){return lr(this,t),cr(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return ur(t,r["Component"]),sr(t,[{key:"render",value:function(){var e=this.props,t=e.preferredBridge,n=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["preferredBridge"]),o=this.props.bridges.get(this.props.preferredBridge);return o||(t=(o=this.props.bridges.first()).inputCoinType),r.createElement(pr,ir({},n,{preferredBridge:t},o.toJS()))}}]),t}();fr=Object(_.connect)(fr,{listenTo:function(){return[s.b]},getProps:function(){return{preferredBridge:s.b.getState().viewSettings.get("preferredBridge","btc")}}});var dr=function(e){function t(){lr(this,t);var e=cr(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={open:!1},e}return ur(t,r["Component"]),sr(t,[{key:"show",value:function(){var e=this;this.setState({open:!0},function(){Jn.a.publish(e.props.modalId,"open")})}},{key:"onClose",value:function(){this.setState({open:!1})}},{key:"render",value:function(){return this.props.bridges?r.createElement(Kn.a,{className:"test",onClose:this.onClose.bind(this),id:this.props.modalId,overlay:!0},this.state.open?r.createElement(fr,ir({},this.props,{open:this.state.open})):null):null}}]),t}(),hr=n(1714),mr=n(214),yr=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var br=((vr=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),yr(t,[{key:"shouldComponentUpdate",value:function(e){return e.amount!==this.props.amount||e.onBorrow!==this.props.onBorrow||e.total!==this.props.total||e.currentPrice!==this.props.currentPrice||e.price!==this.props.price||e.balance!==this.props.balance||e.account!==this.props.account||e.className!==this.props.className||!(!e.fee||!this.props.fee)&&e.fee.ne(this.props.fee)||e.isPredictionMarket!==this.props.isPredictionMarket||e.feeAsset!==this.props.feeAsset||e.isOpen!==this.props.isOpen||e.hasFeeBalance!==this.props.hasFeeBalance}},{key:"_addBalance",value:function(e){"bid"===this.props.type?this.props.totalChange({target:{value:e.getAmount({real:!0}).toString()}}):this.props.amountChange({target:{value:e.getAmount({real:!0}).toString()}})}},{key:"_setPrice",value:function(e){this.props.priceChange({target:{value:e.toString()}})}},{key:"_onDeposit",value:function(e){e.preventDefault(),this.refs.deposit_modal.show()}},{key:"_onBuy",value:function(e){e.preventDefault(),this.refs.bridge_modal.show()}},{key:"render",value:function(){var e=this.props,t=e.type,n=e.quote,o=e.base,a=e.amountChange,i=e.fee,s=e.isPredictionMarket,l=e.priceChange,c=e.onSubmit,u=e.balance,p=e.totalChange,f=e.balancePrecision,d=e.currentPrice,h=e.currentPriceObject,y=e.feeAsset,v=e.feeAssets,E=e.hasFeeBalance,S=e.backedCoin,O=void 0,_=void 0,C=void 0;this.props.isOpen?r.createElement("span",null,"▼"):r.createElement("span",null,"▲");this.props.amount&&(O=this.props.amount),this.props.price&&(_=this.props.price),this.props.total&&(C=this.props.total);var x=new Zn.a({amount:u?u.get("balance"):0,precision:f,asset_id:this.props.balanceId}),P=new Zn.a({amount:o.getIn(["options","max_market_fee"]),asset_id:o.get("asset_id"),precision:o.get("precision")}),A=new Zn.a({amount:n.getIn(["options","max_market_fee"]),asset_id:n.get("asset_id"),precision:n.get("precision")}),D=O?Math.min(A.getAmount({real:!0}),O*n.getIn(["options","market_fee_percent"])/1e4):0,R=O?Math.min(P.getAmount({real:!0}),C*o.getIn(["options","market_fee_percent"])/1e4):0,F=mr.a.getFlagBooleans(o.getIn(["options","flags"]),o.has("bitasset_data_id")),N=mr.a.getFlagBooleans(n.getIn(["options","flags"]),n.has("bitasset_data_id")),q=F.charge_market_fee||N.charge_market_fee,I=F.charge_market_fee?r.createElement("div",{className:"grid-block no-padding buy-sell-row"},r.createElement("div",{className:"grid-block small-3 no-margin no-overflow buy-sell-label"},r.createElement(b.a,{content:"explorer.asset.summary.market_fee"}),":"),r.createElement("div",{className:"grid-block small-5 no-margin no-overflow buy-sell-input"},r.createElement("input",{disabled:!0,type:"text",id:"baseMarketFee",value:R,autoComplete:"off"})),r.createElement("div",{className:"grid-block small-4 no-margin no-overflow buy-sell-box"},r.createElement(w.a,{noTip:!0,name:o.get("symbol")}),r.createElement("span",{"data-tip":j.a.translate("tooltip.market_fee",{percent:o.getIn(["options","market_fee_percent"])/100,asset:o.get("symbol")}),className:"inline-block tooltip"}," ",r.createElement(wn.a,{style:{position:"relative",top:3},name:"question-circle"})))):q?r.createElement("div",{className:"grid-block no-padding buy-sell-row"},r.createElement("div",{style:{visibility:"hidden"},className:"grid-block small-3 no-margin no-overflow buy-sell-label"},r.createElement(b.a,{content:"explorer.asset.summary.market_fee"}),":")):null,M=N.charge_market_fee?r.createElement("div",{className:"grid-block no-padding buy-sell-row"},r.createElement("div",{className:"grid-block small-3 no-margin no-overflow buy-sell-label"},r.createElement(b.a,{content:"explorer.asset.summary.market_fee"}),":"),r.createElement("div",{className:"grid-block small-5 no-margin no-overflow buy-sell-input"},r.createElement("input",{disabled:!0,type:"text",id:"baseMarketFee",value:D,autoComplete:"off"})),r.createElement("div",{className:"grid-block small-4 no-margin no-overflow buy-sell-box"},r.createElement(w.a,{noTip:!0,name:n.get("symbol")}),r.createElement("span",{"data-tip":j.a.translate("tooltip.market_fee",{percent:n.getIn(["options","market_fee_percent"])/100,asset:n.get("symbol")}),className:"inline-block tooltip"}," ",r.createElement(wn.a,{style:{position:"relative",top:3},name:"question-circle"})))):q?r.createElement("div",{className:"grid-block no-padding buy-sell-row"},r.createElement("div",{style:{visibility:"hidden"},className:"grid-block small-3 no-margin no-overflow buy-sell-label"},r.createElement(b.a,{content:"explorer.asset.summary.market_fee"}),":")):null,L="bid"===t,B=L&&M?M:!L&&I?I:null,V=L?x.getAmount({real:!0})>=parseFloat(C):x.getAmount({real:!0})>=parseFloat(O),W=s?j.a.translate("exchange.short"):L?j.a.translate("exchange.buy"):j.a.translate("exchange.sell"),H=L?j.a.translate("exchange.buy"):j.a.translate("exchange.sell"),z=!s&&!(x.getAmount()>0&&V),U=!(_>0),Y=!(O>0),G=z||U||Y,Q=g()({disabled:G}),X=L?o.get("symbol"):n.get("symbol"),J=U?j.a.translate("exchange.invalid_price"):Y?j.a.translate("exchange.invalid_amount"):z?j.a.translate("exchange.no_balance"):null;v[1]&&"1.3.0"===v[1].getIn(["options","core_exchange_rate","quote","asset_id"])&&"1.3.0"===v[1].getIn(["options","core_exchange_rate","base","asset_id"])&&(y=v[0],v.splice(1,1));var K=0,Z=v.map(function(e){var t=m.a.replaceName(e.get("symbol"),e.get("bitasset")&&!e.getIn(["bitasset","is_prediction_market"])&&"1.2.0"===e.get("issuer")),n=t.name,o=t.prefix;return r.createElement("option",{key:e.get("id"),value:K++},o,n)}),$=void 0;$=y.get("symbol")===X?x.clone(x.getAmount()-i.getAmount()):x;var ee=m.a.replaceName(this.props[L?"base":"quote"].get("symbol"),!!this.props[L?"base":"quote"].get("bitasset")),te=ee.name,ne=ee.prefix,re=(ne||"")+te;return r.createElement("div",{className:this.props.className},r.createElement("div",{className:"buy-sell-container"},r.createElement("div",{className:"exchange-content-header "+t},r.createElement("span",null,W," ",r.createElement(w.a,{dataPlace:"top",name:n.get("symbol")})),this.props.onBorrow&&r.createElement("div",{className:"float-right buy-sell-deposit"},r.createElement("a",{onClick:this.props.onBorrow},r.createElement(b.a,{content:"exchange.borrow"})," ",r.createElement("span",{className:"asset-name"},re)))),r.createElement("form",{className:(this.props.isOpen?"":"hide-container ")+"order-form",noValidate:!0},r.createElement("div",{className:"grid-block vertical no-overflow no-padding"},r.createElement("div",{className:"grid-block no-padding buy-sell-row"},r.createElement("div",{className:"grid-block small-3 no-margin no-overflow buy-sell-label"},r.createElement(b.a,{content:"exchange.price"}),":"),r.createElement("div",{className:"grid-block small-5 no-margin no-overflow buy-sell-input"},r.createElement(hr.b,{id:te+"_buyPrice",value:_,onChange:l,autoComplete:"off",placeholder:"0.0"})),r.createElement("div",{className:"grid-block small-4 no-margin no-overflow buy-sell-box"},r.createElement(w.a,{dataPlace:"right",name:o.get("symbol")}))),r.createElement("div",{className:"grid-block no-padding buy-sell-row"},r.createElement("div",{className:"grid-block small-3 no-margin no-overflow buy-sell-label"},r.createElement(b.a,{content:"exchange.amount"}),":"),r.createElement("div",{className:"grid-block small-5 no-margin no-overflow buy-sell-input"},r.createElement(hr.b,{id:te+"_amount_buyAmount",value:O,onChange:a,autoComplete:"off",placeholder:"0.0"})),r.createElement("div",{className:"grid-block small-4 no-margin no-overflow buy-sell-box"},r.createElement(w.a,{dataPlace:"right",name:n.get("symbol")}))),r.createElement("div",{className:"grid-block buy-sell-row bottom-row"},r.createElement("div",{className:"grid-block small-3 no-margin no-overflow buy-sell-label"},r.createElement(b.a,{content:"exchange.total"}),":"),r.createElement("div",{className:"grid-block small-5 no-margin no-overflow buy-sell-input"},r.createElement(hr.b,{id:te+"_total_buyAmount",value:C,onChange:p,autoComplete:"off",placeholder:"0.0"})),r.createElement("div",{className:"grid-block small-4 no-margin no-overflow buy-sell-box"},r.createElement(w.a,{dataPlace:"right",name:o.get("symbol")}))),r.createElement("div",{className:"grid-block no-padding buy-sell-row"},r.createElement("div",{className:"grid-block small-3 no-margin no-overflow buy-sell-label"},r.createElement(b.a,{content:"transfer.fee"}),":"),r.createElement("div",{className:"grid-block small-5 no-margin no-overflow buy-sell-input"},r.createElement("input",{className:E?"":"no-balance",disabled:!0,type:"text",id:te+"_fee",value:E?i.getAmount({real:!0}):j.a.translate("transfer.errors.insufficient"),autoComplete:"off"})),r.createElement("div",{className:"grid-block small-4 no-margin no-overflow buy-sell-box",style:{paddingLeft:1!==v.length?0:5}},r.createElement("select",{style:1===v.length?{background:"none"}:null,disabled:1===v.length,value:v.indexOf(this.props.feeAsset),className:"form-control"+(1!==v.length?" buysell-select":""),onChange:this.props.onChangeFeeAsset},Z)),B)),r.createElement("div",null,r.createElement("div",{className:"grid-content clear-fix no-padding"},r.createElement("table",{style:{width:"100%"}},r.createElement("tbody",null,r.createElement("tr",{className:"buy-sell-info"},r.createElement("td",null,r.createElement(b.a,{content:"exchange.balance"}),":"),r.createElement("td",{style:{paddingLeft:5,textAlign:"right"}},r.createElement("span",{style:{borderBottom:"#A09F9F 1px dotted",cursor:"pointer"},onClick:this._addBalance.bind(this,$)},m.a.format_number(x.getAmount({real:!0}),f)," ",r.createElement(w.a,{name:X})))),r.createElement("tr",{className:"buy-sell-info"},r.createElement("td",{style:{paddingTop:5}},L?r.createElement(b.a,{content:"exchange.lowest_ask"}):r.createElement(b.a,{content:"exchange.highest_bid"}),": "),d?r.createElement("td",{style:{paddingLeft:5,textAlign:"right",paddingTop:5,verticalAlign:"bottom"}},r.createElement("span",{style:{borderBottom:"#A09F9F 1px dotted",cursor:"pointer"},onClick:this.props.setPrice.bind(this,t,h.sellPrice())},r.createElement(k.a,{price:d,quote:n,base:o})," ",r.createElement(w.a,{name:o.get("symbol")}),"/",r.createElement(w.a,{name:n.get("symbol")}))):null))),r.createElement("div",{className:"buysell-buttons-wrapper"},r.createElement("div",{className:"full-width-content","data-tip":J&&""},r.createElement(T.g,{className:Q,onClick:c.bind(this,!0),type:t,disabled:G},W,"（",r.createElement(w.a,{name:L?o.get("symbol"):n.get("symbol")})," "," => ",r.createElement(w.a,{name:L?n.get("symbol"):o.get("symbol")}),"）")),J&&s?r.createElement("div",{style:{paddingLeft:10},className:"float-right","data-tip":J,"data-place":"right"},r.createElement("input",{style:{margin:0},className:Q,type:"submit",onClick:c.bind(this,!1),value:H})):s?r.createElement("div",{style:{paddingLeft:10},className:"float-right","data-tip":""},r.createElement("input",{style:{margin:0},className:Q,type:"submit",onClick:c.bind(this,!1),value:H})):null))))),r.createElement(Qn.a,Object.assign({ref:"deposit_modal",action:"deposit",fiatModal:!1,account:this.props.currentAccount.get("name"),sender:this.props.currentAccount.get("id"),asset:this.props[L?"base":"quote"].get("id"),modalId:"simple_deposit_modal"+("bid"===t?"":"_ask"),balances:[this.props.balance]},S)),r.createElement(dr,{ref:"bridge_modal",action:"deposit",account:this.props.currentAccount.get("name"),sender:this.props.currentAccount.get("id"),asset:this.props.balanceId,modalId:"simple_bridge_modal"+("bid"===t?"":"_ask"),balances:[this.props.balance],bridges:this.props.currentBridges}))}}]),t}()).propTypes={balance:yn.a.ChainObject,type:p.string,amountChange:p.func.isRequired,priceChange:p.func.isRequired,onSubmit:p.func.isRequired},vr.defaultProps={type:"bid"},vr);br=Object(A.a)(br);var vr,gr=Object(bn.a)(br,{keep_updating:!0}),kr=n(1632),wr=n(1691),Er=n(1620),Sr=n(1684),Or=function(){},_r=function(e){return e};function Cr(e,t,n){var r=t[n];if("function"!=typeof r)throw new Error("Attempt to rebind "+n+" which isn't a function on the source object");return function(){for(var n=arguments.length,o=Array(n),a=0;a<n;a++)o[a]=arguments[a];var i=r.apply(t,o);return i===t?e:i}}function xr(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];var a=!0,i=!1,s=void 0;try{for(var l,c=r[Symbol.iterator]();!(a=(l=c.next()).done);a=!0){var u=l.value;e[u]=Cr(e,t,u)}}catch(e){i=!0,s=e}finally{try{!a&&c.return&&c.return()}finally{if(i)throw s}}return e}function Pr(){var e=_r;function t(){var t=arguments.length;if(!t)return[];var r=Object(Er.k)(arguments,n),o=void 0,a=new Array(r);for(o=-1;++o<r;){for(var i=-1,s=a[o]=new Array(t);++i<t;)s[i]=arguments[i][o];a[o]=e.apply(this,a[o])}return a}function n(e){return e.length}return t.combine=function(n){return arguments.length?(e=n,t):e},t}var Ar=function(){var e=_r,t=!0,n=Or;function r(r){return Pr().combine(function(e,r){var o=t&&po(r)?e:n(e,r);return po(o)?e:o})(r,e(r))}return r.algorithm=function(t){return arguments.length?(e=t,r):e},r.merge=function(e){return arguments.length?(n=e,r):n},r.skipUndefined=function(e){return arguments.length?(t=e,r):t},r},Tr=function(){var e=void 0,t=10,n=Or,r=void 0,o=void 0,a=0,i=void 0,s=function(s){var l=o||Xr(r),c=Jr(t).apply(this,arguments),u=s.slice(a,c+a).map(l),p=0,f=Jr(e);return s.map(function(e,t){return t<a+c-1?f(l(e),t,i):(t>=a+c&&(u.shift(),u.push(l(e,t))),n(u,t,p++,i))})};return s.undefinedValue=function(t){return arguments.length?(e=t,s):e},s.windowSize=function(e){return arguments.length?(t=e,s):t},s.misc=function(e){return arguments.length?(i=e,s):i},s.accumulator=function(e){return arguments.length?(n=e,s):n},s.skipInitial=function(e){return arguments.length?(a=e,s):a},s.sourcePath=function(e){return arguments.length?(r=e,s):r},s.source=function(e){return arguments.length?(o=e,s):o},s};function Dr(e){return"[object Date]"===Object.prototype.toString.call(e)}function jr(e,t){return Dr(e)&&Dr(t)?e.getTime()===t.getTime():e===t}function Rr(e,t){if(!e&&!t)return!0;if(!e&&t||e&&!t)return!1;var n=0,r=0,o=void 0;for(o in t)if(r++,t.hasOwnProperty(o)&&!e.hasOwnProperty(o)||!jr(e[o],t[o]))return!1;for(o in e)n++;return n===r}var Fr=function(){var e=void 0,t=10,n=Or,r=_r,o=0,a=function(a){var i=Jr(t).apply(this,arguments),s=[],l=0,c=Jr(e),u=[];return a.forEach(function(e,t){var a=void 0;if(t<o+i-1)return a=c(e,t),u.push(a),void s.push(a);t>=o+i&&s.shift(),s.push(r(e,t)),a=n(s,t,l++),u.push(a),s.pop(),s.push(a)}),u};return a.undefinedValue=function(t){return arguments.length?(e=t,a):e},a.windowSize=function(e){return arguments.length?(t=e,a):t},a.accumulator=function(e){return arguments.length?(n=e,a):n},a.skipInitial=function(e){return arguments.length?(o=e,a):o},a.source=function(e){return arguments.length?(r=e,a):r},a},Nr=function(){var e=Jr(!1),t=Or,n=_r,r=!1,o=!1,a=function(a){var i=r?void 0:[],s=[],l=0,c=0;for(c=0;c<a.length;c++){var u=a[c];e(u,c,i||[])?(i&&i.length>0&&s.push(t(i,c,l++)),i=[n(u)]):i&&i.push(n(u))}return o||s.push(t(i,c,l)),s};return a.accumulateTill=function(t){return arguments.length?(e=Jr(t),a):e},a.accumulator=function(e){return arguments.length?(t=e,a):t},a.value=function(e){return arguments.length?(n=e,a):n},a.discardTillStart=function(e){return arguments.length?(r=e,a):r},a.discardTillEnd=function(e){return arguments.length?(o=e,a):o},a},qr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ir=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Mr=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":qr(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":qr(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.a.Component),Ir(t,[{key:"shouldComponentUpdate",value:function(e,t,n){return!Rr(this.props,e)||!Rr(this.state,t)||!Rr(this.context,n)}}]),t}(),Lr=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();function Br(e,t){var n=e.widthRatio,r=t.xScale,o=r.range(),a=Lr(o,2),i=a[0],s=a[1],l=Math.abs(s-i),c=r.domain(),u=Lr(c,2),p=u[0],f=u[1];return l/Math.abs(p-f)*n}var Vr=["Solid","ShortDash","ShortDash2","ShortDot","ShortDashDot","ShortDashDotDot","Dot","Dash","LongDash","DashDot","LongDashDot","LongDashDotDot"];var Wr=function(e){switch(e){default:case"Solid":return"none";case"ShortDash":return"6, 2";case"ShortDash2":return"6, 3";case"ShortDot":return"2, 2";case"ShortDashDot":return"6, 2, 2, 2";case"ShortDashDotDot":return"6, 2, 2, 2, 2, 2";case"Dot":return"2, 6";case"Dash":return"8, 6";case"LongDash":return"16, 6";case"DashDot":return"8, 6, 2, 6";case"LongDashDot":return"16, 6, 2, 6";case"LongDashDotDot":return"16, 6, 2, 6, 2, 6"}},Hr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ur=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Yr="function"==typeof Symbol&&"symbol"===Hr(Symbol.iterator)?function(e){return void 0===e?"undefined":Hr(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":Hr(e)};function Gr(e){return Or}function Qr(e){return(e>0)-(e<0)}function Xr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=Array.isArray(e)?e:[e],n=t.length;return function(e,r){if(0===n)return uo(e)?e:r;for(var o=0;null!=e&&o<n;)e=e[t[o++]];return o===n?e:r}}function Jr(e){return"function"==typeof e?e:function(){return e}}function Kr(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this,r=0;r<e.length;++r)if(t.call(n,e[r],r,e))return e[r]}function Zr(e){return e&&(e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView)}var $r="mousemove.pan",eo="mouseup.pan",to="touchmove.pan",no="touchend.pan touchcancel.pan";function ro(e){return e?{pageX:e.pageX,pageY:e.pageY,clientX:e.clientX,clientY:e.clientY}:{}}function oo(e,t,n,r){for(var o=0,a=e.length-1;a-o>1;){var i=Math.round((o+a)/2);n(e[i])<=t?o=i:a=i}return n(e[o]).valueOf()===t.valueOf()&&(a=o),n(e[a]).valueOf()===t.valueOf()&&(o=a),n(e[o])<t&&n(e[a])<t&&(o=a),n(e[o])>t&&n(e[a])>t&&(a=o),{left:o,right:a}}function ao(e,t,n,r){var o=oo(e,t,n),a=o.left,i=o.right;if(a===i)return e[a];var s=Math.abs(n(e[a])-t)<Math.abs(n(e[i])-t)?e[a]:e[i];return r&&console.log(e[a],e[i],s,a,i),s}var io=Object(Sr.b)(Sr.c);function so(e,t){if(!t||!e)return e?e[0]:void 0;for(var n=void 0,r=0;r<e.length;r++)if(uo(t(n=e[r])))return n}var lo=so;function co(e,t){if(!t||!e){var n=e?e.length:0;return n?e[n-1]:void 0}for(var r=void 0,o=e.length-1;o>=0;o--)if(uo(t(r=e[o])))return r}function uo(e){return null!==e&&void 0!==e}function po(e){return!uo(e)}var fo=Array.isArray;function ho(e,t){var n=t.target,r=n.getBoundingClientRect(),o=e.clientX-r.left-n.clientLeft,a=e.clientY-r.top-n.clientTop;return[Math.round(o),Math.round(a)]}function mo(e,t){var n=e.currentTarget,r=t||n.getBoundingClientRect(),o=e.clientX-r.left-n.clientLeft,a=e.clientY-r.top-n.clientTop;return[Math.round(o),Math.round(a)]}function yo(e,t){e.forEach(function(e){e.setTransform(1,0,0,1,0,0),e.clearRect(-1,-1,e.canvas.width+2,e.canvas.height+2),e.scale(t,t)})}function bo(e,t){var n=e.replace("#","");if(e.indexOf("#")>-1&&(3===n.length||6===n.length)){var r=3===n.length?1:2;return"rgba("+parseInt(n.substring(0,1*r),16)+", "+parseInt(n.substring(1*r,2*r),16)+", "+parseInt(n.substring(2*r,3*r),16)+", "+t+")"}return e}function vo(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_r;return e.reduce(function(e,n){var r=t(n),o=Ur(r,2),a=o[0],i=o[1];return zr({},e,function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},a,i))},{})}function go(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_r,n=Object.keys(e),r=new Array(n.length);return n.forEach(function(n,o){r[o]=t(e[n],n,e)}),r}var ko=n(1635),wo=n(1765),Eo=n.n(wo),So="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oo=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Co=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":So(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.yScale=r.yScale.bind(r),r.listener=r.listener.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":So(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,Mr),_o(t,[{key:"componentWillMount",value:function(){var e=this.props.id;(0,this.context.subscribe)("chart_"+e,{listener:this.listener})}},{key:"componentWillUnmount",value:function(){var e=this.props.id;(0,this.context.unsubscribe)("chart_"+e)}},{key:"listener",value:function(e,t,n,r){var o=this.props,a=o.id,i=o.onContextMenu;"contextmenu"===e&&(t.currentCharts.indexOf(a)>-1&&i(t,r))}},{key:"yScale",value:function(){var e=this;return Kr(this.context.chartConfig,function(t){return t.id===e.props.id}).yScale.copy()}},{key:"getChildContext",value:function(){var e=this.props.id,t=Kr(this.context.chartConfig,function(t){return t.id===e});return{chartId:e,chartConfig:t}}},{key:"render",value:function(){var e=this,t=Kr(this.context.chartConfig,function(t){return t.id===e.props.id}).origin,n=Oo(t,2),r=n[0],a=n[1];return o.a.createElement("g",{transform:"translate("+r+", "+a+")"},this.props.children)}}]),t}();Co.propTypes={height:f.a.number,origin:f.a.oneOfType([f.a.array,f.a.func]),id:f.a.oneOfType([f.a.number,f.a.string]).isRequired,yExtents:f.a.oneOfType([f.a.array,f.a.func]),yExtentsCalculator:function(e,t,n){if(po(e.yExtents)&&"function"!=typeof e.yExtentsCalculator)return new Error("yExtents or yExtentsCalculator must be present on "+n+". Validation failed.")},onContextMenu:f.a.func,yScale:f.a.func,flipYScale:f.a.bool,padding:f.a.oneOfType([f.a.number,f.a.shape({top:f.a.number,bottom:f.a.number})]),children:f.a.node},Co.defaultProps={id:0,origin:[0,0],padding:0,yScale:Object(Sr.a)(),flipYScale:!1,yPan:!0,yPanEnabled:!1,onContextMenu:Or},Co.contextTypes={chartConfig:f.a.array,subscribe:f.a.func.isRequired,unsubscribe:f.a.func.isRequired},Co.childContextTypes={chartConfig:f.a.object.isRequired,chartId:f.a.oneOfType([f.a.number,f.a.string]).isRequired};var xo=Co,Po=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ao=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();function To(e){return function(t){var n=e(t);return function(e){return uo(e)&&"object"===(void 0===e?"undefined":Yr(e))&&!Array.isArray(e)}(n)?go(n):n}}function Do(e){if(Array.isArray(e)&&2===e.length){var t=Ao(e,2),n=t[0],r=t[1];return"number"==typeof n&&"number"==typeof r}return!1}function jo(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return o.a.Children.map(t,function(t){if(t&&t.type.toString()===xo.toString()){var r=Po({},xo.defaultProps,t.props),o=r.id,a=r.origin,i=r.padding,s=r.yExtents,l=r.yScale,c=r.flipYScale,u=r.yExtentsCalculator,p=l.copy(),f=function(e,t){var n=e.width,r=e.height;return{availableHeight:r,width:n,height:t.height||r}}(e,r),d=f.width,h=f.height,m=f.availableHeight,y=r.yPan,b=r.yPanEnabled,v=uo(s)?(Array.isArray(s)?s:[s]).map(Jr):void 0,g=Kr(n,function(e){return e.id===o});if(Do(s))if(uo(g)&&g.yPan&&g.yPanEnabled&&y&&b&&Rr(g.originalYExtentsProp,s))p.domain(g.yScale.domain());else{var k=Ao(s,2),w=k[0],E=k[1];p.domain([w,E])}else uo(g)&&g.yPanEnabled&&(Do(g.originalYExtentsProp)||(p.domain(g.yScale.domain()),b=!0));return{id:o,origin:Jr(a)(d,m),padding:i,originalYExtentsProp:s,yExtents:v,yExtentsCalculator:u,flipYScale:c,yScale:p,yPan:y,yPanEnabled:b,width:d,height:h}}}).filter(function(e){return uo(e)})}function Ro(e,t){return e.filter(function(e){var n=e.origin[1],r=n+e.height;return t[1]>n&&t[1]<r}).map(function(e){return e.id})}function Fo(e,t,n,r,o){var a=t.plotData,i=t.xAccessor,s=t.displayXAccessor,l=t.fullData,c=e.map(function(e){var t=e.yExtentsCalculator,o=e.yExtents,c=e.yScale;return{realYDomain:uo(t)?t({plotData:a,xDomain:n,xAccessor:i,displayXAccessor:s,fullData:l}):function(e,t,n){var r=e.map(function(e){return n.map(To(e))}),o=Eo()(r);return t.invert?Object(Er.f)(o):Object(ko.c)(o).values()}(o,c,a),yDomainDY:uo(r)?c.range().map(function(e){return e-r}).map(c.invert):c.domain(),prevYDomain:c.domain()}});return Pr().combine(function(e,t){var n=t.realYDomain,r=t.yDomainDY,a=t.prevYDomain,i=e.id,s=e.padding,l=e.height,c=e.yScale,u=e.yPan,p=e.flipYScale,f=e.yPanEnabled,d=void 0!==f&&f,h=!uo(o)||o.indexOf(i)>-1,m=u&&d?h?r:a:n,y=function(e,t,n,r){if(e.rangeRoundPoints||po(e.invert)){if(isNaN(n))throw new Error("padding has to be a number for ordinal scale");e.rangeRoundPoints&&e.rangeRoundPoints(r?[0,t]:[t,0],n),e.rangeRound&&e.range(r?[0,t]:[t,0]).padding(n)}else{var o=isNaN(n)?n:{top:n,bottom:n},a=o.top,i=o.bottom;e.range(r?[a,t-i]:[t-i,a])}return e}(c.copy().domain(m),l,s,p);return Po({},e,{yScale:y,realYDomain:n})})(e,c)}function No(e,t,n,r){var o=void 0;if(e.invert)o=ao(r,e.invert(n[0]),t);else{var a=e.range().map(function(e,t){return{x:Math.abs(e-n[0]),idx:t}}).reduce(function(e,t){return e.x<t.x?e:t});o=uo(a)?r[a.idx]:r[0]}return o}function qo(e,t,n,r){var o=void 0,a=void 0;if(e.invert){if((o=e.invert(n[0]))>t(co(r))&&e.value)return Math.round(o);a=ao(r,o,t)}else{var i=e.range().map(function(e,t){return{x:Math.abs(e-n[0]),idx:t}}).reduce(function(e,t){return e.x<t.x?e:t});a=uo(i)?r[i.idx]:r[0]}return t(a)}var Io=n(1705),Mo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Bo=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Vo=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function Wo(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}var Ho=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":Mo(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleEnter=n.handleEnter.bind(n),n.handleLeave=n.handleLeave.bind(n),n.handleWheel=n.handleWheel.bind(n),n.handleMouseMove=n.handleMouseMove.bind(n),n.handleMouseDown=n.handleMouseDown.bind(n),n.handlePanEnd=n.handlePanEnd.bind(n),n.handlePan=n.handlePan.bind(n),n.handleTouchStart=n.handleTouchStart.bind(n),n.handleTouchMove=n.handleTouchMove.bind(n),n.handlePinchZoom=n.handlePinchZoom.bind(n),n.handlePinchZoomEnd=n.handlePinchZoomEnd.bind(n),n.handleClick=n.handleClick.bind(n),n.handleRightClick=n.handleRightClick.bind(n),n.handleDrag=n.handleDrag.bind(n),n.handleDragEnd=n.handleDragEnd.bind(n),n.shouldPan=n.shouldPan.bind(n),n.canPan=n.canPan.bind(n),n.setCursorClass=n.setCursorClass.bind(n),n.saveNode=n.saveNode.bind(n),n.mouseInside=!1,n.mouseInteraction=!0,n.state={panInProgress:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":Mo(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),Vo(t,[{key:"saveNode",value:function(e){this.node=e}},{key:"componentWillMount",value:function(){this.focus=this.props.focus}},{key:"componentDidMount",value:function(){this.node&&Object(Io.c)(this.node).on("mouseenter.interaction",this.handleEnter).on("mouseleave.interaction",this.handleLeave)}},{key:"componentDidUpdate",value:function(){this.componentDidMount()}},{key:"componentWillUnmount",value:function(){if(this.node){Object(Io.c)(this.node).on("mouseenter.interaction",null).on("mouseleave.interaction",null);var e=Zr(this.node);Object(Io.c)(e).on($r,null)}}},{key:"handleEnter",value:function(){var e=Io.a,t=this.props.onMouseEnter;if(this.mouseInside=!0,!this.state.panInProgress&&!this.state.dragInProgress){var n=Zr(this.node);Object(Io.c)(n).on($r,this.handleMouseMove)}t(e)}},{key:"handleLeave",value:function(e){var t=this.props.onMouseLeave;if(this.mouseInside=!1,!this.state.panInProgress&&!this.state.dragInProgress){var n=Zr(this.node);Object(Io.c)(n).on($r,null)}t(e)}},{key:"handleWheel",value:function(e){var t=this.props,n=t.zoom,r=t.onZoom,o=this.state.panInProgress,a=Math.abs(e.deltaY)>Math.abs(e.deltaX)&&Math.abs(e.deltaY)>0,i=mo(e);if(e.preventDefault(),n&&this.focus&&a&&!o)r(e.deltaY>0?1:-1,i,e);else if(this.focus){if(this.shouldPan()){var s=this.state.panStart,l=s.panStartXScale,c=s.chartsToPan;this.lastNewPos=i,this.panHappened=!0,this.dx+=e.deltaX,this.dy+=e.deltaY;var u={dx:this.dx,dy:this.dy};this.props.onPan(i,l,u,c,e)}else{var p=this.props,f=p.xScale,d=Ro(p.chartConfig,i);this.dx=0,this.dy=0,this.setState({panInProgress:!0,panStart:{panStartXScale:f,panOrigin:i,chartsToPan:d}})}this.queuePanEnd()}}},{key:"queuePanEnd",value:function(){var e=this;uo(this.panEndTimeout)&&clearTimeout(this.panEndTimeout),this.panEndTimeout=setTimeout(function(){e.handlePanEnd()},100)}},{key:"handleMouseMove",value:function(){var e=Io.a,t=this.props,n=t.onMouseMove,r=t.mouseMove;this.mouseInteraction&&r&&!this.state.panInProgress&&n(Object(Io.b)(this.node),"mouse",e)}},{key:"handleClick",value:function(e){var t=this,n=mo(e),r=this.props,o=r.onClick,a=r.onDoubleClick;this.panHappened||this.dragHappened||(this.clicked?(a(n,e),this.clicked=!1):(o(n,e),this.clicked=!0,setTimeout(function(){t.clicked&&(t.clicked=!1)},400)))}},{key:"handleRightClick",value:function(e){e.stopPropagation(),e.preventDefault();var t=this.props,n=t.onContextMenu,r=t.onPanEnd,o=mo(e,this.node.getBoundingClientRect());if(uo(this.state.panStart)){var a=this.state.panStart,i=a.panStartXScale,s=a.panOrigin,l=a.chartsToPan;this.panHappened&&r(o,i,s,l,e);var c=Zr(this.node);Object(Io.c)(c).on($r,null).on(eo,null),this.setState({panInProgress:!1,panStart:null})}n(o,e)}},{key:"handleDrag",value:function(){var e=Io.a;if(this.props.onDrag){this.dragHappened=!0;var t=Object(Io.b)(this.node);this.props.onDrag({startPos:this.state.dragStartPosition,mouseXY:t},e)}}},{key:"cancelDrag",value:function(){var e=Zr(this.node);Object(Io.c)(e).on($r,this.mouseInside?this.handleMouseMove:null).on(eo,null),this.setState({dragInProgress:!1}),this.mouseInteraction=!0}},{key:"handleDragEnd",value:function(){var e=Io.a,t=Object(Io.b)(this.node),n=Zr(this.node);Object(Io.c)(n).on($r,this.mouseInside?this.handleMouseMove:null).on(eo,null),this.dragHappened&&this.props.onDragComplete({mouseXY:t},e),this.setState({dragInProgress:!1}),this.mouseInteraction=!0}},{key:"canPan",value:function(){var e=this.props.getAllPanConditions,t=this.props.pan,n=e().reduce(function(e,t){return{draggable:e.draggable||t.draggable,panEnabled:e.panEnabled&&t.panEnabled}},{draggable:!1,panEnabled:t});return{panEnabled:n.panEnabled,somethingSelected:n.draggable}}},{key:"handleMouseDown",value:function(e){if(0===e.button){var t=this.props,n=t.xScale,r=t.chartConfig,o=t.onMouseDown;if(this.panHappened=!1,this.dragHappened=!1,this.focus=!0,!this.state.panInProgress&&this.mouseInteraction){var a=mo(e),i=Ro(r,a),s=this.canPan(),l=s.panEnabled,c=s.somethingSelected,u=l&&!c;if(u){this.setState({panInProgress:u,panStart:{panStartXScale:n,panOrigin:a,chartsToPan:i}});var p=Zr(this.node);Object(Io.c)(p).on($r,this.handlePan).on(eo,this.handlePanEnd)}else if(c){this.setState({panInProgress:!1,dragInProgress:!0,panStart:null,dragStartPosition:a}),this.props.onDragStart({startPos:a},e);var f=Zr(this.node);Object(Io.c)(f).on($r,this.handleDrag).on(eo,this.handleDragEnd)}o(a,i,e)}e.preventDefault()}}},{key:"shouldPan",value:function(){var e=this.props,t=e.pan,n=e.onPan;return t&&n&&uo(this.state.panStart)}},{key:"handlePan",value:function(){var e=Io.a;if(this.shouldPan()){this.panHappened=!0;var t=this.state.panStart,n=t.panStartXScale,r=t.panOrigin,o=t.chartsToPan,a=this.mouseInteraction?Object(Io.b)(this.node):Object(Io.d)(this.node)[0];this.lastNewPos=a;var i=a[0]-r[0],s=a[1]-r[1];this.dx=i,this.dy=s,this.props.onPan(a,n,{dx:i,dy:s},o,e)}}},{key:"handlePanEnd",value:function(){var e=Io.a,t=this.props,n=t.pan,r=t.onPanEnd;if(uo(this.state.panStart)){var o=this.state.panStart,a=o.panStartXScale,i=o.chartsToPan,s=Zr(this.node);if(Object(Io.c)(s).on($r,this.mouseInside?this.handleMouseMove:null).on(eo,null).on(to,null).on(no,null),this.panHappened&&n&&r){var l=this.dx,c=this.dy;delete this.dx,delete this.dy,r(this.lastNewPos,a,{dx:l,dy:c},i,e)}this.setState({panInProgress:!1,panStart:null})}}},{key:"handleTouchMove",value:function(e){(0,this.props.onMouseMove)(ho(ro(e.touches[0]),e),"touch",e)}},{key:"handleTouchStart",value:function(e){this.mouseInteraction=!1;var t=this.props,n=t.pan,r=t.chartConfig,o=t.onMouseMove,a=this.props,i=a.xScale,s=a.onPanEnd;if(1===e.touches.length){this.panHappened=!1;var l=ho(ro(e.touches[0]),e);if(o(l,"touch",e),n){var c=Ro(r,l);this.setState({panInProgress:!0,panStart:{panStartXScale:i,panOrigin:l,chartsToPan:c}});var u=Zr(this.node);Object(Io.c)(u).on(to,this.handlePan,!1).on(no,this.handlePanEnd,!1)}}else if(2===e.touches.length){var p=this.state,f=p.panInProgress,d=p.panStart;if(f&&n&&s){var h=d.panStartXScale,m=d.panOrigin,y=d.chartsToPan,b=Zr(this.node);Object(Io.c)(b).on($r,this.mouseInside?this.handleMouseMove:null).on(eo,null).on(to,this.handlePinchZoom,!1).on(no,this.handlePinchZoomEnd,!1);var v=ho(ro(e.touches[0]),e),g=ho(ro(e.touches[1]),e);this.panHappened&&n&&s&&s(this.lastNewPos,h,m,y,e),this.setState({panInProgress:!1,pinchZoomStart:{xScale:i,touch1Pos:v,touch2Pos:g,range:i.range(),chartsToPan:y}})}}}},{key:"handlePinchZoom",value:function(){var e=Io.a,t=Object(Io.d)(this.node),n=Bo(t,2),r=n[0],o=n[1],a=this.props,i=a.xScale,s=a.zoom,l=a.onPinchZoom,c=this.state.pinchZoomStart,u=(c.chartsToPan,Wo(c,["chartsToPan"]));s&&l&&l(u,{touch1Pos:r,touch2Pos:o,xScale:i},e)}},{key:"handlePinchZoomEnd",value:function(){var e=Io.a,t=Zr(this.node);Object(Io.c)(t).on(to,null).on(no,null);var n=this.props,r=n.zoom,o=n.onPinchZoomEnd,a=this.state.pinchZoomStart,i=(a.chartsToPan,Wo(a,["chartsToPan"]));r&&o&&o(i,e),this.setState({pinchZoomStart:null})}},{key:"setCursorClass",value:function(e){e!==this.state.cursorOverrideClass&&this.setState({cursorOverrideClass:e})}},{key:"render",value:function(){var e=this.props,t=e.height,n=e.width,r=e.disableInteraction,a=e.useCrossHairStyleCursor,i=null!=this.state.cursorOverrideClass?this.state.cursorOverrideClass:a?"":this.state.panInProgress?"react-stockcharts-grabbing-cursor":"react-stockcharts-crosshair-cursor",s=r||{onWheel:this.handleWheel,onMouseDown:this.handleMouseDown,onClick:this.handleClick,onContextMenu:this.handleRightClick,onTouchStart:this.handleTouchStart,onTouchMove:this.handleTouchMove};return o.a.createElement("rect",Lo({ref:this.saveNode,className:i,width:n,height:t,style:{opacity:0}},s))}}]),t}();Ho.propTypes={mouseMove:f.a.bool.isRequired,zoom:f.a.bool.isRequired,pan:f.a.bool.isRequired,panSpeedMultiplier:f.a.number.isRequired,focus:f.a.bool.isRequired,useCrossHairStyleCursor:f.a.bool.isRequired,width:f.a.number.isRequired,height:f.a.number.isRequired,chartConfig:f.a.array,xScale:f.a.func.isRequired,xAccessor:f.a.func.isRequired,disableInteraction:f.a.bool.isRequired,getAllPanConditions:f.a.func.isRequired,onMouseMove:f.a.func,onMouseEnter:f.a.func,onMouseLeave:f.a.func,onZoom:f.a.func,onPinchZoom:f.a.func,onPinchZoomEnd:f.a.func.isRequired,onPan:f.a.func,onPanEnd:f.a.func,onDragStart:f.a.func,onDrag:f.a.func,onDragComplete:f.a.func,onClick:f.a.func,onDoubleClick:f.a.func,onContextMenu:f.a.func,onMouseDown:f.a.func,children:f.a.node},Ho.defaultProps={mouseMove:!1,zoom:!1,pan:!1,panSpeedMultiplier:1,focus:!1,onDragComplete:Or,disableInteraction:!1};var zo=Ho,Uo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yo=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Go=Gr(),Qo=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":Uo(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.setDrawCanvas=n.setDrawCanvas.bind(n),n.drawCanvas={},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":Uo(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),Yo(t,[{key:"setDrawCanvas",value:function(e){uo(e)?this.drawCanvas[e.id]=e.getContext("2d"):this.drawCanvas={}}},{key:"getCanvasContexts",value:function(){if(uo(this.drawCanvas.axes))return this.drawCanvas}},{key:"render",value:function(){var e=this.props,t=e.height,n=e.width,r=e.type,a=e.zIndex,i=e.ratio;return"svg"===r?null:(Go("using ratio ",i),o.a.createElement("div",{style:{position:"absolute",zIndex:a}},o.a.createElement("canvas",{id:"bg",ref:this.setDrawCanvas,width:n*i,height:t*i,style:{position:"absolute",width:n,height:t}}),o.a.createElement("canvas",{id:"axes",ref:this.setDrawCanvas,width:n*i,height:t*i,style:{position:"absolute",width:n,height:t}}),o.a.createElement("canvas",{id:"mouseCoord",ref:this.setDrawCanvas,width:n*i,height:t*i,style:{position:"absolute",width:n,height:t}})))}}]),t}();Qo.propTypes={width:f.a.number.isRequired,height:f.a.number.isRequired,type:f.a.string.isRequired,zIndex:f.a.number,ratio:f.a.number.isRequired};var Xo=Qo,Jo=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Ko=Gr();function Zo(e,t,n,r){var o=e.lastItem,a=e.lastItemX,i=t(o),s=n.range(),l=Jo(s,2),c=l[0];return(l[1]-c)/(a-c)*(i-r)+r}function $o(e,t,n,r,o){return{filterData:function(a,i,s,l){var c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},u=c.currentPlotData,p=c.currentDomain,f=c.fallbackStart,d=c.fallbackEnd;if(e)return{plotData:a,domain:i};var h=so(i),m=co(i),y=i,b=ta(a,h,m,s);1===b.length&&uo(f)&&(y=[h=f,m=Zo(d,s,l,h)],b=ta(a,h,m,s)),"function"==typeof t?y=t(y,[s(so(a)),s(co(a))]):("left"!==t&&"both"!==t&&!0!==t||(y=[Math.max(h,s(so(a))),y[1]]),"right"!==t&&"both"!==t&&!0!==t||(y=[y[0],Math.min(m,s(co(a)))])),y!==i&&(b=ta(a,y[0],y[1],s));var v=y,g=l.copy().domain(v),k=Math.floor(g(s(co(b)))-g(s(so(b))));o&&k<0&&(k*=-1);var w=void 0,E=void 0,S=co(g.range())-so(g.range());if(Ko("Trying to show "+b.length+" points in "+k+"px, I can show up to "+(ea(k,n)-1)+" points in that width. Also FYI the entire chart width is "+S+"px and pointsPerPxThreshold is "+n),function(e,t,n,r){return t>function(e,t){return Math.max(1,Math.ceil(e*t))}(e,r)&&t<ea(e,n)}(k,b.length,n,r))w=b,E=v,Ko("AND IT WORKED");else if(S>ea(k,n)&&uo(d)){w=b;var O=Zo(d,s,l,so(v));E=[so(v),O];var _=g.copy().domain(E),C=Math.floor(_(s(co(w)))-_(s(so(w))));Ko("and ouch, that is too much, so instead showing "+w.length+" in "+C+"px")}else{w=u||b.slice(b.length-function(e,t){return Math.floor(.97*ea(e,t))}(k,n)),E=p||[s(so(w)),s(co(w))];var x=g.copy().domain(E),P=Math.floor(x(s(co(w)))-x(s(so(w))));Ko("and ouch, that is too much, so instead showing "+w.length+" in "+P+"px")}return{plotData:w,domain:E}}}}function ea(e,t){return Math.floor(e*t)}function ta(e,t,n,r){var o=oo(e,t,r).right,a=oo(e,n,r).left;return e.slice(o,a+1)}var na=function(e){var t=e.xScale,n=e.useWholeData,r=e.clamp,o=e.pointsPerPxThreshold,a=e.minPointsPerPxThreshold,i=e.flipXScale;return $o(n||po(t.invert),r,o,a,i)},ra="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oa=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),aa=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),ia=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function sa(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}Gr();var la=["seriesName"];function ca(e){return{height:e.height-e.margin.top-e.margin.bottom,width:e.width-e.margin.left-e.margin.right}}function ua(e){return e?-1:1}function pa(e){var t=e.data,n=e.plotFull,r=e.xScale,o=e.clamp,a=e.pointsPerPxThreshold,i=e.flipXScale,s=e.xAccessor,l=e.displayXAccessor,c=e.minPointsPerPxThreshold,u=uo(n)?n:s===_r,p=na({xScale:r,useWholeData:u,clamp:o,pointsPerPxThreshold:a,minPointsPerPxThreshold:c,flipXScale:i}).filterData;return{xAccessor:s,displayXAccessor:l||s,xScale:r.copy(),fullData:t,filterData:p}}function fa(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];var t=function(e){var t=e.xAccessor,n=e.xExtents,r=e.data,o=e.padding,a=e.flipXScale;0;var i=ua(a),s=ca(e),l="function"==typeof n?n(r):Object(Er.f)(n.map(function(e){return Jr(e)}).map(function(e){return e(r,t)})),c=pa(e),u=c.xAccessor,p=c.displayXAccessor,f=c.xScale,d=c.fullData,h=c.filterData,m=da(f,s,o,i),y=h(d,l,t,m),b=y.plotData,v=y.domain;0;return{plotData:b,xScale:m.domain(v),xAccessor:u,displayXAccessor:p,fullData:d,filterData:h}}(e),n=t.xAccessor,r=t.displayXAccessor,o=t.fullData,a=t.plotData,i=t.xScale,s=e.postCalculator,l=e.children,c=s(a),u=Fo(jo(ca(e),l),{plotData:c,xAccessor:n,displayXAccessor:r,fullData:o},i.domain());return ia({},t,{xScale:i,plotData:c,chartConfig:u})}function da(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;if(e.rangeRoundPoints){if(isNaN(n))throw new Error("padding has to be a number for ordinal scale");e.rangeRoundPoints([0,t.width],n)}else if(e.padding){if(isNaN(n))throw new Error("padding has to be a number for ordinal scale");e.range([0,t.width]),e.padding(n/2)}else{var o=isNaN(n)?n:{left:n,right:n},a=o.left,i=o.right;r>0?e.range([a,t.width-i]):e.range([t.width-i,a])}return e}function ha(e){var t=e.touch1Pos,n=e.touch2Pos;return{topLeft:[Math.min(t[0],n[0]),Math.min(t[1],n[1])],bottomRight:[Math.max(t[0],n[0]),Math.max(t[1],n[1])]}}var ma=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":ra(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.getDataInfo=e.getDataInfo.bind(e),e.getCanvasContexts=e.getCanvasContexts.bind(e),e.handleMouseMove=e.handleMouseMove.bind(e),e.handleMouseEnter=e.handleMouseEnter.bind(e),e.handleMouseLeave=e.handleMouseLeave.bind(e),e.handleZoom=e.handleZoom.bind(e),e.handlePinchZoom=e.handlePinchZoom.bind(e),e.handlePinchZoomEnd=e.handlePinchZoomEnd.bind(e),e.handlePan=e.handlePan.bind(e),e.handlePanEnd=e.handlePanEnd.bind(e),e.handleClick=e.handleClick.bind(e),e.handleMouseDown=e.handleMouseDown.bind(e),e.handleDoubleClick=e.handleDoubleClick.bind(e),e.handleContextMenu=e.handleContextMenu.bind(e),e.handleDragStart=e.handleDragStart.bind(e),e.handleDrag=e.handleDrag.bind(e),e.handleDragEnd=e.handleDragEnd.bind(e),e.panHelper=e.panHelper.bind(e),e.pinchZoomHelper=e.pinchZoomHelper.bind(e),e.xAxisZoom=e.xAxisZoom.bind(e),e.yAxisZoom=e.yAxisZoom.bind(e),e.resetYDomain=e.resetYDomain.bind(e),e.calculateStateForDomain=e.calculateStateForDomain.bind(e),e.generateSubscriptionId=e.generateSubscriptionId.bind(e),e.draw=e.draw.bind(e),e.redraw=e.redraw.bind(e),e.getAllPanConditions=e.getAllPanConditions.bind(e),e.subscriptions=[],e.subscribe=e.subscribe.bind(e),e.unsubscribe=e.unsubscribe.bind(e),e.amIOnTop=e.amIOnTop.bind(e),e.saveEventCaptureNode=e.saveEventCaptureNode.bind(e),e.saveCanvasContainerNode=e.saveCanvasContainerNode.bind(e),e.setCursorClass=e.setCursorClass.bind(e),e.getMutableState=e.getMutableState.bind(e),e.interactiveState=[],e.panInProgress=!1,e.state={},e.mutableState={},e.lastSubscriptionId=0,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":ra(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),oa(t,[{key:"saveEventCaptureNode",value:function(e){this.eventCaptureNode=e}},{key:"saveCanvasContainerNode",value:function(e){this.canvasContainerNode=e}},{key:"getMutableState",value:function(){return this.mutableState}},{key:"getDataInfo",value:function(){return ia({},this.state,{fullData:this.fullData})}},{key:"getCanvasContexts",value:function(){if(this.canvasContainerNode)return this.canvasContainerNode.getCanvasContexts()}},{key:"generateSubscriptionId",value:function(){return this.lastSubscriptionId++,this.lastSubscriptionId}},{key:"clearBothCanvas",value:function(){var e=this.getCanvasContexts();e&&e.axes&&yo([e.axes,e.mouseCoord],this.props.ratio)}},{key:"clearMouseCanvas",value:function(){var e=this.getCanvasContexts();e&&e.mouseCoord&&yo([e.mouseCoord],this.props.ratio)}},{key:"clearThreeCanvas",value:function(){var e=this.getCanvasContexts();e&&e.axes&&yo([e.axes,e.mouseCoord,e.bg],this.props.ratio)}},{key:"subscribe",value:function(e,t){var n=t.getPanConditions,r=void 0===n?Jr({draggable:!1,panEnabled:!0}):n;this.subscriptions=this.subscriptions.concat(ia({id:e},t,{getPanConditions:r}))}},{key:"unsubscribe",value:function(e){this.subscriptions=this.subscriptions.filter(function(t){return t.id!==e})}},{key:"getAllPanConditions",value:function(){return this.subscriptions.map(function(e){return e.getPanConditions()})}},{key:"setCursorClass",value:function(e){this.eventCaptureNode.setCursorClass(e)}},{key:"amIOnTop",value:function(e){var t=this.subscriptions.filter(function(e){return e.getPanConditions().draggable});return t.length>0&&co(t).id===e}},{key:"handleContextMenu",value:function(e,t){var n=this.state,r=n.xAccessor,o=n.chartConfig,a=n.plotData,i=n.xScale,s=Ro(o,e),l=No(i,r,e,a);this.triggerEvent("contextmenu",{mouseXY:e,currentItem:l,currentCharts:s},t)}},{key:"calculateStateForDomain",value:function(e){var t=this.state,n=t.xAccessor,r=t.displayXAccessor,o=t.xScale,a=t.chartConfig,i=t.plotData,s=this.state.filterData,l=this.fullData,c=this.props.postCalculator,u=s(l,e,n,o,{currentPlotData:i,currentDomain:o.domain()}),p=u.plotData,f=u.domain,d=c(p),h=o.copy().domain(f);return{xScale:h,plotData:d,chartConfig:Fo(a,{plotData:d,xAccessor:n,displayXAccessor:r,fullData:l},h.domain())}}},{key:"pinchZoomHelper",value:function(e,t){var n=e.xScale,r=this.state,o=r.xScale,a=r.chartConfig,i=r.plotData,s=r.xAccessor,l=r.displayXAccessor,c=this.state.filterData,u=this.fullData,p=this.props.postCalculator,f=ha(e),d=f.topLeft,h=f.bottomRight,m=ha(t),y=m.topLeft,b=m.bottomRight,v=n.range()[1],g=Math.round(-(h[0]*y[0]-d[0]*b[0])/(d[0]-h[0])),k=Math.round(v+((v-h[0])*(v-y[0])-(v-d[0])*(v-b[0]))/(v-d[0]-(v-h[0]))),w=c(u,[Math.round(-g*d[0]/(-g+y[0])),Math.round(v-(k-v)*(v-d[0])/(k+(v-y[0])))].map(n.invert),s,n,{currentPlotData:i,currentDomain:o.domain()}),E=w.plotData,S=w.domain,O=p(E),_=o.copy().domain(S),C=t.touch1Pos;return{chartConfig:Fo(a,{plotData:O,xAccessor:s,displayXAccessor:l,fullData:u},_.domain()),xScale:_,plotData:O,mouseXY:C,currentItem:No(_,s,C,O)}}},{key:"cancelDrag",value:function(){this.eventCaptureNode.cancelDrag(),this.triggerEvent("dragcancel")}},{key:"handlePinchZoom",value:function(e,t,n){var r=this;if(!this.waitingForPinchZoomAnimationFrame){this.waitingForPinchZoomAnimationFrame=!0;var o=this.pinchZoomHelper(e,t);this.triggerEvent("pinchzoom",o,n),this.finalPinch=t,requestAnimationFrame(function(){r.clearBothCanvas(),r.draw({trigger:"pinchzoom"}),r.waitingForPinchZoomAnimationFrame=!1})}}},{key:"handlePinchZoomEnd",value:function(e,t){var n=this.state.xAccessor;if(this.finalPinch){var r=this.pinchZoomHelper(e,this.finalPinch),o=r.xScale;this.triggerEvent("pinchzoom",r,t),this.finalPinch=null,this.clearThreeCanvas();var a=so(this.fullData),i=so(o.domain()),s=n(a),l=this.props.onLoadMore;this.setState(r,function(){i<s&&l(i,s)})}}},{key:"handleZoom",value:function(e,t,n){if(!this.panInProgress){var r=this.state,o=r.xAccessor,a=r.xScale,i=r.plotData,s=this.props,l=s.zoomMultiplier,c=s.zoomAnchor,u=this.fullData,p=a(c({xScale:a,xAccessor:o,mouseXY:t,plotData:i,fullData:u})),f=e>0?1*l:1/l,d=a.range().map(function(e){return p+(e-p)*f}).map(a.invert),h=this.calculateStateForDomain(d),m=h.xScale,y=h.plotData,b=h.chartConfig,v=No(m,o,t,y),g=Ro(b,t);this.clearThreeCanvas();var k=so(u),w=so(m.domain()),E=o(k),S=this.props.onLoadMore;this.mutableState={mouseXY:t,currentItem:v,currentCharts:g},this.triggerEvent("zoom",{xScale:m,plotData:y,chartConfig:b,mouseXY:t,currentCharts:g,currentItem:v,show:!0},n),this.setState({xScale:m,plotData:y,chartConfig:b},function(){w<E&&S(w,E)})}}},{key:"xAxisZoom",value:function(e){var t=this.calculateStateForDomain(e),n=t.xScale,r=t.plotData,o=t.chartConfig;this.clearThreeCanvas();var a=this.state.xAccessor,i=so(this.fullData),s=so(n.domain()),l=a(i),c=this.props.onLoadMore;this.setState({xScale:n,plotData:r,chartConfig:o},function(){s<l&&c(s,l)})}},{key:"yAxisZoom",value:function(e,t){this.clearThreeCanvas();var n=this.state.chartConfig.map(function(n){if(n.id===e){var r=n.yScale;return ia({},n,{yScale:r.copy().domain(t),yPanEnabled:!0})}return n});this.setState({chartConfig:n})}},{key:"triggerEvent",value:function(e,t,n){var r=this;this.subscriptions.forEach(function(o){var a=ia({},r.state,{fullData:r.fullData,subscriptions:r.subscriptions});o.listener(e,t,a,n)})}},{key:"draw",value:function(e){this.subscriptions.forEach(function(t){uo(t.draw)&&t.draw(e)})}},{key:"redraw",value:function(){this.clearThreeCanvas(),this.draw({force:!0})}},{key:"panHelper",value:function(e,t,n,r){var o=n.dx,a=n.dy,i=this.state,s=i.xAccessor,l=i.displayXAccessor,c=i.chartConfig,u=this.state.filterData,p=this.fullData,f=this.props.postCalculator;if(po(t.invert))throw new Error("xScale provided does not have an invert() method.You are likely using an ordinal scale. This scale does not support zoom, pan");var d=u(p,t.range().map(function(e){return e-o}).map(t.invert),s,t,{currentPlotData:this.hackyWayToStopPanBeyondBounds__plotData,currentDomain:this.hackyWayToStopPanBeyondBounds__domain}),h=d.plotData,m=d.domain,y=t.copy().domain(m),b=f(h),v=No(y,s,e,b),g=Fo(c,{plotData:b,xAccessor:s,displayXAccessor:l,fullData:p},y.domain(),a,r);return{xScale:y,plotData:b,chartConfig:g,mouseXY:e,currentCharts:Ro(g,e),currentItem:v}}},{key:"handlePan",value:function(e,t,n,r,o){var a=this;if(!this.waitingForPanAnimationFrame){this.waitingForPanAnimationFrame=!0,this.hackyWayToStopPanBeyondBounds__plotData=this.hackyWayToStopPanBeyondBounds__plotData||this.state.plotData,this.hackyWayToStopPanBeyondBounds__domain=this.hackyWayToStopPanBeyondBounds__domain||this.state.xScale.domain();var i=this.panHelper(e,t,n,r);this.hackyWayToStopPanBeyondBounds__plotData=i.plotData,this.hackyWayToStopPanBeyondBounds__domain=i.xScale.domain(),this.panInProgress=!0,this.triggerEvent("pan",i,o),this.mutableState={mouseXY:i.mouseXY,currentItem:i.currentItem,currentCharts:i.currentCharts},requestAnimationFrame(function(){a.waitingForPanAnimationFrame=!1,a.clearBothCanvas(),a.draw({trigger:"pan"})})}}},{key:"handlePanEnd",value:function(e,t,n,r,o){var a=this,i=this.panHelper(e,t,n,r);this.hackyWayToStopPanBeyondBounds__plotData=null,this.hackyWayToStopPanBeyondBounds__domain=null,this.panInProgress=!1;var s=i.xScale,l=i.plotData,c=i.chartConfig;this.triggerEvent("panend",i,o),requestAnimationFrame(function(){var e=a.state.xAccessor,t=so(a.fullData),n=so(s.domain()),r=e(t),o=a.props.onLoadMore;a.clearThreeCanvas(),a.setState({xScale:s,plotData:l,chartConfig:c},function(){n<r&&o(n,r)})})}},{key:"handleMouseDown",value:function(e,t,n){this.triggerEvent("mousedown",this.mutableState,n)}},{key:"handleMouseEnter",value:function(e){this.triggerEvent("mouseenter",{show:!0},e)}},{key:"handleMouseMove",value:function(e,t,n){var r=this;if(!this.waitingForMouseMoveAnimationFrame){this.waitingForMouseMoveAnimationFrame=!0;var o=this.state,a=o.chartConfig,i=o.plotData,s=o.xScale,l=o.xAccessor,c=Ro(a,e),u=No(s,l,e,i);this.triggerEvent("mousemove",{show:!0,mouseXY:e,prevMouseXY:this.prevMouseXY,currentItem:u,currentCharts:c},n),this.prevMouseXY=e,this.mutableState={mouseXY:e,currentItem:u,currentCharts:c},requestAnimationFrame(function(){r.clearMouseCanvas(),r.draw({trigger:"mousemove"}),r.waitingForMouseMoveAnimationFrame=!1})}}},{key:"handleMouseLeave",value:function(e){this.triggerEvent("mouseleave",{show:!1},e),this.clearMouseCanvas(),this.draw({trigger:"mouseleave"})}},{key:"handleDragStart",value:function(e,t){var n=e.startPos;this.triggerEvent("dragstart",{startPos:n},t)}},{key:"handleDrag",value:function(e,t){var n=this,r=e.startPos,o=e.mouseXY,a=this.state,i=a.chartConfig,s=a.plotData,l=a.xScale,c=a.xAccessor,u=Ro(i,o),p=No(l,c,o,s);this.triggerEvent("drag",{startPos:r,mouseXY:o,currentItem:p,currentCharts:u},t),this.mutableState={mouseXY:o,currentItem:p,currentCharts:u},requestAnimationFrame(function(){n.clearMouseCanvas(),n.draw({trigger:"drag"})})}},{key:"handleDragEnd",value:function(e,t){var n=this,r=e.mouseXY;this.triggerEvent("dragend",{mouseXY:r},t),requestAnimationFrame(function(){n.clearMouseCanvas(),n.draw({trigger:"dragend"})})}},{key:"handleClick",value:function(e,t){var n=this;this.triggerEvent("click",this.mutableState,t),requestAnimationFrame(function(){n.clearMouseCanvas(),n.draw({trigger:"click"})})}},{key:"handleDoubleClick",value:function(e,t){this.triggerEvent("dblclick",{},t)}},{key:"getChildContext",value:function(){var e=ca(this.props);return{fullData:this.fullData,plotData:this.state.plotData,width:e.width,height:e.height,chartConfig:this.state.chartConfig,xScale:this.state.xScale,xAccessor:this.state.xAccessor,displayXAccessor:this.state.displayXAccessor,chartCanvasType:this.props.type,margin:this.props.margin,ratio:this.props.ratio,xAxisZoom:this.xAxisZoom,yAxisZoom:this.yAxisZoom,getCanvasContexts:this.getCanvasContexts,redraw:this.redraw,subscribe:this.subscribe,unsubscribe:this.unsubscribe,generateSubscriptionId:this.generateSubscriptionId,getMutableState:this.getMutableState,amIOnTop:this.amIOnTop,setCursorClass:this.setCursorClass}}},{key:"componentWillMount",value:function(){var e=fa(this.props,!0),t=e.fullData,n=sa(e,["fullData"]);this.setState(n),this.fullData=t}},{key:"componentWillReceiveProps",value:function(e){var t=function(e,t){return!la.every(function(n){return Rr(e[n],t[n])})}(this.props,e),n=ya(this.state.xScale,this.state.xAccessor,this.state.plotData),r=this.state.chartConfig,o=void 0;if(n&&!t&&Rr(this.props.xExtents,e.xExtents)){var a=this.state.xScale.domain(),i=aa(a,2),s=i[0],l=i[1],c=co(this.fullData),u=pa(e),p=u.xAccessor,f=p(c)<=l&&p(c)>=s;0,o=function(e,t,n,r,o){var a=e.fullData,i=e.xScale,s=e.xAccessor,l=e.displayXAccessor,c=e.filterData,u=co(a),p=t.domain(),f=aa(p,2),d=f[0],h=f[1],m=n.postCalculator,y=n.children,b=n.padding,v=n.flipXScale,g=n.maintainPointsPerPixelOnResize,k=ua(v),w=ca(n),E=da(i,w,b,k),S=void 0;if(!r||h>=s(u)){var O=t.range(),_=aa(O,2),C=_[0],x=_[1],P=E.range(),A=aa(P,2),T=A[0],D=A[1],j=c(a,[g?h-(D-T)/(x-C)*(h-d):d,h],s,E,{fallbackStart:d,fallbackEnd:{lastItem:u,lastItemX:t(s(u))}});S=j.plotData,E.domain(j.domain)}else if(r&&h<s(u)){var R=t(s(u))-t.range()[1],F=t.range().map(function(e){return e+R}).map(t.invert),N=aa(F,2),q=c(a,[N[0],N[1]],s,E);S=q.plotData,E.domain(q.domain)}var I=m(S);return{xScale:E,xAccessor:s,chartConfig:Fo(jo(w,y,o),{plotData:I,xAccessor:s,displayXAccessor:l,fullData:a},E.domain()),plotData:I,fullData:a,filterData:c}}(u,this.state.xScale,e,f,r)}else o=fa(e);var d=o,h=d.fullData,m=sa(d,["fullData"]);this.panInProgress||(this.clearThreeCanvas(),this.setState(m)),this.fullData=h}},{key:"resetYDomain",value:function(e){var t=!1,n=this.state.chartConfig.map(function(n){return!po(e)&&n.id!==e||Rr(n.yScale.domain(),n.realYDomain)?n:(t=!0,ia({},n,{yScale:n.yScale.domain(n.realYDomain),yPanEnabled:!1}))});t&&(this.clearThreeCanvas(),this.setState({chartConfig:n}))}},{key:"shouldComponentUpdate",value:function(){return!this.panInProgress}},{key:"render",value:function(){var e=this.props,t=e.type,n=e.height,r=e.width,a=e.margin,i=e.className,s=e.zIndex,l=e.defaultFocus,c=e.ratio,u=e.mouseMoveEvent,p=e.panEvent,f=e.zoomEvent,d=this.props,h=d.useCrossHairStyleCursor,m=d.onSelect,y=this.state,b=y.plotData,v=y.xScale,g=y.xAccessor,k=y.chartConfig,w=ca(this.props),E=ya(v,g,b),S=h&&E,O=o.a.createElement("style",{type:"text/css"},"\n\t.react-stockcharts-grabbing-cursor {\n\t\tpointer-events: all;\n\t\tcursor: -moz-grabbing;\n\t\tcursor: -webkit-grabbing;\n\t\tcursor: grabbing;\n\t}\n\t.react-stockcharts-crosshair-cursor {\n\t\tpointer-events: all;\n\t\tcursor: crosshair;\n\t}\n\t.react-stockcharts-tooltip-hover {\n\t\tpointer-events: all;\n\t\tcursor: pointer;\n\t}\n\t.react-stockcharts-avoid-interaction {\n\t\tpointer-events: none;\n\t}\n\t.react-stockcharts-enable-interaction {\n\t\tpointer-events: all;\n\t}\n\t.react-stockcharts-tooltip {\n\t\tpointer-events: all;\n\t\tcursor: pointer;\n\t}\n\t.react-stockcharts-default-cursor {\n\t\tcursor: default;\n\t}\n\t.react-stockcharts-move-cursor {\n\t\tcursor: move;\n\t}\n\t.react-stockcharts-pointer-cursor {\n\t\tcursor: pointer;\n\t}\n\t.react-stockcharts-ns-resize-cursor {\n\t\tcursor: ns-resize;\n\t}\n\t.react-stockcharts-ew-resize-cursor {\n\t\tcursor: ew-resize;\n\t}");return o.a.createElement("div",{style:{position:"relative",width:r,height:n},className:i,onClick:m},o.a.createElement(Xo,{ref:this.saveCanvasContainerNode,type:t,ratio:c,width:r,height:n,zIndex:s}),o.a.createElement("svg",{className:i,width:r,height:n,style:{position:"absolute",zIndex:s+5}},O,o.a.createElement("defs",null,o.a.createElement("clipPath",{id:"chart-area-clip"},o.a.createElement("rect",{x:"0",y:"0",width:w.width,height:w.height})),k.map(function(e,t){return o.a.createElement("clipPath",{key:t,id:"chart-area-clip-"+e.id},o.a.createElement("rect",{x:"0",y:"0",width:e.width,height:e.height}))})),o.a.createElement("g",{transform:"translate("+(a.left+.5)+", "+(a.top+.5)+")"},o.a.createElement(zo,{ref:this.saveEventCaptureNode,useCrossHairStyleCursor:S,mouseMove:u&&E,zoom:f&&E,pan:p&&E,width:w.width,height:w.height,chartConfig:k,xScale:v,xAccessor:g,focus:l,disableInteraction:this.props.disableInteraction,getAllPanConditions:this.getAllPanConditions,onContextMenu:this.handleContextMenu,onClick:this.handleClick,onDoubleClick:this.handleDoubleClick,onMouseDown:this.handleMouseDown,onMouseMove:this.handleMouseMove,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onDragStart:this.handleDragStart,onDrag:this.handleDrag,onDragComplete:this.handleDragEnd,onZoom:this.handleZoom,onPinchZoom:this.handlePinchZoom,onPinchZoomEnd:this.handlePinchZoomEnd,onPan:this.handlePan,onPanEnd:this.handlePanEnd}),o.a.createElement("g",{className:"react-stockcharts-avoid-interaction"},this.props.children))))}}]),t}();function ya(e,t,n){return!isNaN(e(t(so(n))))&&uo(e.invert)}ma.propTypes={width:f.a.number.isRequired,height:f.a.number.isRequired,margin:f.a.object,ratio:f.a.number.isRequired,type:f.a.oneOf(["svg","hybrid"]),pointsPerPxThreshold:f.a.number,minPointsPerPxThreshold:f.a.number,data:f.a.array.isRequired,xAccessor:f.a.func,xExtents:f.a.oneOfType([f.a.array,f.a.func]),zoomAnchor:f.a.func,className:f.a.string,seriesName:f.a.string.isRequired,zIndex:f.a.number,children:f.a.node.isRequired,xScale:f.a.func.isRequired,postCalculator:f.a.func,flipXScale:f.a.bool,useCrossHairStyleCursor:f.a.bool,padding:f.a.oneOfType([f.a.number,f.a.shape({left:f.a.number,right:f.a.number})]),defaultFocus:f.a.bool,zoomMultiplier:f.a.number,onLoadMore:f.a.func,displayXAccessor:function(e,t){if(po(e[t]))console.warn("`displayXAccessor` is not defined, will use the value from `xAccessor` as `displayXAccessor`. This might be ok if you do not use a discontinuous scale but if you do, provide a `displayXAccessor` prop to `ChartCanvas`");else if("function"!=typeof e[t])return new Error("displayXAccessor has to be a function")},mouseMoveEvent:f.a.bool,panEvent:f.a.bool,clamp:f.a.oneOfType([f.a.string,f.a.bool,f.a.func]),zoomEvent:f.a.bool,onSelect:f.a.func,maintainPointsPerPixelOnResize:f.a.bool,disableInteraction:f.a.bool},ma.defaultProps={margin:{top:20,right:30,bottom:30,left:80},type:"hybrid",pointsPerPxThreshold:2,minPointsPerPxThreshold:.01,className:"react-stockchart",zIndex:1,xExtents:[Er.k,Er.h],postCalculator:_r,padding:0,xAccessor:_r,flipXScale:!1,useCrossHairStyleCursor:!0,defaultFocus:!0,onLoadMore:Or,onSelect:Or,mouseMoveEvent:!0,panEvent:!0,zoomEvent:!0,zoomMultiplier:1.1,clamp:!1,zoomAnchor:function(e){var t=e.xScale,n=e.xAccessor,r=e.mouseXY,o=e.plotData;return e.fullData,n(No(t,n,r,o))},maintainPointsPerPixelOnResize:!0,disableInteraction:!1},ma.childContextTypes={plotData:f.a.array,fullData:f.a.array,chartConfig:f.a.arrayOf(f.a.shape({id:f.a.oneOfType([f.a.number,f.a.string]).isRequired,origin:f.a.arrayOf(f.a.number).isRequired,padding:f.a.oneOfType([f.a.number,f.a.shape({top:f.a.number,bottom:f.a.number})]),yExtents:f.a.arrayOf(f.a.func),yExtentsProvider:f.a.func,yScale:f.a.func.isRequired,mouseCoordinates:f.a.shape({at:f.a.string,format:f.a.func}),width:f.a.number.isRequired,height:f.a.number.isRequired})).isRequired,xScale:f.a.func.isRequired,xAccessor:f.a.func.isRequired,displayXAccessor:f.a.func.isRequired,width:f.a.number.isRequired,height:f.a.number.isRequired,chartCanvasType:f.a.oneOf(["svg","hybrid"]).isRequired,margin:f.a.object.isRequired,ratio:f.a.number.isRequired,getCanvasContexts:f.a.func,xAxisZoom:f.a.func,yAxisZoom:f.a.func,amIOnTop:f.a.func,redraw:f.a.func,subscribe:f.a.func,unsubscribe:f.a.func,setCursorClass:f.a.func,generateSubscriptionId:f.a.func,getMutableState:f.a.func},ma.ohlcv=function(e){return{date:e.date,open:e.open,high:e.high,low:e.low,close:e.close,volume:e.volume}};var ba=ma,va="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ga=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ka=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var wa={mouseleave:"mousemove",panend:"pan",pinchzoom:"pan",mousedown:"mousemove",click:"mousemove",contextmenu:"mousemove",dblclick:"mousemove",dragstart:"drag",dragend:"drag",dragcancel:"drag"},Ea=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":va(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));r.drawOnCanvas=r.drawOnCanvas.bind(r),r.getMoreProps=r.getMoreProps.bind(r),r.listener=r.listener.bind(r),r.draw=r.draw.bind(r),r.updateMoreProps=r.updateMoreProps.bind(r),r.evaluateType=r.evaluateType.bind(r),r.isHover=r.isHover.bind(r),r.preCanvasDraw=r.preCanvasDraw.bind(r),r.postCanvasDraw=r.postCanvasDraw.bind(r),r.getPanConditions=r.getPanConditions.bind(r),r.shouldTypeProceed=r.shouldTypeProceed.bind(r),r.preEvaluate=r.preEvaluate.bind(r);var o=n.generateSubscriptionId;return r.suscriberId=o(),r.moreProps={},r.state={updateCount:0},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":va(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),ka(t,[{key:"updateMoreProps",value:function(e){var t=this;Object.keys(e).forEach(function(n){t.moreProps[n]=e[n]})}},{key:"shouldTypeProceed",value:function(){return!0}},{key:"preEvaluate",value:function(){}},{key:"listener",value:function(e,t,n,r){uo(t)&&this.updateMoreProps(t),this.evaluationInProgress=!0,this.evaluateType(e,r),this.evaluationInProgress=!1}},{key:"evaluateType",value:function(e,t){var n=wa[e]||e;if(this.props.drawOn.indexOf(n)>-1&&(this.preEvaluate(e,this.moreProps,t),this.shouldTypeProceed(e,this.moreProps)))switch(e){case"zoom":case"mouseenter":break;case"mouseleave":this.moreProps.hovering=!1;var r=this.getMoreProps();this.props.onUnHover&&this.props.onUnHover(r,t);break;case"contextmenu":this.props.onContextMenu&&this.props.onContextMenu(this.getMoreProps(),t),this.moreProps.hovering&&this.props.onContextMenuWhenHover&&this.props.onContextMenuWhenHover(this.getMoreProps(),t);break;case"mousedown":this.props.onMouseDown&&this.props.onMouseDown(this.getMoreProps(),t);break;case"click":var o=this.getMoreProps();this.moreProps.hovering?this.props.onClickWhenHover(o,t):this.props.onClickOutside(o,t),this.props.onClick&&this.props.onClick(o,t);break;case"mousemove":var a=this.moreProps.hovering;this.moreProps.hovering=this.isHover(t);var i=this.context,s=i.amIOnTop,l=i.setCursorClass;this.moreProps.hovering&&!this.props.selected&&s(this.suscriberId)&&uo(this.props.onHover)?(l("react-stockcharts-pointer-cursor"),this.iSetTheCursorClass=!0):this.moreProps.hovering&&this.props.selected&&s(this.suscriberId)?(l(this.props.interactiveCursorClass),this.iSetTheCursorClass=!0):a&&!this.moreProps.hovering&&this.iSetTheCursorClass&&(this.iSetTheCursorClass=!1,l(null));var c=this.getMoreProps();this.moreProps.hovering&&!a&&this.props.onHover&&this.props.onHover(c,t),a&&!this.moreProps.hovering&&this.props.onUnHover&&this.props.onUnHover(c,t),this.props.onMouseMove&&this.props.onMouseMove(c,t);break;case"dblclick":var u=this.getMoreProps();this.props.onDoubleClick&&this.props.onDoubleClick(u,t),this.moreProps.hovering&&this.props.onDoubleClickWhenHover&&this.props.onDoubleClickWhenHover(u,t);break;case"pan":this.moreProps.hovering=!1,this.props.onPan&&this.props.onPan(this.getMoreProps(),t);break;case"panend":this.props.onPanEnd&&this.props.onPanEnd(this.getMoreProps(),t);break;case"dragstart":if(this.getPanConditions().draggable)(0,this.context.amIOnTop)(this.suscriberId)&&(this.dragInProgress=!0,this.props.onDragStart(this.getMoreProps(),t));this.someDragInProgress=!0;break;case"drag":this.dragInProgress&&this.props.onDrag&&this.props.onDrag(this.getMoreProps(),t);break;case"dragend":this.dragInProgress&&this.props.onDragComplete&&this.props.onDragComplete(this.getMoreProps(),t),this.dragInProgress=!1,this.someDragInProgress=!1;break;case"dragcancel":if(this.dragInProgress||this.iSetTheCursorClass)(0,this.context.setCursorClass)(null)}}},{key:"isHover",value:function(e){return!!uo(this.props.isHover)&&this.props.isHover(this.getMoreProps(),e)}},{key:"getPanConditions",value:function(){return{draggable:!(!this.props.selected||!this.moreProps.hovering)||this.props.enableDragOnHover&&this.moreProps.hovering,panEnabled:!this.props.disablePan}}},{key:"draw",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{force:!1},t=e.trigger,n=e.force,r=wa[t]||t;if(this.props.drawOn.indexOf(r)>-1||this.props.selected||n){var o=this.context.chartCanvasType;if(po(this.props.canvasDraw)||"svg"===o){var a=this.state.updateCount;this.setState({updateCount:a+1})}else this.drawOnCanvas()}}},{key:"componentWillMount",value:function(){var e=this.context,t=e.subscribe,n=e.chartId,r=this.props,o=r.clip,a=r.edgeClip;t(this.suscriberId,{chartId:n,clip:o,edgeClip:a,listener:this.listener,draw:this.draw,getPanConditions:this.getPanConditions}),this.componentWillReceiveProps(this.props,this.context)}},{key:"componentWillUnmount",value:function(){((0,this.context.unsubscribe)(this.suscriberId),this.iSetTheCursorClass)&&(0,this.context.setCursorClass)(null)}},{key:"componentDidMount",value:function(){this.componentDidUpdate(this.props)}},{key:"componentDidUpdate",value:function(e){var t=this.context.chartCanvasType,n=this.props,r=n.canvasDraw,o=n.selected,a=n.interactiveCursorClass;if(e.selected!==o){var i=this.context.setCursorClass;o&&this.moreProps.hovering?(this.iSetTheCursorClass=!0,i(a)):(this.iSetTheCursorClass=!1,i(null))}uo(r)&&!this.evaluationInProgress&&"svg"!==t&&(this.updateMoreProps(this.moreProps),this.drawOnCanvas())}},{key:"componentWillReceiveProps",value:function(e,t){var n=t.xScale,r=t.plotData,o=t.chartConfig,a=t.getMutableState;this.props.debug(t),this.moreProps=ga({},this.moreProps,a(),{xScale:n,plotData:r,chartConfig:o})}},{key:"getMoreProps",value:function(){var e=this.context,t=e.xScale,n=e.plotData,r=e.chartConfig,o=e.morePropsDecorator,a=e.xAccessor,i=e.displayXAccessor,s=e.width,l=e.height,c=this.context,u=c.chartId,p=c.fullData,f=ga({xScale:t,plotData:n,chartConfig:r,xAccessor:a,displayXAccessor:i,width:s,height:l,chartId:u,fullData:p},this.moreProps);return(o||_r)(f)}},{key:"preCanvasDraw",value:function(){}},{key:"postCanvasDraw",value:function(){}},{key:"drawOnCanvas",value:function(){var e=this.props,t=e.canvasDraw,n=e.canvasToDraw,r=this.context.getCanvasContexts,o=this.getMoreProps(),a=n(r());this.preCanvasDraw(a,o),t(a,o),this.postCanvasDraw(a,o)}},{key:"render",value:function(){var e=this.context,t=e.chartCanvasType,n=e.chartId,r=this.props,a=r.canvasDraw,i=r.clip,s=r.svgDraw;if(uo(a)&&"svg"!==t)return null;var l=uo(n)?"-"+n:"",c=i?{clipPath:"url(#chart-area-clip"+l+")"}:null;return o.a.createElement("g",{style:c},s(this.getMoreProps()))}}]),t}();Ea.propTypes={svgDraw:f.a.func.isRequired,canvasDraw:f.a.func,drawOn:f.a.array.isRequired,clip:f.a.bool.isRequired,edgeClip:f.a.bool.isRequired,interactiveCursorClass:f.a.string,selected:f.a.bool.isRequired,enableDragOnHover:f.a.bool.isRequired,disablePan:f.a.bool.isRequired,canvasToDraw:f.a.func.isRequired,isHover:f.a.func,onClick:f.a.func,onClickWhenHover:f.a.func,onClickOutside:f.a.func,onPan:f.a.func,onPanEnd:f.a.func,onDragStart:f.a.func,onDrag:f.a.func,onDragComplete:f.a.func,onDoubleClick:f.a.func,onDoubleClickWhenHover:f.a.func,onContextMenu:f.a.func,onContextMenuWhenHover:f.a.func,onMouseMove:f.a.func,onMouseDown:f.a.func,onHover:f.a.func,onUnHover:f.a.func,debug:f.a.func},Ea.defaultProps={svgDraw:Jr(null),draw:[],canvasToDraw:function(e){return e.mouseCoord},clip:!0,edgeClip:!1,selected:!1,disablePan:!1,enableDragOnHover:!1,onClickWhenHover:Or,onClickOutside:Or,onDragStart:Or,onMouseMove:Or,onMouseDown:Or,debug:Or},Ea.contextTypes={width:f.a.number.isRequired,height:f.a.number.isRequired,margin:f.a.object.isRequired,chartId:f.a.oneOfType([f.a.number,f.a.string]),getCanvasContexts:f.a.func,chartCanvasType:f.a.string,xScale:f.a.func.isRequired,xAccessor:f.a.func.isRequired,displayXAccessor:f.a.func.isRequired,plotData:f.a.array.isRequired,fullData:f.a.array.isRequired,chartConfig:f.a.oneOfType([f.a.array,f.a.object]).isRequired,morePropsDecorator:f.a.func,generateSubscriptionId:f.a.func,getMutableState:f.a.func.isRequired,amIOnTop:f.a.func.isRequired,subscribe:f.a.func.isRequired,unsubscribe:f.a.func.isRequired,setCursorClass:f.a.func.isRequired};var Sa=Ea;function Oa(e){return e.axes}function _a(e){return e.mouseCoord}var Ca="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pa=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Aa=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Ta=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in o)return o.value;var i=o.get;return void 0!==i?i.call(r):void 0};var Da=["drag","dragend"],ja=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":Ca(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.preCanvasDraw=r.preCanvasDraw.bind(r),r.postCanvasDraw=r.postCanvasDraw.bind(r),r.shouldTypeProceed=r.shouldTypeProceed.bind(r),r.preEvaluate=r.preEvaluate.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":Ca(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,Sa),Aa(t,[{key:"preCanvasDraw",value:function(e,n){Ta(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"preCanvasDraw",this).call(this,e,n),e.save();var r=this.context,o=r.margin,a=r.ratio,i=n.chartConfig,s=.5*a+i.origin[0]+o.left,l=.5*a+i.origin[1]+o.top,c=n.chartConfig,u=c.width,p=c.height,f=this.props,d=f.clip,h=f.edgeClip;e.setTransform(1,0,0,1,0,0),e.scale(a,a),h&&(e.beginPath(),e.rect(-1,l-10,u+o.left+o.right+1,p+20),e.clip()),e.translate(s,l),d&&(e.beginPath(),e.rect(-1,-1,u+1,p+1),e.clip())}},{key:"postCanvasDraw",value:function(e,n){Ta(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"postCanvasDraw",this).call(this,e,n),e.restore()}},{key:"updateMoreProps",value:function(e){Ta(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateMoreProps",this).call(this,e);var n=e.chartConfig;if(n&&Array.isArray(n)){var r=this.context.chartId,o=Kr(n,function(e){return e.id===r});this.moreProps.chartConfig=o}if(uo(this.moreProps.chartConfig)){var a=Pa(this.moreProps.chartConfig.origin,2),i=a[0],s=a[1];if(uo(e.mouseXY)){var l=Pa(e.mouseXY,2),c=l[0],u=l[1];this.moreProps.mouseXY=[c-i,u-s]}if(uo(e.startPos)){var p=Pa(e.startPos,2),f=p[0],d=p[1];this.moreProps.startPos=[f-i,d-s]}}}},{key:"preEvaluate",value:function(){}},{key:"shouldTypeProceed",value:function(e,t){return!("mousemove"!==e&&"click"!==e||!this.props.disablePan)||(-1!==Da.indexOf(e)||!uo(t)||!uo(t.currentCharts)||t.currentCharts.indexOf(this.context.chartId)>-1)}}]),t}();ja.propTypes=Sa.propTypes,ja.defaultProps=Sa.defaultProps,ja.contextTypes=xa({},Sa.contextTypes,{canvasOriginX:f.a.number,canvasOriginY:f.a.number,chartId:f.a.oneOfType([f.a.number,f.a.string]).isRequired,chartConfig:f.a.object.isRequired,ratio:f.a.number.isRequired});var Ra=ja,Fa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Na=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var qa=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":Fa(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":Fa(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,Mr),Na(t,[{key:"componentDidMount",value:function(){if("svg"!==this.context.chartCanvasType&&uo(this.context.getCanvasContexts)){var e=this.context.getCanvasContexts();e&&t.drawOnCanvas(e.bg,this.props,this.context,this.props.children)}}},{key:"componentDidUpdate",value:function(){this.componentDidMount()}},{key:"render",value:function(){if("svg"!==this.context.chartCanvasType)return null;var e=this.props,t={x:e.x,y:e.y,fill:e.fill,opacity:e.opacity,stroke:e.stroke,strokeOpacity:e.strokeOpacity,fontFamily:e.fontFamily,fontSize:e.fontSize,textAnchor:e.textAnchor};return o.a.createElement("text",t,"this.props.children(interval)")}}]),t}();qa.drawOnCanvas=function(e,t,n,r){var o=n.interval;e.clearRect(-1,-1,e.canvas.width+2,e.canvas.height+2),e.save(),e.setTransform(1,0,0,1,0,0),e.translate(.5,.5);var a=t.x,i=t.y,s=t.fill,l=t.opacity,c=t.stroke,u=t.strokeOpacity,p=t.fontFamily,f=t.fontSize,d=t.textAnchor,h=r(o);e.strokeStyle=bo(c,u),e.font=f+"px "+p,e.fillStyle=bo(s,l),e.textAlign="middle"===d?"center":d,"none"!==c&&e.strokeText(h,a,i),e.fillText(h,a,i),e.restore()},qa.propTypes={x:f.a.number.isRequired,y:f.a.number.isRequired,fontFamily:f.a.string,fontSize:f.a.number.isRequired,fill:f.a.string,stroke:f.a.string,opacity:f.a.number,strokeOpacity:f.a.number,textAnchor:f.a.string,children:f.a.func},qa.defaultProps={opacity:.3,fill:"#9E7523",stroke:"#9E7523",strokeOpacity:1,fontFamily:"Helvetica Neue, Helvetica, Arial, sans-serif",fontSize:12,textAnchor:"middle"},qa.contextTypes={interval:f.a.string.isRequired,getCanvasContexts:f.a.func,chartCanvasType:f.a.string};var Ia=n(1638),Ma=n(1722),La="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ba=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Va=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Wa=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":La(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleZoomOut=n.handleZoomOut.bind(n),n.handleZoomIn=n.handleZoomIn.bind(n),n.zoom=n.zoom.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":La(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),Va(t,[{key:"zoom",value:function(e){var t=this,n=this.context,r=n.xAxisZoom,o=n.xScale,a=n.plotData,i=o((0,n.xAccessor)(co(a))),s=this.props.zoomMultiplier,l=e>0?1*s:1/s,c=o.domain(),u=Ba(c,2),p=u[0],f=u[1],d=o.range().map(function(e){return i+(e-i)*l}).map(o.invert),h=Ba(d,2),m=h[0],y=h[1],b=Object(Ma.a)(p,m),v=Object(Ma.a)(f,y),g=[.25,.3,.5,.6,.75,1].map(function(e){return[b(e),v(e)]});this.interval=setInterval(function(){r(g.shift()),0===g.length&&(clearInterval(t.interval),delete t.interval)},10)}},{key:"handleZoomOut",value:function(){this.interval||this.zoom(1)}},{key:"handleZoomIn",value:function(){this.interval||this.zoom(-1)}},{key:"render",value:function(){var e=this.context.chartConfig,t=e.width,n=e.height,r=this.props,a=r.size,i=r.heightFromBase,s=r.rx,l=r.ry,c=this.props,u=c.stroke,p=c.strokeOpacity,f=c.fill,d=c.strokeWidth,h=c.fillOpacity,m=this.props,y=m.textFill,b=m.textStrokeWidth,v=this.props.onReset,g=Math.round(t/2),k=n-i,w=Ba(a,2),E=w[0],S=w[1],O=Math.round(k+S/2),_=g,C=Object(Ia.a)(),x=g-E-2*d;C.moveTo(x-6,O),C.lineTo(x+6,O),C.closePath();var P=Object(Ia.a)(),A=g+E+2*d;return P.moveTo(A-6,O),P.lineTo(A+6,O),P.moveTo(A,O-5),P.lineTo(A,O+5),o.a.createElement("g",{className:"react-stockcharts-zoom-button"},o.a.createElement("rect",{x:x-E/2,y:k,rx:s,ry:l,height:S,width:E,fill:f,fillOpacity:h,stroke:u,strokeOpacity:p,strokeWidth:d}),o.a.createElement("path",{d:C.toString(),stroke:y,strokeWidth:b}),o.a.createElement("rect",{x:_-E/2,y:k,rx:s,ry:l,height:S,width:E,fill:f,fillOpacity:h,stroke:u,strokeOpacity:p,strokeWidth:d}),o.a.createElement("g",{transform:"translate ("+_+", "+(k+S/4)+") scale(.14)"},o.a.createElement("path",{d:"M31 13C23.4 5.3 12.8.5 1.1.5c-23.3 0-42.3 19-42.3 42.5s18.9 42.5 42.3 42.5c13.8 0 26-6.6 33.7-16.9l-16.5-1.8C13.5 70.4 7.5 72.5 1 72.5c-16.2 0-29.3-13.2-29.3-29.4S-15.2 13.7 1 13.7c8.1 0 15.4 3.3 20.7 8.6l-10.9 11h32.5V.5L31 13z",fill:y})),o.a.createElement("rect",{x:A-E/2,y:k,rx:s,ry:l,height:S,width:E,fill:f,fillOpacity:h,stroke:u,strokeOpacity:p,strokeWidth:d}),o.a.createElement("path",{d:P.toString(),stroke:y,strokeWidth:b}),o.a.createElement("rect",{className:"react-stockcharts-enable-interaction out",onClick:this.handleZoomOut,x:x-E/2,y:k,rx:s,ry:l,height:S,width:E,fill:"none"}),o.a.createElement("rect",{className:"react-stockcharts-enable-interaction reset",onClick:v,x:_-E/2,y:k,rx:s,ry:l,height:S,width:E,fill:"none"}),o.a.createElement("rect",{className:"react-stockcharts-enable-interaction in",onClick:this.handleZoomIn,x:A-E/2,y:k,rx:s,ry:l,height:S,width:E,fill:"none"}))}}]),t}();Wa.propTypes={zoomMultiplier:f.a.number.isRequired,size:f.a.array.isRequired,heightFromBase:f.a.number.isRequired,rx:f.a.number.isRequired,ry:f.a.number.isRequired,stroke:f.a.string.isRequired,strokeWidth:f.a.number.isRequired,strokeOpacity:f.a.number.isRequired,fill:f.a.string.isRequired,fillOpacity:f.a.number.isRequired,fontSize:f.a.number.isRequired,textDy:f.a.string.isRequired,textFill:f.a.string.isRequired,textStrokeWidth:f.a.number.isRequired,onReset:f.a.func},Wa.defaultProps={size:[30,24],heightFromBase:50,rx:3,ry:3,stroke:"#000000",strokeOpacity:.3,strokeWidth:1,fill:"#D6D6D6",fillOpacity:.4,fontSize:16,textDy:".3em",textFill:"#000000",textStrokeWidth:2,zoomMultiplier:1.5,onReset:Or},Wa.contextTypes={xScale:f.a.func.isRequired,chartConfig:f.a.object.isRequired,plotData:f.a.array.isRequired,xAccessor:f.a.func.isRequired,xAxisZoom:f.a.func.isRequired};var Ha=n(355),za=n(1723),Ua="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ya=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Ga=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":Ua(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleDragStartMouse=n.handleDragStartMouse.bind(n),n.handleDragStartTouch=n.handleDragStartTouch.bind(n),n.handleDrag=n.handleDrag.bind(n),n.handleDragEnd=n.handleDragEnd.bind(n),n.handleRightClick=n.handleRightClick.bind(n),n.saveNode=n.saveNode.bind(n),n.state={startPosition:null},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":Ua(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),Ya(t,[{key:"saveNode",value:function(e){this.node=e}},{key:"handleRightClick",value:function(e){e.stopPropagation(),e.preventDefault();var t=this.props.onContextMenu,n=mo(e,this.node.getBoundingClientRect());Object(Io.c)(Zr(this.node)).on($r,null).on(eo,null),this.setState({startPosition:null}),t(n,e),this.contextMenuClicked=!0}},{key:"handleDragStartMouse",value:function(e){this.mouseInteraction=!0;var t=this.props,n=(0,t.getScale)((0,t.getMoreProps)());if(this.dragHappened=!1,n.invert){Object(Io.c)(Zr(this.node)).on($r,this.handleDrag,!1).on(eo,this.handleDragEnd,!1);var r=mo(e);this.setState({startPosition:{startXY:r,startScale:n}})}e.preventDefault()}},{key:"handleDragStartTouch",value:function(e){this.mouseInteraction=!1;var t=this.props,n=(0,t.getScale)((0,t.getMoreProps)());if(this.dragHappened=!1,1===e.touches.length&&n.invert){Object(Io.c)(Zr(this.node)).on(to,this.handleDrag).on(no,this.handleDragEnd);var r=ho(ro(e.touches[0]),e);this.setState({startPosition:{startXY:r,startScale:n}})}}},{key:"handleDrag",value:function(){var e=this.state.startPosition,t=this.props,n=t.getMouseDelta,r=t.inverted;if(this.dragHappened=!0,uo(e)){var o=e.startScale,a=n(e.startXY,this.mouseInteraction?Object(Io.b)(this.node):Object(Io.d)(this.node)[0]),i=Object(Er.i)(o.range()),s=o.range().map(function(e){return r?e-Qr(e-i)*a:e+Qr(e-i)*a}),l=s.map(o.invert);if(Qr(co(o.range())-lo(o.range()))===Qr(co(s)-lo(s)))(0,this.props.axisZoomCallback)(l)}}},{key:"handleDragEnd",value:function(){var e=this;if(!this.dragHappened)if(this.clicked){var t=Io.a,n=this.mouseInteraction?Object(Io.b)(this.node):Object(Io.d)(this.node)[0];(0,this.props.onDoubleClick)(n,t)}else this.clicked=!0,setTimeout(function(){e.clicked=!1},300);Object(Io.c)(Zr(this.node)).on($r,null).on(eo,null).on(to,null).on(no,null),this.setState({startPosition:null})}},{key:"render",value:function(){var e=this.props,t=e.bg,n=e.zoomCursorClassName,r=uo(this.state.startPosition)?n:"react-stockcharts-default-cursor";return o.a.createElement("rect",{className:"react-stockcharts-enable-interaction "+r,ref:this.saveNode,x:t.x,y:t.y,opacity:0,height:t.h,width:t.w,onContextMenu:this.handleRightClick,onMouseDown:this.handleDragStartMouse,onTouchStart:this.handleDragStartTouch})}}]),t}();Ga.propTypes={innerTickSize:f.a.number,outerTickSize:f.a.number,tickFormat:f.a.func,tickPadding:f.a.number,tickSize:f.a.number,ticks:f.a.number,tickValues:f.a.array,showDomain:f.a.bool,showTicks:f.a.bool,className:f.a.string,axisZoomCallback:f.a.func,inverted:f.a.bool,bg:f.a.object.isRequired,zoomCursorClassName:f.a.string.isRequired,getMoreProps:f.a.func.isRequired,getScale:f.a.func.isRequired,getMouseDelta:f.a.func.isRequired,onDoubleClick:f.a.func.isRequired,onContextMenu:f.a.func.isRequired},Ga.defaultProps={onDoubleClick:Or,onContextMenu:Or,inverted:!0};var Qa=Ga,Xa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ja=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ka=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Za=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var $a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":Xa(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.renderSVG=n.renderSVG.bind(n),n.drawOnCanvas=n.drawOnCanvas.bind(n),n.saveNode=n.saveNode.bind(n),n.getMoreProps=n.getMoreProps.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":Xa(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),Za(t,[{key:"saveNode",value:function(e){this.node=e}},{key:"getMoreProps",value:function(){return this.node.getMoreProps()}},{key:"drawOnCanvas",value:function(e,t){var n=this.props,r=n.showDomain,o=n.showTicks,a=n.transform,i=n.range,s=n.getScale;(e.save(),e.translate(a[0],a[1]),r&&function(e,t,n){var r=t.orient,o=t.outerTickSize,a=t.stroke,i=t.strokeWidth,s=t.opacity,l="top"===r||"left"===r?-1:1,c="bottom"===r||"top"===r;e.lineWidth=i,e.strokeStyle=bo(a,s),e.beginPath(),c?(e.moveTo(lo(n),l*o),e.lineTo(lo(n),0),e.lineTo(co(n),0),e.lineTo(co(n),l*o)):(e.moveTo(l*o,lo(n)),e.lineTo(0,lo(n)),e.lineTo(0,co(n)),e.lineTo(l*o,co(n)));e.stroke()}(e,this.props,i),o)&&function(e,t){var n=t.tickStroke,r=t.tickStrokeOpacity,o=t.tickLabelFill,a=t.textAnchor,i=t.fontSize,s=t.fontFamily,l=t.fontWeight,c=t.ticks,u=t.showTickLabel;e.strokeStyle=bo(n,r),e.fillStyle=n,c.forEach(function(n){!function(e,t,n){var r=n.tickStrokeWidth,o=n.tickStrokeDasharray;e.beginPath(),e.moveTo(t.x1,t.y1),e.lineTo(t.x2,t.y2),e.lineWidth=r,e.setLineDash(Wr(o).split(",")),e.stroke()}(e,n,t)}),e.font=l+" "+i+"px "+s,e.fillStyle=o,e.textAlign="middle"===a?"center":a,u&&c.forEach(function(n){!function(e,t,n){var r=n.canvas_dy,o=n.format;e.beginPath(),e.fillText(o(t.value),t.labelX,t.labelY+r)}(e,n,t)})}(e,ei(this.props,s(t)));e.restore()}},{key:"renderSVG",value:function(e){var t=this.props.className,n=this.props,r=n.showDomain,a=n.showTicks,i=n.range,s=n.getScale,l=a?function(e,t){var n=ei(e,t),r=n.tickLabelFill,a=n.tickStroke,i=n.tickStrokeOpacity,s=n.tickStrokeWidth,l=n.tickStrokeDasharray,c=n.textAnchor,u=n.fontSize,p=n.fontFamily,f=n.fontWeight,d=n.ticks,h=n.format,m=n.dy;return o.a.createElement("g",null,d.map(function(e,t){return o.a.createElement(ti,{key:t,tickStroke:a,tickLabelFill:r,tickStrokeWidth:s,tickStrokeOpacity:i,tickStrokeDasharray:l,dy:m,x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,labelX:e.labelX,labelY:e.labelY,textAnchor:c,fontSize:u,fontWeight:f,fontFamily:p},h(e.value))}))}(this.props,s(e)):null,c=r?function(e,t){var n=e.orient,r=e.outerTickSize,a=e.domainClassName,i=e.fill,s=e.stroke,l=e.strokeWidth,c=e.opacity,u="top"===n||"left"===n?-1:1,p=void 0;p="bottom"===n||"top"===n?"M"+t[0]+","+u*r+"V0H"+t[1]+"V"+u*r:"M"+u*r+","+t[0]+"H0V"+t[1]+"H"+u*r;return o.a.createElement("path",{className:a,d:p,fill:i,opacity:c,stroke:s,strokeWidth:l})}(this.props,i):null;return o.a.createElement("g",{className:t},l,c)}},{key:"render",value:function(){var e=this.props,t=e.bg,n=e.axisZoomCallback,r=e.zoomCursorClassName,a=e.zoomEnabled,i=e.getScale,s=e.inverted,l=this.props,c=l.transform,u=l.getMouseDelta,p=l.edgeClip,f=this.props,d=f.onContextMenu,h=f.onDoubleClick,m=a?o.a.createElement(Qa,{bg:t,getScale:i,getMoreProps:this.getMoreProps,getMouseDelta:u,axisZoomCallback:n,zoomCursorClassName:r,inverted:s,onContextMenu:d,onDoubleClick:h}):null;return o.a.createElement("g",{transform:"translate("+c[0]+", "+c[1]+")"},m,o.a.createElement(Ra,{ref:this.saveNode,canvasToDraw:Oa,clip:!1,edgeClip:p,svgDraw:this.renderSVG,canvasDraw:this.drawOnCanvas,drawOn:["pan"]}))}}]),t}();function ei(e,t){var n=e.orient,r=e.innerTickSize,o=e.tickFormat,a=e.tickPadding,i=e.tickLabelFill,s=e.tickStrokeWidth,l=e.tickStrokeDasharray,c=e.fontSize,u=e.fontFamily,p=e.fontWeight,f=e.showTicks,d=e.flexTicks,h=e.showTickLabel,m=e.ticks,y=e.tickValues,b=e.tickStroke,v=e.tickStrokeOpacity,g=e.tickInterval,k=e.tickIntervalFunction,w=void 0;if(uo(y))w="function"==typeof y?y(t.domain()):y;else if(uo(g)){var E=t.domain(),S=Ka(E,2),O=S[0],_=S[1],C=Object(Er.n)(O,_,(_-O)/g);w=k?k(O,_,g):C}else w=uo(t.ticks)?t.ticks(m,d):t.domain();var x=t.tickFormat?t.tickFormat(m):_r,P=po(o)?x:function(e){return o(e)||""},A="top"===n||"left"===n?-1:1,T=Math.max(r,0)+a,D=void 0,j=void 0,R=void 0,F=void 0;if("bottom"===n||"top"===n){if(j=A<0?"0em":".71em",R=A<0?0:.71*c,F="middle",D=w.map(function(e){var n=Math.round(t(e));return{value:e,x1:n,y1:0,x2:n,y2:A*r,labelX:n,labelY:A*T}}),f&&d){for(var N=D.map(function(e){return{id:e.value,value:e.value,fy:e.y2,origX:e.x1}}),q=Object(za.b)(N).force("x",Object(za.c)(function(e){return e.origX}).strength(1)).force("collide",Object(za.a)(22)).stop(),I=0;I<100;++I)q.tick();D=Pr().combine(function(e,t){return Math.abs(t.x-t.origX)>.01?Ja({},e,{x2:t.x,labelX:t.x}):e})(D,N)}}else D=w.map(function(e){var n=Math.round(t(e));return{value:e,x1:0,y1:n,x2:A*r,y2:n,labelX:A*T,labelY:n}}),j=".32em",R=.32*c,F=A<0?"end":"start";return{ticks:D,scale:t,tickStroke:b,tickLabelFill:i||b,tickStrokeOpacity:v,tickStrokeWidth:s,tickStrokeDasharray:l,dy:j,canvas_dy:R,textAnchor:F,fontSize:c,fontFamily:u,fontWeight:p,format:P,showTickLabel:h}}function ti(e){var t=e.tickLabelFill,n=e.tickStroke,r=e.tickStrokeOpacity,a=e.tickStrokeDasharray,i=e.tickStrokeWidth,s=e.textAnchor,l=e.fontSize,c=e.fontFamily,u=e.fontWeight,p=e.x1,f=e.y1,d=e.x2,h=e.y2,m=e.labelX,y=e.labelY,b=e.dy;return o.a.createElement("g",{className:"tick"},o.a.createElement("line",{shapeRendering:"crispEdges",opacity:r,stroke:n,strokeWidth:i,strokeDasharray:Wr(a),x1:p,y1:f,x2:d,y2:h}),o.a.createElement("text",{dy:b,x:m,y:y,fill:t,fontSize:l,fontWeight:u,fontFamily:c,textAnchor:s},e.children))}$a.propTypes={innerTickSize:f.a.number,outerTickSize:f.a.number,tickFormat:f.a.func,tickPadding:f.a.number,tickSize:f.a.number,ticks:f.a.number,tickLabelFill:f.a.string,tickStroke:f.a.string,tickStrokeOpacity:f.a.number,tickStrokeWidth:f.a.number,tickStrokeDasharray:f.a.oneOf(Vr),tickValues:f.a.oneOfType([f.a.array,f.a.func]),tickInterval:f.a.number,tickIntervalFunction:f.a.func,showDomain:f.a.bool,showTicks:f.a.bool,className:f.a.string,axisZoomCallback:f.a.func,zoomEnabled:f.a.bool,inverted:f.a.bool,zoomCursorClassName:f.a.string,transform:f.a.arrayOf(f.a.number).isRequired,range:f.a.arrayOf(f.a.number).isRequired,getMouseDelta:f.a.func.isRequired,getScale:f.a.func.isRequired,bg:f.a.object.isRequired,edgeClip:f.a.bool.isRequired,onContextMenu:f.a.func,onDoubleClick:f.a.func},$a.defaultProps={zoomEnabled:!1,zoomCursorClassName:"",edgeClip:!1},ti.propTypes={children:f.a.string.isRequired,x1:f.a.number.isRequired,y1:f.a.number.isRequired,x2:f.a.number.isRequired,y2:f.a.number.isRequired,labelX:f.a.number.isRequired,labelY:f.a.number.isRequired,dy:f.a.string.isRequired,tickStroke:f.a.string,tickLabelFill:f.a.string,tickStrokeWidth:f.a.number,tickStrokeOpacity:f.a.number,tickStrokeDasharray:f.a.oneOf(Vr),textAnchor:f.a.string,fontSize:f.a.number,fontFamily:f.a.string,fontWeight:f.a.oneOfType([f.a.string,f.a.number])};var ni=$a,ri="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ai=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var ii=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":ri(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.axisZoomCallback=r.axisZoomCallback.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":ri(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),ai(t,[{key:"axisZoomCallback",value:function(e){(0,this.context.xAxisZoom)(e)}},{key:"render",value:function(){var e=this.props.showTicks,t=function(e,t){var n=e.axisAt,r=e.xZoomHeight,o=e.orient,a=t.chartConfig,i=a.width,s=a.height,l=void 0;l="top"===n?0:"bottom"===n?s:"middle"===n?s/2:n;return{transform:[0,l],range:[0,i],getScale:si,bg:{x:0,y:"top"===o?-r:0,h:r,w:i}}}(this.props,this.context);return o.a.createElement(ni,oi({},this.props,t,{x:!0,zoomEnabled:this.props.zoomEnabled&&e,axisZoomCallback:this.axisZoomCallback,zoomCursorClassName:"react-stockcharts-ew-resize-cursor"}))}}]),t}();function si(e){var t=e.xScale,n=e.width;if(t.invert){var r=[0,n],o=r.map(t.invert);return t.copy().domain(o).range(r)}return t}ii.propTypes={axisAt:f.a.oneOfType([f.a.oneOf(["top","bottom","middle"]),f.a.number]).isRequired,orient:f.a.oneOf(["top","bottom"]).isRequired,innerTickSize:f.a.number,outerTickSize:f.a.number,tickFormat:f.a.func,tickPadding:f.a.number,tickSize:f.a.number,ticks:f.a.number,tickValues:f.a.array,showTicks:f.a.bool,className:f.a.string,zoomEnabled:f.a.bool,onContextMenu:f.a.func,onDoubleClick:f.a.func},ii.defaultProps={showTicks:!0,showTickLabel:!0,showDomain:!0,className:"react-stockcharts-x-axis",ticks:10,outerTickSize:0,fill:"none",stroke:"#000000",strokeWidth:1,opacity:1,domainClassName:"react-stockcharts-axis-domain",innerTickSize:5,tickPadding:6,tickStroke:"#000000",tickStrokeOpacity:1,fontFamily:"Helvetica Neue, Helvetica, Arial, sans-serif",fontSize:12,fontWeight:400,xZoomHeight:25,zoomEnabled:!0,getMouseDelta:function(e,t){return e[0]-t[0]}},ii.contextTypes={chartConfig:f.a.object.isRequired,xAxisZoom:f.a.func.isRequired};var li=ii,ci="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ui=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pi=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var fi=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":ci(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.axisZoomCallback=r.axisZoomCallback.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":ci(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),pi(t,[{key:"axisZoomCallback",value:function(e){var t=this.context,n=t.chartId;(0,t.yAxisZoom)(n,e)}},{key:"render",value:function(){var e=function(e,t){var n=e.axisAt,r=e.yZoomWidth,o=e.orient,a=t.chartConfig,i=a.width,s=a.height,l=void 0;l="left"===n?0:"right"===n?i:"middle"===n?i/2:n;return{transform:[l,0],range:[0,s],getScale:di,bg:{x:"left"===o?-r:0,y:0,h:s,w:r},zoomEnabled:t.chartConfig.yPan}}(this.props,this.context),t=e.zoomEnabled,n=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["zoomEnabled"]);return o.a.createElement(ni,ui({},this.props,n,{zoomEnabled:this.props.zoomEnabled&&t,edgeClip:!0,axisZoomCallback:this.axisZoomCallback,zoomCursorClassName:"react-stockcharts-ns-resize-cursor"}))}}]),t}();function di(e){var t=e.chartConfig,n=t.yScale,r=t.flipYScale,o=t.height;if(n.invert){var a=r?[0,o]:[o,0],i=a.map(n.invert);return n.copy().domain(i).range(a)}return n}fi.propTypes={axisAt:f.a.oneOfType([f.a.oneOf(["left","right","middle"]),f.a.number]).isRequired,orient:f.a.oneOf(["left","right"]).isRequired,innerTickSize:f.a.number,outerTickSize:f.a.number,tickFormat:f.a.func,tickPadding:f.a.number,tickSize:f.a.number,ticks:f.a.number,yZoomWidth:f.a.number,tickValues:f.a.array,showTicks:f.a.bool,className:f.a.string,zoomEnabled:f.a.bool,onContextMenu:f.a.func,onDoubleClick:f.a.func},fi.defaultProps={showTicks:!0,showTickLabel:!0,showDomain:!0,className:"react-stockcharts-y-axis",ticks:10,outerTickSize:0,domainClassName:"react-stockcharts-axis-domain",fill:"none",stroke:"#FFFFFF",strokeWidth:1,opacity:1,innerTickSize:5,tickPadding:6,tickStroke:"#000000",tickStrokeOpacity:1,fontFamily:"Helvetica Neue, Helvetica, Arial, sans-serif",fontSize:12,fontWeight:400,yZoomWidth:40,zoomEnabled:!0,getMouseDelta:function(e,t){return e[1]-t[1]}},fi.contextTypes={yAxisZoom:f.a.func.isRequired,chartId:f.a.oneOfType([f.a.number,f.a.string]).isRequired,chartConfig:f.a.object.isRequired};var hi=fi,mi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yi=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var bi=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":mi(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={type:n.props.type},n.handleTypeChange=n.handleTypeChange.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":mi(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),yi(t,[{key:"handleTypeChange",value:function(e){this.setState({type:e.target.value})}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("label",null,"Type: "),o.a.createElement("select",{name:"type",id:"type",onChange:this.handleTypeChange,value:this.state.type},o.a.createElement("option",{value:"svg"},"svg"),o.a.createElement("option",{value:"hybrid"},"canvas + svg")),o.a.createElement("div",{style:this.props.style},this.props.children(this.state.type)))}}]),t}();bi.propTypes={type:f.a.oneOf(["svg","hybrid"]),children:f.a.func.isRequired,style:f.a.object.isRequired},bi.defaultProps={type:"hybrid",style:{}};n(1764);var vi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ki=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();"function"==typeof Symbol&&Symbol.iterator,Object.assign,function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}}();var wi={yearFormat:"%Y",quarterFormat:"%b %Y",monthFormat:"%b",weekFormat:"%d %b",dayFormat:"%a %d",hourFormat:"%_I %p",minuteFormat:"%I:%M %p",secondFormat:"%I:%M:%S %p",milliSecondFormat:"%L"},Ei=[function(e,t,n){return e.startOfYear&&t.getFullYear()%12==0&&"yearFormat"},function(e,t,n){return e.startOfYear&&t.getFullYear()%4==0&&"yearFormat"},function(e,t,n){return e.startOfYear&&t.getFullYear()%2==0&&"yearFormat"},function(e,t,n){return e.startOfYear&&"yearFormat"},function(e,t,n){return e.startOfQuarter&&"quarterFormat"},function(e,t,n){return e.startOfMonth&&"monthFormat"},function(e,t,n){return e.startOfWeek&&"weekFormat"},function(e,t,n){return e.startOfDay&&n%2==0&&"dayFormat"},function(e,t,n){return e.startOfDay&&"dayFormat"},function(e,t,n){return e.startOfHalfDay&&"hourFormat"},function(e,t,n){return e.startOfQuarterDay&&"hourFormat"},function(e,t,n){return e.startOfEighthOfADay&&"hourFormat"},function(e,t,n){return e.startOfHour&&t.getHours()%2==0&&"hourFormat"},function(e,t,n){return e.startOfHour&&"hourFormat"},function(e,t,n){return e.startOf30Minutes&&"minuteFormat"},function(e,t,n){return e.startOf15Minutes&&"minuteFormat"},function(e,t,n){return e.startOf5Minutes&&"minuteFormat"},function(e,t,n){return e.startOfMinute&&"minuteFormat"},function(e,t,n){return e.startOf30Seconds&&"secondFormat"},function(e,t,n){return"secondFormat"}],Si=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Oi=Ei.length-1;var _i=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Ci=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function xi(e,t,n,r){return Ei.map(function(o,a){return{level:Ei.length-a-1,format:r[o(e,t,n)]}}).find(function(e){return!!e.format})}var Pi=Tr().windowSize(2).undefinedValue(function(e,t,n){var r=n.initialIndex,o=n.formatters,a=r,i={date:e.getTime(),startOf30Seconds:!1,startOfMinute:!1,startOf5Minutes:!1,startOf15Minutes:!1,startOf30Minutes:!1,startOfHour:!1,startOfEighthOfADay:!1,startOfQuarterDay:!1,startOfHalfDay:!1,startOfDay:!0,startOfWeek:!1,startOfMonth:!1,startOfQuarter:!1,startOfYear:!1},s=xi(i,e,a,o);return Ci({},i,{index:a},s)}).accumulator(function(e,t,n,r){var o=_i(e,2),a=o[0],i=o[1],s=r.initialIndex,l=r.formatters,c=i.getSeconds()%30==0,u=i.getMinutes()!==a.getMinutes(),p=u&&i.getMinutes()%5<=a.getMinutes()%5,f=u&&i.getMinutes()%15<=a.getMinutes()%15,d=u&&i.getMinutes()%30<=a.getMinutes()%30,h=i.getHours()!==a.getHours(),m=h&&i.getHours()%3==0,y=h&&i.getHours()%6==0,b=h&&i.getHours()%12==0,v=i.getDay()!==a.getDay(),g=i.getDay()<a.getDay(),k=i.getMonth()!==a.getMonth(),w=k&&i.getMonth()%3<=a.getMonth()%3,E=i.getFullYear()!==a.getFullYear(),S={date:i.getTime(),startOf30Seconds:c,startOfMinute:u,startOf5Minutes:p,startOf15Minutes:f,startOf30Minutes:d,startOfHour:h,startOfEighthOfADay:m,startOfQuarterDay:y,startOfHalfDay:b,startOfDay:v,startOfWeek:g,startOfMonth:k,startOfQuarter:w,startOfYear:E},O=xi(S,i,t,l);return null==O&&console.log(S),Ci({},S,{index:t+s},O)});function Ai(e,t,n,r){return function(o){var a=e(t);return{index:Pi.source(a).misc({initialIndex:n,formatters:r})(o).map(function(e){var t=e.format;return{index:e.index,level:e.level,date:new Date(e.date),format:Object(wr.a)(t)}})}}}var Ti=function(){var e=0,t=_r,n=function(e){return e.date},r=function(e){return e.idx},o=function(e,t){return Ci({},e,{idx:t})},a=void 0,i=wi,s=function(s){var l=a;po(l)&&(l=Ai(t,n,e,i)(s).index);var c=l,u=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object(Sr.a)();if(po(t))throw new Error("Use the discontinuousTimeScaleProvider to create financeDiscontinuousScale");function o(e){return r(e)}return o.invert=function(e){var t=r.invert(e);return Math.round(1e4*t)/1e4},o.domain=function(e){return arguments.length?(r.domain(e),o):r.domain()},o.range=function(e){return arguments.length?(r.range(e),o):r.range()},o.rangeRound=function(e){return r.range(e)},o.clamp=function(e){return arguments.length?(r.clamp(e),o):r.clamp()},o.interpolate=function(e){return arguments.length?(r.interpolate(e),o):r.interpolate()},o.ticks=function(e,n){var o=r.ticks(e),a=Object(ko.a)(),i=r.domain(),s=Si(i,2),l=s[0],c=s[1],u=Math.max(Math.ceil(l),so(t).index)+Math.abs(so(t).index),p=Math.min(Math.floor(c),co(t).index)+Math.abs(so(t).index);Math.floor(c);for(var f=Math.ceil((p-u)/(c-l)*o.length),d=Oi;d>=0;d--){for(var h=a.get(d),m=po(h)?[]:h.slice(),y=u;y<=p;y++)t[y].level===d&&m.push(t[y]);a.set(d,m)}for(var b=[],v=Oi;v>=0&&!(a.get(v).length+b.length>1.5*f);v--)b=b.concat(a.get(v).map(function(e){return e.index}));var g=b.sort(Er.a);if(!n&&p-u>g.length){for(var k=Object(ko.c)(g),w=Math.abs(so(t).index),E=Math.ceil(1.5*(o.length>0?(co(o)-so(o))/o.length/4:1)),S=0;S<g.length-1;S++)for(var O=S+1;O<g.length;O++)g[O]-g[S]<=E&&k.remove(t[g[S]+w].level>=t[g[O]+w].level?g[O]:g[S]);return k.values().map(function(e){return parseInt(e,10)})}return g},o.tickFormat=function(){return function(e){var n=Math.abs(so(t).index),r=t[Math.floor(e+n)];return(0,r.format)(r.date)}},o.value=function(e){var n=Math.abs(so(t).index);if(uo(t[Math.floor(e+n)]))return t[Math.floor(e+n)].date},o.nice=function(e){return r.nice(e),o},o.index=function(e){return arguments.length?(t=e,o):t},o.copy=function(){return e(t,n,r.copy())},o}(c);return{data:Pr().combine(o)(s,c),xScale:u,xAccessor:function(e){return e&&r(e).index},displayXAccessor:t(n)}};return s.initialIndex=function(t){return arguments.length?(e=t,s):e},s.inputDateAccessor=function(e){return arguments.length?(n=e,s):n},s.indexAccessor=function(e){return arguments.length?(r=e,s):r},s.indexMutator=function(e){return arguments.length?(o=e,s):o},s.withIndex=function(e){return arguments.length?(a=e,s):a},s.utc=function(){return t=function(e){return function(t){var n=e(t),r=60*n.getTimezoneOffset()*1e3;return new Date(n.getTime()+r)}},s},s.setLocale=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e&&Object(wr.b)(e),t&&(i=t),s},s.indexCalculator=function(){return Ai(t,n,e,i)},s}();var Di={windowSize:20,sourcePath:"close",multiplier:2,movingAverageType:"sma"},ji={windowSize:14},Ri={sourcePath:"close",volumePath:"volume"},Fi={sourcePath:"close"},Ni={windowSize:13,sourcePath:"close",movingAverageType:"sma"},qi={accelerationFactor:.02,maxAccelerationFactor:.2},Ii={fast:12,slow:26,signal:9,sourcePath:"close"},Mi={windowSize:12,kWindowSize:3,dWindowSize:3},Li={windowSize:14,sourcePath:"close"},Bi={sourcePath:"close",windowSize:10},Vi={sourcePath:"close",windowSize:10},Wi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hi=function(){var e=Bi;function t(t){var n=e,r=n.windowSize,o=Xr(n.sourcePath),a=2/(r+1),i=void 0,s=0,l=0;return t.map(function(e,t){var n=o(e,t);if(po(i)&&po(n))l++;else{if(!(t<r+l-1)){if(t===r+l-1){var c=(s+=n)/r;return i=c,c}var u=n*a+(1-a)*i;return i=u,u}s+=n}})}return t.undefinedLength=function(){return e.windowSize-1},t.options=function(n){return arguments.length?(e=Wi({},Bi,n),t):e},t},zi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ui=function(){var e=Vi;function t(t){var n=e,r=n.windowSize,o=n.sourcePath;return Tr().windowSize(r).sourcePath(o).accumulator(function(e){return Object(Er.i)(e)})(t)}return t.undefinedLength=function(){return e.windowSize-1},t.options=function(n){return arguments.length?(e=zi({},Vi,n),t):e},t},Yi=(Object.assign,Object.assign,Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}),Gi=(function(){}(),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}),Qi=function(){var e=ji,t=function(e){return{open:e.open,high:e.high,low:e.low,close:e.close}};function n(n){var r=e.windowSize,o=Tr().windowSize(2).source(t).undefinedValue(function(e){return e.high-e.low}).accumulator(function(e){var t=e[0],n=e[1];return Math.max(n.high-n.low,n.high-t.close,n.low-t.close)}),a=void 0;return Tr().skipInitial(1).windowSize(r).accumulator(function(e){var t=co(e),n=uo(a)?(a*(r-1)+t)/r:Object(Er.o)(e)/r;return a=n,n})(o(n))}return n.undefinedLength=function(){return e.windowSize-1},n.options=function(t){return arguments.length?(e=Gi({},ji,t),n):e},n.source=function(e){return arguments.length?(t=e,n):t},n};Object.assign,Object.assign;Object.assign;var Xi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ji=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ki=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zi=function(){var e=Mi,t=function(e){return{open:e.open,high:e.high,low:e.low,close:e.close}};function n(n){var r=e,o=r.windowSize,a=r.kWindowSize,i=r.dWindowSize,s=function(e){return t(e).high},l=function(e){return t(e).low},c=Tr().windowSize(o).accumulator(function(e){var n=Object(Er.h)(e,s),r=Object(Er.k)(e,l);return(function(e){return t(e).close}(co(e))-r)/(n-r)*100}),u=Tr().skipInitial(o-1).windowSize(a).accumulator(function(e){return Object(Er.i)(e)}),p=Tr().skipInitial(o-1+a-1).windowSize(i).accumulator(function(e){return Object(Er.i)(e)}),f=Pr().combine(function(e,t){return{K:e,D:t}}),d=u(c(n));return f(d,p(d))}return n.undefinedLength=function(){var t=e;return t.windowSize+t.kWindowSize+t.dWindowSize},n.source=function(e){return arguments.length?(t=e,n):t},n.options=function(t){return arguments.length?(e=Ki({},Mi,t),n):e},n},$i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},es=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),ts=function(){var e=Ri;function t(t){var n=e,r=n.sourcePath,o=n.volumePath,a=Xr(r),i=Xr(o);return Tr().windowSize(2).accumulator(function(e){var t=es(e,2),n=t[0],r=t[1];return(a(r)-a(n))*i(r)})(t)}return t.undefinedLength=function(){return 2},t.options=function(n){return arguments.length?(e=$i({},Ri,n),t):e},t},ns=(Object.assign,Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}),rs=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},os=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();var as=function(){var e=qi;function t(t){var n=e,r=n.accelerationFactor,o=n.maxAccelerationFactor;return Fr().windowSize(2).undefinedValue(function(e){var t=e.high,n=e.low;return{risingSar:n,risingEp:t,fallingSar:t,fallingEp:n,af:r}}).accumulator(function(e){var t=os(e,2),n=t[0],a=t[1],i=function(e,t){return{risingSar:e.risingSar+e.af*(e.risingEp-e.risingSar),fallingSar:e.fallingSar-e.af*(e.fallingSar-e.fallingEp),risingEp:Math.max(e.risingEp,t.high),fallingEp:Math.min(e.fallingEp,t.low)}}(n,a),s=i.risingSar,l=i.fallingSar,c=i.risingEp,u=i.fallingEp;if(po(n.use)&&s>a.low&&l<a.high)return{risingSar:s,fallingSar:l,risingEp:c,fallingEp:u};var p=uo(n.use)?"rising"===n.use?s>a.low?"falling":"rising":l<a.high?"rising":"falling":s>a.low?"falling":"rising",f=n.use===p?{af:Math.min(o,n.af+r),fallingEp:u,risingEp:c,fallingSar:l,risingSar:s}:{af:r,fallingEp:a.low,risingEp:a.high,fallingSar:Math.max(n.risingEp,a.high),risingSar:Math.min(n.fallingEp,a.low)},d=a.date,h=a.high,m=a.low;return rs({date:d,high:h,low:m},f,{use:p,sar:"falling"===p?f.fallingSar:f.risingSar})})(t).map(function(e){return e.sar})}return t.undefinedLength=function(){return 1},t.options=function(n){return arguments.length?(e=rs({},qi,n),t):e},t},is="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ss=(Object.assign,"function"==typeof Symbol&&is(Symbol.iterator),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}),ls=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),cs=0,us=function(){var e=cs++,t=void 0,n=void 0,r=void 0,o=void 0,a=void 0;function i(){}return i.id=function(t){return arguments.length?(e=t,i):e},i.accessor=function(e){return arguments.length?(t=e,i):t},i.stroke=function(t){return arguments.length?(n=t,i):n||(n=io(e))},i.fill=function(t){return arguments.length?(r=t,i):r||(r=io(e))},i.echo=function(e){return arguments.length?(o=e,i):o},i.type=function(e){return arguments.length?(a=e,i):a},i},ps=function(){var e=us().type("EMA").accessor(function(e){return e.ema}),t=Hi(),n=Ar().algorithm(t).merge(function(e,t){e.ema=t}),r=function(r){if((arguments.length>1&&void 0!==arguments[1]?arguments[1]:{merge:!0}).merge){if(!e.accessor())throw new Error("Set an accessor to EMA before calculating");return n(r)}return t(r)};return xr(r,e,"id","accessor","stroke","fill","echo","type"),xr(r,t,"options","undefinedLength"),xr(r,n,"merge","skipUndefined"),r},fs=function(){var e=us().type("SMA").accessor(function(e){return e.sma}),t=Ui(),n=Ar().algorithm(t).merge(function(e,t){e.sma=t}),r=function(r){if((arguments.length>1&&void 0!==arguments[1]?arguments[1]:{merge:!0}).merge){if(!e.accessor())throw new Error("Set an accessor to SMA before calculating");return n(r)}return t(r)};return xr(r,e,"id","accessor","stroke","fill","echo","type"),xr(r,t,"undefinedLength"),xr(r,t,"options"),xr(r,n,"merge","skipUndefined"),r},ds=function(){var e=us().type("BollingerBand"),t=function(){var e=Di;function t(t){var n=e,r=n.windowSize,o=n.multiplier,a=n.movingAverageType,i=n.sourcePath,s=Xr(i),l="ema"===a?Hi().options({windowSize:r,sourcePath:i}):Tr().windowSize(r).accumulator(function(e){return Object(Er.i)(e)}).sourcePath(i);return Tr().windowSize(r).accumulator(function(e){var t=co(e).mean,n=Object(Er.e)(e,function(e){return s(e.datum)});return{top:t+o*n,middle:t,bottom:t-o*n}})(Pr().combine(function(e,t){return{datum:e,mean:t}})(t,l(t)))}return t.undefinedLength=function(){return e.windowSize-1},t.options=function(n){return arguments.length?(e=Yi({},Di,n),t):e},t}(),n=Ar().algorithm(t).merge(function(e,t){e.bollingerBand=t}),r=function(r){if((arguments.length>1&&void 0!==arguments[1]?arguments[1]:{merge:!0}).merge){if(!e.accessor())throw new Error("Set an accessor to BollingerBand before calculating");return n(r)}return t(r)};return xr(r,e,"id","accessor","stroke","fill","echo","type"),xr(r,t,"options"),xr(r,n,"merge","skipUndefined"),r},hs=(Object.assign,{BollingerBand:{stroke:{top:"#964B00",middle:"#000000",bottom:"#964B00"},fill:"#4682B4"},ElderImpulse:{stroke:{up:"#6BA583",down:"#FF0000",neutral:"#0000FF"}},MACD:{fill:{divergence:"#4682B4"},stroke:{macd:"#FF0000",signal:"#00F300"}},FullStochasticOscillator:{stroke:{top:"#37a600",middle:"#b8ab00",bottom:"#37a600",dLine:"#17becf",kLine:"#ff7f0e"}}}),ms=(hs.BollingerBand,hs.ElderImpulse),ys=hs.MACD,bs=(hs.FullStochasticOscillator,function(){var e=us().type("MACD").fill(ys.fill).stroke(ys.stroke).accessor(function(e){return e.macd}),t=function(){var e=Ii;function t(t){var n=e,r=n.fast,o=n.slow,a=n.signal,i=n.sourcePath,s=Hi().options({windowSize:r,sourcePath:i}),l=Hi().options({windowSize:o,sourcePath:i}),c=Hi().options({windowSize:a,sourcePath:void 0}),u=Pr().combine(function(e,t){return uo(e)&&uo(t)?e-t:void 0})(s(t),l(t)),p=new Array(o).concat(c(u.slice(o)));return Pr().combine(function(e,t){return{macd:e,signal:t,divergence:uo(e)&&uo(t)?e-t:void 0}})(u,p)}return t.undefinedLength=function(){var t=e;return t.slow+t.signal-1},t.options=function(n){return arguments.length?(e=Xi({},Ii,n),t):e},t}(),n=Ar().algorithm(t).merge(function(e,t){e.macd=t}),r=function(r){if((arguments.length>1&&void 0!==arguments[1]?arguments[1]:{merge:!0}).merge){if(!e.accessor())throw new Error("Set an accessor to MACD before calculating");return n(r)}return t(r)};return xr(r,e,"id","accessor","stroke","fill","echo","type"),xr(r,t,"options","undefinedLength"),xr(r,n,"merge","skipUndefined"),r}),vs=function(){var e=us().type("RSI").accessor(function(e){return e.rsi}),t=function(){var e=Li;function t(t){var n=e,r=n.windowSize,o=Xr(n.sourcePath),a=void 0,i=void 0;return Tr().windowSize(r).accumulator(function(e){var t=uo(a)?(a*(r-1)+co(e).gain)/r:Object(Er.i)(e,function(e){return e.gain}),n=uo(i)?(i*(r-1)+co(e).loss)/r:Object(Er.i)(e,function(e){return e.loss});return a=t,i=n,100-100/(1+t/n)})(Tr().windowSize(2).undefinedValue(function(){return[0,0]}).accumulator(function(e){var t=e[0],n=e[1],r=o(n)-o(t);return{gain:Math.max(r,0),loss:Math.abs(Math.min(r,0))}})(t))}return t.undefinedLength=function(){return e.windowSize-1},t.options=function(n){return arguments.length?(e=Ji({},Li,n),t):e},t}(),n=Ar().algorithm(t).merge(function(e,t){e.rsi=t}),r=function(r){if((arguments.length>1&&void 0!==arguments[1]?arguments[1]:{merge:!0}).merge){if(!e.accessor())throw new Error("Set an accessor to RSI before calculating");return n(r)}return t(r)};return xr(r,e,"id","accessor","stroke","fill","echo","type"),xr(r,t,"options","undefinedLength"),xr(r,n,"merge","skipUndefined"),r},gs=function(){var e=us().type("STO"),t=Zi(),n=Ar().algorithm(t).merge(function(e,t){e.sto=t}),r=function(r){if((arguments.length>1&&void 0!==arguments[1]?arguments[1]:{merge:!0}).merge){if(!e.accessor())throw new Error("Set an accessor to STO before calculating");return n(r)}return t(r)};return xr(r,e,"id","accessor","stroke","fill","echo","type"),xr(r,t,"options","undefinedLength"),xr(r,n,"merge","skipUndefined"),r},ks=function(){var e=us().type("ElderRay").accessor(function(e){return e.elderRay}),t=function(){var e=Ni,t=function(e){return{open:e.open,high:e.high,low:e.low,close:e.close}};function n(n){var r=e,o=r.windowSize,a=r.sourcePath,i="ema"===r.movingAverageType?Hi().options({windowSize:o,sourcePath:a}):Tr().windowSize(o).accumulator(function(e){return Object(Er.i)(e)}).sourcePath(a);return Pr().combine(function(e,n){return{bullPower:uo(n)?t(e).high-n:void 0,bearPower:uo(n)?t(e).low-n:void 0}})(n,i(n))}return n.undefinedLength=function(){return e.windowSize-1},n.ohlc=function(e){return arguments.length?(t=e,n):t},n.options=function(t){return arguments.length?(e=ns({},Ni,t),n):e},n}(),n=Ar().algorithm(t).merge(function(e,t){e.elderRay=t}),r=function(r){if((arguments.length>1&&void 0!==arguments[1]?arguments[1]:{merge:!0}).merge){if(!e.accessor())throw new Error("Set an accessor to ElderRay before calculating");return n(r)}return t(r)};return xr(r,e,"id","accessor","stroke","fill","echo","type"),xr(r,t,"options"),xr(r,n,"merge","skipUndefined"),r},ws=function(){var e=us().type("Change"),t=function(){var e=Fi;function t(t){var n=e.sourcePath;return Tr().windowSize(2).sourcePath(n).accumulator(function(e){var t=ls(e,2),n=t[0],r=t[1]-n;return{absoluteChange:r,percentChange:100*r/n}})(t)}return t.undefinedLength=function(){return 1},t.options=function(n){return arguments.length?(e=ss({},Fi,n),t):e},t}(),n=Ar().algorithm(t).merge(function(e,t){e.absoluteChange=t.absoluteChange,e.percentChange=t.percentChange}),r=function(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{merge:!0}).merge?n(e):t(e)};return xr(r,e,"id","accessor","stroke","fill","echo","type"),xr(r,t,"options"),xr(r,n,"merge","skipUndefined"),r},Es=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Ss=n(1683),Os="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Cs=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),xs=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Ps=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":Os(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.renderSVG=n.renderSVG.bind(n),n.drawOnCanvas=n.drawOnCanvas.bind(n),n.isHover=n.isHover.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":Os(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),xs(t,[{key:"isHover",value:function(e){var t=this.props,n=t.highlightOnHover,r=t.yAccessor,o=t.hoverTolerance;if(!n)return!1;var a=e.mouseXY,i=e.currentItem,s=e.xScale,l=e.plotData,c=e.chartConfig,u=c.yScale,p=c.origin,f=e.xAccessor,d=Cs(a,2),h=d[0],m=d[1],y=o,b=oo(l,s.invert(h),f),v=b.left,g=b.right;if(v===g){var k=u(r(i))+p[1],w=s(f(i))+p[0];return Math.pow(h-w,2)+Math.pow(m-k,2)<Math.pow(y,2)}var E=l[v],S=l[g],O=s(f(E))+p[0],_=u(r(E))+p[1],C=s(f(S))+p[0],x=(u(r(S))+p[1]-_)/(C-O),P=-1*x*O+_,A=Math.round(x*h+P);return m>=A-y&&m<=A+y}},{key:"drawOnCanvas",value:function(e,t){var n=this.props,r=n.yAccessor,o=n.stroke,a=n.strokeOpacity,i=n.strokeWidth,s=n.hoverStrokeWidth,l=n.defined,c=n.strokeDasharray,u=n.interpolation,p=n.canvasClip,f=this.props.connectNulls,d=t.xAccessor,h=t.xScale,m=t.chartConfig.yScale,y=t.plotData,b=t.hovering;p&&(e.save(),p(e,t)),e.lineWidth=b?s:i,e.strokeStyle=bo(o,a),e.setLineDash(Wr(c).split(","));var v=Object(Ss.c)().x(function(e){return Math.round(h(d(e)))}).y(function(e){return Math.round(m(r(e)))});uo(u)&&v.curve(u),f||v.defined(function(e){return l(r(e))}),e.beginPath(),v.context(e)(y),e.stroke(),p&&e.restore()}},{key:"renderSVG",value:function(e){var t=this.props,n=t.yAccessor,r=t.stroke,a=t.strokeOpacity,i=t.strokeWidth,s=t.hoverStrokeWidth,l=t.defined,c=t.strokeDasharray,u=this.props.connectNulls,p=this.props,f=p.interpolation,d=p.style,h=e.xAccessor,m=e.chartConfig,y=e.xScale,b=e.plotData,v=e.hovering,g=m.yScale,k=Object(Ss.c)().x(function(e){return Math.round(y(h(e)))}).y(function(e){return Math.round(g(n(e)))});uo(f)&&k.curve(f),u||k.defined(function(e){return l(n(e))});var w=k(b),E=this.props,S=E.fill,O=E.className;return o.a.createElement("path",{style:d,className:O+" "+(r?"":" line-stroke"),d:w,stroke:r,strokeOpacity:a,strokeWidth:v?s:i,strokeDasharray:Wr(c),fill:S})}},{key:"render",value:function(){var e=this.props.highlightOnHover?{isHover:this.isHover,drawOn:["mousemove","pan"],canvasToDraw:_a}:{drawOn:["pan"],canvasToDraw:Oa};return o.a.createElement(Ra,_s({svgDraw:this.renderSVG,canvasDraw:this.drawOnCanvas,onClickWhenHover:this.props.onClick,onDoubleClickWhenHover:this.props.onDoubleClick,onContextMenuWhenHover:this.props.onContextMenu},e))}}]),t}();Ps.propTypes={className:f.a.string,strokeWidth:f.a.number,strokeOpacity:f.a.number,stroke:f.a.string,hoverStrokeWidth:f.a.number,fill:f.a.string,defined:f.a.func,hoverTolerance:f.a.number,strokeDasharray:f.a.oneOf(Vr),highlightOnHover:f.a.bool,onClick:f.a.func,onDoubleClick:f.a.func,onContextMenu:f.a.func,yAccessor:f.a.func,connectNulls:f.a.bool,interpolation:f.a.func,canvasClip:f.a.func,style:f.a.object},Ps.defaultProps={className:"line ",strokeWidth:1,strokeOpacity:1,hoverStrokeWidth:4,fill:"none",stroke:"#4682B4",strokeDasharray:"Solid",defined:function(e){return!isNaN(e)},hoverTolerance:6,highlightOnHover:!1,connectNulls:!1,onClick:function(e){console.log("Click",e)},onDoubleClick:function(e){console.log("Double Click",e)},onContextMenu:function(e){console.log("Right Click",e)}};var As=Ps,Ts="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ds=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var js=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":Ts(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.renderSVG=n.renderSVG.bind(n),n.drawOnCanvas=n.drawOnCanvas.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":Ts(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),Ds(t,[{key:"drawOnCanvas",value:function(e,t){var n=this.props,r=n.yAccessor,o=n.defined,a=n.base,i=this.props,s=i.fill,l=i.stroke,c=i.opacity,u=i.interpolation,p=i.canvasClip,f=t.xScale,d=t.chartConfig.yScale,h=t.plotData,m=t.xAccessor;p&&(e.save(),p(e,t)),e.fillStyle=bo(s,c),e.strokeStyle=l,e.beginPath();var y=Jr(a),b=Object(Ss.a)().defined(function(e){return o(r(e))}).x(function(e){return Math.round(f(m(e)))}).y0(function(e){return y(d,e,t)}).y1(function(e){return Math.round(d(r(e)))}).context(e);uo(u)&&b.curve(u),b(h),e.fill(),p&&e.restore()}},{key:"renderSVG",value:function(e){var t=this.props,n=t.yAccessor,r=t.defined,a=t.base,i=t.style,s=this.props,l=s.stroke,c=s.fill,u=s.className,p=s.opacity,f=s.interpolation,d=e.xScale,h=e.chartConfig.yScale,m=e.plotData,y=e.xAccessor,b=Jr(a),v=Object(Ss.a)().defined(function(e){return r(n(e))}).x(function(e){return Math.round(d(y(e)))}).y0(function(t){return b(h,t,e)}).y1(function(e){return Math.round(h(n(e)))});uo(f)&&v.curve(f);var g=v(m),k=u.concat(uo(l)?"":" line-stroke");return o.a.createElement("path",{style:i,d:g,stroke:l,fill:c,className:k,fillOpacity:p})}},{key:"render",value:function(){return o.a.createElement(Ra,{svgDraw:this.renderSVG,canvasDraw:this.drawOnCanvas,canvasToDraw:Oa,drawOn:["pan"]})}}]),t}();js.propTypes={className:f.a.string,yAccessor:f.a.func.isRequired,stroke:f.a.string,fill:f.a.string,opacity:f.a.number,defined:f.a.func,base:f.a.oneOfType([f.a.func,f.a.number]),interpolation:f.a.func,canvasClip:f.a.func,style:f.a.object},js.defaultProps={className:"line ",fill:"none",opacity:1,defined:function(e){return!isNaN(e)},base:function(e){return lo(e.range())}};var Rs=js;function Fs(e){var t=e.yAccessor,n=e.baseAt,r=e.className,a=e.opacity,i=e.stroke,s=e.strokeWidth,l=e.strokeOpacity,c=e.strokeDasharray,u=e.fill,p=e.interpolation,f=e.style,d=e.canvasClip;return o.a.createElement("g",{className:r},o.a.createElement(Rs,{yAccessor:t,interpolation:p,base:n,fill:u,opacity:a,style:f,canvasClip:d,stroke:"none"}),o.a.createElement(As,{yAccessor:t,stroke:i,strokeWidth:s,strokeOpacity:l,strokeDasharray:c,interpolation:p,style:f,canvasClip:d,fill:"none",hoverHighlight:!1}))}Fs.propTypes={stroke:f.a.string,strokeWidth:f.a.number,fill:f.a.string.isRequired,strokeOpacity:f.a.number.isRequired,opacity:f.a.number.isRequired,className:f.a.string,yAccessor:f.a.func.isRequired,baseAt:f.a.func,interpolation:f.a.func,canvasClip:f.a.func,style:f.a.object,strokeDasharray:f.a.oneOf(Vr)},Fs.defaultProps={stroke:"#4682B4",strokeWidth:1,strokeOpacity:1,strokeDasharray:"Solid",opacity:.5,fill:"#4682B4",className:"react-stockcharts-area"};var Ns=Fs,qs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Is=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Ms=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":qs(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":qs(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),Is(t,[{key:"render",value:function(){var e=this.props.children;return o.a.createElement(Ra,{drawOn:[],svgDraw:e})}}]),t}();Ms.propTypes={children:f.a.func.isRequired};var Ls=Ms,Bs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vs=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Ws=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":Bs(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.renderClip=n.renderClip.bind(n),n.topClip=n.topClip.bind(n),n.bottomClip=n.bottomClip.bind(n),n.baseAt=n.baseAt.bind(n);var r=String(Math.round(1e4*Math.random()*1e4));n.clipPathId1="alternating-area-clip-"+r;var o=String(Math.round(1e4*Math.random()*1e4));return n.clipPathId2="alternating-area-clip-"+o,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":Bs(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),Vs(t,[{key:"topClip",value:function(e,t){var n=t.chartConfig,r=this.props.baseAt,o=n.yScale,a=n.width;e.beginPath(),e.rect(0,0,a,o(r)),e.clip()}},{key:"bottomClip",value:function(e,t){var n=t.chartConfig,r=this.props.baseAt,o=n.yScale,a=n.width,i=n.height;e.beginPath(),e.rect(0,o(r),a,i-o(r)),e.clip()}},{key:"renderClip",value:function(e){var t=e.chartConfig,n=this.props.baseAt,r=t.yScale,a=t.width,i=t.height;return o.a.createElement("defs",null,o.a.createElement("clipPath",{id:this.clipPathId1},o.a.createElement("rect",{x:0,y:0,width:a,height:r(n)})),o.a.createElement("clipPath",{id:this.clipPathId2},o.a.createElement("rect",{x:0,y:r(n),width:a,height:i-r(n)})))}},{key:"baseAt",value:function(e){return e(this.props.baseAt)}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.yAccessor,r=e.interpolation,a=this.props,i=a.stroke,s=a.strokeWidth,l=a.strokeOpacity,c=a.strokeDasharray,u=a.fill,p=a.fillOpacity,f={clipPath:"url(#"+this.clipPathId1+")"},d={clipPath:"url(#"+this.clipPathId2+")"};return o.a.createElement("g",{className:t},o.a.createElement(Ls,null,this.renderClip),o.a.createElement(Ns,{style:f,canvasClip:this.topClip,yAccessor:n,interpolation:r,baseAt:this.baseAt,fill:u.top,opacity:p.top,stroke:i.top,strokeOpacity:l.top,strokeDasharray:c.top,strokeWidth:s.top}),o.a.createElement(Ns,{style:d,canvasClip:this.bottomClip,yAccessor:n,interpolation:r,baseAt:this.baseAt,fill:u.bottom,opacity:p.bottom,stroke:i.bottom,strokeOpacity:l.bottom,strokeDasharray:c.bottom,strokeWidth:s.bottom}))}}]),t}();Ws.propTypes={stroke:f.a.shape({top:f.a.string,bottom:f.a.string}),strokeWidth:f.a.shape({top:f.a.number,bottom:f.a.number}),strokeOpacity:f.a.shape({top:f.a.number,bottom:f.a.number}),fill:f.a.shape({top:f.a.string,bottom:f.a.string}),fillOpacity:f.a.shape({top:f.a.number,bottom:f.a.number}),strokeDasharray:f.a.shape({top:f.a.oneOf(Vr),bottom:f.a.oneOf(Vr)}).isRequired,className:f.a.string,yAccessor:f.a.func.isRequired,baseAt:f.a.number.isRequired,interpolation:f.a.func},Ws.defaultProps={stroke:{top:"#38C172",bottom:"#E3342F"},strokeWidth:{top:2,bottom:2},strokeOpacity:{top:1,bottom:1},fill:{top:"#A2F5BF",bottom:"#EF5753"},fillOpacity:{top:.5,bottom:.5},strokeDasharray:{top:"Solid",bottom:"Solid"},className:"react-stockcharts-alternating-area"};var Hs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zs=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Us=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Ys=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":Hs(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.renderSVG=n.renderSVG.bind(n),n.drawOnCanvas=n.drawOnCanvas.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":Hs(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),Us(t,[{key:"drawOnCanvas",value:function(e,t){var n=t.xAccessor,r=Gs(this.props,t,n);!function(e,t,n){var r=t.markerProps;Object(ko.b)().key(function(e){return e.fill}).key(function(e){return e.stroke}).entries(n).forEach(function(t){var n=t.key,o=t.values;"none"!==n&&(e.fillStyle=n),o.forEach(function(t){var o=t.values;o.forEach(function(t){var o=t.marker;o.drawOnCanvas(zs({},o.defaultProps,r,{fill:n}),t,e)})})})}(e,this.props,r)}},{key:"renderSVG",value:function(e){var t=this.props,n=t.className,r=t.markerProps,a=e.xAccessor,i=Gs(this.props,e,a);return o.a.createElement("g",{className:n},i.map(function(e,t){var n=e.marker;return o.a.createElement(n,zs({key:t},r,{point:e}))}))}},{key:"render",value:function(){return o.a.createElement(Ra,{svgDraw:this.renderSVG,canvasDraw:this.drawOnCanvas,canvasToDraw:Oa,drawOn:["pan"]})}}]),t}();function Gs(e,t,n){var r=e.yAccessor,o=e.markerProvider,a=e.markerProps,i=e.marker,s=t.xScale,l=t.chartConfig.yScale,c=t.plotData;if(!o&&!i)throw new Error("required prop, either marker or markerProvider missing");return c.map(function(e){o&&(i=o(e));var t=zs({},i.defaultProps,a),c=Jr(t.fill),u=Jr(t.stroke);return{x:s(n(e)),y:l(r(e)),fill:bo(c(e),t.opacity),stroke:u(e),datum:e,marker:i}})}Ys.propTypes={className:f.a.string,yAccessor:f.a.func.isRequired,marker:f.a.func,markerProvider:f.a.func,markerProps:f.a.object},Ys.defaultProps={className:"react-stockcharts-scatter"};function Qs(e){var t=e.className,n=e.stroke,r=e.strokeWidth,a=e.opacity,i=e.fill,s=e.point,l=Jr(e.r)(s.datum);return o.a.createElement("circle",{className:t,cx:s.x,cy:s.y,stroke:n,strokeWidth:r,fillOpacity:a,fill:i,r:l})}Qs.propTypes={stroke:f.a.string,fill:f.a.string.isRequired,opacity:f.a.number.isRequired,point:f.a.shape({x:f.a.number.isRequired,y:f.a.number.isRequired,datum:f.a.object.isRequired}).isRequired,className:f.a.string,strokeWidth:f.a.number,r:f.a.oneOfType([f.a.number,f.a.func]).isRequired},Qs.defaultProps={stroke:"#4682B4",strokeWidth:1,opacity:.5,fill:"#4682B4",className:"react-stockcharts-marker-circle"},Qs.drawOnCanvas=function(e,t,n){var r=e.stroke,o=e.fill,a=e.opacity,i=e.strokeWidth;n.strokeStyle=r,n.lineWidth=i,"none"!==o&&(n.fillStyle=bo(o,a)),Qs.drawOnCanvasWithNoStateChange(e,t,n)},Qs.drawOnCanvasWithNoStateChange=function(e,t,n){var r=Jr(e.r)(t.datum);n.moveTo(t.x,t.y),n.beginPath(),n.arc(t.x,t.y,r,0,2*Math.PI,!1),n.stroke(),n.fill()};function Xs(e){var t=e.className,n=e.strokeWidth,r=e.opacity,a=e.point,i=e.width,s=Ks(e,a);if(null==s)return null;var l=function(e){var t=e.fill,n=e.point;return t instanceof Function?t(n.datum):t}(e),c=function(e){var t=e.stroke,n=e.point;return t instanceof Function?t(n.datum):t}(e),u=Jr(i)(a.datum),p=a.x,f=a.y,d=Js(u),h=d.innerOpposite,m="\n\t\t"+p+" "+(f-d.innerHypotenuse)+",\n\t\t"+(p+u/2)+" "+(f+h)+",\n\t\t"+(p-u/2)+" "+(f+h)+"\n\t";return o.a.createElement("polygon",{className:t,points:m,stroke:c,strokeWidth:n,fillOpacity:r,fill:l,transform:0!==s?"rotate("+s+", "+p+", "+f+")":null})}Xs.propTypes={direction:f.a.oneOfType([f.a.oneOf(["top","bottom","left","right","hide"]),f.a.func]).isRequired,stroke:f.a.oneOfType([f.a.string,f.a.func]).isRequired,fill:f.a.oneOfType([f.a.string,f.a.func]).isRequired,opacity:f.a.number.isRequired,point:f.a.shape({x:f.a.number.isRequired,y:f.a.number.isRequired,datum:f.a.object.isRequired}).isRequired,className:f.a.string,strokeWidth:f.a.number,width:f.a.oneOfType([f.a.number,f.a.func]).isRequired},Xs.defaultProps={direction:"top",stroke:"#4682B4",strokeWidth:1,opacity:.5,fill:"#4682B4",className:"react-stockcharts-marker-triangle"},Xs.drawOnCanvas=function(e,t,n){var r=e.stroke,o=e.fill,a=e.opacity,i=e.strokeWidth;n.strokeStyle=r,n.lineWidth=i,"none"!==o&&(n.fillStyle=bo(o,a)),Xs.drawOnCanvasWithNoStateChange(e,t,n)},Xs.drawOnCanvasWithNoStateChange=function(e,t,n){var r=Jr(e.width)(t.datum),o=t.x,a=t.y,i=Js(r),s=i.innerOpposite,l=i.innerHypotenuse,c=Ks(e,t);n.beginPath(),n.moveTo(o,a-l),n.lineTo(o+r/2,a+s),n.lineTo(o-r/2,a+s),n.stroke(),null!==c&&0!==c&&(n.save(),n.translate(o,a),n.rotate(c*Math.PI/180),n.fill(),n.restore()),n.fill()};function Js(e){var t=e/2*(1/Math.cos(30*Math.PI/180));return{innerOpposite:e/2*(1/Math.tan(60*Math.PI/180)),innerHypotenuse:t}}function Ks(e,t){var n=e.direction,r=n instanceof Function?n(t.datum):n;if("hide"===r)return null;var o=0;switch(r){case"bottom":o=180;break;case"left":o=-90;break;case"right":o=90}return o}function Zs(e){var t=e.className,n=e.stroke,r=e.strokeWidth,a=e.opacity,i=e.fill,s=e.point,l=Jr(e.width)(s.datum),c=s.x-l/2,u=s.y-l/2;return o.a.createElement("rect",{className:t,x:c,y:u,stroke:n,strokeWidth:r,fillOpacity:a,fill:i,width:l,height:l})}Zs.propTypes={stroke:f.a.string,fill:f.a.string.isRequired,opacity:f.a.number.isRequired,point:f.a.shape({x:f.a.number.isRequired,y:f.a.number.isRequired,datum:f.a.object.isRequired}).isRequired,className:f.a.string,strokeWidth:f.a.number,width:f.a.oneOfType([f.a.number,f.a.func]).isRequired},Zs.defaultProps={stroke:"#4682B4",strokeWidth:1,opacity:.5,fill:"#4682B4",className:"react-stockcharts-marker-rect"},Zs.drawOnCanvas=function(e,t,n){var r=e.stroke,o=e.fill,a=e.opacity,i=e.strokeWidth;n.strokeStyle=r,n.lineWidth=i,"none"!==o&&(n.fillStyle=bo(o,a)),Zs.drawOnCanvasWithNoStateChange(e,t,n)},Zs.drawOnCanvasWithNoStateChange=function(e,t,n){var r=Jr(e.width)(t.datum),o=t.x-r/2,a=t.y-r/2;n.beginPath(),n.rect(o,a,r,r),n.stroke(),n.fill()};var $s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},el=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var tl=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":$s(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.renderSVG=n.renderSVG.bind(n),n.drawOnCanvas=n.drawOnCanvas.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":$s(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),el(t,[{key:"drawOnCanvas",value:function(e,t){!function(e,t,n){var r=t.opacity,o=t.candleStrokeWidth,a=t.rectRadius,i=n.xScale,s=n.chartConfig.yScale,l=n.plotData,c=n.xAccessor,u=rl(t,c,i,s,l);Object(ko.b)().key(function(e){return e.wick.stroke}).entries(u).forEach(function(t){var n=t.key,r=t.values;e.strokeStyle=n,e.fillStyle=n,r.forEach(function(t){var n=t.wick;a?(nl(e,n.x-.5,n.y1,1,n.y2-n.y1,a),nl(e,n.x-.5,n.y3,1,n.y4-n.y3,a)):(e.fillRect(n.x-.5,n.y1,1,n.y2-n.y1),e.fillRect(n.x-.5,n.y3,1,n.y4-n.y3))})}),Object(ko.b)().key(function(e){return e.stroke}).key(function(e){return e.fill}).entries(u).forEach(function(t){var n=t.key,i=t.values;"none"!==n&&(e.strokeStyle=n,e.lineWidth=o),i.forEach(function(t){var o=t.key,i=t.values,s=so(i).width<=1?o:bo(o,r);e.fillStyle=s,i.forEach(function(t){t.width<=1?a?nl(e,t.x-.5,t.y,1,t.height,a):e.fillRect(t.x-.5,t.y,1,t.height):0===t.height?a?nl(e,t.x,t.y-.5,t.width,1,a):e.fillRect(t.x,t.y-.5,t.width,1):(a?nl(e,t.x,t.y,t.width,t.height,a):e.fillRect(t.x,t.y,t.width,t.height),"none"===n||a||e.strokeRect(t.x,t.y,t.width,t.height))})})})}(e,this.props,t)}},{key:"renderSVG",value:function(e){var t=this.props,n=t.className,r=t.wickClassName,a=t.candleClassName,i=e.xScale,s=e.chartConfig.yScale,l=e.plotData,c=e.xAccessor,u=rl(this.props,c,i,s,l);return o.a.createElement("g",{className:n},o.a.createElement("g",{className:r,key:"wicks"},function(e){return e.map(function(e,t){var n=e.wick;return o.a.createElement("path",{key:t,className:e.className,stroke:n.stroke,d:"M"+n.x+","+n.y1+" L"+n.x+","+n.y2+" M"+n.x+","+n.y3+" L"+n.x+","+n.y4})})}(u)),o.a.createElement("g",{className:a,key:"candles"},function(e,t){var n=e.opacity,r=e.candleStrokeWidth;return t.map(function(e,t){return e.width<=1?o.a.createElement("line",{className:e.className,key:t,x1:e.x,y1:e.y,x2:e.x,y2:e.y+e.height,stroke:e.fill}):0===e.height?o.a.createElement("line",{key:t,x1:e.x,y1:e.y,x2:e.x+e.width,y2:e.y+e.height,stroke:e.fill}):o.a.createElement("rect",{key:t,className:e.className,fillOpacity:n,x:e.x,y:e.y,width:e.width,height:e.height,fill:e.fill,stroke:e.stroke,strokeWidth:r})})}(this.props,u)))}},{key:"render",value:function(){var e=this.props.clip;return o.a.createElement(Ra,{clip:e,svgDraw:this.renderSVG,canvasDraw:this.drawOnCanvas,canvasToDraw:Oa,drawOn:["pan"]})}}]),t}();function nl(e,t,n,r,o,a){!function(e,t,n,r,o,a){var i=Array.isArray(a)?a.map(function(e){return.01*e*Math.min(r,o)}):new Array(8).fill(.01*a*Math.min(r,o));e.beginPath(),e.moveTo(t+i[1],n),e.lineTo(t+r-i[2],n),e.quadraticCurveTo(t+r,n,t+r,n+i[3]),e.lineTo(t+r,n+o-i[4]),e.quadraticCurveTo(t+r,n+o,t+r-i[5],n+o),e.lineTo(t+i[6],n+o),e.quadraticCurveTo(t,n+o,t,n+o-i[7]),e.lineTo(t,n+i[0]),e.quadraticCurveTo(t,n,t+i[1],n),e.closePath()}(e,t,n,r,o,a),e.fill()}function rl(e,t,n,r,o){for(var a=Jr(e.wickStroke),i=e.classNames,s=e.fill,l=e.stroke,c=e.yAccessor,u=Jr(i),p=Jr(s),f=Jr(l),d=.5*Jr(e.width)(e,{xScale:n,xAccessor:t,plotData:o}),h=d>.7?Math.round(d):Math.floor(d),m=[],y=0;y<o.length;y++){var b=o[y];if(uo(c(b).close)){var v=Math.round(n(t(b))),g=c(b),k=Math.round(r(Math.max(g.open,g.close))),w=Math.round(Math.abs(r(g.open)-r(g.close)));m.push({x:v-h,y:k,wick:{stroke:a(g),x:v,y1:Math.round(r(g.high)),y2:k,y3:k+w,y4:Math.round(r(g.low))},height:w,width:2*h,className:u(g),fill:p(g),stroke:f(g),direction:g.close-g.open})}}return m}tl.propTypes={className:f.a.string,wickClassName:f.a.string,candleClassName:f.a.string,widthRatio:f.a.number,width:f.a.oneOfType([f.a.number,f.a.func]),classNames:f.a.oneOfType([f.a.func,f.a.string]),fill:f.a.oneOfType([f.a.func,f.a.string]),stroke:f.a.oneOfType([f.a.func,f.a.string]),wickStroke:f.a.oneOfType([f.a.func,f.a.string]),yAccessor:f.a.func,clip:f.a.bool},tl.defaultProps={className:"react-stockcharts-candlestick",wickClassName:"react-stockcharts-candlestick-wick",candleClassName:"react-stockcharts-candlestick-candle",yAccessor:function(e){return{open:e.open,high:e.high,low:e.low,close:e.close}},classNames:function(e){return e.close>e.open?"up":"down"},width:Br,wickStroke:"#000000",fill:function(e){return e.close>e.open?"#6BA583":"#FF0000"},stroke:"#000000",rectRadius:0,candleStrokeWidth:.5,widthRatio:.8,opacity:.5,clip:!0};var ol=tl,al="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},il=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var sl=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":al(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.renderSVG=n.renderSVG.bind(n),n.drawOnCanvas=n.drawOnCanvas.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":al(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),il(t,[{key:"drawOnCanvas",value:function(e,t){var n=this.props.yAccessor,r=t.xAccessor,o=t.xScale,a=t.chartConfig.yScale,i=t.plotData;!function(e,t){var n=t.strokeWidth,r=t.bars,o=Object(ko.b)().key(function(e){return e.stroke}).entries(r);e.lineWidth=n,o.forEach(function(t){var n=t.key,r=t.values;e.strokeStyle=n,r.forEach(function(t){e.beginPath(),e.moveTo(t.x,t.y1),e.lineTo(t.x,t.y2),e.moveTo(t.openX1,t.openY),e.lineTo(t.openX2,t.openY),e.moveTo(t.closeX1,t.closeY),e.lineTo(t.closeX2,t.closeY),e.stroke()})})}(e,ll(this.props,r,n,o,a,i))}},{key:"render",value:function(){var e=this.props.clip;return o.a.createElement(Ra,{svgDraw:this.renderSVG,canvasToDraw:Oa,canvasDraw:this.drawOnCanvas,clip:e,drawOn:["pan"]})}},{key:"renderSVG",value:function(e){var t=this.props,n=t.className,r=t.yAccessor,a=e.xAccessor,i=e.xScale,s=e.chartConfig.yScale,l=e.plotData,c=ll(this.props,a,r,i,s,l),u=c.strokeWidth,p=c.bars;return o.a.createElement("g",{className:n},p.map(function(e,t){return o.a.createElement("path",{key:t,className:e.className,stroke:e.stroke,strokeWidth:u,d:"M"+e.openX1+" "+e.openY+" L"+e.openX2+" "+e.openY+" M"+e.x+" "+e.y1+" L"+e.x+" "+e.y2+" M"+e.closeX1+" "+e.closeY+" L"+e.closeX2+" "+e.closeY})}))}}]),t}();function ll(e,t,n,r,o,a){var i=e.classNames,s=Jr(e.stroke),l=Jr(i),c=r(t(a[a.length-1]))-r(t(a[0])),u=Math.max(1,Math.round(c/(a.length-1)/2)-1.5),p=Math.min(u,6),f=a.filter(function(e){return uo(n(e).close)}).map(function(e){var a=n(e),i=Math.round(r(t(e))),c=o(a.high),f=o(a.low),d=i-u,h=i+p/2,m=o(a.open),y=i-p/2,b=i+u,v=o(a.close),g=l(e);return{x:i,y1:c,y2:f,openX1:d,openX2:h,openY:m,closeX1:y,closeX2:b,closeY:v,stroke:s(e),className:g}});return{barWidth:u,strokeWidth:p,bars:f}}sl.propTypes={className:f.a.string,classNames:f.a.oneOfType([f.a.func,f.a.string]).isRequired,stroke:f.a.oneOfType([f.a.func,f.a.string]).isRequired,yAccessor:f.a.func.isRequired,clip:f.a.bool.isRequired},sl.defaultProps={className:"react-stockcharts-ohlc",yAccessor:function(e){return{open:e.open,high:e.high,low:e.low,close:e.close}},classNames:function(e){return uo(e.absoluteChange)?e.absoluteChange>0?"up":"down":"firstbar"},stroke:function(e){return uo(e.absoluteChange)?e.absoluteChange>0?"#6BA583":"#FF0000":"#000000"},clip:!0};var cl=sl,ul="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fl=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var dl=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":ul(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.renderSVG=n.renderSVG.bind(n),n.drawOnCanvas=n.drawOnCanvas.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":ul(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),fl(t,[{key:"drawOnCanvas",value:function(e,t){var n=t.xAccessor;ml(e,this.props,t,n,Ss.d)}},{key:"renderSVG",value:function(e){var t=e.xAccessor;return o.a.createElement("g",null,bl(this.props,e,t,Ss.d))}},{key:"render",value:function(){var e=this.props.clip;return o.a.createElement(Ra,{clip:e,svgDraw:this.renderSVG,canvasDraw:this.drawOnCanvas,canvasToDraw:Oa,drawOn:["pan"]})}}]),t}();function hl(){var e=[];function t(t){return e.map(function(e,n){var r=t.map(function(t){var n=[0,t[e]];return n.data=t,n});return r.key=e,r.index=n,r})}return t.keys=function(n){return arguments.length?(e=n,t):e},t}function ml(e,t,n,r,o){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:_r,i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:gl,s=n.xScale,l=n.chartConfig.yScale;El(t,e,vl(t,r,n.plotData,s,l,o,i,a))}function yl(e){return Array.isArray(e)?e:[e]}function bl(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:_r,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:gl,i=t.xScale,s=t.chartConfig.yScale;return kl(e,vl(e,n,t.plotData,i,s,r,a,o))}function vl(e,t,n,r,o,a,i,s){var l=e.yAccessor,c=e.swapScales,u=yl(c?e.xAccessor:l);return function(e,t,n,r,o,a){var i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:hl,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:_r,l=e.baseAt,c=e.className,u=e.fill,p=e.stroke,f=e.spaceBetweenBar,d=void 0===f?0:f,h=Jr(c),m=Jr(u),y=Jr(l),b=Jr(e.width)(e,{xScale:r,xAccessor:t,plotData:a}),v=Math.round(b),g=(v-d*(n.length-1))/n.length,k=1===v?0:.5*b,w=a.map(function(e){var r={appearance:{},x:t(e)};return n.forEach(function(t,n){var o="y"+n;r[o]=t(e);var a={className:h(e,n),stroke:p?m(e,n):"none",fill:m(e,n)};r.appearance[o]=a}),r}),E=n.map(function(e,t){return"y"+t}),S=i().keys(E)(w).map(function(e,t){var n=e.key;return e.map(function(e){var r=[e[0],e[1]];return r.data={x:e.data.x,i:t,appearance:e.data.appearance[n]},r})}),O=Object(Er.j)(S).map(function(e){var t=o(e[1]),n=y(r,o,e.data)-o(e[1]-e[0]);return n<0&&(t+=n,n=-n),pl({},e.data.appearance,{x:Math.round(r(e.data.x)-b/2),y:t,groupOffset:Math.round(k-(e.data.i>0?(g+d)*e.data.i:0)),groupWidth:Math.round(g),offset:Math.round(k),height:n,width:v})}).filter(function(e){return!isNaN(e.y)});return s(O)}(e,c?l:t,u,c?o:r,c?r:o,n,a,c?i:s)}dl.propTypes={baseAt:f.a.oneOfType([f.a.number,f.a.func]).isRequired,direction:f.a.oneOf(["up","down"]).isRequired,stroke:f.a.bool.isRequired,width:f.a.oneOfType([f.a.number,f.a.func]).isRequired,opacity:f.a.number.isRequired,fill:f.a.oneOfType([f.a.func,f.a.string]).isRequired,className:f.a.oneOfType([f.a.func,f.a.string]).isRequired,clip:f.a.bool.isRequired},dl.defaultProps={baseAt:function(e,t){return so(t.range())},direction:"up",className:"bar",stroke:!0,fill:"#4682B4",opacity:.5,width:Br,widthRatio:.8,clip:!0,swapScales:!1};var gl=function(e){return e.map(function(e){return pl({},e,{x:e.y,y:e.x,height:e.width,width:e.height})})};function kl(e,t){var n=e.opacity;return t.map(function(e,t){return e.width<=1?o.a.createElement("line",{key:t,className:e.className,stroke:e.fill,x1:e.x,y1:e.y,x2:e.x,y2:e.y+e.height}):o.a.createElement("rect",{key:t,className:e.className,stroke:e.stroke,fill:e.fill,x:e.x,y:e.y,width:e.width,fillOpacity:n,height:e.height})})}function wl(e,t,n,r,o,a){!function(e,t,n,r,o,a){var i=Array.isArray(a)?a.map(function(e){return.01*e*Math.min(r,o)}):new Array(8).fill(.01*a*Math.min(r,o));e.beginPath(),e.moveTo(t+i[1],n),e.lineTo(t+r-i[2],n),e.quadraticCurveTo(t+r,n,t+r,n+i[3]),e.lineTo(t+r,n+o-i[4]),e.quadraticCurveTo(t+r,n+o,t+r-i[5],n+o),e.lineTo(t+i[6],n+o),e.quadraticCurveTo(t,n+o,t,n+o-i[7]),e.lineTo(t,n+i[0]),e.quadraticCurveTo(t,n,t+i[1],n),e.closePath()}(e,t,n,r,o,a),e.fill()}function El(e,t,n){var r=e.stroke,o=e.rectRadius;Object(ko.b)().key(function(e){return e.fill}).entries(n).forEach(function(n){var a=n.key,i=n.values;so(i).width>1&&(t.strokeStyle=a);var s=so(i).width<=1?a:bo(a,e.opacity);t.fillStyle=s,i.forEach(function(e){e.width<=1?o?wl(t,e.x-.5,e.y,1,e.height,o):t.fillRect(e.x-.5,e.y,1,e.height):(o?wl(t,e.x,e.y,e.width,e.height,o):t.fillRect(e.x,e.y,e.width,e.height),r&&t.strokeRect(e.x,e.y,e.width,e.height))})})}var Sl=dl,Ol="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Cl=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":Ol(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.renderSVG=n.renderSVG.bind(n),n.drawOnCanvas=n.drawOnCanvas.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":Ol(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),_l(t,[{key:"drawOnCanvas",value:function(e,t){if(this.props.swapScales){var n=t.xAccessor;ml(e,this.props,t,n,hl)}else{var r=Pl(this.props,t);El(this.props,e,r)}}},{key:"renderSVG",value:function(e){if(this.props.swapScales){var t=e.xAccessor;return o.a.createElement("g",null,bl(this.props,e,t,hl))}var n=Pl(this.props,e);return o.a.createElement("g",null,kl(this.props,n))}},{key:"render",value:function(){var e=this.props.clip;return o.a.createElement(Ra,{clip:e,svgDraw:this.renderSVG,canvasToDraw:Oa,canvasDraw:this.drawOnCanvas,drawOn:["pan"]})}}]),t}();Cl.propTypes={baseAt:f.a.oneOfType([f.a.number,f.a.func]),stroke:f.a.bool,width:f.a.oneOfType([f.a.number,f.a.func]),yAccessor:f.a.func.isRequired,opacity:f.a.number,fill:f.a.oneOfType([f.a.func,f.a.string]),className:f.a.oneOfType([f.a.func,f.a.string]),clip:f.a.bool,swapScales:f.a.bool},Cl.defaultProps=Sl.defaultProps;var xl=Cl;function Pl(e,t){var n=e.baseAt,r=e.fill,o=e.stroke,a=e.yAccessor,i=t.xScale,s=t.xAccessor,l=t.plotData,c=t.chartConfig.yScale,u=Jr(r),p=Jr(n),f=Jr(e.width)(e,{xScale:i,xAccessor:s,plotData:l}),d=Math.floor(.5*f);return l.filter(function(e){return uo(a(e))}).map(function(e){var t=a(e),n=c(t),r=Math.round(i(s(e)))-d,l=p(i,c,e)-c(t);return l<0&&(n+=l,l=-l),{x:r,y:Math.round(n),height:Math.round(l),width:2*d,fill:u(e,0),stroke:o?u(e,0):"none"}})}var Al="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Dl=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var jl=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":Al(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.renderSVG=n.renderSVG.bind(n),n.drawOnCanvas=n.drawOnCanvas.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":Al(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),Dl(t,[{key:"drawOnCanvas",value:function(e,t){var n=t.xAccessor;ml(e,this.props,t,n,hl,Rl)}},{key:"renderSVG",value:function(e){var t=e.xAccessor;return o.a.createElement("g",{className:"react-stockcharts-grouped-bar-series"},bl(this.props,e,t,hl,Rl))}},{key:"render",value:function(){return o.a.createElement(Ra,{svgDraw:this.renderSVG,canvasDraw:this.drawOnCanvas,canvasToDraw:Oa,drawOn:["pan"]})}}]),t}();function Rl(e){return e.map(function(e){return Tl({},e,{x:e.x+e.offset-e.groupOffset,width:e.groupWidth})})}jl.propTypes={baseAt:f.a.oneOfType([f.a.number,f.a.func]).isRequired,direction:f.a.oneOf(["up","down"]).isRequired,stroke:f.a.bool.isRequired,widthRatio:f.a.number.isRequired,opacity:f.a.number.isRequired,fill:f.a.oneOfType([f.a.func,f.a.string]).isRequired,className:f.a.oneOfType([f.a.func,f.a.string]).isRequired,yAccessor:f.a.arrayOf(f.a.func)},jl.defaultProps=Tl({},Sl.defaultProps,{widthRatio:.8,spaceBetweenBar:5});var Fl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nl=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var ql=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":Fl(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.renderSVG=n.renderSVG.bind(n),n.drawOnCanvas=n.drawOnCanvas.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":Fl(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),Nl(t,[{key:"drawOnCanvas",value:function(e,t){var n=t.xAccessor;!function(e,t,n,r){var o=t.stroke,a=t.strokeWidth,i=t.currentValueStroke,s=n.xScale,l=n.chartConfig.yScale,c=Il(n.plotData,r),u=!0;c.forEach(function(t){e.strokeStyle=o[t.type],e.lineWidth=a,e.beginPath();var n=void 0;t.plot.forEach(function(t){var r=[s(t[0]),l(t[1])],o=r[0],a=r[1];u?(e.moveTo(o,a),u=!1):(uo(n)&&e.lineTo(n,a),e.lineTo(o,a)),n=o}),e.stroke()});var p=c[c.length-1].plot,f=p[p.length-1];e.beginPath(),e.lineWidth=1;var d=[s(f[0]),l(f[2]),l(f[3])],h=d[0],m=d[1],y=d[2];e.moveTo(h,m),e.lineTo(h+10,m),e.stroke(),e.beginPath(),e.strokeStyle=i,e.moveTo(h-10,y),e.lineTo(h,y),e.stroke()}(e,this.props,t,n)}},{key:"render",value:function(){return o.a.createElement(Ra,{svgDraw:this.renderSVG,canvasToDraw:Oa,canvasDraw:this.drawOnCanvas,drawOn:["pan"]})}},{key:"renderSVG",value:function(e){var t=e.xAccessor,n=e.xScale,r=e.chartConfig.yScale,a=e.plotData,i=this.props,s=i.className,l=i.stroke,c=i.fill,u=i.strokeWidth,p=Il(a,t).map(function(e,t){var a=Object(Ss.c)().x(function(e){return n(e[0])}).y(function(e){return r(e[1])}).curve(Ss.b);return a(e.plot),o.a.createElement("path",{key:t,d:a(e.plot),className:e.type,stroke:l[e.type],fill:c[e.type],strokeWidth:u})});return o.a.createElement("g",{className:s},p)}}]),t}();function Il(e,t){for(var n=[],r={},o=e[0],a=t(o),i=0;i<e.length;i++)po((o=e[i]).close)||(po(r.type)&&(r.type=o.startAs),po(r.plot)&&(r.plot=[]),a=t(o),r.plot.push([a,o.open]),uo(o.changeTo)&&(r.plot.push([a,o.changePoint]),r.added=!0,n.push(r),(r={type:o.changeTo,plot:[],added:!1}).plot.push([a,o.changePoint])));return r.added||(r.plot.push([a,o.close,o.current,o.reverseAt]),n.push(r)),n}ql.propTypes={className:f.a.string,stroke:f.a.object,fill:f.a.object,strokeWidth:f.a.number.isRequired},ql.defaultProps={className:"react-stockcharts-kagi",strokeWidth:2,stroke:{yang:"#6BA583",yin:"#E60000"},fill:{yang:"none",yin:"none"},currentValueStroke:"#000000"};var Ml="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ll=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Bl=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Vl=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":Ml(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.renderSVG=n.renderSVG.bind(n),n.drawOnCanvas=n.drawOnCanvas.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":Ml(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),Bl(t,[{key:"drawOnCanvas",value:function(e,t){var n=t.xAccessor,r=Wl(t.xScale,n,t.chartConfig.yScale,t.plotData);!function(e,t,n){var r=t.stroke,o=t.fill,a=t.strokeWidth;e.lineWidth=a,n.forEach(function(t){var n=Ll(t.offset,2),a=n[0],i=n[1];t.boxes.forEach(function(n){if(t.direction>0)e.fillStyle=o.up,e.strokeStyle=r.up,e.beginPath(),e.moveTo(a,i+n.open),e.lineTo(a+n.columnWidth,i+n.close),e.moveTo(a,i+n.close),e.lineTo(a+n.columnWidth,i+n.open),e.stroke();else{e.fillStyle=o.down,e.strokeStyle=r.down,e.beginPath();var s=a+n.columnWidth/2,l=i+n.open+n.boxHeight/2,c=n.columnWidth/2,u=n.boxHeight/2;e.ellipse(s,l,c,u,0,0,2*Math.PI),e.stroke()}})}),e.stroke()}(e,this.props,r)}},{key:"render",value:function(){var e=this.props.clip;return o.a.createElement(Ra,{clip:e,svgDraw:this.renderSVG,canvasDraw:this.drawOnCanvas,canvasToDraw:Oa,drawOn:["pan"]})}},{key:"renderSVG",value:function(e){var t=e.xAccessor,n=e.xScale,r=e.chartConfig.yScale,a=e.plotData,i=this.props,s=i.stroke,l=i.fill,c=i.strokeWidth,u=i.className,p=Wl(n,t,r,a);return o.a.createElement("g",{className:u},p.map(function(e,t){return o.a.createElement("g",{key:t,className:e.className,transform:"translate("+e.offset[0]+", "+e.offset[1]+")"},e.boxes.map(function(n,r){return e.direction>0?o.a.createElement("g",{key:t+"-"+r},o.a.createElement("line",{className:"up",strokeWidth:c,stroke:s.up,fill:l.up,x1:0,y1:n.open,x2:n.columnWidth,y2:n.close}),o.a.createElement("line",{className:"up",strokeWidth:c,stroke:s.up,fill:l.up,x1:0,y1:n.close,x2:n.columnWidth,y2:n.open})):o.a.createElement("ellipse",{key:t+"-"+r,className:"down",strokeWidth:c,stroke:s.down,fill:l.down,cx:n.columnWidth/2,cy:(n.open+n.close)/2,rx:n.columnWidth/2,ry:n.boxHeight/2})}))}))}}]),t}();function Wl(e,t,n,r){for(var o=(e(t(r[r.length-1]))-e(t(r[0])))/(r.length-1),a=void 0,i=0;po(a)&&uo(r[i].close);)a=r[i].boxes[0],i++;var s=Math.abs(n(a.open)-n(a.close));return r.filter(function(e){return uo(e.close)}).map(function(r){var a=r.boxes.map(function(e){return{columnWidth:o,boxHeight:s,open:n(e.open),close:n(e.close)}}),i=e(t(r))-o/2;return{boxes:a,direction:r.direction,offset:[i,0]}})}Vl.propTypes={className:f.a.string,strokeWidth:f.a.number.isRequired,stroke:f.a.object.isRequired,fill:f.a.object.isRequired,clip:f.a.bool.isRequired},Vl.defaultProps={className:"react-stockcharts-point-and-figure",strokeWidth:1,stroke:{up:"#6BA583",down:"#FF0000"},fill:{up:"none",down:"none"},clip:!0};var Hl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zl=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Ul=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":Hl(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.renderSVG=n.renderSVG.bind(n),n.drawOnCanvas=n.drawOnCanvas.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":Hl(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),zl(t,[{key:"drawOnCanvas",value:function(e,t){var n=t.xAccessor,r=t.xScale,o=t.chartConfig.yScale,a=t.plotData,i=this.props.yAccessor;!function(e,t){t.forEach(function(t){e.beginPath(),e.strokeStyle=t.stroke,e.fillStyle=t.fill,e.rect(t.x,t.y,t.width,t.height),e.closePath(),e.fill()})}(e,Yl(this.props,a,r,n,o,i))}},{key:"render",value:function(){var e=this.props.clip;return o.a.createElement(Ra,{clip:e,svgDraw:this.renderSVG,canvasDraw:this.drawOnCanvas,canvasToDraw:Oa,drawOn:["pan"]})}},{key:"renderSVG",value:function(e){var t=e.xAccessor,n=e.xScale,r=e.chartConfig.yScale,a=e.plotData,i=this.props.yAccessor,s=Yl(this.props,a,n,t,r,i).map(function(e,t){return o.a.createElement("rect",{key:t,className:e.className,fill:e.fill,x:e.x,y:e.y,width:e.width,height:e.height})});return o.a.createElement("g",null,o.a.createElement("g",{className:"candle"},s))}}]),t}();function Yl(e,t,n,r,o,a){var i=e.classNames,s=e.fill,l=(n(r(t[t.length-1]))-n(r(t[0])))/(t.length-1);return t.filter(function(e){return uo(a(e).close)}).map(function(e){var t=a(e),c=n(r(e))-.5*l,u=o(Math.max(t.open,t.close)),p=Math.abs(o(t.open)-o(t.close));return{className:t.open<=t.close?i.up:i.down,fill:e.fullyFormed?t.open<=t.close?s.up:s.down:s.partial,x:c,y:u,height:p,width:l}})}Ul.propTypes={classNames:f.a.shape({up:f.a.string,down:f.a.string}),stroke:f.a.shape({up:f.a.string,down:f.a.string}),fill:f.a.shape({up:f.a.string,down:f.a.string,partial:f.a.string}),yAccessor:f.a.func.isRequired,clip:f.a.bool.isRequired},Ul.defaultProps={classNames:{up:"up",down:"down"},stroke:{up:"none",down:"none"},fill:{up:"#6BA583",down:"#E60000",partial:"#4682B4"},yAccessor:function(e){return{open:e.open,high:e.high,low:e.low,close:e.close}},clip:!0};var Gl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ql=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xl=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Jl=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":Gl(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.renderSVG=n.renderSVG.bind(n),n.drawOnCanvas=n.drawOnCanvas.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":Gl(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),Xl(t,[{key:"drawOnCanvas",value:function(e,t){var n=this.props,r=n.type,o=n.stroke,a=n.strokeWidth,i=n.opacity,s=n.strokeDasharray,l=this.props,c=l.yValue,u=l.xValue,p=t.xScale,f=t.chartConfig,d=f.yScale,h=f.width,m=f.height;e.beginPath(),e.strokeStyle=bo(o,i),e.lineWidth=a;var y=Kl(r,p,d,u,c,h,m),b=y.x1,v=y.y1,g=y.x2,k=y.y2;e.setLineDash(Wr(s).split(",")),e.moveTo(b,v),e.lineTo(g,k),e.stroke()}},{key:"render",value:function(){return o.a.createElement(Ra,{svgDraw:this.renderSVG,canvasDraw:this.drawOnCanvas,canvasToDraw:Oa,drawOn:["pan"]})}},{key:"renderSVG",value:function(e){var t=e.width,n=e.height,r=e.xScale,a=e.chartConfig.yScale,i=this.props.className,s=this.props,l=s.type,c=s.stroke,u=s.strokeWidth,p=s.opacity,f=s.strokeDasharray,d=this.props,h=d.yValue,m=Kl(l,r,a,d.xValue,h,t,n);return o.a.createElement("line",Ql({className:i,strokeDasharray:Wr(f),stroke:c,strokeWidth:u,strokeOpacity:p},m))}}]),t}();function Kl(e,t,n,r,o,a,i){return"horizontal"===e?{x1:0,y1:Math.round(n(o)),x2:a,y2:Math.round(n(o))}:{x1:Math.round(t(r)),y1:0,x2:Math.round(t(r)),y2:i}}Jl.propTypes={className:f.a.string,type:f.a.oneOf(["vertical","horizontal"]),stroke:f.a.string,strokeWidth:f.a.number,strokeDasharray:f.a.oneOf(Vr),opacity:f.a.number.isRequired,yValue:function(e,t){return"vertical"===e.type&&uo(e[t])?new Error("Do not define `yValue` when type is `vertical`, define the `xValue` prop"):"horizontal"===e.type&&po(e[t])?new Error("when type = `horizontal` `yValue` is required"):void 0},xValue:function(e,t){return"horizontal"===e.type&&uo(e[t])?new Error("Do not define `xValue` when type is `horizontal`, define the `yValue` prop"):"vertical"===e.type&&po(e[t])?new Error("when type = `vertical` `xValue` is required"):void 0}},Jl.defaultProps={className:"line ",type:"horizontal",stroke:"#000000",opacity:.5,strokeWidth:1,strokeDasharray:"Solid"};var Zl=Jl,$l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ec=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var tc=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":$l(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.yAccessorForMACD=n.yAccessorForMACD.bind(n),n.yAccessorForSignal=n.yAccessorForSignal.bind(n),n.yAccessorForDivergence=n.yAccessorForDivergence.bind(n),n.yAccessorForDivergenceBase=n.yAccessorForDivergenceBase.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":$l(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),ec(t,[{key:"yAccessorForMACD",value:function(e){var t=this.props.yAccessor;return t(e)&&t(e).macd}},{key:"yAccessorForSignal",value:function(e){var t=this.props.yAccessor;return t(e)&&t(e).signal}},{key:"yAccessorForDivergence",value:function(e){var t=this.props.yAccessor;return t(e)&&t(e).divergence}},{key:"yAccessorForDivergenceBase",value:function(e,t){return t(0)}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.opacity,r=e.divergenceStroke,a=e.widthRatio,i=e.width,s=this.props,l=s.stroke,c=s.fill,u=this.props.clip,p=this.props,f=p.zeroLineStroke,d=p.zeroLineOpacity;return o.a.createElement("g",{className:t},o.a.createElement(xl,{baseAt:this.yAccessorForDivergenceBase,className:"macd-divergence",width:i,widthRatio:a,stroke:r,fill:c.divergence,opacity:n,clip:u,yAccessor:this.yAccessorForDivergence}),o.a.createElement(As,{yAccessor:this.yAccessorForMACD,stroke:l.macd,fill:"none"}),o.a.createElement(As,{yAccessor:this.yAccessorForSignal,stroke:l.signal,fill:"none"}),o.a.createElement(Zl,{stroke:f,opacity:d,yValue:0}))}}]),t}();tc.propTypes={className:f.a.string,yAccessor:f.a.func.isRequired,opacity:f.a.number,divergenceStroke:f.a.bool,zeroLineStroke:f.a.string,zeroLineOpacity:f.a.number,clip:f.a.bool.isRequired,stroke:f.a.shape({macd:f.a.string.isRequired,signal:f.a.string.isRequired}).isRequired,fill:f.a.shape({divergence:f.a.oneOfType([f.a.string,f.a.func]).isRequired}).isRequired,widthRatio:f.a.number,width:xl.propTypes.width},tc.defaultProps={className:"react-stockcharts-macd-series",zeroLineStroke:"#000000",zeroLineOpacity:.3,opacity:.6,divergenceStroke:!1,clip:!0,widthRatio:.5,width:xl.defaultProps.width};var nc=tc,rc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oc=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var ac=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":rc(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.yAccessorForTop=n.yAccessorForTop.bind(n),n.yAccessorForMiddle=n.yAccessorForMiddle.bind(n),n.yAccessorForBottom=n.yAccessorForBottom.bind(n),n.yAccessorForScalledBottom=n.yAccessorForScalledBottom.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":rc(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),oc(t,[{key:"yAccessorForTop",value:function(e){var t=this.props.yAccessor;return t(e)&&t(e).top}},{key:"yAccessorForMiddle",value:function(e){var t=this.props.yAccessor;return t(e)&&t(e).middle}},{key:"yAccessorForBottom",value:function(e){var t=this.props.yAccessor;return t(e)&&t(e).bottom}},{key:"yAccessorForScalledBottom",value:function(e,t){var n=this.props.yAccessor;return e(n(t)&&n(t).bottom)}},{key:"render",value:function(){var e=this.props,t=e.areaClassName,n=e.className,r=e.opacity,a=this.props,i=a.stroke,s=a.fill;return o.a.createElement("g",{className:n},o.a.createElement(As,{yAccessor:this.yAccessorForTop,stroke:i.top,fill:"none"}),o.a.createElement(As,{yAccessor:this.yAccessorForMiddle,stroke:i.middle,fill:"none"}),o.a.createElement(As,{yAccessor:this.yAccessorForBottom,stroke:i.bottom,fill:"none"}),o.a.createElement(Rs,{className:t,yAccessor:this.yAccessorForTop,base:this.yAccessorForScalledBottom,stroke:"none",fill:s,opacity:r}))}}]),t}();ac.propTypes={yAccessor:f.a.func.isRequired,className:f.a.string,areaClassName:f.a.string,opacity:f.a.number,type:f.a.string,stroke:f.a.shape({top:f.a.string.isRequired,middle:f.a.string.isRequired,bottom:f.a.string.isRequired}).isRequired,fill:f.a.string.isRequired},ac.defaultProps={className:"react-stockcharts-bollinger-band-series",areaClassName:"react-stockcharts-bollinger-band-series-area",opacity:.2};var ic=ac,sc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lc=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var cc=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":sc(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.renderClip=n.renderClip.bind(n),n.topAndBottomClip=n.topAndBottomClip.bind(n),n.mainClip=n.mainClip.bind(n);var r=String(Math.round(1e4*Math.random()*1e4));n.clipPathId1="rsi-clip-"+r;var o=String(Math.round(1e4*Math.random()*1e4));return n.clipPathId2="rsi-clip-"+o,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":sc(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),lc(t,[{key:"topAndBottomClip",value:function(e,t){var n=t.chartConfig,r=this.props,o=r.overSold,a=r.overBought,i=n.yScale,s=n.width;e.beginPath(),e.rect(0,i(o),s,i(a)-i(o)),e.clip()}},{key:"mainClip",value:function(e,t){var n=t.chartConfig,r=this.props,o=r.overSold,a=r.overBought,i=n.yScale,s=n.width,l=n.height;e.beginPath(),e.rect(0,0,s,i(o)),e.rect(0,i(a),s,l-i(a)),e.clip()}},{key:"renderClip",value:function(e){var t=e.chartConfig,n=this.props,r=n.overSold,a=n.overBought,i=t.yScale,s=t.width,l=t.height;return o.a.createElement("defs",null,o.a.createElement("clipPath",{id:this.clipPathId1},o.a.createElement("rect",{x:0,y:i(r),width:s,height:i(a)-i(r)})),o.a.createElement("clipPath",{id:this.clipPathId2},o.a.createElement("rect",{x:0,y:0,width:s,height:i(r)}),o.a.createElement("rect",{x:0,y:i(a),width:s,height:l-i(a)})))}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.stroke,r=e.opacity,a=e.strokeDasharray,i=e.strokeWidth,s=this.props.yAccessor,l=this.props,c=l.overSold,u=l.middle,p=l.overBought,f={clipPath:"url(#"+this.clipPathId1+")"},d={clipPath:"url(#"+this.clipPathId2+")"};return o.a.createElement("g",{className:t},o.a.createElement(Ls,null,this.renderClip),o.a.createElement(Zl,{stroke:n.top,opacity:r.top,yValue:c,strokeDasharray:a.top,strokeWidth:i.top}),o.a.createElement(Zl,{stroke:n.middle,opacity:r.middle,yValue:u,strokeDasharray:a.middle,strokeWidth:i.middle}),o.a.createElement(Zl,{stroke:n.bottom,opacity:r.bottom,yValue:p,strokeDasharray:a.bottom,strokeWidth:i.bottom}),o.a.createElement(As,{style:f,canvasClip:this.topAndBottomClip,className:t,yAccessor:s,stroke:n.insideThreshold||n.line,strokeWidth:i.insideThreshold,strokeDasharray:a.line}),o.a.createElement(As,{style:d,canvasClip:this.mainClip,className:t,yAccessor:s,stroke:n.outsideThreshold||n.line,strokeWidth:i.outsideThreshold,strokeDasharray:a.line}))}}]),t}();cc.propTypes={className:f.a.string,yAccessor:f.a.func.isRequired,stroke:f.a.shape({top:f.a.string.isRequired,middle:f.a.string.isRequired,bottom:f.a.string.isRequired,outsideThreshold:f.a.string.isRequired,insideThreshold:f.a.string.isRequired}).isRequired,opacity:f.a.shape({top:f.a.number.isRequired,middle:f.a.number.isRequired,bottom:f.a.number.isRequired}).isRequired,strokeDasharray:f.a.shape({line:f.a.oneOf(Vr),top:f.a.oneOf(Vr),middle:f.a.oneOf(Vr),bottom:f.a.oneOf(Vr)}).isRequired,strokeWidth:f.a.shape({outsideThreshold:f.a.number.isRequired,insideThreshold:f.a.number.isRequired,top:f.a.number.isRequired,middle:f.a.number.isRequired,bottom:f.a.number.isRequired}).isRequired,overSold:f.a.number.isRequired,middle:f.a.number.isRequired,overBought:f.a.number.isRequired},cc.defaultProps={className:"react-stockcharts-rsi-series",stroke:{line:"#000000",top:"#B8C2CC",middle:"#8795A1",bottom:"#B8C2CC",outsideThreshold:"#b300b3",insideThreshold:"#ffccff"},opacity:{top:1,middle:1,bottom:1},strokeDasharray:{line:"Solid",top:"ShortDash",middle:"ShortDash",bottom:"ShortDash"},strokeWidth:{outsideThreshold:1,insideThreshold:1,top:1,middle:1,bottom:1},overSold:70,middle:50,overBought:30};var uc=cc,pc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fc=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var dc=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":pc(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.yAccessorForD=n.yAccessorForD.bind(n),n.yAccessorForK=n.yAccessorForK.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":pc(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),fc(t,[{key:"yAccessorForD",value:function(e){var t=this.props.yAccessor;return t(e)&&t(e).D}},{key:"yAccessorForK",value:function(e){var t=this.props.yAccessor;return t(e)&&t(e).K}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.stroke,r=e.refLineOpacity,a=this.props,i=a.overSold,s=a.middle,l=a.overBought;return o.a.createElement("g",{className:t},o.a.createElement(As,{yAccessor:this.yAccessorForD,stroke:n.dLine,fill:"none"}),o.a.createElement(As,{yAccessor:this.yAccessorForK,stroke:n.kLine,fill:"none"}),o.a.createElement(Zl,{stroke:n.top,opacity:r,yValue:i}),o.a.createElement(Zl,{stroke:n.middle,opacity:r,yValue:s}),o.a.createElement(Zl,{stroke:n.bottom,opacity:r,yValue:l}))}}]),t}();dc.propTypes={className:f.a.string,yAccessor:f.a.func.isRequired,stroke:f.a.shape({top:f.a.string.isRequired,middle:f.a.string.isRequired,bottom:f.a.string.isRequired,dLine:f.a.string.isRequired,kLine:f.a.string.isRequired}).isRequired,overSold:f.a.number.isRequired,middle:f.a.number.isRequired,overBought:f.a.number.isRequired,refLineOpacity:f.a.number.isRequired},dc.defaultProps={className:"react-stockcharts-stochastic-series",stroke:{top:"#964B00",middle:"#000000",bottom:"#964B00",dLine:"#EA2BFF",kLine:"#74D400"},overSold:80,middle:50,overBought:20,refLineOpacity:.3};var hc=dc,mc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yc=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var bc=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":mc(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.renderSVG=n.renderSVG.bind(n),n.drawOnCanvas=n.drawOnCanvas.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":mc(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),yc(t,[{key:"drawOnCanvas",value:function(e,t){var n=this.props.yAccessor,r=vc(this.props,t,n);El(this.props,e,r)}},{key:"renderSVG",value:function(e){var t=this.props.yAccessor,n=vc(this.props,e,t);return o.a.createElement("g",{className:"react-stockcharts-bar-series"},kl(this.props,n))}},{key:"render",value:function(){var e=this.props.clip;return o.a.createElement(Ra,{svgDraw:this.renderSVG,canvasToDraw:Oa,canvasDraw:this.drawOnCanvas,clip:e,drawOn:["pan"]})}}]),t}();function vc(e,t,n){var r=t.xScale,o=t.xAccessor,a=t.chartConfig.yScale,i=t.plotData,s=e.baseAt,l=e.className,c=e.fill,u=e.stroke,p=Jr(l),f=Jr(c),d=Jr(s),h=Jr(e.width)(e,t),m=Math.floor(.5*h),y=i.map(function(e){for(var t=n.map(function(t,n){var i=t(e);if(!po(i)){var s=o(e),l=Math.round(r(s))-m,c=a(i);return{width:2*m,x:l,y:c,className:p(e,n),stroke:u?f(e,n):"none",fill:f(e,n),i:n}}}).filter(function(e){return uo(e)}),i=d(r,a,e),s=void 0,l=t.length-1;l>=0;l--)(s=i-t[l].y)<0&&(t[l].y=i,s*=-1),t[l].height=s,i=t[l].y;return t});return Object(Er.j)(y)}bc.propTypes={baseAt:f.a.oneOfType([f.a.number,f.a.func]).isRequired,direction:f.a.oneOf(["up","down"]).isRequired,stroke:f.a.bool.isRequired,widthRatio:f.a.number.isRequired,opacity:f.a.number.isRequired,fill:f.a.oneOfType([f.a.func,f.a.string]).isRequired,className:f.a.oneOfType([f.a.func,f.a.string]).isRequired,xAccessor:f.a.func,yAccessor:f.a.arrayOf(f.a.func),xScale:f.a.func,yScale:f.a.func,plotData:f.a.array,clip:f.a.bool.isRequired},bc.defaultProps={baseAt:function(e,t){return lo(t.range())},direction:"up",className:"bar",stroke:!1,fill:"#4682B4",opacity:1,widthRatio:.5,width:Br,clip:!0};var gc=bc,kc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wc=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Ec=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":kc(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.fillForEachBar=n.fillForEachBar.bind(n),n.yAccessorTop=n.yAccessorTop.bind(n),n.yAccessorBullTop=n.yAccessorBullTop.bind(n),n.yAccessorBearTop=n.yAccessorBearTop.bind(n),n.yAccessorBullBottom=n.yAccessorBullBottom.bind(n),n.yAccessorBearBottom=n.yAccessorBearBottom.bind(n),n.yAccessorForBarBase=n.yAccessorForBarBase.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":kc(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),wc(t,[{key:"yAccessorTop",value:function(e){var t=this.props.yAccessor;return t(e)&&Math.max(t(e).bullPower,0)}},{key:"yAccessorBullTop",value:function(e){var t=this.props.yAccessor;return t(e)&&(t(e).bullPower>0?t(e).bullPower:void 0)}},{key:"yAccessorBearTop",value:function(e){var t=this.props.yAccessor;return t(e)&&(t(e).bearPower>0?t(e).bearPower:void 0)}},{key:"yAccessorBullBottom",value:function(e){var t=this.props.yAccessor;return t(e)&&(t(e).bullPower<0?0:void 0)}},{key:"yAccessorBearBottom",value:function(e){var t=this.props.yAccessor;return t(e)&&(t(e).bullPower<0||t(e).bullPower*t(e).bearPower<0?Math.min(0,t(e).bullPower):void 0)}},{key:"yAccessorForBarBase",value:function(e,t,n){var r=this.props.yAccessor;return t(r(n)&&Math.min(r(n).bearPower,0))}},{key:"fillForEachBar",value:function(e,t){var n=this.props,r=n.bullPowerFill,o=n.bearPowerFill;return t%2==0?r:o}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.opacity,r=e.stroke,a=e.straightLineStroke,i=e.straightLineOpacity,s=e.widthRatio,l=this.props.clip;return o.a.createElement("g",{className:t},o.a.createElement(gc,{baseAt:this.yAccessorForBarBase,className:"react-stockcharts-elderray-bar",stroke:r,fill:this.fillForEachBar,opacity:n,widthRatio:s,clip:l,yAccessor:[this.yAccessorBullTop,this.yAccessorBearTop,this.yAccessorBullBottom,this.yAccessorBearBottom]}),o.a.createElement(Zl,{className:"react-stockcharts-elderray-straight-line",yValue:0,stroke:a,opacity:i}))}}]),t}();Ec.propTypes={className:f.a.string,yAccessor:f.a.func,opacity:f.a.number,stroke:f.a.bool,bullPowerFill:f.a.string,bearPowerFill:f.a.string,straightLineStroke:f.a.string,straightLineOpacity:f.a.number,widthRatio:f.a.number,clip:f.a.bool.isRequired},Ec.defaultProps={className:"react-stockcharts-elderray-series",straightLineStroke:"#000000",straightLineOpacity:.3,opacity:.5,stroke:!0,bullPowerFill:"#6BA583",bearPowerFill:"#FF0000",widthRatio:.8,clip:!0};var Sc=Ec,Oc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_c=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Cc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xc=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Pc=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":Oc(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.renderSVG=n.renderSVG.bind(n),n.drawOnCanvas=n.drawOnCanvas.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":Oc(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),xc(t,[{key:"drawOnCanvas",value:function(e,t){var n=t.xAccessor,r=t.width,o=Ac(this.props,t,n,r),a=o.rects,i=o.sessionBg;!function(e,t,n,r){var o=t.opacity,a=t.sessionBackGround,i=t.sessionBackGroundOpacity;t.showSessionBackground&&(e.fillStyle=bo(a,i),r.forEach(function(t){var n=t.x,r=t.y,o=t.height,a=t.width;e.beginPath(),e.rect(n,r,a,o),e.closePath(),e.fill()}));n.forEach(function(t){var n=t.x,r=t.y,a=t.height,i=t.w1,s=t.w2,l=t.stroke1,c=t.stroke2,u=t.fill1,p=t.fill2;i>0&&(e.fillStyle=bo(u,o),"none"!==l&&(e.strokeStyle=l),e.beginPath(),e.rect(n,r,i,a),e.closePath(),e.fill(),"none"!==l&&e.stroke()),s>0&&(e.fillStyle=bo(p,o),"none"!==c&&(e.strokeStyle=c),e.beginPath(),e.rect(n+i,r,s,a),e.closePath(),e.fill(),"none"!==c&&e.stroke())})}(e,this.props,a,i)}},{key:"render",value:function(){return o.a.createElement(Ra,{svgDraw:this.renderSVG,canvasDraw:this.drawOnCanvas,canvasToDraw:Oa,drawOn:["pan"]})}},{key:"renderSVG",value:function(e){var t=this.props,n=t.className,r=t.opacity,a=this.props,i=a.showSessionBackground,s=a.sessionBackGround,l=a.sessionBackGroundOpacity,c=e.xAccessor,u=e.width,p=Ac(this.props,e,c,u),f=p.rects,d=p.sessionBg,h=i?d.map(function(e,t){return o.a.createElement("rect",Cc({key:t},e,{opacity:l,fill:s}))}):null;return o.a.createElement("g",{className:n},h,f.map(function(e,t){return o.a.createElement("g",{key:t},o.a.createElement("rect",{x:e.x,y:e.y,width:e.w1,height:e.height,fill:e.fill1,stroke:e.stroke1,fillOpacity:r}),o.a.createElement("rect",{x:e.x+e.w1,y:e.y,width:e.w2,height:e.height,fill:e.fill2,stroke:e.stroke2,fillOpacity:r}))}))}}]),t}();function Ac(e,t,n,r){var o=t.xScale,a=t.chartConfig.yScale,i=t.plotData,s=e.sessionStart,l=e.bySession,c=e.partialStartOK,u=e.partialEndOK,p=e.bins,f=e.maxProfileWidthPercent,d=e.source,h=e.volume,m=e.absoluteChange,y=e.orient,b=e.fill,v=e.stroke,g=Nr().discardTillStart(!c).discardTillEnd(!u).accumulateTill(function(e,n){return s(Cc({d:e,i:n},t))}).accumulator(_r),k=i.length>1?o(n(i[1]))-o(n(so(i))):0,w=(l?g(i):[i]).map(function(e){var t=l?o(n(so(e))):0,i=l?o(n(co(e))):r,s=i-t+k,c=Object(Er.g)().value(d).thresholds(p),u=Object(ko.b)().key(function(e){return e.direction}).sortKeys("right"===y?Er.d:Er.a).rollup(function(e){return Object(Er.o)(e,function(e){return e.volume})}),g=c(e),w=g.map(function(e){return e.map(function(e){return m(e)>0?{direction:"up",volume:h(e)}:{direction:"down",volume:h(e)}})}).map(function(e){return u.entries(e)}),E=w.map(function(e){return Object(Er.o)(e.map(function(e){return e.value}))}),S=_c("right"===y?[t,t+s*f/100]:[i,i-s*(100-f)/100],2),O=S[0],_=S[1],C=Object(Sr.a)().domain([0,Object(Er.h)(E)]).range([O,_]),x=w.map(function(e){var t=Object(Er.o)(e,function(e){return e.value}),n=C(t),r=function(e){return so(e.range())}(C)-n;return{x:r<0?n+r:n,ws:e.map(function(e){return{type:e.key,width:e.value*Math.abs(r)/t}}),totalVolumeX:n}}),P=Object(Er.s)(g,x).map(function(e){var t=_c(e,2),n=t[0],o=t[1],i=o.x,s=o.ws,l=s[0]||{type:"up",width:0},c=s[1]||{type:"down",width:0};return{y:a(n.x1),height:a(n.x1)-a(n.x0),x:i,width:r,w1:l.width,w2:c.width,stroke1:Jr(v)(l),stroke2:Jr(v)(c),fill1:Jr(b)(l),fill2:Jr(b)(c)}});return{rects:P,sessionBg:{x:t,y:co(P).y,height:so(P).y-co(P).y+so(P).height,width:s}}});return{rects:Object(Er.j)(w.map(function(e){return e.rects})),sessionBg:w.map(function(e){return e.sessionBg})}}Pc.propTypes={className:f.a.string,opacity:f.a.number,showSessionBackground:f.a.bool,sessionBackGround:f.a.string,sessionBackGroundOpacity:f.a.number},Pc.defaultProps={className:"line ",bins:20,opacity:.5,maxProfileWidthPercent:50,fill:function(e){return"up"===e.type?"#6BA583":"#FF0000"},stroke:"#FFFFFF",showSessionBackground:!1,sessionBackGround:"#4682B4",sessionBackGroundOpacity:.3,source:function(e){return e.close},volume:function(e){return e.volume},absoluteChange:function(e){return e.absoluteChange},bySession:!1,sessionStart:function(e){var t=e.d,n=e.i,r=e.plotData;return n>0&&r[n-1].date.getMonth()!==t.date.getMonth()},orient:"left",partialStartOK:!0,partialEndOK:!0};var Tc=Pc,Dc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Rc=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Fc=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":Dc(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.renderSVG=n.renderSVG.bind(n),n.drawOnCanvas=n.drawOnCanvas.bind(n),n.isHover=n.isHover.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":Dc(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),Rc(t,[{key:"isHover",value:function(e){var t=e.mouseXY,n=e.currentItem,r=e.chartConfig.yScale,o=this.props.yAccessor,a=t[1],i=r(o(n));return a<i+5&&a>i-5}},{key:"drawOnCanvas",value:function(e,t){var n=this.props,r=n.yAccessor,o=n.fill,a=n.opacity,i=t.xAccessor,s=t.plotData,l=t.xScale,c=t.chartConfig.yScale,u=t.hovering,p=(l(i(co(s)))-l(i(lo(s))))/s.length*.5/2,f=Math.max(.5,p/2)+(u?2:0),d=Math.min(2,Math.max(.5,p))+0;s.forEach(function(t){var n=l(i(t)),s=c(r(t)),u=r(t)>t.close?o.falling:o.rising;e.fillStyle=bo(u,a),e.strokeStyle=u,e.beginPath(),e.ellipse(n,s,f,d,0,0,2*Math.PI),e.closePath(),e.fill(),e.stroke()})}},{key:"renderSVG",value:function(e){var t=this.props,n=t.className,r=t.yAccessor,a=e.xAccessor,i=e.plotData,s=e.xScale,l=e.chartConfig.yScale;return o.a.createElement("g",{className:n},i.filter(function(e){return uo(r(e))}).map(function(e,t){return o.a.createElement("circle",{key:t,cx:s(a(e)),cy:l(r(e)),r:3,fill:"green"})}))}},{key:"render",value:function(){var e=this.props.highlightOnHover?{isHover:this.isHover,drawOn:["mousemove","pan"],canvasToDraw:_a}:{drawOn:["pan"],canvasToDraw:Oa};return o.a.createElement(Ra,jc({svgDraw:this.renderSVG,canvasDraw:this.drawOnCanvas,onClickWhenHover:this.props.onClick,onDoubleClickWhenHover:this.props.onDoubleClick,onContextMenuWhenHover:this.props.onContextMenu},e))}}]),t}();Fc.propTypes={className:f.a.string,fill:f.a.object.isRequired,yAccessor:f.a.func.isRequired,opacity:f.a.number.isRequired,onClick:f.a.func,onDoubleClick:f.a.func,onContextMenu:f.a.func,highlightOnHover:f.a.bool},Fc.defaultProps={className:"react-stockcharts-sar",fill:{falling:"#4682B4",rising:"#15EC2E"},highlightOnHover:!0,opacity:.2,onClick:function(e){console.log("Click",e)},onDoubleClick:function(e){console.log("Double Click",e)},onContextMenu:function(e){console.log("Right Click",e)}};var Nc=Fc,qc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function Ic(e){var t=e.className,n=Mc(e);if(null===n)return null;var r=void 0,a=void 0,i=void 0;if(uo(n.line)&&(r=o.a.createElement("line",{className:"react-stockcharts-cross-hair",strokeOpacity:n.line.opacity,stroke:n.line.stroke,strokeDasharray:Wr(n.line.strokeDasharray),x1:n.line.x1,y1:n.line.y1,x2:n.line.x2,y2:n.line.y2})),uo(n.coordinateBase)){var s=n.coordinateBase,l=s.rectWidth,c=s.rectHeight,u=s.arrowWidth,p="left"===n.orient?"M0,0L0,"+c+"L"+l+","+c+"L"+(l+u)+",10L"+l+",0L0,0L0,0":"M0,"+u+"L"+u+","+c+"L"+(l+u)+","+c+"L"+(l+u)+",0L"+u+",0L0,"+u;a="left"===n.orient||"right"===n.orient?o.a.createElement("g",{key:1,transform:"translate("+n.coordinateBase.edgeXRect+","+n.coordinateBase.edgeYRect+")"},o.a.createElement("path",{d:p,className:"react-stockchart-text-background",height:c,width:l,stroke:n.coordinateBase.stroke,strokeLinejoin:"miter",strokeOpacity:n.coordinateBase.strokeOpacity,strokeWidth:n.coordinateBase.strokeWidth,fill:n.coordinateBase.fill,fillOpacity:n.coordinateBase.opacity})):o.a.createElement("rect",{key:1,className:"react-stockchart-text-background",x:n.coordinateBase.edgeXRect,y:n.coordinateBase.edgeYRect,height:c,width:l,fill:n.coordinateBase.fill,opacity:n.coordinateBase.opacity}),i=o.a.createElement("text",{key:2,x:n.coordinate.edgeXText,y:n.coordinate.edgeYText,textAnchor:n.coordinate.textAnchor,fontFamily:n.coordinate.fontFamily,fontSize:n.coordinate.fontSize,dy:".32em",fill:n.coordinate.textFill},n.coordinate.displayCoordinate)}return o.a.createElement("g",{className:t},r,a,i)}function Mc(e){var t=e.coordinate,n=e.show,r=e.type,o=e.orient,a=e.edgeAt,i=e.hideLine,s=e.lineStrokeDasharray,l=e.fill,c=e.opacity,u=e.fontFamily,p=e.fontSize,f=e.textFill,d=e.lineStroke,h=e.lineOpacity,m=e.stroke,y=e.strokeOpacity,b=e.strokeWidth,v=e.arrowWidth,g=e.rectWidth,k=e.rectHeight,w=e.rectRadius,E=e.x1,S=e.y1,O=e.x2,_=e.y2,C=e.dx;if(!n)return null;var x=void 0,P=void 0;if(uo(t)){var A=void 0,T=void 0,D=void 0,j=void 0;if("horizontal"===r)A=C+("right"===o?a+1:a-g-1),T=S-k/2-b,D=C+("right"===o?a+g/2:a-g/2),j=S;else{var R="bottom"===o?b-1:1-b;A=E-g/2,T=("bottom"===o?a:a-k)+R,D=E,j=("bottom"===o?a+k/2:a-k/2)+R}x={edgeXRect:A,edgeYRect:T,rectHeight:k+b,rectWidth:g,rectRadius:w,fill:l,opacity:c,arrowWidth:v,stroke:m,strokeOpacity:y,strokeWidth:b},P={edgeXText:D,edgeYText:j,textAnchor:"middle",fontFamily:u,fontSize:p,textFill:f,displayCoordinate:t}}return{coordinateBase:x,coordinate:P,line:i?void 0:{opacity:h,stroke:d,strokeDasharray:s,x1:E,y1:S,x2:O,y2:_},orient:o}}function Lc(e,t){var n=t.fontSize,r=t.fontFamily;e.font=n+"px "+r,e.textBaseline="middle";var o=Math.round(e.measureText(t.coordinate).width+10),a=Mc(qc({},t,{rectWidth:o}));if(null!==a){if(uo(a.line)){var i=Wr(a.line.strokeDasharray).split(",").map(function(e){return+e});e.setLineDash(i),e.strokeStyle=bo(a.line.stroke,a.line.opacity),e.lineWidth=1,e.beginPath(),e.moveTo(a.line.x1,a.line.y1),e.lineTo(a.line.x2,a.line.y2),e.stroke()}if(e.setLineDash([]),uo(a.coordinateBase)){var s=a.coordinateBase,l=s.rectWidth,c=s.rectHeight,u=s.rectRadius,p=s.arrowWidth;e.fillStyle=bo(a.coordinateBase.fill,a.coordinateBase.opacity),uo(a.coordinateBase.stroke)&&(e.strokeStyle=bo(a.coordinateBase.stroke,a.coordinateBase.strokeOpacity),e.lineWidth=a.coordinateBase.strokeWidth);var f=a.coordinateBase.edgeXRect,d=a.coordinateBase.edgeYRect,h=c/2;e.beginPath(),"right"===a.orient?(f-=p,e.moveTo(f,d+h),e.lineTo(f+p,d),e.lineTo(f+l+p,d),e.lineTo(f+l+p,d+c),e.lineTo(f+p,d+c),e.closePath()):"left"===a.orient?(e.moveTo(f,d),e.lineTo(f+l,d),e.lineTo(f+l+p,d+h),e.lineTo(f+l,d+c),e.lineTo(f,d+c),e.closePath()):u?function(e,t,n,r,o,a){e.beginPath(),e.moveTo(t+a,n),e.lineTo(t+r-a,n),e.quadraticCurveTo(t+r,n,t+r,n+a),e.lineTo(t+r,n+o-a),e.quadraticCurveTo(t+r,n+o,t+r-a,n+o),e.lineTo(t+a,n+o),e.quadraticCurveTo(t,n+o,t,n+o-a),e.lineTo(t,n+a),e.quadraticCurveTo(t,n,t+a,n),e.closePath()}(e,f,d,l,c,3):e.rect(f,d,l,c),e.fill(),uo(a.coordinateBase.stroke)&&e.stroke(),e.fillStyle=a.coordinate.textFill,e.textAlign="middle"===a.coordinate.textAnchor?"center":a.coordinate.textAnchor,e.fillText(a.coordinate.displayCoordinate,a.coordinate.edgeXText,a.coordinate.edgeYText)}}}var Bc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wc=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Hc=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":Bc(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.renderSVG=n.renderSVG.bind(n),n.drawOnCanvas=n.drawOnCanvas.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":Bc(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),Wc(t,[{key:"drawOnCanvas",value:function(e,t){var n=zc(this.props,t);Lc(e,Vc({},this.props,n))}},{key:"renderSVG",value:function(e){var t=zc(this.props,e);return Ic(Vc({},this.props,t))}},{key:"render",value:function(){return o.a.createElement(Ra,{edgeClip:!0,clip:!1,svgDraw:this.renderSVG,canvasDraw:this.drawOnCanvas,canvasToDraw:Oa,drawOn:["pan"]})}}]),t}();function zc(e,t){var n=e.itemType,r=e.yAccessor,o=t.plotData,a="first"===n?lo(o,r):co(o,r);return uo(a)?function(e,t,n){var r=e.type,o=e.displayFormat,a=e.edgeAt,i=e.yAxisPad,s=e.orient,l=e.lineStroke,c=e.yAccessor,u=e.fill,p=e.textFill,f=e.rectHeight,d=e.rectWidth,h=e.arrowWidth,m=e.fontFamily,y=e.fontSize,b=e.stroke,v=t.xScale,g=t.chartConfig.yScale,k=t.xAccessor,w=t.width,E=c(n),S=k(n),O=Math.round(v(S)),_=Math.round(g(E)),C=w,x="left"===a?0-i:C+i;return{coordinate:o(E),show:!0,type:r,orient:s,edgeAt:x,fill:Jr(u)(n),lineStroke:Jr(l)(n),stroke:Jr(b)(n),fontFamily:m,fontSize:y,textFill:Jr(p)(n),rectHeight:f,rectWidth:d,arrowWidth:h,x1:O,y1:_,x2:C,y2:_}}(e,t,a):null}Hc.propTypes={yAccessor:f.a.func,type:f.a.oneOf(["horizontal"]),className:f.a.string,fill:f.a.oneOfType([f.a.string,f.a.func]),lineStroke:f.a.oneOfType([f.a.string,f.a.func]),textFill:f.a.oneOfType([f.a.string,f.a.func]),itemType:f.a.oneOf(["first","last"]).isRequired,orient:f.a.oneOf(["left","right"]),edgeAt:f.a.oneOf(["left","right"]),displayFormat:f.a.func,rectHeight:f.a.number,rectWidth:f.a.number,arrowWidth:f.a.number,lineStrokeDasharray:f.a.oneOf(Vr)},Hc.defaultProps={className:"react-stockcharts-edgeindicator",type:"horizontal",orient:"left",edgeAt:"left",textFill:"#FFFFFF",displayFormat:Object(kr.a)(".2f"),yAxisPad:0,rectHeight:20,rectWidth:50,arrowWidth:10,fontFamily:"Helvetica Neue, Helvetica, Arial, sans-serif",fontSize:13,dx:0,hideLine:!1,fill:"#8a8a8a",opacity:1,stroke:Or,strokeOpacity:1,strokeWidth:3,lineStroke:"#000000",lineOpacity:.3,lineStrokeDasharray:"ShortDash"};var Uc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yc=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Gc=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":Uc(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.renderSVG=n.renderSVG.bind(n),n.drawOnCanvas=n.drawOnCanvas.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":Uc(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),Yc(t,[{key:"drawOnCanvas",value:function(e,t){var n=Qc(this.props,t);if(!n)return null;e.fillStyle=n.fill,e.beginPath(),e.arc(n.x,n.y,n.r,0,2*Math.PI,!1),e.fill()}},{key:"renderSVG",value:function(e){var t=this.props.className,n=Qc(this.props,e);if(!n)return null;var r=n.fill instanceof Function?n.fill(e.currentItem):n.fill;return o.a.createElement("circle",{className:t,cx:n.x,cy:n.y,r:n.r,fill:r})}},{key:"render",value:function(){return o.a.createElement(Ra,{svgDraw:this.renderSVG,canvasDraw:this.drawOnCanvas,canvasToDraw:_a,drawOn:["mousemove","pan"]})}}]),t}();function Qc(e,t){var n=e.fill,r=e.yAccessor,o=e.r,a=t.show,i=t.xScale,s=t.chartConfig.yScale,l=t.currentItem,c=t.xAccessor;if(!a||po(l))return null;var u=c(l),p=r(l);return po(p)?null:{x:Math.round(i(u)),y:Math.round(s(p)),r:o,fill:n}}Gc.propTypes={yAccessor:f.a.func,r:f.a.number.isRequired,className:f.a.string},Gc.defaultProps={r:3,className:"react-stockcharts-current-coordinate"};var Xc=Gc,Jc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kc=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Zc=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":Jc(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.renderSVG=n.renderSVG.bind(n),n.drawOnCanvas=n.drawOnCanvas.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":Jc(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),Kc(t,[{key:"drawOnCanvas",value:function(e,t){var n=$c(this.props,t);if(po(n))return null;Lc(e,n)}},{key:"renderSVG",value:function(e){var t=$c(this.props,e);return po(t)?null:Ic(t)}},{key:"render",value:function(){return o.a.createElement(Ra,{svgDraw:this.renderSVG,clip:!1,canvasDraw:this.drawOnCanvas,canvasToDraw:_a,drawOn:["mousemove","pan","drag"]})}}]),t}();function $c(e,t){var n=t.show,r=t.currentItem,o=t.chartConfig.height;if(po(r))return null;var a=e.customX,i=e.orient,s=e.at,l=e.stroke,c=e.strokeOpacity,u=e.strokeWidth,p=e.rectRadius,f=e.rectWidth,d=e.rectHeight,h=e.fill,m=e.opacity,y=e.fontFamily,b=e.fontSize,v=e.textFill,g="bottom"===s?o:0,k=a(e,t),w=k.x;return{coordinate:k.coordinate,show:n,type:"vertical",orient:i,edgeAt:g,hideLine:!0,fill:h,opacity:m,fontFamily:y,fontSize:b,textFill:v,stroke:l,strokeOpacity:c,strokeWidth:u,rectWidth:f,rectHeight:d,rectRadius:p,arrowWidth:0,x1:w,x2:w,y1:0,y2:o}}Zc.propTypes={displayFormat:f.a.func.isRequired,yAxisPad:f.a.number,rectWidth:f.a.number,rectHeight:f.a.number,orient:f.a.oneOf(["bottom","top","left","right"]),at:f.a.oneOf(["bottom","top","left","right"]),fill:f.a.string,opacity:f.a.number,fontFamily:f.a.string,fontSize:f.a.number,textFill:f.a.string,snapX:f.a.bool},Zc.defaultProps={yAxisPad:0,rectWidth:80,rectHeight:20,strokeOpacity:1,strokeWidth:1,orient:"bottom",at:"bottom",fill:"#525252",opacity:1,fontFamily:"Helvetica Neue, Helvetica, Arial, sans-serif",fontSize:13,textFill:"#FFFFFF",snapX:!0,customX:function(e,t){var n=t.xScale,r=t.xAccessor,o=t.currentItem,a=t.mouseXY,i=e.snapX,s=i?n(r(o)):a[0],l=t.displayXAccessor,c=e.displayFormat;return{x:s,coordinate:c(i?l(o):n.invert(s))}}};var eu=Zc,tu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nu=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var ru=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":tu(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.renderSVG=n.renderSVG.bind(n),n.drawOnCanvas=n.drawOnCanvas.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":tu(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),nu(t,[{key:"drawOnCanvas",value:function(e,t){var n=ou(this.props,t);if(po(n))return null;Lc(e,n)}},{key:"renderSVG",value:function(e){var t=ou(this.props,e);return po(t)?null:Ic(t)}},{key:"render",value:function(){return o.a.createElement(Ra,{clip:!1,svgDraw:this.renderSVG,canvasDraw:this.drawOnCanvas,canvasToDraw:_a,drawOn:["mousemove","pan","drag"]})}}]),t}();function ou(e,t){var n=t.chartId,r=t.currentCharts,o=t.mouseXY;if(po(o))return null;if(r.indexOf(n)<0)return null;if(!t.show)return null;var a=o[1],i=t.chartConfig.yScale;return au(a,(0,e.displayFormat)(i.invert(a)),e,t)}function au(e,t,n,r){var o=r.width,a=n.orient,i=n.at,s=n.rectWidth,l=n.rectHeight,c=n.dx,u=n.fill,p=n.opacity,f=n.fontFamily,d=n.fontSize,h=n.textFill,m=n.arrowWidth,y=n.stroke,b=n.strokeOpacity,v=n.strokeWidth;return{coordinate:t,show:!0,type:"horizontal",orient:a,edgeAt:"right"===i?o:0,hideLine:!0,fill:u,opacity:p,fontFamily:f,fontSize:d,textFill:h,stroke:y,strokeOpacity:b,strokeWidth:v,rectWidth:s,rectHeight:l,arrowWidth:m,dx:c,x1:0,x2:o,y1:e,y2:e}}ru.propTypes={displayFormat:f.a.func.isRequired,yAxisPad:f.a.number,rectWidth:f.a.number,rectHeight:f.a.number,orient:f.a.oneOf(["bottom","top","left","right"]),at:f.a.oneOf(["bottom","top","left","right"]),dx:f.a.number,fill:f.a.string,opacity:f.a.number,fontFamily:f.a.string,fontSize:f.a.number,textFill:f.a.string},ru.defaultProps={yAxisPad:0,rectWidth:50,rectHeight:20,orient:"left",at:"left",dx:0,arrowWidth:10,fill:"#525252",opacity:1,fontFamily:"Helvetica Neue, Helvetica, Arial, sans-serif",fontSize:13,textFill:"#FFFFFF",strokeOpacity:1,strokeWidth:1};var iu=ru,su="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cu=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var uu=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":su(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.renderSVG=n.renderSVG.bind(n),n.drawOnCanvas=n.drawOnCanvas.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":su(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),cu(t,[{key:"drawOnCanvas",value:function(e,t){var n=pu(this.props,t);if(uo(n)){var r=this.context,o=r.margin,a=r.ratio,i=.5*a+o.left,s=.5*a+o.top;e.save(),e.setTransform(1,0,0,1,0,0),e.scale(a,a),e.translate(i,s),n.forEach(function(t){var n=Wr(t.strokeDasharray).split(",").map(function(e){return+e});e.strokeStyle=bo(t.stroke,t.opacity),e.setLineDash(n),e.beginPath(),e.moveTo(t.x1,t.y1),e.lineTo(t.x2,t.y2),e.stroke()}),e.restore()}}},{key:"renderSVG",value:function(e){var t=this.props.className,n=pu(this.props,e);return po(n)?null:o.a.createElement("g",{className:"react-stockcharts-crosshair "+t},n.map(function(e,t){var n=e.strokeDasharray,r=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["strokeDasharray"]);return o.a.createElement("line",lu({key:t,strokeDasharray:Wr(n)},r))}))}},{key:"render",value:function(){return o.a.createElement(Sa,{svgDraw:this.renderSVG,clip:!1,canvasDraw:this.drawOnCanvas,canvasToDraw:_a,drawOn:["mousemove","pan","drag"]})}}]),t}();function pu(e,t){var n=t.mouseXY,r=t.currentItem,o=t.show,a=t.height,i=t.width,s=e.customX,l=e.stroke,c=e.opacity,u=e.strokeDasharray;if(!o||po(r))return null;var p={x1:0,x2:i,y1:n[1],y2:n[1],stroke:l,strokeDasharray:u,opacity:c},f=s(e,t);return[p,{x1:f,x2:f,y1:0,y2:a,stroke:l,strokeDasharray:u,opacity:c}]}uu.propTypes={className:f.a.string,strokeDasharray:f.a.oneOf(Vr)},uu.contextTypes={margin:f.a.object.isRequired,ratio:f.a.number.isRequired},uu.defaultProps={stroke:"#000000",opacity:.3,strokeDasharray:"ShortDash",snapX:!0,customX:function(e,t){var n=t.xScale,r=t.xAccessor,o=t.currentItem,a=t.mouseXY;return e.snapX?Math.round(n(r(o))):a[0]}};var fu=uu,du="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hu=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),mu=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var yu=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":du(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.renderSVG=n.renderSVG.bind(n),n.drawOnCanvas=n.drawOnCanvas.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":du(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),mu(t,[{key:"drawOnCanvas",value:function(e,t){Lc(e,bu(this.props,t))}},{key:"renderSVG",value:function(e){return Ic(bu(this.props,e))}},{key:"render",value:function(){return o.a.createElement(Ra,{clip:!1,svgDraw:this.renderSVG,canvasDraw:this.drawOnCanvas,canvasToDraw:Oa,drawOn:["pan"]})}}]),t}();function bu(e,t){var n=t.width,r=t.chartConfig.yScale,o=r.domain(),a=hu(o,2),i=a[0],s=a[1],l=e.price,c=e.stroke,u=e.strokeDasharray,p=e.strokeOpacity,f=e.strokeWidth,d=e.orient,h=e.at,m=e.rectWidth,y=e.rectHeight,b=e.displayFormat,v=e.dx,g=e.fill,k=e.opacity,w=e.fontFamily,E=e.fontSize,S=e.textFill,O=e.arrowWidth,_=e.lineOpacity,C=e.lineStroke,x=n,P="right"===h?n:0,A=r(l),T=l<=s&&l>=i;return{coordinate:b(r.invert(A)),show:T,type:"horizontal",orient:d,edgeAt:P,hideLine:!1,lineOpacity:_,lineStroke:C,lineStrokeDasharray:u,stroke:c,strokeOpacity:p,strokeWidth:f,fill:Jr(g)(l),textFill:Jr(S)(l),opacity:k,fontFamily:w,fontSize:E,rectWidth:m,rectHeight:y,arrowWidth:O,dx:v,x1:0,x2:x,y1:A,y2:A}}yu.propTypes={displayFormat:f.a.func.isRequired,yAxisPad:f.a.number,rectWidth:f.a.number,rectHeight:f.a.number,orient:f.a.oneOf(["bottom","top","left","right"]),at:f.a.oneOf(["bottom","top","left","right"]),price:f.a.number,dx:f.a.number,arrowWidth:f.a.number,opacity:f.a.number,lineOpacity:f.a.number,lineStroke:f.a.string,fontFamily:f.a.string,fontSize:f.a.number,fill:f.a.oneOfType([f.a.string,f.a.func]),strokeDasharray:f.a.oneOf(Vr),stroke:f.a.string,strokeOpacity:f.a.number,strokeWidth:f.a.number,textFill:f.a.oneOfType([f.a.string,f.a.func])},yu.defaultProps={yAxisPad:0,rectWidth:50,rectHeight:20,orient:"left",at:"left",price:0,dx:0,arrowWidth:0,fill:"#BAB8b8",opacity:1,lineOpacity:.2,lineStroke:"#000000",fontFamily:"Helvetica Neue, Helvetica, Arial, sans-serif",fontSize:13,textFill:"#FFFFFF",strokeOpacity:1,strokeWidth:1,strokeDasharray:"Solid"};var vu=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),gu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function ku(e,t,n,r){return uo(e)&&e.index===t?e[n]:r}function wu(){this.setState({current:null,override:null})}function Eu(e){var t=this;return function(n){po(n)&&uo(t.nodes[e])?delete t.nodes[e]:t.nodes[e]=n}}function Su(e){return function(t){if(uo(this.nodes)){var n=this.nodes.map(function(e){return e.isHover(t)});return this.props[e].map(function(e,t){return gu({},e,{selected:n[t]})})}}}function Ou(e){return go(this.nodes,function(t){return t.isHover(e)}).reduce(function(e,t){return e||t})}function _u(e,t){var n=Kr(e.chartConfig,function(e){return e.id===t}),r=function(e,t){var n=vu(t,2),r=n[0],o=n[1];if(Array.isArray(e.mouseXY)){var a=vu(e.mouseXY,2);return[a[0]-r,a[1]-o]}return e.mouseXY}(e,n.origin);return gu({},e,{chartConfig:n,mouseXY:r})}var Cu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xu=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Pu=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Au=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":Cu(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.renderSVG=n.renderSVG.bind(n),n.drawOnCanvas=n.drawOnCanvas.bind(n),n.isHover=n.isHover.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":Cu(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),Pu(t,[{key:"isHover",value:function(e){var t=this.props,n=t.tolerance;if(uo(t.onHover)){var r=this.props,o=r.x1Value,a=r.x2Value,i=r.y1Value,s=r.y2Value,l=r.type;return Du({x1Value:o,y1Value:i,x2Value:a,y2Value:s,mouseXY:e.mouseXY,type:l,tolerance:n,xScale:e.xScale,yScale:e.chartConfig.yScale})}return!1}},{key:"drawOnCanvas",value:function(e,t){var n=this.props,r=n.stroke,o=n.strokeWidth,a=n.strokeOpacity,i=n.strokeDasharray,s=ju(this.props,t),l=s.x1,c=s.y1,u=s.x2,p=s.y2;e.lineWidth=o,e.strokeStyle=bo(r,a),e.setLineDash(Wr(i).split(",")),e.beginPath(),e.moveTo(l,c),e.lineTo(u,p),e.stroke()}},{key:"renderSVG",value:function(e){var t=this.props,n=t.stroke,r=t.strokeWidth,a=t.strokeOpacity,i=t.strokeDasharray,s=r,l=ju(this.props,e),c=l.x1,u=l.y1,p=l.x2,f=l.y2;return o.a.createElement("line",{x1:c,y1:u,x2:p,y2:f,stroke:n,strokeWidth:s,strokeDasharray:Wr(i),strokeOpacity:a})}},{key:"render",value:function(){var e=this.props,t=e.selected,n=e.interactiveCursorClass,r=this.props,a=r.onDragStart,i=r.onDrag,s=r.onDragComplete,l=r.onHover,c=r.onUnHover;return o.a.createElement(Ra,{isHover:this.isHover,svgDraw:this.renderSVG,canvasToDraw:_a,canvasDraw:this.drawOnCanvas,interactiveCursorClass:n,selected:t,onDragStart:a,onDrag:i,onDragComplete:s,onHover:l,onUnHover:c,drawOn:["mousemove","pan","drag"]})}}]),t}();function Tu(e,t,n,r){var o=xu(n,2),a=o[0],i=o[1],s=Ru(e,t);if(uo(s)){var l=s*a+Fu(s,t);return i<l+r&&i>l-r&&a>Math.min(e[0],t[0])-r&&a<Math.max(e[0],t[0])+r}return i>=Math.min(e[1],t[1])&&i<=Math.max(e[1],t[1])&&a<e[0]+r&&a>e[0]-r}function Du(e){var t=e.x1Value,n=e.y1Value,r=e.x2Value,o=e.y2Value,a=e.mouseXY,i=e.type,s=e.tolerance,l=e.xScale,c=e.yScale,u=Nu({type:i,start:[t,n],end:[r,o],xScale:l,yScale:c}),p=[l(u.x1),c(u.y1)],f=[l(u.x2),c(u.y2)],d=Ru(p,f),h=xu(a,2),m=h[0],y=h[1];if(uo(d)){var b=d*m+Fu(d,f);return y<b+s&&y>b-s&&m>Math.min(p[0],f[0])-s&&m<Math.max(p[0],f[0])+s}return y>=Math.min(p[1],f[1])&&y<=Math.max(p[1],f[1])&&m<p[0]+s&&m>p[0]-s}function ju(e,t){var n=e.x1Value,r=e.x2Value,o=e.y1Value,a=e.y2Value,i=e.type,s=t.xScale,l=t.chartConfig.yScale,c=Nu({type:i,start:[n,o],end:[r,a],xScale:s,yScale:l});return{x1:s(c.x1),y1:l(c.y1),x2:s(c.x2),y2:l(c.y2)}}function Ru(e,t){return t[0]===e[0]?void 0:(t[1]-e[1])/(t[0]-e[0])}function Fu(e,t){return-1*e*t[0]+t[1]}function Nu(e){var t=e.type,n=e.start,r=e.end,o=e.xScale,a=e.yScale,i=Ru(n,r),s=Fu(i,n);switch(t){case"XLINE":return function(e){var t=e.start,n=e.end,r=e.xScale,o=e.yScale,a=e.m,i=e.b,s=r.domain(),l=xu(s,2),c=l[0],u=l[1],p=o.domain(),f=xu(p,2),d=f[0],h=f[1];if(n[0]===t[0])return{x1:n[0],y1:d,x2:n[0],y2:h};var m=n[0]>t[0]?[c,u]:[u,c],y=xu(m,2),b=y[0],v=y[1];return{x1:b,y1:a*b+i,x2:v,y2:a*v+i}}({type:t,start:n,end:r,xScale:o,yScale:a,m:i,b:s});case"RAY":return function(e){var t=e.start,n=e.end,r=e.xScale,o=e.yScale,a=e.m,i=e.b,s=r.domain(),l=xu(s,2),c=l[0],u=l[1],p=o.domain(),f=xu(p,2),d=f[0],h=f[1],m=t[0];if(n[0]===t[0])return{x1:m,y1:t[1],x2:m,y2:n[1]>t[1]?h:d};var y=n[0]>t[0]?u:c;return{x1:m,y1:a*m+i,x2:y,y2:a*y+i}}({type:t,start:n,end:r,xScale:o,yScale:a,m:i,b:s});case"LINE":return function(e){var t=e.start,n=e.end,r=xu(t,2),o=r[0],a=r[1],i=xu(n,2),s=i[0],l=i[1];if(n[0]===t[0])return{x1:o,y1:t[1],x2:o,y2:n[1]};return{x1:o,y1:a,x2:s,y2:l}}({type:t,start:n,end:r,xScale:o,yScale:a,m:i,b:s})}}Au.propTypes={x1Value:f.a.any.isRequired,x2Value:f.a.any.isRequired,y1Value:f.a.any.isRequired,y2Value:f.a.any.isRequired,interactiveCursorClass:f.a.string,stroke:f.a.string.isRequired,strokeWidth:f.a.number.isRequired,strokeOpacity:f.a.number.isRequired,strokeDasharray:f.a.oneOf(Vr),type:f.a.oneOf(["XLINE","RAY","LINE"]).isRequired,onEdge1Drag:f.a.func.isRequired,onEdge2Drag:f.a.func.isRequired,onDragStart:f.a.func.isRequired,onDrag:f.a.func.isRequired,onDragComplete:f.a.func.isRequired,onHover:f.a.func,onUnHover:f.a.func,defaultClassName:f.a.string,r:f.a.number.isRequired,edgeFill:f.a.string.isRequired,edgeStroke:f.a.string.isRequired,edgeStrokeWidth:f.a.number.isRequired,withEdge:f.a.bool.isRequired,children:f.a.func.isRequired,tolerance:f.a.number.isRequired,selected:f.a.bool.isRequired},Au.defaultProps={onEdge1Drag:Or,onEdge2Drag:Or,onDragStart:Or,onDrag:Or,onDragComplete:Or,edgeStrokeWidth:3,edgeStroke:"#000000",edgeFill:"#FFFFFF",r:10,withEdge:!1,strokeWidth:1,strokeDasharray:"Solid",children:Or,tolerance:7,selected:!1};var qu=Au,Iu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mu=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Lu=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Bu=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":Iu(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.saveNode=n.saveNode.bind(n),n.renderSVG=n.renderSVG.bind(n),n.drawOnCanvas=n.drawOnCanvas.bind(n),n.isHover=n.isHover.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":Iu(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),Lu(t,[{key:"saveNode",value:function(e){this.node=e}},{key:"isHover",value:function(e){var t=e.mouseXY,n=this.props.r+7,r=Vu(this.props,e),o=Mu(r,2),a=o[0],i=o[1],s=Mu(t,2),l=s[0],c=s[1];return a-n<l&&l<a+n&&i-n<c&&c<i+n}},{key:"drawOnCanvas",value:function(e,t){var n=this.props,r=n.stroke,o=n.strokeWidth,a=n.fill,i=this.props,s=i.fillOpacity,l=i.strokeOpacity,c=this.props.r,u=Vu(this.props,t),p=Mu(u,2),f=p[0],d=p[1];e.lineWidth=o,e.fillStyle=bo(a,s),e.strokeStyle=bo(r,l),e.beginPath(),e.arc(f,d,c,0,2*Math.PI,!1),e.fill(),e.stroke()}},{key:"renderSVG",value:function(e){var t=this.props,n=t.stroke,r=t.strokeWidth,a=t.fill,i=this.props,s=i.fillOpacity,l=i.strokeOpacity,c=this.props.r,u=Vu(this.props,e),p=Mu(u,2),f=p[0],d=p[1];return o.a.createElement("circle",{cx:f,cy:d,r:c,strokeWidth:r,stroke:n,strokeOpacity:l,fill:a,fillOpacity:s})}},{key:"render",value:function(){var e=this.props.interactiveCursorClass,t=this.props.show,n=this.props,r=n.onDragStart,a=n.onDrag,i=n.onDragComplete;return t?o.a.createElement(Ra,{ref:this.saveNode,interactiveCursorClass:e,selected:!0,isHover:this.isHover,onDragStart:r,onDrag:a,onDragComplete:i,svgDraw:this.renderSVG,canvasDraw:this.drawOnCanvas,canvasToDraw:_a,drawOn:["pan","mousemove","drag"]}):null}}]),t}();function Vu(e,t){var n=e.xyProvider,r=e.cx,o=e.cy;if(uo(n))return n(t);var a=t.xScale,i=t.chartConfig.yScale;return[a(r),i(o)]}Bu.propTypes={xyProvider:f.a.func,onDragStart:f.a.func.isRequired,onDrag:f.a.func.isRequired,onDragComplete:f.a.func.isRequired,strokeWidth:f.a.number.isRequired,stroke:f.a.string.isRequired,fill:f.a.string.isRequired,r:f.a.number.isRequired,cx:f.a.number,cy:f.a.number,className:f.a.string.isRequired,show:f.a.bool.isRequired,strokeOpacity:f.a.number.isRequired,fillOpacity:f.a.number.isRequired,interactiveCursorClass:f.a.string},Bu.defaultProps={className:"react-stockcharts-interactive-line-edge",onDragStart:Or,onDrag:Or,onDragComplete:Or,onMove:Or,show:!1,fillOpacity:1,strokeOpacity:1};var Wu=Bu,Hu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zu=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Uu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yu=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Gu=10,Qu=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":Hu(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.renderSVG=n.renderSVG.bind(n),n.drawOnCanvas=n.drawOnCanvas.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":Hu(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),Yu(t,[{key:"drawOnCanvas",value:function(e,t){var n=this.props,r=n.fontFamily,o=n.fontSize,a=n.fill,i=n.bgFill,s=n.bgOpacity,l=Xu(this.props,t);if(uo(l)){var c=l.rect,u=l.text;e.strokeStyle=i,e.fillStyle=bo(i,s),e.beginPath(),e.rect(c.x,c.y,c.width,c.height),e.fill(),e.stroke(),e.font=o+"px "+r,e.fillStyle=a,e.beginPath(),e.fillText(u.text,u.x,u.y)}}},{key:"renderSVG",value:function(e){var t=this.props,n=t.fontFamily,r=t.fontSize,a=t.fill,i=t.bgFill,s=t.bgOpacity,l=Xu(this.props,e);if(uo(l)){var c=l.rect,u=l.text;return o.a.createElement("g",null,o.a.createElement("rect",Uu({fill:i,fillOpacity:s,stroke:i},c)),o.a.createElement("text",{fontSize:r,fontFamily:n,textAnchor:"start",fill:a,x:u.x,y:u.y},u.text))}}},{key:"render",value:function(){return o.a.createElement(Ra,{foo:!0,svgDraw:this.renderSVG,canvasToDraw:_a,canvasDraw:this.drawOnCanvas,drawOn:["mousemove"]})}}]),t}();function Xu(e,t){var n=e.show,r=e.fontSize,o=e.bgWidth,a=e.bgHeight,i=t.mouseXY,s=t.chartConfig,l=s.height,c=s.width,u=t.show;if(n&&u){var p=zu(i,2),f=p[0],d=p[1],h=f<c/2?f+Gu:f-o-Gu,m=d<l/2?d+Gu:d-a-Gu;return{rect:{x:h,y:m,width:o,height:a},text:{text:e.text,x:h+Gu/2,y:m+r}}}}Qu.propTypes={fontFamily:f.a.string.isRequired,fontSize:f.a.number.isRequired,fill:f.a.string.isRequired,text:f.a.string.isRequired,bgFill:f.a.string.isRequired,bgOpacity:f.a.number.isRequired,bgWidth:f.a.number.isRequired,bgHeight:f.a.number.isRequired,show:f.a.bool.isRequired},Qu.defaultProps={fontFamily:"Helvetica Neue, Helvetica, Arial, sans-serif",fontSize:12,fill:"#000000",bgFill:"#FA9325",bgOpacity:.5};var Ju=Qu,Ku="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$u=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),ep=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var tp=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":Ku(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleEdge1Drag=n.handleEdge1Drag.bind(n),n.handleEdge2Drag=n.handleEdge2Drag.bind(n),n.handleLineDragStart=n.handleLineDragStart.bind(n),n.handleLineDrag=n.handleLineDrag.bind(n),n.handleEdge1DragStart=n.handleEdge1DragStart.bind(n),n.handleEdge2DragStart=n.handleEdge2DragStart.bind(n),n.handleDragComplete=n.handleDragComplete.bind(n),n.handleHover=n.handleHover.bind(n),n.isHover=Ou.bind(n),n.saveNodeType=Eu.bind(n),n.nodes={},n.state={hover:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":Ku(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),ep(t,[{key:"handleLineDragStart",value:function(){var e=this.props,t=e.x1Value,n=e.y1Value,r=e.x2Value,o=e.y2Value;this.dragStart={x1Value:t,y1Value:n,x2Value:r,y2Value:o}}},{key:"handleLineDrag",value:function(e){var t=this.props,n=t.index,r=t.onDrag,o=this.dragStart,a=o.x1Value,i=o.y1Value,s=o.x2Value,l=o.y2Value,c=e.xScale,u=e.chartConfig.yScale,p=e.xAccessor,f=e.fullData,d=e.startPos,h=e.mouseXY,m=c(a),y=u(i),b=c(s),v=u(l),g=d[0]-h[0],k=d[1]-h[1];r(n,{x1Value:qo(c,p,[m-g,y-k],f),y1Value:u.invert(y-k),x2Value:qo(c,p,[b-g,v-k],f),y2Value:u.invert(v-k)})}},{key:"handleEdge1DragStart",value:function(){this.setState({anchor:"edge2"})}},{key:"handleEdge2DragStart",value:function(){this.setState({anchor:"edge1"})}},{key:"handleDragComplete",value:function(){var e;this.setState({anchor:void 0}),(e=this.props).onDragComplete.apply(e,arguments)}},{key:"handleEdge1Drag",value:function(e){var t=this.props,n=t.index,r=t.onDrag,o=this.props,a=o.x2Value,i=o.y2Value,s=np(e),l=$u(s,2);r(n,{x1Value:l[0],y1Value:l[1],x2Value:a,y2Value:i})}},{key:"handleEdge2Drag",value:function(e){var t=this.props,n=t.index,r=t.onDrag,o=this.props,a=o.x1Value,i=o.y1Value,s=np(e),l=$u(s,2);r(n,{x1Value:a,y1Value:i,x2Value:l[0],y2Value:l[1]})}},{key:"handleHover",value:function(e){this.state.hover!==e.hovering&&this.setState({hover:e.hovering})}},{key:"render",value:function(){var e=this.props,t=e.x1Value,n=e.y1Value,r=e.x2Value,a=e.y2Value,i=e.type,s=e.stroke,l=e.strokeWidth,c=e.strokeOpacity,u=e.strokeDasharray,p=e.r,f=e.edgeStrokeWidth,d=e.edgeFill,h=e.edgeStroke,m=e.edgeInteractiveCursor,y=e.lineInteractiveCursor,b=e.hoverText,v=e.selected,g=e.onDragComplete,k=this.state,w=k.hover,E=k.anchor,S=b.enable,O=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(b,["enable"]);return o.a.createElement("g",null,o.a.createElement(qu,{ref:this.saveNodeType("line"),selected:v||w,onHover:this.handleHover,onUnHover:this.handleHover,x1Value:t,y1Value:n,x2Value:r,y2Value:a,type:i,stroke:s,strokeWidth:w||v?l+1:l,strokeOpacity:c,strokeDasharray:u,interactiveCursorClass:y,onDragStart:this.handleLineDragStart,onDrag:this.handleLineDrag,onDragComplete:g}),o.a.createElement(Wu,{ref:this.saveNodeType("edge1"),show:v||w,cx:t,cy:n,r:p,fill:d,stroke:"edge1"===E?s:h,strokeWidth:f,strokeOpacity:1,interactiveCursorClass:m,onDragStart:this.handleEdge1DragStart,onDrag:this.handleEdge1Drag,onDragComplete:this.handleDragComplete}),o.a.createElement(Wu,{ref:this.saveNodeType("edge2"),show:v||w,cx:r,cy:a,r:p,fill:d,stroke:"edge2"===E?s:h,strokeWidth:f,strokeOpacity:1,interactiveCursorClass:m,onDragStart:this.handleEdge2DragStart,onDrag:this.handleEdge2Drag,onDragComplete:this.handleDragComplete}),o.a.createElement(Ju,Zu({show:S&&w&&!v},O)))}}]),t}();function np(e){var t=e.xScale,n=e.chartConfig.yScale,r=e.xAccessor,o=e.plotData,a=e.mouseXY,i=a[1],s=qo(t,r,a,o),l=n.domain().slice().sort(Er.a),c=$u(l,2),u=c[0],p=c[1],f=n.invert(i);return[s,Math.min(Math.max(f,u),p)]}tp.propTypes={x1Value:f.a.any.isRequired,x2Value:f.a.any.isRequired,y1Value:f.a.any.isRequired,y2Value:f.a.any.isRequired,index:f.a.number,type:f.a.oneOf(["XLINE","RAY","LINE"]).isRequired,onDrag:f.a.func.isRequired,onEdge1Drag:f.a.func.isRequired,onEdge2Drag:f.a.func.isRequired,onDragComplete:f.a.func.isRequired,onSelect:f.a.func.isRequired,onUnSelect:f.a.func.isRequired,r:f.a.number.isRequired,strokeOpacity:f.a.number.isRequired,defaultClassName:f.a.string,selected:f.a.bool,stroke:f.a.string.isRequired,strokeWidth:f.a.number.isRequired,strokeDasharray:f.a.oneOf(Vr),edgeStrokeWidth:f.a.number.isRequired,edgeStroke:f.a.string.isRequired,edgeInteractiveCursor:f.a.string.isRequired,lineInteractiveCursor:f.a.string.isRequired,edgeFill:f.a.string.isRequired,hoverText:f.a.object.isRequired},tp.defaultProps={onDrag:Or,onEdge1Drag:Or,onEdge2Drag:Or,onDragComplete:Or,onSelect:Or,onUnSelect:Or,selected:!1,edgeStroke:"#000000",edgeFill:"#FFFFFF",edgeStrokeWidth:2,r:5,strokeWidth:1,strokeOpacity:1,strokeDasharray:"Solid",hoverText:{enable:!1}};var rp=tp,op="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ap=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var ip=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":op(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.renderSVG=n.renderSVG.bind(n),n.drawOnCanvas=n.drawOnCanvas.bind(n),n.handleMousePosChange=n.handleMousePosChange.bind(n),n.handleMouseDown=n.handleMouseDown.bind(n),n.handleClick=n.handleClick.bind(n),n.xy=n.xy.bind(n),n.mutableState={},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":op(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),ap(t,[{key:"handleMouseDown",value:function(e,t){var n=this.xy(e,t);if(uo(n)){var r=n.xValue,o=n.yValue,a=n.x,i=n.y;this.mutableState={x:a,y:i},this.props.onMouseDown([r,o],e,t)}}},{key:"handleClick",value:function(e,t){var n=this.xy(e,t);if(uo(n)){var r=n.xValue,o=n.yValue,a=n.x,i=n.y;this.mutableState={x:a,y:i},this.props.onClick([r,o],e,t)}}},{key:"xy",value:function(e,t){var n=e.xAccessor,r=e.plotData,o=e.mouseXY,a=e.currentItem,i=e.xScale,s=e.chartConfig.yScale,l=this.props,c=l.enabled,u=l.snap,p=l.shouldDisableSnap,f=l.snapTo;if(c&&uo(a)&&uo(t)){var d=u&&!p(t)?n(a):qo(i,n,o,r),h=u&&!p(t)?function(e,t){var n=(fo(e)?e:[e]).map(function(e){return e-t}).reduce(function(e,t){return Math.abs(e)<Math.abs(t)?e:t});return t+n}(f(a),s.invert(o[1])):s.invert(o[1]);return{xValue:d,yValue:h,x:i(d),y:s(h)}}}},{key:"handleMousePosChange",value:function(e,t){if(!Rr(e.mousXY,e.prevMouseXY)){var n=this.xy(e,t);if(uo(n)){var r=n.xValue,o=n.yValue,a=n.x,i=n.y;this.mutableState={x:a,y:i},this.props.onMouseMove([r,o],t)}}}},{key:"drawOnCanvas",value:function(e,t){var n=this.props,r=n.enabled,o=n.r,a=n.stroke,i=n.strokeWidth,s=this.mutableState,l=s.x,c=s.y,u=t.show;r&&u&&uo(l)&&(e.lineWidth=i,e.strokeStyle=a,e.moveTo(l,c),e.beginPath(),e.arc(l,c,o,0,2*Math.PI,!1),e.stroke())}},{key:"renderSVG",value:function(e){var t=this.props,n=t.enabled,r=t.r,a=t.stroke,i=t.strokeWidth,s=t.opacity,l=this.mutableState,c=l.x,u=l.y,p=e.show;return n&&p&&uo(c)?o.a.createElement("circle",{cx:c,cy:u,r:r,stroke:a,opacity:s,fill:"none",strokeWidth:i}):null}},{key:"render",value:function(){var e=this.props,t=e.enabled,n=e.disablePan;return o.a.createElement(Ra,{onMouseDown:this.handleMouseDown,onClick:this.handleClick,onContextMenu:this.handleContextMenu,onMouseMove:this.handleMousePosChange,onPan:this.handleMousePosChange,disablePan:t&&n,svgDraw:this.renderSVG,canvasDraw:this.drawOnCanvas,canvasToDraw:_a,drawOn:["mousemove","pan"]})}}]),t}();ip.propTypes={enabled:f.a.bool.isRequired,snap:f.a.bool.isRequired,shouldDisableSnap:f.a.func.isRequired,snapTo:f.a.func,onMouseMove:f.a.func.isRequired,onMouseDown:f.a.func.isRequired,onClick:f.a.func.isRequired,r:f.a.number.isRequired,stroke:f.a.string.isRequired,strokeWidth:f.a.number.isRequired,opacity:f.a.number.isRequired,disablePan:f.a.bool.isRequired},ip.defaultProps={onMouseMove:Or,onMouseDown:Or,onClick:Or,shouldDisableSnap:Jr(!1),stroke:"#000000",strokeWidth:1,opacity:1,disablePan:!0};var sp=ip,lp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},up=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var pp=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":lp(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleStart=n.handleStart.bind(n),n.handleEnd=n.handleEnd.bind(n),n.handleDrawLine=n.handleDrawLine.bind(n),n.handleDragLine=n.handleDragLine.bind(n),n.handleDragLineComplete=n.handleDragLineComplete.bind(n),n.terminate=wu.bind(n),n.saveNodeType=Eu.bind(n),n.getSelectionState=Su("trends").bind(n),n.state={},n.nodes=[],n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":lp(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),up(t,[{key:"handleDragLine",value:function(e,t){this.setState({override:cp({index:e},t)})}},{key:"handleDragLineComplete",value:function(e){var t=this,n=this.state.override;if(uo(n)){var r=this.props.trends.map(function(e,t){return t===n.index?cp({},e,{start:[n.x1Value,n.y1Value],end:[n.x2Value,n.y2Value],selected:!0}):cp({},e,{selected:!1})});this.setState({override:null},function(){t.props.onComplete(r,e)})}}},{key:"handleDrawLine",value:function(e){var t=this.state.current;uo(t)&&uo(t.start)&&(this.mouseMoved=!0,this.setState({current:{start:t.start,end:e}}))}},{key:"handleStart",value:function(e,t,n){var r=this,o=this.state.current;(po(o)||po(o.start))&&(this.mouseMoved=!1,this.setState({current:{start:e,end:null}},function(){r.props.onStart(t,n)}))}},{key:"handleEnd",value:function(e,t,n){var r=this,o=this.state.current,a=this.props,i=a.trends,s=a.appearance,l=a.type;if(this.mouseMoved&&uo(o)&&uo(o.start)){var c=[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(i.map(function(e){return cp({},e,{selected:!1})})),[{start:o.start,end:e,selected:!0,appearance:s,type:l}]);this.setState({current:null,trends:c},function(){r.props.onComplete(c,t,n)})}}},{key:"render",value:function(){var e=this,t=this.props.appearance,n=this.props,r=n.enabled,a=n.snap,i=n.shouldDisableSnap,s=n.snapTo,l=n.type,c=this.props,u=c.currentPositionRadius,p=c.currentPositionStroke,f=this.props,d=f.currentPositionstrokeOpacity,h=f.currentPositionStrokeWidth,m=this.props,y=m.hoverText,b=m.trends,v=this.state,g=v.current,k=v.override,w=uo(g)&&uo(g.end)?o.a.createElement(qu,{type:l,noHover:!0,x1Value:g.start[0],y1Value:g.start[1],x2Value:g.end[0],y2Value:g.end[1],stroke:t.stroke,strokeWidth:t.strokeWidth,strokeOpacity:t.strokeOpacity}):null;return o.a.createElement("g",null,b.map(function(n,r){var a=uo(n.appearance)?cp({},t,n.appearance):t;return o.a.createElement(rp,{key:r,ref:e.saveNodeType(r),index:r,type:n.type,selected:n.selected,x1Value:ku(k,r,"x1Value",n.start[0]),y1Value:ku(k,r,"y1Value",n.start[1]),x2Value:ku(k,r,"x2Value",n.end[0]),y2Value:ku(k,r,"y2Value",n.end[1]),stroke:a.stroke,strokeWidth:a.strokeWidth,strokeOpacity:a.strokeOpacity,strokeDasharray:a.strokeDasharray,edgeStroke:a.edgeStroke,edgeFill:a.edgeFill,edgeStrokeWidth:a.edgeStrokeWidth,r:a.r,hoverText:y,onDrag:e.handleDragLine,onDragComplete:e.handleDragLineComplete,edgeInteractiveCursor:"react-stockcharts-move-cursor",lineInteractiveCursor:"react-stockcharts-move-cursor"})}),w,o.a.createElement(sp,{enabled:r,snap:a,shouldDisableSnap:i,snapTo:s,r:u,stroke:p,strokeOpacity:d,strokeWidth:h,onMouseDown:this.handleStart,onClick:this.handleEnd,onMouseMove:this.handleDrawLine}))}}]),t}();pp.propTypes={snap:f.a.bool.isRequired,enabled:f.a.bool.isRequired,snapTo:f.a.func,shouldDisableSnap:f.a.func.isRequired,onStart:f.a.func.isRequired,onComplete:f.a.func.isRequired,onSelect:f.a.func,currentPositionStroke:f.a.string,currentPositionStrokeWidth:f.a.number,currentPositionstrokeOpacity:f.a.number,currentPositionRadius:f.a.number,type:f.a.oneOf(["XLINE","RAY","LINE"]),hoverText:f.a.object.isRequired,trends:f.a.array.isRequired,appearance:f.a.shape({stroke:f.a.string.isRequired,strokeOpacity:f.a.number.isRequired,strokeWidth:f.a.number.isRequired,strokeDasharray:f.a.oneOf(Vr),edgeStrokeWidth:f.a.number.isRequired,edgeFill:f.a.string.isRequired,edgeStroke:f.a.string.isRequired}).isRequired},pp.defaultProps={type:"XLINE",onStart:Or,onComplete:Or,onSelect:Or,currentPositionStroke:"#000000",currentPositionstrokeOpacity:1,currentPositionStrokeWidth:3,currentPositionRadius:0,shouldDisableSnap:function(e){return 2===e.button||e.shiftKey},hoverText:cp({},Ju.defaultProps,{enable:!0,bgHeight:18,bgWidth:120,text:"Click to select object"}),trends:[],appearance:{stroke:"#000000",strokeOpacity:1,strokeWidth:1,strokeDasharray:"Solid",edgeStrokeWidth:1,edgeFill:"#FFFFFF",edgeStroke:"#000000",r:6}};var fp=pp,dp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hp=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),mp=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var yp=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":dp(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.renderSVG=n.renderSVG.bind(n),n.drawOnCanvas=n.drawOnCanvas.bind(n),n.isHover=n.isHover.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":dp(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),mp(t,[{key:"isHover",value:function(){return!1}},{key:"drawOnCanvas",value:function(e,t){var n=this.props,r=n.xyProvider,o=n.fontFamily,a=n.fontSize,i=n.fill,s=n.children,l=r(t),c=hp(l,2),u=c[0],p=c[1];e.font=a+"px "+o,e.fillStyle=i,e.beginPath(),e.fillText(s,u,p)}},{key:"renderSVG",value:function(e){var t=this.props,n=t.xyProvider,r=t.fontFamily,a=t.fontSize,i=t.fill,s=t.children,l=n(e),c=hp(l,2),u=c[0],p=c[1];return o.a.createElement("text",{x:u,y:p,fontFamily:r,fontSize:a,fill:i},s)}},{key:"render",value:function(){var e=this.props.selected;return o.a.createElement(Ra,{selected:e,svgDraw:this.renderSVG,canvasToDraw:_a,canvasDraw:this.drawOnCanvas,drawOn:["mousemove","pan","drag"]})}}]),t}();yp.propTypes={xyProvider:f.a.func.isRequired,fontFamily:f.a.string.isRequired,fontSize:f.a.number.isRequired,fill:f.a.string.isRequired,children:f.a.string.isRequired,selected:f.a.bool.isRequired},yp.defaultProps={selected:!1};var bp=yp,vp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kp=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),wp=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Ep=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":vp(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleEdge1Drag=n.handleEdge1Drag.bind(n),n.handleEdge2Drag=n.handleEdge2Drag.bind(n),n.handleLineNSResizeTop=n.handleLineNSResizeTop.bind(n),n.handleLineNSResizeBottom=n.handleLineNSResizeBottom.bind(n),n.handleLineMove=n.handleLineMove.bind(n),n.handleLineDragStart=n.handleLineDragStart.bind(n),n.handleHover=n.handleHover.bind(n),n.isHover=Ou.bind(n),n.saveNodeType=Eu.bind(n),n.nodes={},n.state={hover:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":vp(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),wp(t,[{key:"handleHover",value:function(e){this.state.hover!==e.hovering&&this.setState({hover:e.hovering})}},{key:"handleLineDragStart",value:function(){var e=this.props,t=e.x1,n=e.y1,r=e.x2,o=e.y2;this.dragStart={x1:t,y1:n,x2:r,y2:o}}},{key:"handleLineMove",value:function(e){var t=this.props,n=t.index,r=t.onDrag,o=this.dragStart,a=o.x1,i=o.y1,s=o.x2,l=o.y2,c=e.xScale,u=e.chartConfig.yScale,p=e.xAccessor,f=e.fullData,d=e.startPos,h=e.mouseXY,m=c(a),y=u(i),b=c(s),v=u(l),g=d[0]-h[0],k=d[1]-h[1];r(n,{x1:qo(c,p,[m-g,y-k],f),y1:u.invert(y-k),x2:qo(c,p,[b-g,v-k],f),y2:u.invert(v-k)})}},{key:"handleLineNSResizeTop",value:function(e){var t=this.props,n=t.index,r=t.onDrag,o=this.props,a=o.x1,i=o.x2,s=o.y2,l=np(e);r(n,{x1:a,y1:kp(l,2)[1],x2:i,y2:s})}},{key:"handleLineNSResizeBottom",value:function(e){var t=this.props,n=t.index,r=t.onDrag,o=this.props,a=o.x1,i=o.y1,s=o.x2,l=np(e);r(n,{x1:a,y1:i,x2:s,y2:kp(l,2)[1]})}},{key:"handleEdge1Drag",value:function(e){var t=this.props,n=t.index,r=t.onDrag,o=this.props,a=o.y1,i=o.x2,s=o.y2,l=np(e);r(n,{x1:kp(l,1)[0],y1:a,x2:i,y2:s})}},{key:"handleEdge2Drag",value:function(e){var t=this.props,n=t.index,r=t.onDrag,o=this.props,a=o.x1,i=o.y1,s=o.y2,l=np(e);r(n,{x1:a,y1:i,x2:kp(l,1)[0],y2:s})}},{key:"render",value:function(){var e=this,t=this.props,n=t.x1,r=t.x2,a=t.y1,i=t.y2,s=this.props,l=s.interactive,c=s.yDisplayFormat,u=s.type,p=s.appearance,f=p.stroke,d=p.strokeWidth,h=p.strokeOpacity,m=p.fontFamily,y=p.fontSize,b=p.fontFill,v=p.edgeStroke,g=p.edgeFill,k=p.nsEdgeFill,w=p.edgeStrokeWidth,E=p.r,S=this.props,O=S.hoverText,_=S.selected,C=this.state.hover,x=this.props.onDragComplete,P=function(e){var t=e.x1,n=e.y1,r=e.x2,o=e.y2,a=o-n;return[100,61.8,50,38.2,23.6,0].map(function(e){return{percent:e,x1:t,x2:r,y:o-e/100*a}})}({x1:n,x2:r,y1:a,y2:i}),A=O.enable,T=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(O,["enable"]),D="EXTEND"===u?"XLINE":"BOUND"===u?"LINE":u,j=so(P).y1>co(P).y1?3:-1.3;return o.a.createElement("g",null,P.map(function(t,n){var r=c(t.y)+" ("+t.percent.toFixed(2)+"%)",a=0===n||n===P.length-1,i=a?"react-stockcharts-ns-resize-cursor":"react-stockcharts-move-cursor",s=a?"react-stockcharts-ns-resize-cursor":"react-stockcharts-ew-resize-cursor",u=0===n?e.handleLineNSResizeTop:n===P.length-1?e.handleLineNSResizeBottom:e.handleLineMove,p=0===n?e.handleLineNSResizeTop:n===P.length-1?e.handleLineNSResizeBottom:e.handleEdge1Drag,S=0===n?e.handleLineNSResizeTop:n===P.length-1?e.handleLineNSResizeBottom:e.handleEdge2Drag,O=l?{onHover:e.handleHover,onUnHover:e.handleHover}:{};return o.a.createElement("g",{key:n},o.a.createElement(qu,gp({ref:e.saveNodeType("line_"+n),selected:_||C},O,{type:D,x1Value:t.x1,y1Value:t.y,x2Value:t.x2,y2Value:t.y,stroke:f,strokeWidth:C||_?d+1:d,strokeOpacity:h,interactiveCursorClass:i,onDragStart:e.handleLineDragStart,onDrag:u,onDragComplete:x})),o.a.createElement(bp,{selected:_,xyProvider:function(e){var n=e.xScale,r=e.chartConfig.yScale,o=Nu({type:D,start:[t.x1,t.y],end:[t.x2,t.y],xScale:n,yScale:r}),a=o.x1,i=o.y1,s=o.x2;return[n(Math.min(a,s))+10,r(i)+4*j]},fontFamily:m,fontSize:y,fill:b},r),o.a.createElement(Wu,{ref:e.saveNodeType("edge1"),show:_||C,cx:t.x1,cy:t.y,r:E,fill:a?k:g,stroke:v,strokeWidth:w,interactiveCursorClass:s,onDrag:p,onDragComplete:x}),o.a.createElement(Wu,{ref:e.saveNodeType("edge2"),show:_||C,cx:t.x2,cy:t.y,r:E,fill:a?k:g,stroke:v,strokeWidth:w,interactiveCursorClass:s,onDrag:S,onDragComplete:x}),o.a.createElement(Ju,gp({show:A&&C&&!_},T)))}))}}]),t}();Ep.propTypes={x1:f.a.any.isRequired,x2:f.a.any.isRequired,y1:f.a.number.isRequired,y2:f.a.number.isRequired,yDisplayFormat:f.a.func.isRequired,type:f.a.string.isRequired,selected:f.a.bool.isRequired,appearance:f.a.shape({stroke:f.a.string.isRequired,strokeWidth:f.a.number.isRequired,strokeOpacity:f.a.number.isRequired,fontFamily:f.a.string.isRequired,fontSize:f.a.number.isRequired,fontFill:f.a.string.isRequired,edgeStroke:f.a.string.isRequired,edgeFill:f.a.string.isRequired,nsEdgeFill:f.a.string.isRequired,edgeStrokeWidth:f.a.number.isRequired,r:f.a.number.isRequired}).isRequired,interactive:f.a.bool.isRequired,hoverText:f.a.object.isRequired,index:f.a.number,onDrag:f.a.func.isRequired,onDragComplete:f.a.func.isRequired},Ep.defaultProps={yDisplayFormat:function(e){return e.toFixed(2)},interactive:!0,appearance:{stroke:"#000000",strokeWidth:1,strokeOpacity:1,fontFamily:"Helvetica Neue, Helvetica, Arial, sans-serif",fontSize:10,fontFill:"#000000",edgeStroke:"#000000",edgeFill:"#FFFFFF",nsEdgeFill:"#000000",edgeStrokeWidth:1,r:5},selected:!1,onDrag:Or,onDragComplete:Or,hoverText:{enable:!1}};var Sp=Ep,Op="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Cp=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var xp=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":Op(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleStart=n.handleStart.bind(n),n.handleEnd=n.handleEnd.bind(n),n.handleDrawRetracement=n.handleDrawRetracement.bind(n),n.handleEdge1Drag=n.handleEdge1Drag.bind(n),n.handleEdge2Drag=n.handleEdge2Drag.bind(n),n.handleDrag=n.handleDrag.bind(n),n.handleDragComplete=n.handleDragComplete.bind(n),n.terminate=wu.bind(n),n.getSelectionState=Su("retracements").bind(n),n.saveNodeType=Eu.bind(n),n.nodes=[],n.state={},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":Op(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),Cp(t,[{key:"handleDrawRetracement",value:function(e){var t=this.state.current;uo(t)&&uo(t.x1)&&(this.mouseMoved=!0,this.setState({current:_p({},t,{x2:e[0],y2:e[1]})}))}},{key:"handleDrag",value:function(e,t){this.setState({override:_p({index:e},t)})}},{key:"handleEdge1Drag",value:function(e,t,n){var r=this.props.retracements,o=e.index,a=n.x1Value-t.x1Value;this.setState({override:{index:o,x1:r[o].x1-a,y1:r[o].y1,x2:r[o].x2,y2:r[o].y2}})}},{key:"handleEdge2Drag",value:function(e,t,n){var r=this.props.retracements,o=e.index,a=n.x2Value-t.x2Value;this.setState({override:{index:o,x1:r[o].x1,y1:r[o].y1,x2:r[o].x2-a,y2:r[o].y2}})}},{key:"handleDragComplete",value:function(e){var t=this,n=this.props.retracements,r=this.state.override;if(uo(r)){var o=r.index,a=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(r,["index"]),i=n.map(function(e,t){return t===o?_p({},e,a,{selected:!0}):e});this.setState({override:null},function(){t.props.onComplete(i,e)})}}},{key:"handleStart",value:function(e,t){var n=this,r=this.state.current;(po(r)||po(r.x1))&&(this.mouseMoved=!1,this.setState({current:{x1:e[0],y1:e[1],x2:null,y2:null}},function(){n.props.onStart(t)}))}},{key:"handleEnd",value:function(e,t,n){var r=this,o=this.props,a=o.retracements,i=o.appearance,s=o.type,l=this.state.current;if(this.mouseMoved&&uo(l)&&uo(l.x1)){var c=a.concat(_p({},l,{x2:e[0],y2:e[1],selected:!0,appearance:i,type:s}));this.setState({current:null},function(){r.props.onComplete(c,t,n)})}}},{key:"render",value:function(){var e=this,t=this.state,n=t.current,r=t.override,a=this.props.retracements,i=this.props,s=i.appearance,l=i.type,c=this.props,u=c.currentPositionStroke,p=c.currentPositionOpacity,f=c.currentPositionStrokeWidth,d=c.currentPositionRadius,h=this.props,m=h.enabled,y=h.hoverText,b=uo(r)?r.index:null,v=uo(n)&&uo(n.x2)?o.a.createElement(Sp,_p({interactive:!1,type:l,appearance:s,hoverText:y},n)):null;return o.a.createElement("g",null,a.map(function(t,n){var a=uo(t.appearance)?_p({},s,t.appearance):s;return o.a.createElement(Sp,_p({key:n,ref:e.saveNodeType(n),index:n,type:t.type,selected:t.selected,hoverText:y},n===b?r:t,{appearance:a,onDrag:e.handleDrag,onDragComplete:e.handleDragComplete}))}),v,o.a.createElement(sp,{enabled:m,snap:!1,r:d,stroke:u,opacity:p,strokeWidth:f,onMouseDown:this.handleStart,onClick:this.handleEnd,onMouseMove:this.handleDrawRetracement}))}}]),t}();xp.propTypes={enabled:f.a.bool.isRequired,width:f.a.number,onStart:f.a.func,onComplete:f.a.func,onSelect:f.a.func,type:f.a.oneOf(["EXTEND","RAY","BOUND"]).isRequired,hoverText:f.a.object.isRequired,currentPositionStroke:f.a.string,currentPositionStrokeWidth:f.a.number,currentPositionOpacity:f.a.number,currentPositionRadius:f.a.number,retracements:f.a.array.isRequired,appearance:f.a.shape({stroke:f.a.string.isRequired,strokeWidth:f.a.number.isRequired,strokeOpacity:f.a.number.isRequired,fontFamily:f.a.string.isRequired,fontSize:f.a.number.isRequired,fontFill:f.a.string.isRequired,edgeStroke:f.a.string.isRequired,edgeFill:f.a.string.isRequired,nsEdgeFill:f.a.string.isRequired,edgeStrokeWidth:f.a.number.isRequired,r:f.a.number.isRequired}).isRequired},xp.defaultProps={enabled:!0,type:"RAY",retracements:[],onStart:Or,onComplete:Or,onSelect:Or,hoverText:_p({},Ju.defaultProps,{enable:!0,bgHeight:18,bgWidth:120,text:"Click to select object"}),currentPositionStroke:"#000000",currentPositionOpacity:1,currentPositionStrokeWidth:3,currentPositionRadius:4,appearance:{stroke:"#000000",strokeWidth:1,strokeOpacity:1,fontFamily:"Helvetica Neue, Helvetica, Arial, sans-serif",fontSize:11,fontFill:"#000000",edgeStroke:"#000000",edgeFill:"#FFFFFF",nsEdgeFill:"#000000",edgeStrokeWidth:1,r:5}};var Pp=xp,Ap="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Dp=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var jp=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":Ap(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.renderSVG=n.renderSVG.bind(n),n.drawOnCanvas=n.drawOnCanvas.bind(n),n.isHover=n.isHover.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":Ap(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),Dp(t,[{key:"isHover",value:function(e){var t=this.props,n=t.tolerance;if(uo(t.onHover)){var r=Rp(this.props,e),o=r.lines,a=r.line1,i=r.line2;if(uo(a)&&uo(i)){var s=e.mouseXY,l=e.xScale,c=e.chartConfig.yScale,u=Du({x1Value:o.line1.x1,y1Value:o.line1.y1,x2Value:o.line1.x2,y2Value:o.line1.y2,type:"LINE",mouseXY:s,tolerance:n,xScale:l,yScale:c}),p=Du({x1Value:o.line2.x1,y1Value:o.line2.y1,x2Value:o.line2.x2,y2Value:o.line2.y2,type:"LINE",mouseXY:s,tolerance:n,xScale:l,yScale:c});return u||p}}return!1}},{key:"drawOnCanvas",value:function(e,t){var n=this.props,r=n.stroke,o=n.strokeWidth,a=n.fillOpacity,i=n.strokeOpacity,s=n.fill,l=Rp(this.props,t),c=l.line1,u=l.line2;if(uo(c)){var p=c.x1,f=c.y1,d=c.x2,h=c.y2;if(e.lineWidth=o,e.strokeStyle=bo(r,i),e.beginPath(),e.moveTo(p,f),e.lineTo(d,h),e.stroke(),uo(u)){var m=u.y1,y=u.y2;e.beginPath(),e.moveTo(p,m),e.lineTo(d,y),e.stroke(),e.fillStyle=bo(s,a),e.beginPath(),e.moveTo(p,f),e.lineTo(d,h),e.lineTo(d,y),e.lineTo(p,m),e.closePath(),e.fill()}}}},{key:"renderSVG",value:function(e){var t=this.props,n=t.stroke,r=t.strokeWidth,a=t.fillOpacity,i=t.fill,s=t.strokeOpacity,l=Rp(this.props,e),c=l.line1,u=l.line2;if(uo(c)){var p=c.x1,f=c.y1,d=c.x2,h=c.y2,m=uo(u)?o.a.createElement("line",{strokeWidth:r,stroke:n,strokeOpacity:s,x1:p,y1:u.y1,x2:d,y2:u.y2}):null,y=uo(u)?o.a.createElement("path",{fill:i,fillOpacity:a,d:function(e,t){var n=Object(Ia.a)();return n.moveTo(e.x1,e.y1),n.lineTo(e.x2,e.y2),n.lineTo(e.x2,t.y2),n.lineTo(e.x1,t.y1),n.closePath(),n.toString()}(c,u)}):null;return o.a.createElement("g",null,o.a.createElement("line",{strokeWidth:r,stroke:n,strokeOpacity:s,x1:p,y1:f,x2:d,y2:h}),m,y)}}},{key:"render",value:function(){var e=this.props,t=e.selected,n=e.interactiveCursorClass,r=this.props,a=r.onDragStart,i=r.onDrag,s=r.onDragComplete,l=r.onHover,c=r.onUnHover;return o.a.createElement(Ra,{isHover:this.isHover,svgDraw:this.renderSVG,canvasToDraw:_a,canvasDraw:this.drawOnCanvas,interactiveCursorClass:n,selected:t,onDragStart:a,onDrag:i,onDragComplete:s,onHover:l,onUnHover:c,drawOn:["mousemove","mouseleave","pan","drag"]})}}]),t}();function Rp(e,t){var n=function(e,t){var n=e.startXY,r=e.endXY,o=e.dy,a=e.type,i=t.xScale;if(po(n)||po(r))return{};var s=Nu({type:a,start:n,end:r,xScale:i});return{line1:s,line2:uo(o)?Tp({},s,{y1:s.y1+o,y2:s.y2+o}):void 0}}(e,t),r=t.xScale,o=t.chartConfig.yScale,a=r(n.line1.x1),i=o(n.line1.y1),s=r(n.line1.x2);return{lines:n,line1:{x1:a,y1:i,x2:s,y2:o(n.line1.y2)},line2:uo(n.line2)?{x1:a,y1:o(n.line2.y1),x2:s,y2:o(n.line2.y2)}:void 0}}jp.propTypes={interactiveCursorClass:f.a.string,stroke:f.a.string.isRequired,strokeWidth:f.a.number.isRequired,fill:f.a.string.isRequired,fillOpacity:f.a.number.isRequired,strokeOpacity:f.a.number.isRequired,type:f.a.oneOf(["XLINE","RAY","LINE"]).isRequired,onDragStart:f.a.func.isRequired,onDrag:f.a.func.isRequired,onDragComplete:f.a.func.isRequired,onHover:f.a.func,onUnHover:f.a.func,defaultClassName:f.a.string,tolerance:f.a.number.isRequired,selected:f.a.bool.isRequired},jp.defaultProps={onDragStart:Or,onDrag:Or,onDragComplete:Or,type:"LINE",strokeWidth:1,tolerance:4,selected:!1};var Fp=jp,Np="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ip=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Mp=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":Np(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleLine1Edge1Drag=n.handleLine1Edge1Drag.bind(n),n.handleLine1Edge2Drag=n.handleLine1Edge2Drag.bind(n),n.handleDragStart=n.handleDragStart.bind(n),n.handleChannelDrag=n.handleChannelDrag.bind(n),n.handleChannelHeightChange=n.handleChannelHeightChange.bind(n),n.getEdgeCircle=n.getEdgeCircle.bind(n),n.handleHover=n.handleHover.bind(n),n.isHover=Ou.bind(n),n.saveNodeType=Eu.bind(n),n.nodes={},n.state={hover:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":Np(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),Ip(t,[{key:"handleHover",value:function(e){this.state.hover!==e.hovering&&this.setState({hover:e.hovering})}},{key:"handleDragStart",value:function(){var e=this.props,t=e.startXY,n=e.endXY,r=e.dy;this.dragStart={startXY:t,endXY:n,dy:r}}},{key:"handleChannelDrag",value:function(e){var t=this.props,n=t.index,r=t.onDrag,o=this.dragStart,a=o.startXY,i=o.endXY,s=e.xScale,l=e.chartConfig.yScale,c=e.xAccessor,u=e.fullData,p=e.startPos,f=e.mouseXY,d=s(a[0]),h=l(a[1]),m=s(i[0]),y=l(i[1]),b=p[0]-f[0],v=p[1]-f[1];r(n,{startXY:[qo(s,c,[d-b,h-v],u),l.invert(h-v)],endXY:[qo(s,c,[m-b,y-v],u),l.invert(y-v)],dy:this.dragStart.dy})}},{key:"handleLine1Edge1Drag",value:function(e){var t=this.props,n=t.index,r=t.onDrag,o=this.dragStart.startXY,a=e.startPos,i=e.mouseXY,s=e.xAccessor,l=e.xScale,c=e.fullData,u=e.chartConfig.yScale,p=a[0]-i[0],f=a[1]-i[1],d=l(o[0]),h=u(o[1]);r(n,{startXY:[qo(l,s,[d-p,h-f],c),u.invert(h-f)],endXY:this.dragStart.endXY,dy:this.dragStart.dy})}},{key:"handleLine1Edge2Drag",value:function(e){var t=this.props,n=t.index,r=t.onDrag,o=this.dragStart.endXY,a=e.startPos,i=e.mouseXY,s=e.xAccessor,l=e.xScale,c=e.fullData,u=e.chartConfig.yScale,p=a[0]-i[0],f=a[1]-i[1],d=l(o[0]),h=u(o[1]),m=qo(l,s,[d-p,h-f],c),y=u.invert(h-f);r(n,{startXY:this.dragStart.startXY,endXY:[m,y],dy:this.dragStart.dy})}},{key:"handleChannelHeightChange",value:function(e){var t=this.props,n=t.index,r=t.onDrag,o=this.dragStart,a=o.startXY,i=o.endXY,s=e.chartConfig.yScale,l=e.startPos,c=e.mouseXY,u=s(i[1]),p=l[1]-c[1];r(n,{startXY:a,endXY:i,dy:s.invert(u-p)-i[1]+this.dragStart.dy})}},{key:"getEdgeCircle",value:function(e){var t=e.xy,n=e.dragHandler,r=e.cursor,a=e.fill,i=e.edge,s=this.state.hover,l=this.props.appearance,c=l.edgeStroke,u=l.edgeStrokeWidth,p=l.r,f=this.props.selected,d=this.props.onDragComplete;return o.a.createElement(Wu,{ref:this.saveNodeType(i),show:f||s,cx:t[0],cy:t[1],r:p,fill:a,stroke:c,strokeWidth:u,interactiveCursorClass:r,onDragStart:this.handleDragStart,onDrag:n,onDragComplete:d})}},{key:"render",value:function(){var e=this.props,t=e.startXY,n=e.endXY,r=e.dy,a=this.props,i=a.interactive,s=a.hoverText,l=a.appearance,c=l.edgeFill,u=l.edgeFill2,p=l.stroke,f=l.strokeWidth,d=l.strokeOpacity,h=l.fill,m=l.fillOpacity,y=this.props.selected,b=this.props.onDragComplete,v=this.state.hover,g=s.enable,k=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(s,["enable"]),w=i?{onHover:this.handleHover,onUnHover:this.handleHover}:{},E=uo(t)&&uo(n)?o.a.createElement("g",null,this.getEdgeCircle({xy:t,dragHandler:this.handleLine1Edge1Drag,cursor:"react-stockcharts-move-cursor",fill:c,edge:"line1edge1"}),this.getEdgeCircle({xy:n,dragHandler:this.handleLine1Edge2Drag,cursor:"react-stockcharts-move-cursor",fill:c,edge:"line1edge2"})):null,S=uo(r)?o.a.createElement("g",null,this.getEdgeCircle({xy:[t[0],t[1]+r],dragHandler:this.handleChannelHeightChange,cursor:"react-stockcharts-ns-resize-cursor",fill:u,edge:"line2edge1"}),this.getEdgeCircle({xy:[n[0],n[1]+r],dragHandler:this.handleChannelHeightChange,cursor:"react-stockcharts-ns-resize-cursor",fill:u,edge:"line2edge2"})):null;return o.a.createElement("g",null,o.a.createElement(Fp,qp({ref:this.saveNodeType("channel"),selected:y||v},w,{startXY:t,endXY:n,dy:r,stroke:p,strokeWidth:v||y?f+1:f,strokeOpacity:d,fill:h,fillOpacity:m,interactiveCursorClass:"react-stockcharts-move-cursor",onDragStart:this.handleDragStart,onDrag:this.handleChannelDrag,onDragComplete:b})),E,S,o.a.createElement(Ju,qp({show:g&&v&&!y},k)))}}]),t}();Mp.propTypes={startXY:f.a.arrayOf(f.a.number).isRequired,endXY:f.a.arrayOf(f.a.number).isRequired,dy:f.a.number,interactive:f.a.bool.isRequired,selected:f.a.bool.isRequired,hoverText:f.a.object.isRequired,appearance:f.a.shape({stroke:f.a.string.isRequired,fillOpacity:f.a.number.isRequired,strokeOpacity:f.a.number.isRequired,strokeWidth:f.a.number.isRequired,fill:f.a.string.isRequired,edgeStroke:f.a.string.isRequired,edgeFill:f.a.string.isRequired,edgeFill2:f.a.string.isRequired,edgeStrokeWidth:f.a.number.isRequired,r:f.a.number.isRequired}).isRequired,index:f.a.number,onDrag:f.a.func.isRequired,onDragComplete:f.a.func.isRequired},Mp.defaultProps={yDisplayFormat:function(e){return e.toFixed(2)},interactive:!0,selected:!1,onDrag:Or,onDragComplete:Or,hoverText:{enable:!1}};var Lp=Mp,Bp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wp=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Hp=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":Bp(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleStart=n.handleStart.bind(n),n.handleEnd=n.handleEnd.bind(n),n.handleDrawChannel=n.handleDrawChannel.bind(n),n.handleDragChannel=n.handleDragChannel.bind(n),n.handleDragChannelComplete=n.handleDragChannelComplete.bind(n),n.terminate=wu.bind(n),n.saveNodeType=Eu.bind(n),n.getSelectionState=Su("channels").bind(n),n.nodes=[],n.state={},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":Bp(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),Wp(t,[{key:"handleDragChannel",value:function(e,t){this.setState({override:Vp({index:e},t)})}},{key:"handleDragChannelComplete",value:function(e){var t=this,n=this.state.override,r=this.props.channels;if(uo(n)){var o=n.index,a=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(n,["index"]),i=r.map(function(e,t){return t===o?Vp({},e,a,{selected:!0}):e});this.setState({override:null},function(){t.props.onComplete(i,e)})}}},{key:"handleDrawChannel",value:function(e){var t=this.state.current;if(uo(t)&&uo(t.startXY))if(this.mouseMoved=!0,po(t.dy))this.setState({current:{startXY:t.startXY,endXY:e}});else{var n=Ru(t.startXY,t.endXY),r=Fu(n,t.endXY),o=n*e[0]+r,a=e[1]-o;this.setState({current:Vp({},t,{dy:a})})}}},{key:"handleStart",value:function(e){var t=this,n=this.state.current;(po(n)||po(n.startXY))&&(this.mouseMoved=!1,this.setState({current:{startXY:e,endXY:null}},function(){t.props.onStart()}))}},{key:"handleEnd",value:function(e,t,n){var r=this,o=this.state.current,a=this.props,i=a.channels,s=a.appearance;if(this.mouseMoved&&uo(o)&&uo(o.startXY))if(po(o.dy))this.setState({current:Vp({},o,{dy:0})});else{var l=[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(i.map(function(e){return Vp({},e,{selected:!1})})),[Vp({},o,{selected:!0,appearance:s})]);this.setState({current:null},function(){r.props.onComplete(l,t,n)})}}},{key:"render",value:function(){var e=this,t=this.props.appearance,n=this.props.enabled,r=this.props,a=r.currentPositionRadius,i=r.currentPositionStroke,s=this.props,l=s.currentPositionOpacity,c=s.currentPositionStrokeWidth,u=this.props,p=u.channels,f=u.hoverText,d=this.state,h=d.current,m=d.override,y=uo(m)?m.index:null,b=uo(h)&&uo(h.endXY)?o.a.createElement(Lp,Vp({interactive:!1},h,{appearance:t,hoverText:f})):null;return o.a.createElement("g",null,p.map(function(n,r){var a=uo(n.appearance)?Vp({},t,n.appearance):t;return o.a.createElement(Lp,Vp({key:r,ref:e.saveNodeType(r),index:r,selected:n.selected,hoverText:f},r===y?m:n,{appearance:a,onDrag:e.handleDragChannel,onDragComplete:e.handleDragChannelComplete}))}),b,o.a.createElement(sp,{enabled:n,snap:!1,r:a,stroke:i,opacity:l,strokeWidth:c,onMouseDown:this.handleStart,onClick:this.handleEnd,onMouseMove:this.handleDrawChannel}))}}]),t}();Hp.propTypes={enabled:f.a.bool.isRequired,onStart:f.a.func.isRequired,onComplete:f.a.func.isRequired,onSelect:f.a.func.isRequired,currentPositionStroke:f.a.string,currentPositionStrokeWidth:f.a.number,currentPositionOpacity:f.a.number,currentPositionRadius:f.a.number,hoverText:f.a.object.isRequired,channels:f.a.array.isRequired,appearance:f.a.shape({stroke:f.a.string.isRequired,strokeOpacity:f.a.number.isRequired,strokeWidth:f.a.number.isRequired,fill:f.a.string.isRequired,fillOpacity:f.a.number.isRequired,edgeStroke:f.a.string.isRequired,edgeFill:f.a.string.isRequired,edgeFill2:f.a.string.isRequired,edgeStrokeWidth:f.a.number.isRequired,r:f.a.number.isRequired}).isRequired},Hp.defaultProps={onStart:Or,onComplete:Or,onSelect:Or,currentPositionStroke:"#000000",currentPositionOpacity:1,currentPositionStrokeWidth:3,currentPositionRadius:4,hoverText:Vp({},Ju.defaultProps,{enable:!0,bgHeight:18,bgWidth:120,text:"Click to select object"}),channels:[],appearance:{stroke:"#000000",strokeOpacity:1,strokeWidth:1,fill:"#8AAFE2",fillOpacity:.7,edgeStroke:"#000000",edgeFill:"#FFFFFF",edgeFill2:"#250B98",edgeStrokeWidth:1,r:5}};var zp=Hp,Up="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gp=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Qp=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":Up(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.renderSVG=n.renderSVG.bind(n),n.drawOnCanvas=n.drawOnCanvas.bind(n),n.isHover=n.isHover.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":Up(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),Gp(t,[{key:"isHover",value:function(e){var t=this.props,n=t.tolerance;if(uo(t.onHover)){var r=e.mouseXY,o=Xp(this.props,e);return Tu([o.x1,o.y1],[o.x2,o.y2],r,n)}return!1}},{key:"drawOnCanvas",value:function(e,t){var n=this.props,r=n.stroke,o=n.strokeWidth,a=n.fillOpacity,i=n.strokeOpacity,s=n.fill,l=Xp(this.props,t),c=l.x1,u=l.y1,p=l.x2,f=l.y2,d=l.dy;e.lineWidth=o,e.strokeStyle=bo(r,i),e.fillStyle=bo(s,a),e.beginPath(),e.moveTo(c,u-d),e.lineTo(p,f-d),e.stroke(),e.beginPath(),e.moveTo(p,f+d),e.lineTo(c,u+d),e.stroke(),e.beginPath(),e.moveTo(c,u-d),e.lineTo(p,f-d),e.lineTo(p,f+d),e.lineTo(c,u+d),e.closePath(),e.fill(),e.beginPath(),e.moveTo(p,f),e.lineTo(c,u),e.stroke()}},{key:"renderSVG",value:function(e){var t=this.props,n=t.stroke,r=t.strokeWidth,a=t.fillOpacity,i=t.strokeOpacity,s=t.fill,l=Xp(this.props,e),c=l.x1,u=l.y1,p=l.x2,f=l.y2,d=l.dy,h={strokeWidth:r,stroke:n,strokeOpacity:i},m=Object(Ia.a)();return m.moveTo(c,u-d),m.lineTo(p,f-d),m.lineTo(p,f+d),m.lineTo(c,u+d),m.closePath(),o.a.createElement("g",null,o.a.createElement("line",Yp({},h,{x1:c,y1:u-d,x2:p,y2:f-d})),o.a.createElement("line",Yp({},h,{x1:c,y1:u+d,x2:p,y2:f+d})),o.a.createElement("path",{d:m.toString(),fill:s,fillOpacity:a}),o.a.createElement("line",Yp({},h,{x1:c,y1:u,x2:p,y2:f})))}},{key:"render",value:function(){var e=this.props,t=e.selected,n=e.interactiveCursorClass,r=this.props,a=r.onHover,i=r.onUnHover;return o.a.createElement(Ra,{isHover:this.isHover,svgDraw:this.renderSVG,canvasToDraw:_a,canvasDraw:this.drawOnCanvas,interactiveCursorClass:n,selected:t,onHover:a,onUnHover:i,drawOn:["mousemove","mouseleave","pan","drag"]})}}]),t}();function Xp(e,t){var n=e.x1Value,r=e.x2Value,o=e.type,a=t.xScale,i=t.chartConfig.yScale,s=t.fullData,l=t.xAccessor,c=oo(s,n,l).left,u=oo(s,r,l).right,p=Math.min(c,u),f=Math.max(c,u)+1,d=s.slice(p,f),h=d.map(function(e){return l(e).valueOf()}),m=d.map(function(e){return e.close}),y=d.length,b=Pr().combine(function(e,t){return e*t})(h,m),v=h.map(function(e){return Math.pow(e,2)}),g=(y*Object(Er.o)(b)-Object(Er.o)(h)*Object(Er.o)(m))/(y*Object(Er.o)(v)-Math.pow(Object(Er.o)(h),2)),k=(Object(Er.o)(m)-g*Object(Er.o)(h))/y,w=k+g*n,E=k+g*r,S=a(n),O=i(w);return{x1:S,y1:O,x2:a(r),y2:i(E),dy:i(w-("SD"===o?Object(Er.e)(d,function(e){return e.close}):0))-O}}Qp.propTypes={x1Value:f.a.any.isRequired,x2Value:f.a.any.isRequired,type:f.a.oneOf(["SD","Raff"]).isRequired,interactiveCursorClass:f.a.string,stroke:f.a.string.isRequired,strokeWidth:f.a.number.isRequired,fill:f.a.string.isRequired,fillOpacity:f.a.number.isRequired,strokeOpacity:f.a.number.isRequired,onDragStart:f.a.func.isRequired,onDrag:f.a.func.isRequired,onDragComplete:f.a.func.isRequired,onHover:f.a.func,onUnHover:f.a.func,defaultClassName:f.a.string,tolerance:f.a.number.isRequired,selected:f.a.bool.isRequired},Qp.defaultProps={onDragStart:Or,onDrag:Or,onDragComplete:Or,type:"SD",strokeWidth:1,tolerance:4,selected:!1};var Jp=Qp,Kp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$p=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),ef=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var tf=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":Kp(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleEdge1Drag=n.handleEdge1Drag.bind(n),n.handleEdge2Drag=n.handleEdge2Drag.bind(n),n.handleHover=n.handleHover.bind(n),n.isHover=Ou.bind(n),n.saveNodeType=Eu.bind(n),n.nodes={},n.state={hover:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":Kp(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),ef(t,[{key:"handleEdge1Drag",value:function(e){var t=this.props,n=t.index,r=t.onDrag,o=t.snapTo,a=this.props.x2Value,i=nf(e,o);r(n,{x1Value:$p(i,1)[0],x2Value:a})}},{key:"handleEdge2Drag",value:function(e){var t=this.props,n=t.index,r=t.onDrag,o=t.snapTo,a=this.props.x1Value,i=nf(e,o);r(n,{x1Value:a,x2Value:$p(i,1)[0]})}},{key:"handleHover",value:function(e){this.state.hover!==e.hovering&&this.setState({hover:e.hovering})}},{key:"render",value:function(){var e=this.props,t=e.x1Value,n=e.x2Value,r=e.appearance,a=e.edgeInteractiveCursor,i=e.hoverText,s=e.interactive,l=e.selected,c=e.onDragComplete,u=r.stroke,p=r.strokeWidth,f=r.strokeOpacity,d=r.fill,h=r.fillOpacity,m=r.r,y=r.edgeStrokeWidth,b=r.edgeFill,v=r.edgeStroke,g=this.state.hover,k=s?{onHover:this.handleHover,onUnHover:this.handleHover}:{},w=i.enable,E=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(i,["enable"]);return o.a.createElement("g",null,o.a.createElement(Jp,Zp({ref:this.saveNodeType("area"),selected:l||g},k,{x1Value:t,x2Value:n,fill:d,stroke:u,strokeWidth:g||l?p+1:p,strokeOpacity:f,fillOpacity:h})),o.a.createElement(Wu,{ref:this.saveNodeType("edge1"),show:l||g,xyProvider:function(e){return function(t){var n=Xp(e,t);return[n.x1,n.y1]}}(this.props),r:m,fill:b,stroke:v,strokeWidth:y,interactiveCursorClass:a,onDrag:this.handleEdge1Drag,onDragComplete:c}),o.a.createElement(Wu,{ref:this.saveNodeType("edge2"),show:l||g,xyProvider:function(e){return function(t){var n=Xp(e,t);return[n.x2,n.y2]}}(this.props),r:m,fill:b,stroke:v,strokeWidth:y,interactiveCursorClass:a,onDrag:this.handleEdge2Drag,onDragComplete:c}),o.a.createElement(Ju,Zp({show:w&&g&&!l},E)))}}]),t}();function nf(e,t){var n=e.xScale,r=e.xAccessor,o=e.plotData,a=No(n,r,e.mouseXY,o);return[r(a),t(a)]}tf.propTypes={defaultClassName:f.a.string,x1Value:f.a.any.isRequired,x2Value:f.a.any.isRequired,index:f.a.number,appearance:f.a.shape({stroke:f.a.string.isRequired,fillOpacity:f.a.number.isRequired,strokeOpacity:f.a.number.isRequired,strokeWidth:f.a.number.isRequired,fill:f.a.string.isRequired,edgeStrokeWidth:f.a.number.isRequired,edgeStroke:f.a.string.isRequired,edgeFill:f.a.string.isRequired,r:f.a.number.isRequired}).isRequired,edgeInteractiveCursor:f.a.string,onDrag:f.a.func.isRequired,onDragComplete:f.a.func.isRequired,snapTo:f.a.func,interactive:f.a.bool.isRequired,selected:f.a.bool.isRequired,hoverText:f.a.object.isRequired},tf.defaultProps={onDrag:Or,onDragComplete:Or,appearance:{stroke:"#000000",fillOpacity:.7,strokeOpacity:1,strokeWidth:1,fill:"#8AAFE2",edgeStrokeWidth:2,edgeStroke:"#000000",edgeFill:"#FFFFFF",r:5},interactive:!0,selected:!1,hoverText:Zp({},Ju.defaultProps,{enable:!0,bgHeight:18,bgWidth:175,text:"Click and drag the edge circles"})};var rf=tf,of="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},af=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sf=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var lf=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":of(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleStart=n.handleStart.bind(n),n.handleEnd=n.handleEnd.bind(n),n.handleDrawLine=n.handleDrawLine.bind(n),n.handleDragLine=n.handleDragLine.bind(n),n.handleDragLineComplete=n.handleDragLineComplete.bind(n),n.terminate=wu.bind(n),n.saveNodeType=Eu.bind(n),n.getSelectionState=Su("channels").bind(n),n.nodes=[],n.state={},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":of(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),sf(t,[{key:"handleDragLine",value:function(e,t){this.setState({override:af({index:e},t)})}},{key:"handleDragLineComplete",value:function(e){var t=this,n=this.state.override,r=this.props.channels;if(uo(n)){var o=r.map(function(e,t){return t===n.index?af({},e,{start:[n.x1Value,n.y1Value],end:[n.x2Value,n.y2Value],selected:!0}):e});this.setState({override:null},function(){t.props.onComplete(o,e)})}}},{key:"handleDrawLine",value:function(e){var t=this.state.current;uo(t)&&uo(t.start)&&(this.mouseMoved=!0,console.log(e),this.setState({current:{start:t.start,end:e}}))}},{key:"handleStart",value:function(e){var t=this,n=this.state.current;(po(n)||po(n.start))&&(this.mouseMoved=!1,this.setState({current:{start:e,end:null}},function(){t.props.onStart()}))}},{key:"handleEnd",value:function(e,t,n){var r=this,o=this.state.current,a=this.props,i=a.appearance,s=a.channels;if(this.mouseMoved&&uo(o)&&uo(o.start)){var l=[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(s.map(function(e){return af({},e,{selected:!1})})),[{start:o.start,end:e,selected:!0,appearance:i}]);this.setState({current:null},function(){r.props.onComplete(l,t,n)})}}},{key:"render",value:function(){var e=this,t=this.props.appearance,n=this.props,r=n.enabled,a=n.snapTo,i=this.props,s=i.currentPositionRadius,l=i.currentPositionStroke,c=this.props,u=c.currentPositionOpacity,p=c.currentPositionStrokeWidth,f=this.props,d=f.hoverText,h=f.channels,m=this.state,y=m.current,b=m.override,v=uo(y)&&uo(y.end)?o.a.createElement(rf,{interactive:!1,x1Value:y.start[0],x2Value:y.end[0],appearance:t,hoverText:d}):null;return o.a.createElement("g",null,h.map(function(n,r){var i=uo(n.appearance)?af({},t,n.appearance):t;return o.a.createElement(rf,{key:r,ref:e.saveNodeType(r),index:r,selected:n.selected,x1Value:ku(b,r,"x1Value",n.start[0]),x2Value:ku(b,r,"x2Value",n.end[0]),appearance:i,snapTo:a,hoverText:d,onDrag:e.handleDragLine,onDragComplete:e.handleDragLineComplete,edgeInteractiveCursor:"react-stockcharts-move-cursor"})}),v,o.a.createElement(sp,{enabled:r,snap:!0,snapTo:a,r:s,stroke:l,opacity:u,strokeWidth:p,onMouseDown:this.handleStart,onClick:this.handleEnd,onMouseMove:this.handleDrawLine}))}}]),t}();lf.propTypes={enabled:f.a.bool.isRequired,snapTo:f.a.func.isRequired,onStart:f.a.func.isRequired,onComplete:f.a.func.isRequired,onSelect:f.a.func,currentPositionStroke:f.a.string,currentPositionStrokeWidth:f.a.number,currentPositionOpacity:f.a.number,currentPositionRadius:f.a.number,appearance:f.a.shape({stroke:f.a.string.isRequired,strokeOpacity:f.a.number.isRequired,strokeWidth:f.a.number.isRequired,fill:f.a.string.isRequired,fillOpacity:f.a.number.isRequired,edgeStrokeWidth:f.a.number.isRequired,edgeStroke:f.a.string.isRequired,edgeFill:f.a.string.isRequired,r:f.a.number.isRequired}).isRequired,hoverText:f.a.object.isRequired,channels:f.a.array.isRequired},lf.defaultProps={snapTo:function(e){return e.close},appearance:{stroke:"#000000",fillOpacity:.2,strokeOpacity:1,strokeWidth:1,fill:"#8AAFE2",edgeStrokeWidth:2,edgeStroke:"#000000",edgeFill:"#FFFFFF",r:5},onStart:Or,onComplete:Or,onSelect:Or,currentPositionStroke:"#000000",currentPositionOpacity:1,currentPositionStrokeWidth:3,currentPositionRadius:4,hoverText:af({},Ju.defaultProps,{enable:!0,bgHeight:18,bgWidth:175,text:"Click and drag the edge circles"}),channels:[]};var cf=lf,uf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pf=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),ff=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var df=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":uf(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.renderSVG=n.renderSVG.bind(n),n.drawOnCanvas=n.drawOnCanvas.bind(n),n.isHover=n.isHover.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":uf(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),ff(t,[{key:"isHover",value:function(e){var t=this.props,n=t.tolerance,r=t.onHover,o=e.mouseXY,a=pf(o,2),i=a[0],s=a[1],l=!1;if(uo(r))for(var c=mf(this.props,e),u=0;u<c.length;u++){var p=c[u],f=Math.min(p.x1,p.x2),d=Math.max(p.x1,p.x2),h=Math.min(p.y1,p.y2),m=Math.max(p.y1,p.y2);if(l=i>=f&&i<=d&&s>=h&&s<=m&&Tu([p.x1,p.y1],[p.x2,p.y2],o,n))break}return l}},{key:"drawOnCanvas",value:function(e,t){var n=this.props,r=n.stroke,o=n.strokeWidth,a=n.strokeOpacity,i=n.fill,s=n.fillOpacity,l=n.fontFamily,c=n.fontSize,u=n.fontFill,p=mf(this.props,t);e.lineWidth=o,e.strokeStyle=bo(r,a),e.font=c+"px "+l,e.fillStyle=u,p.forEach(function(t){var n=t.x1,r=t.y1,o=t.x2,a=t.y2,i=t.label;e.beginPath(),e.moveTo(n,r),e.lineTo(o,a),e.stroke(),e.beginPath(),e.fillText(i.text,i.x,i.y)}),Object(Er.l)(p).forEach(function(t,n){var r=pf(t,2),o=r[0],a=r[1];e.fillStyle=bo(i[n],s),e.beginPath(),e.moveTo(o.x1,o.y1),e.lineTo(o.x2,o.y2),e.lineTo(a.x2,a.y2),e.closePath(),e.fill()})}},{key:"renderSVG",value:function(e){var t=this.props,n=t.stroke,r=t.strokeWidth,a=t.fillOpacity,i=t.fill,s=t.strokeOpacity,l=mf(this.props,e),c=Object(Er.l)(l);return o.a.createElement("g",null,l.map(function(e,t){var a=e.x1,i=e.y1,l=e.x2,c=e.y2;return o.a.createElement("line",{key:t,strokeWidth:r,stroke:n,strokeOpacity:s,x1:a,y1:i,x2:l,y2:c})}),c.map(function(e,t){var n=pf(e,2),r=n[0],s=n[1],l=Object(Ia.a)();return l.moveTo(r.x1,r.y1),l.lineTo(r.x2,r.y2),l.lineTo(s.x2,s.y2),l.closePath(),o.a.createElement("path",{key:t,stroke:"none",fill:i[t],fillOpacity:a,d:l.toString()})}))}},{key:"render",value:function(){var e=this.props,t=e.selected,n=e.interactiveCursorClass,r=this.props,a=r.onDragStart,i=r.onDrag,s=r.onDragComplete,l=r.onHover,c=r.onUnHover;return o.a.createElement(Ra,{isHover:this.isHover,svgDraw:this.renderSVG,canvasToDraw:_a,canvasDraw:this.drawOnCanvas,interactiveCursorClass:n,selected:t,onDragStart:a,onDrag:i,onDragComplete:s,onHover:l,onUnHover:c,drawOn:["mousemove","mouseleave","pan","drag"]})}}]),t}();function hf(e,t,n,r){return{start:e,end:[t,n],text:r}}function mf(e,t){var n=e.startXY,r=e.endXY,o=t.xScale,a=t.chartConfig.yScale;if(po(n)||po(r))return[];var i=pf(n,2),s=i[0],l=i[1],c=pf(r,2),u=c[0],p=c[1],f=u-s,d=p-l;if(0!==f&&0!==d){var h=hf(n,u,l+d/2,"2/1"),m=hf(n,u,l+d/3,"3/1"),y=hf(n,u,l+d/4,"4/1"),b=hf(n,u,l+d/8,"8/1"),v=hf(n,s+f/2,p,"1/2"),g=hf(n,s+f/3,p,"1/3"),k=hf(n,s+f/4,p,"1/4");return[hf(n,s+f/8,p,"1/8"),k,g,v,{start:n,end:r,text:"1/1"},h,m,y,b].map(function(e){var t=Nu({type:"RAY",start:e.start,end:e.end,xScale:o,yScale:a}),n=t.x1,r=t.y1,i=t.x2,s=t.y2;return{x1:o(n),y1:a(r),x2:o(i),y2:a(s),label:{x:o(e.end[0]),y:a(e.end[1]),text:e.text}}})}return[]}df.propTypes={interactiveCursorClass:f.a.string,stroke:f.a.string.isRequired,strokeWidth:f.a.number.isRequired,fill:f.a.arrayOf(f.a.string).isRequired,strokeOpacity:f.a.number.isRequired,fillOpacity:f.a.number.isRequired,fontFamily:f.a.string.isRequired,fontSize:f.a.number.isRequired,fontFill:f.a.string.isRequired,onDragStart:f.a.func.isRequired,onDrag:f.a.func.isRequired,onDragComplete:f.a.func.isRequired,onHover:f.a.func,onUnHover:f.a.func,defaultClassName:f.a.string,tolerance:f.a.number.isRequired,selected:f.a.bool.isRequired},df.defaultProps={onDragStart:Or,onDrag:Or,onDragComplete:Or,strokeWidth:1,tolerance:4,selected:!1};var yf=df,bf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gf=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var kf=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":bf(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleLine1Edge1Drag=n.handleLine1Edge1Drag.bind(n),n.handleLine1Edge2Drag=n.handleLine1Edge2Drag.bind(n),n.handleDragStart=n.handleDragStart.bind(n),n.handleFanDrag=n.handleFanDrag.bind(n),n.handleChannelHeightChange=n.handleChannelHeightChange.bind(n),n.handleHover=n.handleHover.bind(n),n.getEdgeCircle=n.getEdgeCircle.bind(n),n.isHover=Ou.bind(n),n.saveNodeType=Eu.bind(n),n.nodes={},n.state={hover:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":bf(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),gf(t,[{key:"handleHover",value:function(e){this.state.hover!==e.hovering&&this.setState({hover:e.hovering})}},{key:"handleDragStart",value:function(){var e=this.props,t=e.startXY,n=e.endXY,r=e.dy;this.dragStart={startXY:t,endXY:n,dy:r}}},{key:"handleFanDrag",value:function(e){var t=this.props,n=t.index,r=t.onDrag,o=this.dragStart,a=o.startXY,i=o.endXY,s=e.xScale,l=e.chartConfig.yScale,c=e.xAccessor,u=e.fullData,p=e.startPos,f=e.mouseXY,d=s(a[0]),h=l(a[1]),m=s(i[0]),y=l(i[1]),b=p[0]-f[0],v=p[1]-f[1];r(n,{startXY:[qo(s,c,[d-b,h-v],u),l.invert(h-v)],endXY:[qo(s,c,[m-b,y-v],u),l.invert(y-v)],dy:this.dragStart.dy})}},{key:"handleLine1Edge1Drag",value:function(e){var t=this.props,n=t.index,r=t.onDrag,o=this.dragStart.startXY,a=e.startPos,i=e.mouseXY,s=e.xAccessor,l=e.xScale,c=e.fullData,u=e.chartConfig.yScale,p=a[0]-i[0],f=a[1]-i[1],d=l(o[0]),h=u(o[1]);r(n,{startXY:[qo(l,s,[d-p,h-f],c),u.invert(h-f)],endXY:this.dragStart.endXY,dy:this.dragStart.dy})}},{key:"handleLine1Edge2Drag",value:function(e){var t=this.props,n=t.index,r=t.onDrag,o=this.dragStart.endXY,a=e.startPos,i=e.mouseXY,s=e.xAccessor,l=e.xScale,c=e.fullData,u=e.chartConfig.yScale,p=a[0]-i[0],f=a[1]-i[1],d=l(o[0]),h=u(o[1]),m=qo(l,s,[d-p,h-f],c),y=u.invert(h-f);r(n,{startXY:this.dragStart.startXY,endXY:[m,y],dy:this.dragStart.dy})}},{key:"handleChannelHeightChange",value:function(e){var t=this.props,n=t.index,r=t.onDrag,o=this.dragStart,a=o.startXY,i=o.endXY,s=e.chartConfig.yScale,l=e.startPos,c=e.mouseXY,u=s(i[1]),p=l[1]-c[1];r(n,{startXY:a,endXY:i,dy:s.invert(u-p)-i[1]+this.dragStart.dy})}},{key:"getEdgeCircle",value:function(e){var t=e.xy,n=e.dragHandler,r=e.cursor,a=e.fill,i=e.edge,s=this.state.hover,l=this.props,c=l.selected,u=l.appearance,p=u.edgeStroke,f=u.edgeStrokeWidth,d=u.r,h=this.props.onDragComplete;return o.a.createElement(Wu,{ref:this.saveNodeType(i),show:c||s,cx:t[0],cy:t[1],r:d,fill:a,stroke:p,strokeWidth:f,interactiveCursorClass:r,onDragStart:this.handleDragStart,onDrag:n,onDragComplete:h})}},{key:"render",value:function(){var e=this.props,t=e.startXY,n=e.endXY,r=this.props,a=r.interactive,i=r.appearance,s=i.edgeFill,l=i.stroke,c=i.strokeWidth,u=i.strokeOpacity,p=i.fill,f=i.fillOpacity,d=i.fontFamily,h=i.fontSize,m=i.fontFill,y=this.props,b=y.hoverText,v=y.selected,g=this.props.onDragComplete,k=this.state.hover,w=b.enable,E=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(b,["enable"]),S=a?{onHover:this.handleHover,onUnHover:this.handleHover}:{},O=uo(t)&&uo(n)?o.a.createElement("g",null,this.getEdgeCircle({xy:t,dragHandler:this.handleLine1Edge1Drag,cursor:"react-stockcharts-move-cursor",fill:s,edge:"edge1"}),this.getEdgeCircle({xy:n,dragHandler:this.handleLine1Edge2Drag,cursor:"react-stockcharts-move-cursor",fill:s,edge:"edge2"})):null;return o.a.createElement("g",null,o.a.createElement(yf,vf({ref:this.saveNodeType("fan"),selected:k||v},S,{startXY:t,endXY:n,stroke:l,strokeWidth:k||v?c+1:c,fill:p,strokeOpacity:u,fillOpacity:f,fontFamily:d,fontSize:h,fontFill:m,interactiveCursorClass:"react-stockcharts-move-cursor",onDragStart:this.handleDragStart,onDrag:this.handleFanDrag,onDragComplete:g})),O,o.a.createElement(Ju,vf({show:w&&k&&!v},E)))}}]),t}();kf.propTypes={startXY:f.a.arrayOf(f.a.number).isRequired,endXY:f.a.arrayOf(f.a.number).isRequired,dy:f.a.number,interactive:f.a.bool.isRequired,selected:f.a.bool.isRequired,appearance:f.a.shape({stroke:f.a.string.isRequired,strokeOpacity:f.a.number.isRequired,fillOpacity:f.a.number.isRequired,strokeWidth:f.a.number.isRequired,edgeStroke:f.a.string.isRequired,edgeFill:f.a.string.isRequired,edgeStrokeWidth:f.a.number.isRequired,r:f.a.number.isRequired,fill:f.a.arrayOf(f.a.string).isRequired,fontFamily:f.a.string.isRequired,fontSize:f.a.number.isRequired,fontFill:f.a.string.isRequired}).isRequired,hoverText:f.a.object.isRequired,index:f.a.number,onDrag:f.a.func.isRequired,onDragComplete:f.a.func.isRequired},kf.defaultProps={yDisplayFormat:function(e){return e.toFixed(2)},interactive:!0,selected:!1,appearance:{stroke:"#000000",fillOpacity:.2,strokeOpacity:1,strokeWidth:1,edgeStroke:"#000000",edgeFill:"#FFFFFF",edgeStrokeWidth:1,r:5,fill:["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f"],fontFamily:"Helvetica Neue, Helvetica, Arial, sans-serif",fontSize:10,fontFill:"#000000"},onDrag:Or,onDragComplete:Or,hoverText:vf({},Ju.defaultProps,{enable:!0,bgHeight:18,bgWidth:120,text:"Click to select object"})};var wf=kf,Ef="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Of=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var _f=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":Ef(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleStart=n.handleStart.bind(n),n.handleEnd=n.handleEnd.bind(n),n.handleDrawFan=n.handleDrawFan.bind(n),n.handleDragFan=n.handleDragFan.bind(n),n.handleDragFanComplete=n.handleDragFanComplete.bind(n),n.terminate=wu.bind(n),n.saveNodeType=Eu.bind(n),n.getSelectionState=Su("fans").bind(n),n.nodes=[],n.state={},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":Ef(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),Of(t,[{key:"handleDragFan",value:function(e,t){this.setState({override:Sf({index:e},t)})}},{key:"handleDragFanComplete",value:function(e){var t=this,n=this.state.override,r=this.props.fans;if(uo(n)){var o=n.index,a=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(n,["index"]),i=r.map(function(e,t){return t===o?Sf({},e,a,{selected:!0}):e});this.setState({override:null},function(){t.props.onComplete(i,e)})}}},{key:"handleDrawFan",value:function(e){var t=this.state.current;uo(t)&&uo(t.startXY)&&(this.mouseMoved=!0,this.setState({current:{startXY:t.startXY,endXY:e}}))}},{key:"handleStart",value:function(e){var t=this,n=this.state.current;(po(n)||po(n.startXY))&&(this.mouseMoved=!1,this.setState({current:{startXY:e,endXY:null}},function(){t.props.onStart()}))}},{key:"handleEnd",value:function(e,t,n){var r=this,o=this.state.current,a=this.props,i=a.fans,s=a.appearance;if(this.mouseMoved&&uo(o)&&uo(o.startXY)){var l=[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(i.map(function(e){return Sf({},e,{selected:!1})})),[Sf({},o,{selected:!0,appearance:s})]);this.setState({current:null},function(){r.props.onComplete(l,t,n)})}}},{key:"render",value:function(){var e=this,t=this.props,n=t.enabled,r=t.appearance,a=this.props,i=a.currentPositionRadius,s=a.currentPositionStroke,l=this.props,c=l.currentPositionOpacity,u=l.currentPositionStrokeWidth,p=this.props,f=p.hoverText,d=p.fans,h=this.state,m=h.current,y=h.override,b=uo(y)?y.index:null,v=uo(m)&&uo(m.endXY)?o.a.createElement(wf,Sf({interactive:!1},m,{appearance:r,hoverText:f})):null;return o.a.createElement("g",null,d.map(function(t,n){var a=uo(t.appearance)?Sf({},r,t.appearance):r;return o.a.createElement(wf,Sf({key:n,ref:e.saveNodeType(n),index:n,selected:t.selected},n===b?y:t,{appearance:a,hoverText:f,onDrag:e.handleDragFan,onDragComplete:e.handleDragFanComplete}))}),v,o.a.createElement(sp,{enabled:n,snap:!1,r:i,stroke:s,opacity:c,strokeWidth:u,onMouseDown:this.handleStart,onClick:this.handleEnd,onMouseMove:this.handleDrawFan}))}}]),t}();_f.propTypes={enabled:f.a.bool.isRequired,onStart:f.a.func.isRequired,onComplete:f.a.func.isRequired,onSelect:f.a.func,currentPositionStroke:f.a.string,currentPositionStrokeWidth:f.a.number,currentPositionOpacity:f.a.number,currentPositionRadius:f.a.number,appearance:f.a.shape({stroke:f.a.string.isRequired,strokeOpacity:f.a.number.isRequired,fillOpacity:f.a.number.isRequired,strokeWidth:f.a.number.isRequired,edgeStroke:f.a.string.isRequired,edgeFill:f.a.string.isRequired,edgeStrokeWidth:f.a.number.isRequired,r:f.a.number.isRequired,fill:f.a.arrayOf(f.a.string).isRequired,fontFamily:f.a.string.isRequired,fontSize:f.a.number.isRequired,fontFill:f.a.string.isRequired}).isRequired,hoverText:f.a.object.isRequired,fans:f.a.array.isRequired},_f.defaultProps={appearance:{stroke:"#000000",fillOpacity:.2,strokeOpacity:1,strokeWidth:1,edgeStroke:"#000000",edgeFill:"#FFFFFF",edgeStrokeWidth:1,r:5,fill:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf"],fontFamily:"Helvetica Neue, Helvetica, Arial, sans-serif",fontSize:12,fontFill:"#000000"},onStart:Or,onComplete:Or,onSelect:Or,currentPositionStroke:"#000000",currentPositionOpacity:1,currentPositionStrokeWidth:3,currentPositionRadius:4,hoverText:Sf({},Ju.defaultProps,{enable:!0,bgHeight:18,bgWidth:120,text:"Click to select object"}),fans:[]};var Cf=_f,xf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pf=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Af=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":xf(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":xf(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),Pf(t,[{key:"render",value:function(){var e=this.props,t=e.onMouseDown,n=e.onClick,r=e.onDoubleClick,a=e.onContextMenu,i=e.onMouseMove,s=e.onPan,l=e.onPanEnd;return o.a.createElement(Ra,{onMouseDown:t,onClick:n,onDoubleClick:r,onContextMenu:a,onMouseMove:i,onPan:s,onPanEnd:l,svgDraw:Or,canvasDraw:Or,canvasToDraw:_a,drawOn:["mousemove","pan"]})}}]),t}();Af.propTypes={disablePan:f.a.bool.isRequired,onMouseDown:f.a.func,onClick:f.a.func,onDoubleClick:f.a.func,onContextMenu:f.a.func,onMouseMove:f.a.func,onPan:f.a.func,onPanEnd:f.a.func},Af.defaultProps={disablePan:!1};var Tf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Df=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),jf=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Rf=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":Tf(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.handleZoomStart=r.handleZoomStart.bind(r),r.handleDrawSquare=r.handleDrawSquare.bind(r),r.handleZoomComplete=r.handleZoomComplete.bind(r),r.drawOnCanvas=r.drawOnCanvas.bind(r),r.renderSVG=r.renderSVG.bind(r),r.saveNode=r.saveNode.bind(r),r.terminate=r.terminate.bind(r),r.state={rect:null},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":Tf(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),jf(t,[{key:"terminate",value:function(){this.zoomHappening=!1,this.setState({x1y1:null,start:null,end:null,rect:null})}},{key:"saveNode",value:function(e){this.node=e}},{key:"drawOnCanvas",value:function(e){var t=this.state.rect;if(uo(t)){var n=t.x,r=t.y,o=t.height,a=t.width,i=this.props,s=i.stroke,l=i.fill,c=i.strokeDashArray,u=this.props,p=u.strokeOpacity,f=u.fillOpacity,d=Wr(c).split(",").map(function(e){return+e});e.strokeStyle=bo(s,p),e.fillStyle=bo(l,f),e.setLineDash(d),e.beginPath(),e.fillRect(n,r,a,o),e.strokeRect(n,r,a,o)}}},{key:"renderSVG",value:function(){var e=this.state.rect;if(uo(e)){var t=e.x,n=e.y,r=e.height,a=e.width,i=this.props,s=i.stroke,l=i.strokeDashArray,c=this.props,u=c.strokeOpacity,p=c.fillOpacity,f=Wr(l).split(",").map(function(e){return+e});return o.a.createElement("rect",{strokeDasharray:f,stroke:s,fill:"none",strokeOpacity:u,fillOpacity:p,x:t,y:n,width:a,height:r})}}},{key:"handleZoomStart",value:function(e){this.zoomHappening=!1;var t=Df(e.mouseXY,2)[1],n=e.currentItem,r=e.chartConfig.yScale,o=e.xAccessor,a=[(0,e.xScale)(o(n)),t];this.setState({selected:!0,x1y1:a,start:{item:n,xValue:o(n),yValue:r.invert(t)}})}},{key:"handleDrawSquare",value:function(e){if(null!=this.state.x1y1){this.zoomHappening=!0;var t=Df(e.mouseXY,2)[1],n=e.currentItem,r=e.chartConfig.yScale,o=e.xAccessor,a=[(0,e.xScale)(o(n)),t],i=a[0],s=a[1],l=Df(this.state.x1y1,2),c=l[0],u=l[1],p=Math.min(c,i),f=Math.min(u,s),d=Math.abs(s-u),h=Math.abs(i-c);this.setState({selected:!0,end:{item:n,xValue:o(n),yValue:r.invert(t)},rect:{x:p,y:f,height:d,width:h}})}}},{key:"handleZoomComplete",value:function(e){if(this.zoomHappening){var t=this.props.onBrush,n=this.state;t({start:n.start,end:n.end},e)}this.setState({selected:!1,rect:null})}},{key:"render",value:function(){var e=this.props.enabled;return e?o.a.createElement(Ra,{ref:this.saveNode,disablePan:e,svgDraw:this.renderSVG,canvasToDraw:_a,canvasDraw:this.drawOnCanvas,onMouseDown:this.handleZoomStart,onMouseMove:this.handleDrawSquare,onClick:this.handleZoomComplete,drawOn:["mousemove","pan","drag"]}):null}}]),t}();Rf.propTypes={enabled:f.a.bool.isRequired,onStart:f.a.func.isRequired,onBrush:f.a.func.isRequired,type:f.a.oneOf(["1D","2D"]),stroke:f.a.string,fill:f.a.string,strokeOpacity:f.a.number,fillOpacity:f.a.number,interactiveState:f.a.object,strokeDashArray:f.a.string},Rf.defaultProps={type:"2D",stroke:"#000000",fillOpacity:.3,strokeOpacity:1,fill:"#3h3h3h",onBrush:Or,onStart:Or,strokeDashArray:"ShortDash"};var Ff="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nf=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),qf=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var If=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":Ff(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.calculateTextWidth=!0,n.renderSVG=n.renderSVG.bind(n),n.drawOnCanvas=n.drawOnCanvas.bind(n),n.isHover=n.isHover.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":Ff(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),qf(t,[{key:"isHover",value:function(e){if(uo(this.props.onHover)&&uo(this.textWidth)&&!this.calculateTextWidth){var t=Mf(this.props,e,this.textWidth).rect,n=Nf(e.mouseXY,2),r=n[0],o=n[1];if(r>=t.x&&o>=t.y&&r<=t.x+t.width&&o<=t.y+t.height)return!0}return!1}},{key:"componentWillReceiveProps",value:function(e){this.calculateTextWidth=e.text!==this.props.text||e.fontStyle!==this.props.fontStyle||e.fontWeight!==this.props.fontWeight||e.fontSize!==this.props.fontSize||e.fontFamily!==this.props.fontFamily}},{key:"drawOnCanvas",value:function(e,t){var n=this.props,r=n.bgFill,o=n.bgOpacity,a=n.textFill,i=n.fontFamily,s=n.fontSize,l=n.fontStyle,c=n.fontWeight,u=n.text;if(this.calculateTextWidth){e.font=l+" "+c+" "+s+"px "+i;var p=e.measureText(u).width;this.textWidth=p,this.calculateTextWidth=!1}var f=this.props.selected,d=Mf(this.props,t,this.textWidth),h=d.x,m=d.y,y=d.rect;e.fillStyle=bo(r,o),e.beginPath(),e.fillRect(y.x,y.y,y.width,y.height),f&&(e.strokeStyle=a,e.strokeRect(y.x,y.y,y.width,y.height)),e.fillStyle=a,e.textBaseline="middle",e.textAlign="center",e.font=l+" "+c+" "+s+"px "+i,e.beginPath(),e.fillText(u,h,m)}},{key:"renderSVG",value:function(){throw new Error("svg not implemented")}},{key:"render",value:function(){var e=this.props,t=e.selected,n=e.interactiveCursorClass,r=this.props,a=r.onHover,i=r.onUnHover,s=this.props,l=s.onDragStart,c=s.onDrag,u=s.onDragComplete;return o.a.createElement(Ra,{isHover:this.isHover,svgDraw:this.renderSVG,canvasToDraw:_a,canvasDraw:this.drawOnCanvas,interactiveCursorClass:n,selected:t,onDragStart:l,onDrag:c,onDragComplete:u,onHover:a,onUnHover:i,drawOn:["mousemove","mouseleave","pan","drag"]})}}]),t}();function Mf(e,t,n){var r=e.position,o=e.fontSize,a=t.xScale,i=t.chartConfig.yScale,s=Nf(r,2),l=s[0],c=s[1],u=a(l),p=i(c);return{x:u,y:p,rect:{x:u-n/2-o,y:p-o,width:n+2*o,height:2*o}}}If.propTypes={bgFill:f.a.string.isRequired,bgOpacity:f.a.number.isRequired,textFill:f.a.string.isRequired,fontFamily:f.a.string.isRequired,fontSize:f.a.number.isRequired,fontWeight:f.a.oneOfType([f.a.number,f.a.string]).isRequired,fontStyle:f.a.string.isRequired,text:f.a.string.isRequired,onDragStart:f.a.func.isRequired,onDrag:f.a.func.isRequired,onDragComplete:f.a.func.isRequired,onHover:f.a.func,onUnHover:f.a.func,defaultClassName:f.a.string,interactiveCursorClass:f.a.string,tolerance:f.a.number.isRequired,selected:f.a.bool.isRequired},If.defaultProps={onDragStart:Or,onDrag:Or,onDragComplete:Or,type:"SD",fontWeight:"normal",strokeWidth:1,tolerance:4,selected:!1};var Lf=If,Bf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wf=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Hf=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var zf=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":Bf(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleHover=n.handleHover.bind(n),n.handleDragStart=n.handleDragStart.bind(n),n.handleDrag=n.handleDrag.bind(n),n.isHover=Ou.bind(n),n.saveNodeType=Eu.bind(n),n.nodes={},n.state={hover:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":Bf(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),Hf(t,[{key:"handleDragStart",value:function(e){var t=this.props.position,n=e.mouseXY,r=e.chartConfig.yScale,o=e.xScale,a=Wf(n,2),i=a[0],s=a[1],l=Wf(t,2),c=l[0],u=l[1],p=i-o(c),f=s-r(u);this.dragStartPosition={position:t,dx:p,dy:f}}},{key:"handleDrag",value:function(e){var t=this.props,n=t.index,r=t.onDrag,o=Wf(e.mouseXY,2)[1],a=e.chartConfig.yScale,i=e.xAccessor,s=e.mouseXY,l=e.plotData,c=e.xScale,u=this.dragStartPosition,p=u.dx,f=u.dy;r(n,[c.invert(c(qo(c,i,s,l))-p),a.invert(o-f)])}},{key:"handleHover",value:function(e){this.state.hover!==e.hovering&&this.setState({hover:e.hovering})}},{key:"render",value:function(){var e=this.props,t=e.position,n=e.bgFill,r=e.bgOpacity,a=e.textFill,i=e.fontFamily,s=e.fontSize,l=e.fontWeight,c=e.fontStyle,u=e.text,p=e.hoverText,f=e.selected,d=e.onDragComplete,h=this.state.hover,m={onHover:this.handleHover,onUnHover:this.handleHover},y=p.enable,b=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(p,["enable"]);return o.a.createElement("g",null,o.a.createElement(Lf,Vf({ref:this.saveNodeType("text"),selected:f||h,interactiveCursorClass:"react-stockcharts-move-cursor"},m,{onDragStart:this.handleDragStart,onDrag:this.handleDrag,onDragComplete:d,position:t,bgFill:n,bgOpacity:r,textFill:a,fontFamily:i,fontStyle:c,fontWeight:l,fontSize:s,text:u})),o.a.createElement(Ju,Vf({show:y&&h&&!f},b)))}}]),t}();zf.propTypes={index:f.a.number,position:f.a.array.isRequired,bgFill:f.a.string.isRequired,bgOpacity:f.a.number.isRequired,textFill:f.a.string.isRequired,fontWeight:f.a.string.isRequired,fontFamily:f.a.string.isRequired,fontStyle:f.a.string.isRequired,fontSize:f.a.number.isRequired,text:f.a.string.isRequired,selected:f.a.bool.isRequired,onDrag:f.a.func.isRequired,onDragComplete:f.a.func.isRequired,hoverText:f.a.object.isRequired},zf.defaultProps={onDrag:Or,onDragComplete:Or,edgeStroke:"#000000",edgeFill:"#FFFFFF",edgeStrokeWidth:2,r:5,strokeWidth:1,opacity:1,selected:!1,fill:"#8AAFE2",hoverText:Vf({},Ju.defaultProps,{enable:!0,bgHeight:18,bgWidth:120,text:"Click to select object"})};var Uf=zf,Yf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gf=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Qf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xf=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Jf=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":Yf(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleDraw=n.handleDraw.bind(n),n.handleDrag=n.handleDrag.bind(n),n.handleDragComplete=n.handleDragComplete.bind(n),n.terminate=wu.bind(n),n.saveNodeType=Eu.bind(n),n.getSelectionState=Su("textList").bind(n),n.nodes=[],n.state={},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":Yf(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),Xf(t,[{key:"handleDrag",value:function(e,t){this.setState({override:{index:e,position:t}})}},{key:"handleDragComplete",value:function(e){var t=this,n=this.state.override;if(uo(n)){var r=this.props.textList.map(function(e,t){var r=t===n.index;return Qf({},e,r?{position:n.position,selected:r}:{selected:r})});this.setState({override:null},function(){t.props.onDragComplete(r,e)})}}},{key:"handleDrawLine",value:function(e){var t=this.state.current;uo(t)&&uo(t.start)&&this.setState({current:{start:t.start,end:e}})}},{key:"handleDraw",value:function(e,t){if(this.props.enabled){var n=Gf(e.mouseXY,2)[1],r=e.chartConfig.yScale,o=[(0,e.xAccessor)(e.currentItem),r.invert(n)],a=this.props,i=a.defaultText;(0,a.onChoosePosition)(Qf({},i,{position:o}),e,t)}}},{key:"render",value:function(){var e=this,t=this.props,n=t.textList,r=t.defaultText,a=this.state.override;return o.a.createElement("g",null,n.map(function(t,n){var i=Qf({},r,t);return o.a.createElement(Uf,Qf({key:n,ref:e.saveNodeType(n),index:n},i,{selected:t.selected,position:ku(a,n,"position",t.position),onDrag:e.handleDrag,onDragComplete:e.handleDragComplete,edgeInteractiveCursor:"react-stockcharts-move-cursor"}))}),o.a.createElement(Ra,{onClick:this.handleDraw,svgDraw:Or,canvasDraw:Or,canvasToDraw:_a,drawOn:["mousemove","pan"]}),";")}}]),t}();Jf.propTypes={onChoosePosition:f.a.func.isRequired,onDragComplete:f.a.func.isRequired,onSelect:f.a.func,defaultText:f.a.shape({bgFill:f.a.string.isRequired,bgOpacity:f.a.number.isRequired,textFill:f.a.string.isRequired,fontFamily:f.a.string.isRequired,fontWeight:f.a.string.isRequired,fontStyle:f.a.string.isRequired,fontSize:f.a.number.isRequired,text:f.a.string.isRequired}).isRequired,hoverText:f.a.object.isRequired,textList:f.a.array.isRequired,enabled:f.a.bool.isRequired},Jf.defaultProps={onChoosePosition:Or,onDragComplete:Or,onSelect:Or,defaultText:{bgFill:"#D3D3D3",bgOpacity:1,textFill:"#F10040",fontFamily:"Helvetica Neue, Helvetica, Arial, sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal",text:"Lorem ipsum..."},hoverText:Qf({},Ju.defaultProps,{enable:!0,bgHeight:18,bgWidth:175,text:"Click and drag the edge circles"}),textList:[]},Jf.contextTypes={subscribe:f.a.func.isRequired,unsubscribe:f.a.func.isRequired,generateSubscriptionId:f.a.func.isRequired,chartId:f.a.oneOfType([f.a.number,f.a.string]).isRequired};var Kf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zf=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),$f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var ed=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":Kf(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.saveNode=n.saveNode.bind(n),n.drawOnCanvas=n.drawOnCanvas.bind(n),n.isHover=n.isHover.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":Kf(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),$f(t,[{key:"saveNode",value:function(e){this.node=e}},{key:"isHover",value:function(e){var t=e.mouseXY;if(this.closeIcon){var n=this.props.textBox,r=this.closeIcon,o=r.x,a=r.y,i=n.closeIcon.width/2,s=[o-i,a+i],l=[o+i,a-i];if(Tu([o-i,a-i],[o+i,a+i],t,3)||Tu(s,l,t,3))return!0}return!1}},{key:"drawOnCanvas",value:function(e,t){var n=this.props,r=n.stroke,o=n.strokeWidth,a=n.strokeOpacity,i=n.hovering,s=n.textBox,l=function(e,t,n){var r=e.yValue,o=e.text,a=e.textBox,i=e.fontFamily,s=e.fontStyle,l=e.fontWeight,c=e.fontSize;n.font=s+" "+l+" "+c+"px "+i;var u=t.chartConfig.yScale,p=a.left+a.padding.left+n.measureText(o).width+a.padding.right+a.closeIcon.padding.left+a.closeIcon.width/2,f=u(r);return[p,f]}(this.props,t,e),c=Zf(l,2),u=c[0],p=c[1];this.closeIcon={x:u,y:p},e.beginPath(),e.lineWidth=i?o+1:o,e.strokeStyle=bo(r,a);var f=s.closeIcon.width/2;e.moveTo(u-f,p-f),e.lineTo(u+f,p+f),e.moveTo(u-f,p+f),e.lineTo(u+f,p-f),e.stroke()}},{key:"renderSVG",value:function(){throw new Error("svg not implemented")}},{key:"render",value:function(){var e=this.props.interactiveCursorClass,t=this.props.show,n=this.props,r=n.onHover,a=n.onUnHover,i=n.onClick;return t?o.a.createElement(Ra,{ref:this.saveNode,interactiveCursorClass:e,isHover:this.isHover,onClickWhenHover:i,svgDraw:this.renderSVG,canvasDraw:this.drawOnCanvas,canvasToDraw:_a,onHover:r,onUnHover:a,drawOn:["pan","mousemove","drag"]}):null}}]),t}();ed.propTypes={stroke:f.a.string.isRequired,strokeOpacity:f.a.number.isRequired,strokeWidth:f.a.number.isRequired,textBox:f.a.object.isRequired,hovering:f.a.bool,interactiveCursorClass:f.a.string,show:f.a.bool,onHover:f.a.func,onUnHover:f.a.func,onClick:f.a.func},ed.defaultProps={show:!1,fillOpacity:1,strokeOpacity:1,strokeWidth:1};var td=ed,nd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rd=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},od=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),ad=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var id=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":nd(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.renderSVG=n.renderSVG.bind(n),n.drawOnCanvas=n.drawOnCanvas.bind(n),n.isHover=n.isHover.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":nd(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),ad(t,[{key:"isHover",value:function(e){if(uo(this.props.onHover)){var t=sd(this.props,e);if(null==t)return!1;var n=t.x1,r=t.x2,o=t.y,a=t.rect,i=od(e.mouseXY,2),s=i[0],l=i[1];if(s>=a.x&&s<=a.x+this.width&&l>=a.y&&l<=a.y+a.height)return!0;if(n<=s&&r>=s&&Math.abs(l-o)<4)return!0}return!1}},{key:"drawOnCanvas",value:function(e,t){var n=this.props,r=n.bgFill,o=n.bgOpacity,a=n.textFill,i=n.fontFamily,s=n.fontSize,l=n.fontStyle,c=n.fontWeight,u=n.stroke,p=n.strokeWidth,f=n.strokeOpacity,d=n.strokeDasharray,h=n.text,m=n.textBox,y=n.edge,b=this.props,v=b.selected,g=b.hovering,k=sd(this.props,t);if(null!=k){var w=k.x1,E=k.x2,S=k.y,O=k.rect;e.strokeStyle=bo(u,f),e.beginPath(),e.lineWidth=v||g?p+1:p,e.textBaseline="middle",e.textAlign="start",e.font=l+" "+c+" "+s+"px "+i,this.width=m.padding.left+e.measureText(h).width+m.padding.right+m.closeIcon.padding.left+m.closeIcon.width+m.closeIcon.padding.right,e.setLineDash(function(e){var t=Wr(e).split(",");return 1===t.length?[]:t.map(function(e){return Number(e)})}(d)),e.moveTo(w,S),e.lineTo(O.x,S),e.moveTo(O.x+this.width,S),e.lineTo(E,S),e.stroke(),e.setLineDash([]),e.fillStyle=bo(r,o),e.fillRect(O.x,O.y,this.width,O.height),e.strokeRect(O.x,O.y,this.width,O.height),e.fillStyle=a,e.beginPath(),e.fillText(h,O.x+10,S);var _=rd({},y,{textFill:a,fontFamily:i,fontSize:s,opacity:o});Lc(e,au(S,y.displayFormat(this.props.yValue),_,t))}}},{key:"renderSVG",value:function(){throw new Error("svg not implemented")}},{key:"render",value:function(){var e=this.props.interactiveCursorClass,t=this.props,n=t.onHover,r=t.onUnHover,a=this.props,i=a.onDragStart,s=a.onDrag,l=a.onDragComplete;return o.a.createElement(Ra,{clip:!1,xxxyyy:!0,isHover:this.isHover,svgDraw:this.renderSVG,canvasToDraw:_a,canvasDraw:this.drawOnCanvas,interactiveCursorClass:e,enableDragOnHover:!0,onDragStart:i,onDrag:s,onDragComplete:l,onHover:n,onUnHover:r,drawOn:["mousemove","mouseleave","pan","drag"]})}}]),t}();function sd(e,t){var n=e.yValue,r=e.textBox,o=t.chartConfig,a=o.width,i=o.yScale,s=o.height,l=Math.round(i(n));if(l>=0&&l<=s)return{x1:0,x2:a,y:l,rect:{x:r.left,y:l-r.height/2,height:r.height}}}id.propTypes={bgFill:f.a.string.isRequired,bgOpacity:f.a.number.isRequired,stroke:f.a.string.isRequired,strokeWidth:f.a.number.isRequired,strokeOpacity:f.a.number.isRequired,strokeDasharray:f.a.string.isRequired,textFill:f.a.string.isRequired,fontFamily:f.a.string.isRequired,fontSize:f.a.number.isRequired,fontWeight:f.a.oneOfType([f.a.number,f.a.string]).isRequired,fontStyle:f.a.string.isRequired,text:f.a.string.isRequired,edge:f.a.object.isRequired,textBox:f.a.object.isRequired,yValue:f.a.number.isRequired,onDragStart:f.a.func.isRequired,onDrag:f.a.func.isRequired,onDragComplete:f.a.func.isRequired,onHover:f.a.func,onUnHover:f.a.func,defaultClassName:f.a.string,interactiveCursorClass:f.a.string,tolerance:f.a.number.isRequired,selected:f.a.bool.isRequired,hovering:f.a.bool.isRequired},id.defaultProps={onDragStart:Or,onDrag:Or,onDragComplete:Or,fontWeight:"normal",strokeWidth:1,tolerance:4,selected:!1,hovering:!1};var ld=id,cd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ud=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pd=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),fd=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var dd=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":cd(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleHover=n.handleHover.bind(n),n.handleCloseIconHover=n.handleCloseIconHover.bind(n),n.handleDragStart=n.handleDragStart.bind(n),n.handleDrag=n.handleDrag.bind(n),n.handleDelete=n.handleDelete.bind(n),n.isHover=Ou.bind(n),n.saveNodeType=Eu.bind(n),n.nodes={},n.state={hover:!1,closeIconHover:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":cd(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),fd(t,[{key:"handleDragStart",value:function(e){var t=this.props.yValue,n=e.mouseXY,r=e.chartConfig.yScale,o=pd(n,2)[1]-r(t);this.dragStartPosition={yValue:t,dy:o}}},{key:"handleDrag",value:function(e){var t=this.props,n=t.index,r=t.onDrag,o=pd(e.mouseXY,2)[1],a=e.chartConfig.yScale,i=this.dragStartPosition.dy;r(n,a.invert(o-i))}},{key:"handleDelete",value:function(e){var t=this.props,n=t.index;(0,t.onDelete)(n,e)}},{key:"handleHover",value:function(e){this.state.hover!==e.hovering&&this.setState({hover:e.hovering,closeIconHover:!!e.hovering&&this.state.closeIconHover})}},{key:"handleCloseIconHover",value:function(e){this.state.closeIconHover!==e.hovering&&this.setState({closeIconHover:e.hovering})}},{key:"render",value:function(){var e=this.props,t=e.yValue,n=e.bgFill,r=e.bgOpacity,a=e.textFill,i=e.fontFamily,s=e.fontSize,l=e.fontWeight,c=e.fontStyle,u=e.text,p=e.selected,f=e.onDragComplete,d=e.stroke,h=e.strokeOpacity,m=e.strokeDasharray,y=e.strokeWidth,b=e.edge,v=e.textBox,g=this.state,k=g.hover,w=g.closeIconHover,E={onHover:this.handleHover,onUnHover:this.handleHover};return o.a.createElement("g",null,o.a.createElement(ld,ud({ref:this.saveNodeType("priceCoordinate"),selected:p&&!w,hovering:k||w,interactiveCursorClass:"react-stockcharts-move-cursor"},E,{onDragStart:this.handleDragStart,onDrag:this.handleDrag,onDragComplete:f,yValue:t,bgFill:n,bgOpacity:r,textFill:a,fontFamily:i,fontStyle:c,fontWeight:l,fontSize:s,stroke:d,strokeOpacity:h,strokeDasharray:m,strokeWidth:y,text:u,textBox:v,edge:b})),o.a.createElement(td,{show:!0,hovering:w,text:u,yValue:t,fontFamily:i,fontStyle:c,fontWeight:l,fontSize:s,textBox:v,stroke:d,strokeOpacity:h,onHover:this.handleCloseIconHover,onUnHover:this.handleCloseIconHover,onClick:this.handleDelete}))}}]),t}();dd.propTypes={index:f.a.number,yValue:f.a.number.isRequired,bgFill:f.a.string.isRequired,bgOpacity:f.a.number.isRequired,stroke:f.a.string.isRequired,strokeWidth:f.a.number.isRequired,strokeOpacity:f.a.number.isRequired,strokeDasharray:f.a.string.isRequired,textFill:f.a.string.isRequired,fontWeight:f.a.string.isRequired,fontFamily:f.a.string.isRequired,fontStyle:f.a.string.isRequired,fontSize:f.a.number.isRequired,text:f.a.string.isRequired,selected:f.a.bool.isRequired,edge:f.a.object.isRequired,textBox:f.a.object.isRequired,onDrag:f.a.func.isRequired,onDragComplete:f.a.func.isRequired,onDelete:f.a.func.isRequired},dd.defaultProps={onDrag:Or,onDragComplete:Or,strokeWidth:1,opacity:1,selected:!1,fill:"#FFFFFF"};var hd=dd,md="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yd=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bd=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var vd=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":md(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleDrag=n.handleDrag.bind(n),n.handleDragComplete=n.handleDragComplete.bind(n),n.handleDelete=n.handleDelete.bind(n),n.terminate=wu.bind(n),n.saveNodeType=Eu.bind(n),n.getSelectionState=Su("yCoordinateList").bind(n),n.nodes=[],n.state={},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":md(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),bd(t,[{key:"handleDrag",value:function(e,t){this.setState({override:{index:e,yValue:t}})}},{key:"handleDragComplete",value:function(e){var t=this,n=this.state.override;if(uo(n)){var r=this.props.yCoordinateList.map(function(e,t){var r=t===n.index;return yd({},e,r?{yValue:n.yValue,selected:r}:{selected:r})}),o=r[n.index];this.setState({override:null},function(){t.props.onDragComplete(r,e,o)})}}},{key:"handleDrawLine",value:function(e){var t=this.state.current;uo(t)&&uo(t.start)&&this.setState({current:{start:t.start,end:e}})}},{key:"handleDelete",value:function(e,t){var n=this.props;(0,n.onDelete)(n.yCoordinateList[e],t)}},{key:"render",value:function(){var e=this,t=this.props.yCoordinateList,n=this.state.override;return o.a.createElement("g",null,t.map(function(t,r){var a=t;return o.a.createElement(hd,yd({key:t.id,ref:e.saveNodeType(r),index:r},a,{selected:t.selected,yValue:ku(n,r,"yValue",t.yValue),onDelete:e.handleDelete,onDrag:e.handleDrag,onDragComplete:e.handleDragComplete,edgeInteractiveCursor:"react-stockcharts-move-cursor"}))}))}}]),t}();vd.propTypes={onChoosePosition:f.a.func.isRequired,onDragComplete:f.a.func.isRequired,onSelect:f.a.func,onDelete:f.a.func,defaultPriceCoordinate:f.a.shape({bgFill:f.a.string.isRequired,bgOpacity:f.a.number.isRequired,stroke:f.a.string.isRequired,strokeDasharray:f.a.oneOf(Vr).isRequired,strokeOpacity:f.a.number.isRequired,strokeWidth:f.a.number.isRequired,textFill:f.a.string.isRequired,fontFamily:f.a.string.isRequired,fontWeight:f.a.string.isRequired,fontStyle:f.a.string.isRequired,fontSize:f.a.number.isRequired,text:f.a.string.isRequired,textBox:f.a.shape({height:f.a.number.isRequired,left:f.a.number.isRequired,padding:f.a.shape({left:f.a.number.isRequired,right:f.a.number.isRequired}),closeIcon:f.a.shape({padding:f.a.shape({left:f.a.number.isRequired,right:f.a.number.isRequired}),width:f.a.number.isRequired})}).isRequired,edge:f.a.shape({stroke:f.a.string.isRequired,strokeOpacity:f.a.number.isRequired,strokeWidth:f.a.number.isRequired,fill:f.a.string.isRequired,fillOpacity:f.a.number.isRequired})}).isRequired,hoverText:f.a.object.isRequired,yCoordinateList:f.a.array.isRequired,enabled:f.a.bool.isRequired},vd.defaultProps={onChoosePosition:Or,onDragComplete:Or,onSelect:Or,onDelete:Or,defaultPriceCoordinate:{bgFill:"#FFFFFF",bgOpacity:1,stroke:"#6574CD",strokeOpacity:1,strokeDasharray:"ShortDash2",strokeWidth:1,textFill:"#6574CD",fontFamily:"Helvetica Neue, Helvetica, Arial, sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal",text:"Alert",textBox:{height:24,left:20,padding:{left:10,right:5},closeIcon:{padding:{left:5,right:8},width:8}},edge:{stroke:"#6574CD",strokeOpacity:1,strokeWidth:1,fill:"#FFFFFF",fillOpacity:1,orient:"right",at:"right",arrowWidth:10,dx:0,rectWidth:50,rectHeight:20,displayFormat:Object(kr.a)(".2f")}},hoverText:yd({},Ju.defaultProps,{enable:!0,bgHeight:18,bgWidth:175,text:"Click and drag the edge circles"}),yCoordinateList:[]},vd.contextTypes={subscribe:f.a.func.isRequired,unsubscribe:f.a.func.isRequired,generateSubscriptionId:f.a.func.isRequired,chartId:f.a.oneOfType([f.a.number,f.a.string]).isRequired};var gd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kd=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var wd=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":gd(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleClick=n.handleClick.bind(n),n.handleDoubleClick=n.handleDoubleClick.bind(n),n.getInteraction=n.getInteraction.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":gd(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),kd(t,[{key:"handleDoubleClick",value:function(e,t){t.preventDefault();var n=this.props.onDoubleClick;if(this.props.enabled){var r=function(e){return e.map(function(e){var t=e.objects.filter(function(e){return e.selected});return gu({},e,{objects:t})}).filter(function(e){return e.objects.length>0})}(this.getInteraction(e));if(r.length>0){var o=so(r);n({type:o.type,chartId:o.chartId,object:so(o.objects)},_u(e,o.chartId))}}}},{key:"handleClick",value:function(e,t){t.preventDefault();var n=this.props.onSelect;this.props.enabled&&n(this.getInteraction(e),e)}},{key:"getInteraction",value:function(e){var t=this.props,n=t.getInteractiveNodes,r=t.drawingObjectMap;return go(n(),function(t){var n=r[t.type],o=uo(n)?t.node.props[n]:void 0;if(uo(o)&&Array.isArray(o)&&o.length>0){var a=_u(e,t.chartId),i=t.node.getSelectionState(a);return{type:t.type,chartId:t.chartId,objects:i}}return{type:t.type,chartId:t.chartId,objects:[]}})}},{key:"render",value:function(){return o.a.createElement(Sa,{svgDraw:Or,canvasToDraw:_a,canvasDraw:Or,onMouseDown:this.handleClick,onDoubleClick:this.handleDoubleClick,drawOn:["mousemove","pan","drag"]})}}]),t}();wd.propTypes={getInteractiveNodes:f.a.func.isRequired,onSelect:f.a.func.isRequired,onDoubleClick:f.a.func.isRequired,drawingObjectMap:f.a.object.isRequired,enabled:f.a.bool.isRequired},wd.defaultProps={enabled:!0,onDoubleClick:Or};var Ed=wd;function Sd(e,t){return t.currentItem}var Od="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Cd=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var xd=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":Od(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":Od(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),Cd(t,[{key:"render",value:function(){return o.a.createElement("text",_d({fontFamily:this.props.fontFamily,fontSize:this.props.fontSize},this.props,{className:"react-stockcharts-tooltip"}),this.props.children)}}]),t}();xd.propTypes={fontFamily:f.a.string.isRequired,fontSize:f.a.number.isRequired,children:f.a.node.isRequired},xd.defaultProps={fontFamily:"Helvetica Neue, Helvetica, Arial, sans-serif",fontSize:11};var Pd=xd,Ad=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function Td(e){return o.a.createElement("tspan",Ad({className:"react-stockcharts-tooltip-label"},e),e.children)}Td.propTypes={children:f.a.node.isRequired,fill:f.a.string.isRequired},Td.defaultProps={fill:"#4682B4"};var Dd=Td,jd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rd=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Fd=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Nd=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":jd(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.renderSVG=n.renderSVG.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":jd(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),Fd(t,[{key:"renderSVG",value:function(e){var t=this.props,n=t.onClick,r=t.fontFamily,a=t.fontSize,i=t.displayFormat,s=t.className,l=this.props,c=l.yAccessor,u=l.options,p=l.appearance,f=l.labelFill,d=this.props.displayValuesFor,h=e.chartConfig,m=h.width,y=h.height,b=d(this.props,e),v=b&&c(b),g=v&&v.macd&&i(v.macd)||"n/a",k=v&&v.signal&&i(v.signal)||"n/a",w=v&&v.divergence&&i(v.divergence)||"n/a",E=Jr(this.props.origin)(m,y),S=Rd(E,2),O=S[0],_=S[1];return o.a.createElement("g",{className:s,transform:"translate("+O+", "+_+")",onClick:n},o.a.createElement(Pd,{x:0,y:0,fontFamily:r,fontSize:a},o.a.createElement(Dd,{fill:f},"MACD ("),o.a.createElement("tspan",{fill:p.stroke.macd},u.slow),o.a.createElement(Dd,{fill:f},", "),o.a.createElement("tspan",{fill:p.stroke.macd},u.fast),o.a.createElement(Dd,{fill:f},"): "),o.a.createElement("tspan",{fill:p.stroke.macd},g),o.a.createElement(Dd,{fill:f}," Signal ("),o.a.createElement("tspan",{fill:p.stroke.signal},u.signal),o.a.createElement(Dd,{fill:f},"): "),o.a.createElement("tspan",{fill:p.stroke.signal},k),o.a.createElement(Dd,{fill:f}," Divergence: "),o.a.createElement("tspan",{fill:p.fill.divergence},w)))}},{key:"render",value:function(){return o.a.createElement(Ra,{clip:!1,svgDraw:this.renderSVG,drawOn:["mousemove"]})}}]),t}();Nd.propTypes={origin:f.a.oneOfType([f.a.array,f.a.func]).isRequired,className:f.a.string,fontFamily:f.a.string,fontSize:f.a.number,labelFill:f.a.string,yAccessor:f.a.func.isRequired,options:f.a.shape({slow:f.a.number.isRequired,fast:f.a.number.isRequired,signal:f.a.number.isRequired}).isRequired,appearance:f.a.shape({stroke:{macd:f.a.string.isRequired,signal:f.a.string.isRequired}.isRequired,fill:f.a.shape({divergence:f.a.string.isRequired}).isRequired}).isRequired,displayFormat:f.a.func.isRequired,displayValuesFor:f.a.func,onClick:f.a.func},Nd.defaultProps={origin:[0,0],displayFormat:Object(kr.a)(".2f"),displayValuesFor:Sd,className:"react-stockcharts-tooltip"};var qd=Nd,Id="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Md=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Ld=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Bd=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":Id(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.renderSVG=n.renderSVG.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":Id(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),Ld(t,[{key:"renderSVG",value:function(e){var t=this.props.displayValuesFor,n=this.props,r=n.xDisplayFormat,o=n.accessor,a=n.volumeFormat,i=n.ohlcFormat,s=n.percentFormat,l=n.displayTexts,c=e.chartConfig,u=c.width,p=c.height,f=e.displayXAccessor,d=t(this.props,e),h=void 0,m=void 0,y=void 0,b=void 0,v=void 0,g=void 0,k=void 0;if(h=m=y=b=v=g=k=l.na,uo(d)&&uo(o(d))){var w=o(d);g=uo(w.volume)?a(w.volume):l.na,h=r(f(w)),m=i(w.open),y=i(w.high),b=i(w.low),v=i(w.close),k=s((w.close-w.open)/w.open)}var E=Jr(this.props.origin)(u,p),S=Md(E,2),O={displayDate:h,open:m,high:y,low:b,close:v,percent:k,volume:g,x:S[0],y:S[1]};return this.props.children(this.props,e,O)}},{key:"render",value:function(){return o.a.createElement(Ra,{clip:!1,svgDraw:this.renderSVG,drawOn:["mousemove"]})}}]),t}();Bd.propTypes={className:f.a.string,accessor:f.a.func,xDisplayFormat:f.a.func,children:f.a.func,volumeFormat:f.a.func,percentFormat:f.a.func,ohlcFormat:f.a.func,origin:f.a.oneOfType([f.a.array,f.a.func]),fontFamily:f.a.string,fontSize:f.a.number,onClick:f.a.func,displayValuesFor:f.a.func,textFill:f.a.string,labelFill:f.a.string,displayTexts:f.a.object};Bd.defaultProps={accessor:function(e){return{date:e.date,open:e.open,high:e.high,low:e.low,close:e.close,volume:e.volume}},xDisplayFormat:Object(wr.a)("%Y-%m-%d"),volumeFormat:Object(kr.a)(".4s"),percentFormat:Object(kr.a)(".2%"),ohlcFormat:Object(kr.a)(".2f"),displayValuesFor:Sd,origin:[0,0],children:function(e,t,n){var r=e.className,a=e.textFill,i=e.labelFill,s=e.onClick,l=e.fontFamily,c=e.fontSize,u=e.displayTexts,p=n.displayDate,f=n.open,d=n.high,h=n.low,m=n.close,y=n.volume,b=n.x,v=n.y;return o.a.createElement("g",{className:"react-stockcharts-tooltip-hover "+r,transform:"translate("+b+", "+v+")",onClick:s},o.a.createElement(Pd,{x:0,y:0,fontFamily:l,fontSize:c},o.a.createElement(Dd,{fill:i,key:"label",x:0,dy:"5"},u.d),o.a.createElement("tspan",{key:"value",fill:a},p),o.a.createElement(Dd,{fill:i,key:"label_O"},u.o),o.a.createElement("tspan",{key:"value_O",fill:a},f),o.a.createElement(Dd,{fill:i,key:"label_H"},u.h),o.a.createElement("tspan",{key:"value_H",fill:a},d),o.a.createElement(Dd,{fill:i,key:"label_L"},u.l),o.a.createElement("tspan",{key:"value_L",fill:a},h),o.a.createElement(Dd,{fill:i,key:"label_C"},u.c),o.a.createElement("tspan",{key:"value_C",fill:a},m),o.a.createElement(Dd,{fill:i,key:"label_Vol"},u.v),o.a.createElement("tspan",{key:"value_Vol",fill:a},y)))},displayTexts:{d:"Date: ",o:" O: ",h:" H: ",l:" L: ",c:" C: ",v:" Vol: ",na:"n/a"}};var Vd=Bd,Wd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hd=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),zd=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Ud=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":Wd(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.renderSVG=n.renderSVG.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":Wd(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),zd(t,[{key:"renderSVG",value:function(e){var t=this.props,n=t.onClick,r=t.fontFamily,a=t.fontSize,i=t.labelFill,s=t.valueFill,l=t.className,c=this.props,u=c.xDisplayFormat,p=c.yDisplayFormat,f=c.xLabel,d=c.yLabel,h=c.xAccessor,m=c.yAccessor,y=this.props.displayValuesFor,b=e.chartConfig,v=b.width,g=b.height,k=y(this.props,e),w=uo(k)&&uo(h(k))?u(h(k)):"n/a",E=uo(k)&&uo(m(k))?p(m(k)):"n/a",S=Jr(this.props.origin)(v,g),O=Hd(S,2),_=O[0],C=O[1];return o.a.createElement("g",{className:l,transform:"translate("+_+", "+C+")",onClick:n},o.a.createElement(Pd,{x:0,y:0,fontFamily:r,fontSize:a},f?o.a.createElement(Dd,{x:0,dy:"5",fill:i},f+": "):null,f?o.a.createElement("tspan",{fill:s},w+" "):null,o.a.createElement(Dd,{fill:i},d+": "),o.a.createElement("tspan",{fill:s},E)))}},{key:"render",value:function(){return o.a.createElement(Ra,{clip:!1,svgDraw:this.renderSVG,drawOn:["mousemove"]})}}]),t}();Ud.propTypes={xDisplayFormat:f.a.func,yDisplayFormat:f.a.func.isRequired,xLabel:f.a.string,yLabel:f.a.oneOfType([f.a.string,f.a.func]).isRequired,labelFill:f.a.string.isRequired,valueFill:f.a.string,origin:f.a.oneOfType([f.a.array,f.a.func]).isRequired,className:f.a.string,fontFamily:f.a.string,fontSize:f.a.number,onClick:f.a.func,displayValuesFor:f.a.func,xAccessor:f.a.func,yAccessor:f.a.func},Ud.defaultProps={origin:[0,0],labelFill:"#4682B4",valueFill:"#000000",yDisplayFormat:Object(kr.a)(".2f"),displayValuesFor:Sd,xAccessor:Or,yAccessor:_r,className:"react-stockcharts-tooltip"};var Yd=Ud,Gd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qd=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Xd=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Jd=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function Kd(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zd(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":Gd(t))&&"function"!=typeof t?e:t}function $d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":Gd(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var eh=function(e){function t(e){Kd(this,t);var n=Zd(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleClick=n.handleClick.bind(n),n}return $d(t,r["Component"]),Jd(t,[{key:"handleClick",value:function(e){var t=this.props,n=t.onClick,r=t.forChart,o=t.options;n(Xd({chartId:r},o),e)}},{key:"render",value:function(){var e=this.props,t=e.textFill,n=e.labelFill,r="translate("+this.props.origin[0]+", "+this.props.origin[1]+")";return o.a.createElement("g",{transform:r},o.a.createElement("line",{x1:0,y1:2,x2:0,y2:28,stroke:this.props.color,strokeWidth:"4px"}),o.a.createElement(Pd,{x:5,y:11,fontFamily:this.props.fontFamily,fontSize:this.props.fontSize},o.a.createElement(Dd,{fill:n},this.props.displayName),o.a.createElement("tspan",{x:"5",dy:"15",fill:t},this.props.value)),o.a.createElement("rect",{x:0,y:0,width:55,height:30,onClick:this.handleClick,fill:"none",stroke:"none"}))}}]),t}();eh.propTypes={origin:f.a.array.isRequired,color:f.a.string.isRequired,displayName:f.a.string.isRequired,value:f.a.string.isRequired,onClick:f.a.func,fontFamily:f.a.string,textFill:f.a.string,labelFill:f.a.string,fontSize:f.a.number,forChart:f.a.oneOfType([f.a.number,f.a.string]).isRequired,options:f.a.object.isRequired};var th=function(e){function t(e){Kd(this,t);var n=Zd(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.renderSVG=n.renderSVG.bind(n),n}return $d(t,r["Component"]),Jd(t,[{key:"renderSVG",value:function(e){var t=this.props.displayValuesFor,n=e.chartId,r=e.chartConfig,a=this.props,i=a.className,s=a.onClick,l=a.width,c=a.fontFamily,u=a.fontSize,p=a.textFill,f=a.labelFill,d=this.props,h=d.origin,m=d.displayFormat,y=d.options,b=e.chartConfig.height,v=t(this.props,e),g=r,k=Jr(h)(l,b),w=Qd(k,2),E=w[0],S=w[1],O=Qd(g.origin,2),_=O[0],C=O[1];return o.a.createElement("g",{transform:"translate("+(_+E)+", "+(C+S)+")",className:i},y.map(function(e,t){var r=v&&e.yAccessor(v),a=e.type+" ("+e.windowSize+")",i=r?m(r):"n/a";return o.a.createElement(eh,{key:t,origin:[l*t,0],color:e.stroke,displayName:a,value:i,options:e,forChart:n,onClick:s,fontFamily:c,fontSize:u,textFill:p,labelFill:f})}))}},{key:"render",value:function(){return o.a.createElement(Ra,{clip:!1,svgDraw:this.renderSVG,drawOn:["mousemove"]})}}]),t}();th.propTypes={className:f.a.string,displayFormat:f.a.func.isRequired,origin:f.a.array.isRequired,displayValuesFor:f.a.func,onClick:f.a.func,textFill:f.a.string,labelFill:f.a.string,fontFamily:f.a.string,fontSize:f.a.number,width:f.a.number,options:f.a.arrayOf(f.a.shape({yAccessor:f.a.func.isRequired,type:f.a.string.isRequired,stroke:f.a.string.isRequired,windowSize:f.a.number.isRequired,echo:f.a.any}))},th.defaultProps={className:"react-stockcharts-tooltip react-stockcharts-moving-average-tooltip",displayFormat:Object(kr.a)(".2f"),displayValuesFor:Sd,origin:[0,10],width:65};var nh=th,rh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oh=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),ah=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var ih=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":rh(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.renderSVG=n.renderSVG.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":rh(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),ah(t,[{key:"renderSVG",value:function(e){var t=this.props,n=t.onClick,r=t.displayFormat,a=t.yAccessor,i=t.options,s=t.textFill,l=t.labelFill,c=this.props.displayValuesFor,u=e.chartConfig,p=u.width,f=u.height,d=c(this.props,e),h=void 0,m=void 0,y=void 0;if(h=m=y="n/a",uo(d)&&uo(a(d))){var b=a(d);h=r(b.top),m=r(b.middle),y=r(b.bottom)}var v=Jr(this.props.origin)(p,f),g=oh(v,2),k=g[0],w=g[1],E="BB("+i.sourcePath+", "+i.windowSize+", "+i.multiplier+", "+i.movingAverageType+"): ",S=h+", "+m+", "+y;return o.a.createElement("g",{transform:"translate("+k+", "+w+")",className:this.props.className,onClick:n},o.a.createElement(Pd,{x:0,y:0,fontFamily:this.props.fontFamily,fontSize:this.props.fontSize},o.a.createElement(Dd,{fill:l},E),o.a.createElement("tspan",{fill:s},S)))}},{key:"render",value:function(){return o.a.createElement(Ra,{clip:!1,svgDraw:this.renderSVG,drawOn:["mousemove"]})}}]),t}();ih.propTypes={className:f.a.string,yAccessor:f.a.func.isRequired,displayValuesFor:f.a.func,displayFormat:f.a.func.isRequired,origin:f.a.array.isRequired,onClick:f.a.func,options:f.a.shape({sourcePath:f.a.string.isRequired,windowSize:f.a.number.isRequired,multiplier:f.a.number.isRequired,movingAverageType:f.a.string.isRequired}).isRequired,textFill:f.a.string,labelFill:f.a.string,fontFamily:f.a.string,fontSize:f.a.number},ih.defaultProps={className:"react-stockcharts-tooltip react-stockcharts-bollingerband-tooltip",displayFormat:Object(kr.a)(".2f"),displayValuesFor:Sd,origin:[0,10]};var sh=ih,lh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ch=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),uh=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var ph=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":lh(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.renderSVG=n.renderSVG.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":lh(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),uh(t,[{key:"renderSVG",value:function(e){var t=this.props,n=t.onClick,r=t.fontFamily,a=t.fontSize,i=t.yAccessor,s=t.displayFormat,l=t.className,c=this.props,u=c.options,p=c.labelFill,f=c.textFill,d=this.props.displayValuesFor,h=e.chartConfig,m=h.width,y=h.height,b=d(this.props,e),v=uo(b)&&i(b),g=v&&s(v)||"n/a",k=Jr(this.props.origin)(m,y),w=ch(k,2),E=w[0],S=w[1],O="RSI ("+u.windowSize+"): ";return o.a.createElement("g",{className:l,transform:"translate("+E+", "+S+")",onClick:n},o.a.createElement(Pd,{x:0,y:0,fontFamily:r,fontSize:a},o.a.createElement(Dd,{fill:p},O),o.a.createElement("tspan",{fill:f},g)))}},{key:"render",value:function(){return o.a.createElement(Ra,{clip:!1,svgDraw:this.renderSVG,drawOn:["mousemove"]})}}]),t}();ph.propTypes={origin:f.a.oneOfType([f.a.array,f.a.func]).isRequired,options:f.a.shape({windowSize:f.a.number.isRequired}).isRequired,className:f.a.string,fontFamily:f.a.string,fontSize:f.a.number,onClick:f.a.func,yAccessor:f.a.func.isRequired,displayFormat:f.a.func.isRequired,displayValuesFor:f.a.func,textFill:f.a.string,labelFill:f.a.string},ph.defaultProps={displayFormat:Object(kr.a)(".2f"),displayValuesFor:Sd,origin:[0,0],className:"react-stockcharts-tooltip"};var fh=ph,dh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hh=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),mh=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var yh=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":dh(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.renderSVG=n.renderSVG.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":dh(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),mh(t,[{key:"renderSVG",value:function(e){var t=this.props,n=t.onClick,r=t.fontFamily,a=t.fontSize,i=t.yAccessor,s=t.displayFormat,l=t.label,c=this.props,u=c.className,p=c.options,f=c.appearance,d=c.labelFill,h=this.props.displayValuesFor,m=e.chartConfig,y=m.width,b=m.height,v=h(this.props,e),g=f.stroke,k=v&&i(v),w=k&&k.K&&s(k.K)||"n/a",E=k&&k.D&&s(k.D)||"n/a",S=Jr(this.props.origin)(y,b),O=hh(S,2),_=O[0],C=O[1];return o.a.createElement("g",{className:u,transform:"translate("+_+", "+C+")",onClick:n},o.a.createElement(Pd,{x:0,y:0,fontFamily:r,fontSize:a},o.a.createElement(Dd,{fill:d},l+" %K("),o.a.createElement("tspan",{fill:g.kLine},p.windowSize+", "+p.kWindowSize),o.a.createElement(Dd,{fill:d},"): "),o.a.createElement("tspan",{fill:g.kLine},w),o.a.createElement(Dd,{fill:d}," %D ("),o.a.createElement("tspan",{fill:g.dLine},p.dWindowSize),o.a.createElement(Dd,{fill:d},"): "),o.a.createElement("tspan",{fill:g.dLine},E)))}},{key:"render",value:function(){return o.a.createElement(Ra,{clip:!1,svgDraw:this.renderSVG,drawOn:["mousemove"]})}}]),t}();yh.propTypes={origin:f.a.oneOfType([f.a.array,f.a.func]).isRequired,className:f.a.string,fontFamily:f.a.string,fontSize:f.a.number,labelFill:f.a.string,onClick:f.a.func,yAccessor:f.a.func.isRequired,options:f.a.shape({windowSize:f.a.number.isRequired,kWindowSize:f.a.number.isRequired,dWindowSize:f.a.number.isRequired}).isRequired,appearance:f.a.shape({stroke:{dLine:f.a.string.isRequired,kLine:f.a.string.isRequired}.isRequired}).isRequired,displayFormat:f.a.func.isRequired,displayValuesFor:f.a.func,label:f.a.string.isRequired},yh.defaultProps={displayFormat:Object(kr.a)(".2f"),displayValuesFor:Sd,origin:[0,0],className:"react-stockcharts-tooltip",label:"STO"};var bh=yh,vh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gh=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),kh=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var wh=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":vh(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.renderSVG=n.renderSVG.bind(n),n.drawOnCanvas=n.drawOnCanvas.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":vh(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),kh(t,[{key:"drawOnCanvas",value:function(e,t){var n=Ch(this.props,t,e),r=t.height;if(po(n))return null;!function(e,t,n,r,o){var a=n.margin,i=n.ratio,s=t.bgFill,l=t.bgOpacity,c=t.backgroundShapeCanvas,u=t.tooltipCanvas,p=.5*i+a.left,f=.5*i+a.top;e.save(),e.setTransform(1,0,0,1,0,0),e.scale(i,i),e.translate(p,f);var d=r.x,h=r.y,m=r.content,y=r.centerX,b=r.pointWidth,v=r.bgSize;e.fillStyle=bo(s,l),e.beginPath(),e.rect(y-b/2,0,b,o),e.fill(),e.translate(d,h),c(t,v,e),u(t,m,e),e.restore()}(e,this.props,this.context,n,r)}},{key:"render",value:function(){return o.a.createElement(Sa,{svgDraw:this.renderSVG,canvasDraw:this.drawOnCanvas,drawOn:["mousemove","pan"]})}},{key:"renderSVG",value:function(e){var t=Ch(this.props,e);if(po(t))return null;var n=this.props,r=n.bgFill,a=n.bgOpacity,i=n.backgroundShapeSVG,s=n.tooltipSVG,l=this.props,c=l.bgheight,u=l.bgwidth,p=e.height,f=t.x,d=t.y,h=t.content,m=t.centerX,y=t.pointWidth,b=t.bgSize,v=uo(u)&&uo(c)?{width:u,height:c}:b;return o.a.createElement("g",null,o.a.createElement("rect",{x:m-y/2,y:0,width:y,height:p,fill:r,opacity:a}),o.a.createElement("g",{className:"react-stockcharts-tooltip-content",transform:"translate("+f+", "+d+")"},i(this.props,v),s(this.props,h)))}}]),t}();wh.propTypes={chartId:f.a.oneOfType([f.a.number,f.a.string]),yAccessor:f.a.func,tooltipSVG:f.a.func,backgroundShapeSVG:f.a.func,bgwidth:f.a.number,bgheight:f.a.number,bgFill:f.a.string.isRequired,bgOpacity:f.a.number.isRequired,tooltipContent:f.a.func.isRequired,origin:f.a.oneOfType([f.a.array,f.a.func]).isRequired,fontFamily:f.a.string,fontSize:f.a.number},wh.contextTypes={margin:f.a.object.isRequired,ratio:f.a.number.isRequired},wh.defaultProps={tooltipSVG:function(e,t){for(var n=e.fontFamily,r=e.fontSize,a=e.fontFill,i=[],s=Oh+.9*r,l=0;l<t.y.length;l++){var c=t.y[l],u=s+r*(l+1);i.push(o.a.createElement("tspan",{key:"L-"+l,x:Sh,y:u,fill:c.stroke},c.label)),i.push(o.a.createElement("tspan",{key:l},": ")),i.push(o.a.createElement("tspan",{key:"V-"+l},c.value))}return o.a.createElement("text",{fontFamily:n,fontSize:r,fill:a},o.a.createElement("tspan",{x:Sh,y:s},t.x),i)},tooltipCanvas:function(e,t,n){var r=e.fontFamily,o=e.fontSize,a=e.fontFill,i=Oh+.9*o;n.font=o+"px "+r,n.fillStyle=a,n.textAlign="left",n.fillText(t.x,Sh,i);for(var s=0;s<t.y.length;s++){var l=t.y[s],c=i+o*(s+1);n.fillStyle=l.stroke||a,n.fillText(l.label,Sh,c),n.fillStyle=a,n.fillText(": "+l.value,Sh+n.measureText(l.label).width,c)}},origin:function(e,t,n,r){var o=e.chartId,a=e.yAccessor,i=t.mouseXY,s=t.xAccessor,l=t.currentItem,c=t.xScale,u=t.chartConfig,p=t.width,f=co(i),d=s(l),h=Math.round(c(d));if(uo(o)&&uo(a)&&uo(u)&&uo(u.findIndex)){var m=a(l),y=u.findIndex(function(e){return e.id===o});f=Math.round(u[y].yScale(m))}return h=function(e,t,n,r){return e<r/2?e+n/2+Eh:e-t.width-n/2-Eh}(h,n,r,p),f=function(e,t){return e-t.height<=0?e+Eh:e-t.height-Eh}(f,n),[h,f]},fill:"#D4E2FD",bgFill:"#D4E2FD",bgOpacity:.5,stroke:"#9B9BFF",fontFill:"#000000",opacity:.8,backgroundShapeSVG:function(e,t){var n=e.fill,r=e.stroke,a=e.opacity,i=t.height,s=t.width;return o.a.createElement("rect",{height:i,width:s,fill:n,opacity:a,stroke:r})},backgroundShapeCanvas:function(e,t,n){var r=t.width,o=t.height,a=e.fill,i=e.stroke,s=e.opacity;n.fillStyle=bo(a,s),n.strokeStyle=i,n.beginPath(),n.rect(0,0,r,o),n.fill(),n.stroke()},fontFamily:"Helvetica Neue, Helvetica, Arial, sans-serif",fontSize:12};var Eh=5,Sh=10,Oh=10;function _h(e,t,n){var r=e.fontFamily,o=e.fontSize,a=e.fontFill;if(po(n)){var i=document.createElement("canvas");n=i.getContext("2d")}n.font=o+"px "+r,n.fillStyle=a,n.textAlign="left";var s=function(e){return{width:n.measureText(e).width,height:o}},l=t.y.map(function(e){var t=e.label,n=e.value;return s(t+": "+n)}).reduce(function(e,t){return function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return{width:Math.max.apply(Math,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(t.map(function(e){return e.width}))),height:Object(Er.o)(t,function(e){return e.height})}}(e,t)},s(String(t.x))),c=l.width,u=l.height;return{width:c+2*Sh,height:u+2*Oh}}function Ch(e,t,n){var r=t.show,o=t.xScale,a=t.currentItem,i=t.plotData,s=e.origin,l=e.tooltipContent,c=t.xAccessor,u=t.displayXAccessor;if(r&&!po(a)){var p=c(a);if(r&&!po(p)){var f=l({currentItem:a,xAccessor:u}),d=o(p),h=Math.abs(o(c(co(i)))-o(c(lo(i))))/(i.length-1),m=_h(e,f,n),y=s(e,t,m,h),b=gh(y,2);return{x:b[0],y:b[1],content:f,centerX:d,pointWidth:h,bgSize:m}}}}var xh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ph=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ah=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function Th(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Dh(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":xh(t))&&"function"!=typeof t?e:t}function jh(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":xh(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Rh=["horizontal","horizontalRows","horizontalInline","vertical","verticalRows"],Fh=function(e){function t(e){Th(this,t);var n=Dh(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleClick=n.handleClick.bind(n),n}return jh(t,r["Component"]),Ah(t,[{key:"handleClick",value:function(e){var t=this.props,n=t.onClick,r=t.forChart,o=t.options;n(Ph({chartId:r},o),e)}},{key:"renderValueNextToLabel",value:function(){var e=this.props,t=e.origin,n=e.yLabel,r=e.yValue,a=e.labelFill,i=e.valueFill,s=e.withShape,l=e.fontSize,c=e.fontFamily;return o.a.createElement("g",{transform:"translate("+t[0]+", "+t[1]+")",onClick:this.handleClick},s?o.a.createElement("rect",{x:"0",y:"-6",width:"6",height:"6",fill:i}):null,o.a.createElement(Pd,{x:s?8:0,y:0,fontFamily:c,fontSize:l},o.a.createElement(Dd,{fill:a},n,": "),o.a.createElement("tspan",{fill:i},r)))}},{key:"renderValueBeneathToLabel",value:function(){var e=this.props,t=e.origin,n=e.yLabel,r=e.yValue,a=e.labelFill,i=e.valueFill,s=e.withShape,l=e.fontSize,c=e.fontFamily;return o.a.createElement("g",{transform:"translate("+t[0]+", "+t[1]+")",onClick:this.handleClick},s?o.a.createElement("line",{x1:0,y1:2,x2:0,y2:28,stroke:i,strokeWidth:"4px"}):null,o.a.createElement(Pd,{x:5,y:11,fontFamily:c,fontSize:l},o.a.createElement(Dd,{fill:a},n),o.a.createElement("tspan",{x:"5",dy:"15",fill:i},r)))}},{key:"renderInline",value:function(){var e=this.props,t=e.yLabel,n=e.yValue,r=e.labelFill,a=e.valueFill,i=e.fontSize,s=e.fontFamily;return o.a.createElement("tspan",{onClick:this.handleClick,fontFamily:s,fontSize:i},o.a.createElement(Dd,{fill:r},t,": "),o.a.createElement("tspan",{fill:a},n,"  "))}},{key:"render",value:function(){var e=null;switch(this.props.layout){case"horizontal":e=this.renderValueNextToLabel();break;case"horizontalRows":e=this.renderValueBeneathToLabel();break;case"horizontalInline":e=this.renderInline();break;case"vertical":e=this.renderValueNextToLabel();break;case"verticalRows":e=this.renderValueBeneathToLabel();break;default:e=this.renderValueNextToLabel()}return e}}]),t}();Fh.propTypes={origin:f.a.array.isRequired,yLabel:f.a.string.isRequired,yValue:f.a.string.isRequired,onClick:f.a.func,fontFamily:f.a.string,labelFill:f.a.string.isRequired,valueFill:f.a.string.isRequired,fontSize:f.a.number,withShape:f.a.bool,forChart:f.a.oneOfType([f.a.number,f.a.string]).isRequired,options:f.a.object.isRequired,layout:f.a.oneOf(Rh).isRequired},Fh.defaultProps={labelFill:"#4682B4",valueFill:"#000000",withShape:!1};var Nh=function(e){function t(e){Th(this,t);var n=Dh(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.renderSVG=n.renderSVG.bind(n),n}return jh(t,r["Component"]),Ah(t,[{key:"getPosition",value:function(e){var t=this.props.position,n=e.chartConfig,r=n.height,o=n.width,a=null,i=null;if(void 0!==t)switch(t){case"topRight":i=[o-20,null],a="end";break;case"bottomLeft":i=[null,r-40];break;case"bottomRight":i=[o-20,r-40],a="end";break;default:i=[null,null]}else i=[null,null];return{xyPos:i,textAnchor:a}}},{key:"renderSVG",value:function(e){var t=this.props.displayValuesFor,n=e.chartId,r=this.props,a=r.className,i=r.onClick,s=r.width,l=r.verticalSize,c=r.fontFamily,u=r.fontSize,p=r.layout,f=this.props,d=f.origin,h=f.displayFormat,m=f.options,y=t(this.props,e),b=this.getPosition(e),v=b.xyPos,g=b.textAnchor,k=null!=v&&null!=v[0]?v[0]:d[0],w=null!=v&&null!=v[1]?v[1]:d[1],E=m.map(function(e,t){var r=y&&e.yAccessor(y),a=r?h(r):"n/a";return o.a.createElement(Fh,{key:t,layout:p,origin:"horizontal"===p||"horizontalRows"===p?[s*t,0]:"vertical"===p?[0,l*t]:"verticalRows"===p?[0,2.3*l*t]:[0,0],yLabel:e.yLabel,yValue:a,options:e,forChart:n,onClick:i,fontFamily:c,fontSize:u,labelFill:e.labelFill,valueFill:e.valueFill,withShape:e.withShape})});return o.a.createElement("g",{transform:"translate("+k+", "+w+")",className:a,textAnchor:g},"horizontalInline"===p?o.a.createElement(Pd,{x:0,y:0,fontFamily:c,fontSize:u},E):E)}},{key:"render",value:function(){return o.a.createElement(Ra,{clip:!1,svgDraw:this.renderSVG,drawOn:["mousemove"]})}}]),t}();Nh.propTypes={className:f.a.string,layout:f.a.oneOf(Rh).isRequired,position:f.a.oneOf(["topRight","bottomLeft","bottomRight"]),displayFormat:f.a.func.isRequired,origin:f.a.array.isRequired,displayValuesFor:f.a.func,onClick:f.a.func,fontFamily:f.a.string,fontSize:f.a.number,width:f.a.number,verticalSize:f.a.number,options:f.a.arrayOf(f.a.shape({yLabel:f.a.oneOfType([f.a.string,f.a.func]).isRequired,yAccessor:f.a.func.isRequired,labelFill:f.a.string,valueFill:f.a.string,withShape:f.a.bool}))},Nh.defaultProps={className:"react-stockcharts-tooltip react-stockcharts-group-tooltip",layout:"horizontal",displayFormat:Object(kr.a)(".2f"),displayValuesFor:Sd,origin:[0,0],width:60,verticalSize:13};var qh=n(1613),Ih=n.n(qh),Mh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function Lh(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Bh=n(961),Vh=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function Wh(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Hh(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function zh(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Uh={stroke:Object.assign({},hc.defaultProps.stroke)},Yh={top:"#964B00",middle:"#000000",bottom:"#964B00"},Gh={fontSize:12,textFill:"rgba(255,255,255,0.8)",labelFill:"rgba(255,255,255,0.3)"},Qh=Object.assign({},{opacity:.3,textFill:"rgba(255,255,255,0.3)"},{fontSize:10}),Xh=function(){return{fontSize:10,rectWidth:34,rectHeight:12,arrowWidth:4,dx:!(arguments.length>0&&void 0!==arguments[0])||arguments[0]?-4:4,opacity:1}},Jh=function(e){function t(e){Wh(this,t);var n=Hh(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.calcDigits=function(e){var t=6,n=48;try{t=e.latest.int.length>1?2:8,n=6*(e.latest.int.length+t)+12}catch(e){}return{digits:t,marginRight:n}};e.base.get("precision"),e.quote.get("precision");var r=Object(kr.a)(".8f"),o=Object(wr.a)("%Y-%m-%d %H:%M:%S");return n.state={tools:[],priceFormat:r,timeFormatter:o,volumeFormat:function(e){return e>10?Bh(e).format("0.0a"):Bh(e).format("0.00a")},margin:{left:10,right:48,top:30,bottom:20},calculators:n._getCalculators(e)},n}return zh(t,r["Component"]),Vh(t,[{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){}},{key:"componentWillReceiveProps",value:function(e){console.debug("NP: ",e);var t=this.calcDigits(e),n=t.digits,r=t.marginRight;this.state.margin.right!==r&&this.setState({digits:n,margin:Object.assign({},this.state.margin,{right:r})}),m.a.are_equal_shallow(e.indicators,this.props.indicators)&&m.a.are_equal_shallow(e.indicatorSettings,this.props.indicatorSettings)||this.setState({calculators:this._getCalculators(e)})}},{key:"_getThemeColors",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;return Ih.a[e.theme]}},{key:"_getCalculators",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=this._getThemeColors(e),n=t.positiveColor,r=t.negativeColor,o=e.indicatorSettings;return{atr14:function(){var e=us().type("ATR"),t=Qi(),n=Ar().algorithm(t).merge(function(e,t){e.atr=t}),r=function(r){if((arguments.length>1&&void 0!==arguments[1]?arguments[1]:{merge:!0}).merge){if(!e.accessor())throw new Error("Set an accessor to ATR before calculating");return n(r)}return t(r)};return xr(r,e,"id","accessor","stroke","fill","echo","type"),xr(r,t,"options"),xr(r,n,"merge","skipUndefined"),r}().options({windowSize:14}).merge(function(e,t){e.atr14=t}).accessor(function(e){return e.atr14}),rsi:vs().options({windowSize:14}).merge(function(e,t){e.rsi=t}).accessor(function(e){return e.rsi}),sma:fs().options({windowSize:parseInt(o.sma,10),sourcePath:"close"}).stroke("#1f77b4").fill("#1f77b4").merge(function(e,t){e.sma=t}).accessor(function(e){return e.sma}),ema1:ps().options({windowSize:parseInt(o.ema1,10)}).merge(function(e,t){e.ema1=t}).accessor(function(e){return e.ema1}),ema2:ps().options({windowSize:parseInt(o.ema2,10)}).merge(function(e,t){e.ema2=t}).accessor(function(e){return e.ema2}),smaVolume:fs().options({windowSize:parseInt(o.smaVolume,10),sourcePath:"volume"}).merge(function(e,t){e.smaVolume=t}).stroke("#1f77b4").fill("#1f77b4").accessor(function(e){return e.smaVolume}),bb:ds().merge(function(e,t){e.bb=t}).accessor(function(e){return e.bb}),sar:function(){var e=us().type("SMA").accessor(function(e){return e.sar}),t=as(),n=Ar().algorithm(t).merge(function(e,t){e.sar=t}),r=function(r){if((arguments.length>1&&void 0!==arguments[1]?arguments[1]:{merge:!0}).merge){if(!e.accessor())throw new Error("Set an accessor to SMA before calculating");return n(r)}return t(r)};return xr(r,e,"id","accessor","stroke","echo","type"),xr(r,t,"undefinedLength"),xr(r,t,"options"),xr(r,n,"merge"),r}().options({accelerationFactor:.02,maxAccelerationFactor:.2}).merge(function(e,t){e.sar=t}).accessor(function(e){return e.sar}),macd:bs().options({fast:12,slow:26,signal:9}).stroke({macd:r,signal:n}).fill({macd:r,signal:n}).merge(function(e,t){e.macd=t}).accessor(function(e){return e.macd}),slowSTO:gs().options({windowSize:14,kWindowSize:3}).merge(function(e,t){e.slowSTO=t}).accessor(function(e){return e.slowSTO}),fastSTO:gs().options({windowSize:14,kWindowSize:1}).merge(function(e,t){e.fastSTO=t}).accessor(function(e){return e.fastSTO}),fullSTO:gs().options({windowSize:14,kWindowSize:3,dWindowSize:4}).merge(function(e,t){e.fullSTO=t}).accessor(function(e){return e.fullSTO}),elder:ks(),change:ws(),fi:function(){var e=us().type("ForceIndex").accessor(function(e){return e.forceIndex}),t=ts(),n=Ar().algorithm(t).merge(function(e,t){e.forceIndex=t}),r=function(r){if((arguments.length>1&&void 0!==arguments[1]?arguments[1]:{merge:!0}).merge){if(!e.accessor())throw new Error("Set an accessor to ForceIndex before calculating");return n(r)}return t(r)};return xr(r,e,"id","accessor","stroke","fill","echo","type"),xr(r,t,"options"),xr(r,n,"merge","skipUndefined"),r}().merge(function(e,t){e.fi=t}).accessor(function(e){return e.fi}),ei:function(){var e=void 0,t=void 0,n=us().type("ElderImpulse").stroke(ms.stroke).fill(void 0),r=Tr().windowSize(2).undefinedValue("neutral").accumulator(function(n){var r=Es(n,2),o=r[0],a=r[1];if(po(e))throw new Error("macdSource not defined for ElderImpulse calculator");if(po(t))throw new Error("emaSource not defined for ElderImpulse calculator");if(uo(e(o))&&uo(t(o))){var i=e(o).divergence,s=e(a).divergence,l=t(o),c=t(a);if(s>=i&&c>=l)return"up";if(s<=i&&c<=l)return"down"}return"neutral"}),o=Ar().algorithm(r).merge(function(e,t){e.elderImpulse=t}),a=function(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{merge:!0}).merge?o(e):r(e)};return a.macdSource=function(t){return arguments.length?(e=t,a):e},a.emaSource=function(e){return arguments.length?(t=e,a):t},xr(a,n,"id","echo","type","stroke"),xr(a,o,"merge","skipUndefined"),a}().macdSource(bs().options({fast:12,slow:26,signal:9}).stroke({macd:r,signal:n}).fill({macd:r,signal:n}).merge(function(e,t){e.macd=t}).accessor(function(e){return e.macd}).accessor()).emaSource(ps().options({windowSize:parseInt(o.ema2,10)}).merge(function(e,t){e.ema2=t}).accessor(function(e){return e.ema2}).accessor())}}},{key:"_renderVolumeChart",value:function(e){var t=this.props,n=t.height,o=t.indicators,a=t.width,i=this.state,s=(i.timeFormatter,i.volumeFormat),l=i.calculators,c=i.margin,u=this._getThemeColors(),p=u.axisLineColor,f=u.volumeColor,d=(u.indicatorLineColor,u.negativeColor),h=u.positiveColor,m=(c.top,c.bottom,{innerTickSize:-1*(a-c.left-c.right),tickStrokeOpacity:.1});return console.log("chartindicators",o),r.createElement(xo,{id:2,yExtents:[function(e){return e.volume},l.smaVolume.accessor()],height:60,origin:[0,230]},r.createElement(hi,Object.assign({tickStroke:p,showDomain:!1,stroke:p,axisAt:"right",orient:"right"},Qh,{ticks:4,tickPadding:4,innerTickSize:0,tickFormat:s})),r.createElement(hi,Object.assign({tickStroke:p,showDomain:!1,stroke:p,axisAt:"left",orient:"left",showTickLabel:!1},Qh,m,{ticks:4,tickPadding:0,tickFormat:s})),r.createElement(iu,Object.assign({id:0},Xh(),{at:"right",orient:"left",displayFormat:s})),r.createElement(xl,{yAccessor:function(e){return e.volume},rectRadius:[40,40,40,40,0,0,0,0],stroke:!1,opacity:.5,fill:function(e){return e.close>e.open?h:d}}),o.smaVolume?r.createElement(Ns,{yAccessor:l.smaVolume.accessor(),stroke:l.smaVolume.stroke(),fill:l.smaVolume.fill()}):null,o.smaVolume?r.createElement(Xc,{yAccessor:l.smaVolume.accessor(),fill:l.smaVolume.stroke()}):null,r.createElement(Xc,{yAccessor:function(e){return e.volume},fill:f}))}},{key:"_renderCandleStickChart",value:function(e,t){var n=this.props,o=n.height,a=n.width,i=(n.showVolumeChart,n.indicators),s=(n.enableChartClamp,n.onMouseMove,n.lasest,n.saveCanvasNode,n.saveInteractiveNodes),l=n.onDrawCompleteChart1,c=n.onGfComplete,u=n.onFibComplete,p=n.onEquComplete,f=n.onSdcComplete,d=(n.getInteractiveNodes,n.handleSelection,n.trends_1),h=n.channels_2,m=n.fans,y=n.retracements_1,b=n.channels_1,v=n.enables,g=this.calcDigits(this.props),k=g.marginRight,w=g.digits,E=this.state,S=E.timeFormatter,O=E.volumeFormat,_=E.priceFormat,C=(E.enableTrendLine,E.enableFib,E.calculators),x=Object.assign({},this.state.margin,{right:k}),P=this._getThemeColors(),A=P.positiveColor,T=P.negativeColor,D=P.axisLineColor,j=(P.indicatorLineColor,x.top,x.bottom,{innerTickSize:-1*(a-x.left-x.right),tickStrokeOpacity:.1});return r.createElement(xo,{id:1,height:224,yExtents:[function(e){return[e.high,e.low]},C.ema1.accessor(),C.ema2.accessor(),C.sma.accessor()],padding:{top:10,bottom:20}},r.createElement(li,Object.assign({tickStroke:D,showTicks:!1,showTickLabel:!1,stroke:D},Qh,{axisAt:"bottom",orient:"bottom",opacity:.8})),r.createElement(hi,Object.assign({axisAt:"right",orient:"right",tickPadding:4,tickFormat:Object(kr.a)("."+w+"f"),showDomain:!1},Qh,{ticks:8,innerTickSize:0,tickStroke:D,stroke:D})),r.createElement(hi,Object.assign({axisAt:"left",orient:"left",tickPadding:0,showDomain:!1,showTickLabel:!1,zoomEnabled:!1},j,Qh,{ticks:8,tickStroke:D,stroke:D})),r.createElement(iu,Object.assign({},Xh(),{id:0,at:"right",orient:"left",displayFormat:_})),r.createElement(fp,{ref:s("Trendline",1),enabled:v.trendline,type:"RAY",snap:!1,snapTo:function(e){return[e.high,e.low]},onStart:function(){return console.log("START")},onComplete:l,trends:d,appearance:{stroke:"#6BA583",strokeOpacity:1,strokeWidth:1,strokeDasharray:"Solid",edgeStrokeWidth:1,edgeFill:"#FFFFFF",edgeStroke:"#000000",r:6}}),r.createElement(Pp,{ref:s("FibonacciRetracement",1),enabled:v.fib,type:"BOUND",retracements:y,onComplete:u,appearance:{stroke:"#6BA583",strokeWidth:1,strokeOpacity:1,fontFamily:"Helvetica Neue, Helvetica, Arial, sans-serif",fontSize:11,fontFill:"#FF0000",edgeStroke:"#000000",edgeFill:"#FFFFFF",nsEdgeFill:"#000000",edgeStrokeWidth:1,r:5}}),r.createElement(zp,{ref:s("EquidistantChannel",1),enabled:v.equ,onStart:function(){return console.log("START")},onComplete:p,channels:b}),r.createElement(cf,{ref:s("StandardDeviationChannel",1),enabled:v.sdc,onStart:function(){return console.log("START")},onComplete:f,channels:h}),r.createElement(Cf,{ref:s("GannFan",1),enabled:v.gf,onStart:function(){return console.log("START")},onComplete:c,fans:m}),r.createElement(ol,{wickStroke:function(e){return e.close>e.open?A:T},stroke:function(e){return e.close>e.open?A:T},fill:function(e){return e.close>e.open?A:T},opacity:1,rectRadius:40}),i.vpbsVolume&&r.createElement(Tc,{bySession:!0,orient:"right",showSessionBackground:!0,fill:function(e){return console.debug("ref",e.type),"up"===e.type?A:T}}),i.vpVolume&&r.createElement(Tc,{fill:function(e){return console.debug("ref",e.type),"up"===e.type?A:T}}),i.bb&&r.createElement(ic,{yAccessor:function(e){return e.bb},stroke:Yh,fill:"#4682B4"}),i.sar&&r.createElement(Nc,{yAccessor:function(e){return e.sar}}),i.sar&&r.createElement(Yd,{yDisplayFormat:Object(kr.a)(".8f"),yLabel:"SAR (.02,.2)",yAccessor:function(e){return e.sar},origin:[0,45],fontSize:12,labelFill:"rgba(255,255,255,0.3)",valueFill:"rgba(255,255,255,0.8)"}),i.ei&&r.createElement(cl,{stroke:function(e){return C.ei.stroke()[e.elderImpulse]}}),i.sma?r.createElement(As,{yAccessor:C.sma.accessor(),stroke:C.sma.stroke()}):null,i.ema1?r.createElement(As,{yAccessor:C.ema1.accessor(),stroke:C.ema1.stroke()}):null,i.ema2?r.createElement(As,{yAccessor:C.ema2.accessor(),stroke:C.ema2.stroke()}):null,i.sma?r.createElement(Xc,{yAccessor:C.sma.accessor(),fill:C.sma.stroke()}):null,i.ema1?r.createElement(Xc,{yAccessor:C.ema1.accessor(),fill:C.ema1.stroke()}):null,i.ema2?r.createElement(Xc,{yAccessor:C.ema2.accessor(),fill:C.ema2.stroke()}):null,r.createElement(Vd,Object.assign({},Gh,{className:"tooltip-hide-no",xDisplayFormat:S,volumeFormat:O,ohlcFormat:_,origin:[0,-20]})),t.length?r.createElement(nh,{origin:[0,0],displayFormat:_,options:t.map(function(e){return{yAccessor:e.accessor(),type:e.type(),stroke:e.stroke(),windowSize:e.options().windowSize,echo:"some echo here"}})}):null,i.bb&&r.createElement(sh,Object.assign({},Gh,{origin:[0,60],yAccessor:function(e){return e.bb},options:C.bb.options()})))}},{key:"render",value:function(){var e=this.props,t=e.elementorigin,n=e.width,o=e.priceData,a=e.height,i=e.ratio,s=e.theme,l=e.zoom,c=e.indicators,u=e.showVolumeChart,p=e.enableChartClamp,f=e.saveCanvasNode,d=e.getInteractiveNodes,h=e.handleSelection,m=e.handleSelection1,y=e.handleSelection2,b=e.handleSelection3,v=e.handleSelection4,g=e.enables;console.debug("elementorigin1:",t);var k=this.state,w=k.timeFormatter,E=(k.enableFib,k.enableTrendLine,k.priceFormat),S=k.margin,O=k.calculators,_=Ih.a[s],C=_.axisLineColor,x=_.indicatorLineColor,P=u?1:0,A=[],T=[],D=["sma","ema1","ema2","smaVolume"];for(var j in c)if(c[j]){if(-1!==j.toLowerCase().indexOf("volume")&&!u)continue;A.push(O[j]),-1!==D.indexOf(j)&&T.push(O[j])}c.macd&&P++;var R=new Date((new Date).getTime()-1e3*l),F="all"===l?o:o.filter(function(e){return e.date>R}),N=Object(Ha.a)(F),q=Object.getOwnPropertyNames(O).reduce(function(e,t){return O[t](e)},N),I=Ti.inputDateAccessor(function(e){return e.date})(q),M=I.data,L=I.xScale,B=I.xAccessor,V=I.displayXAccessor,W=[B(M[M.length-1]),M.length>80?B(M[M.length-80]):B(M[0])],H=(S.top,S.bottom,{innerTickSize:-1*(n-S.left-S.right),tickStrokeOpacity:.1}),z=this._getThemeColors(),U=z.positiveColor,Y=z.negativeColor,G={stroke:{macd:U,signal:Y},fill:{divergence:"#4682B4"}};return console.log("height:",a),r.createElement(ba,{ref:f,ratio:i,width:n,height:a,seriesName:"PriceChart",margin:{left:10,right:70,top:30,bottom:20},clamp:p,data:M,xAccessor:B,displayXAccessor:V,xScale:L,xExtents:W,type:"hybrid",className:"chart-main no-overflow Stockcharts__wrapper"},u&&this._renderVolumeChart(P),this._renderCandleStickChart(P,T),c.macd&&r.createElement(xo,{id:3,height:80,yExtents:O.macd.accessor(),origin:[0,t.macd]},r.createElement(li,Object.assign({tickStroke:C,showTicks:!1,showTickLabel:!1,stroke:C},Qh,{axisAt:"bottom",orient:"bottom",opacity:.8})),r.createElement(hi,Object.assign({tickStroke:C,stroke:C},Qh,{tickPadding:4,showDomain:!1,innerTickSize:0,axisAt:"right",orient:"right",ticks:3})),r.createElement(hi,Object.assign({axisAt:"left",orient:"left",tickPadding:0,showDomain:!1,showTickLabel:!1,zoomEnabled:!1},H,Qh,{ticks:3,tickStroke:C,stroke:C})),r.createElement(iu,Object.assign({},Xh(),{id:0,at:"right",orient:"left",displayFormat:E})),r.createElement(nc,Object.assign({yAccessor:function(e){return e.macd}},G)),r.createElement(qd,{yAccessor:function(e){return e.macd},options:O.macd.options(),appearance:G,origin:[0,-6]})),c.rsi&&r.createElement(xo,{id:4,height:80,yExtents:O.rsi.accessor(),origin:[0,t.rsi]},r.createElement(li,Object.assign({tickStroke:C,showTicks:!1,showTickLabel:!1,stroke:C},Qh,{axisAt:"bottom",orient:"bottom",opacity:.8})),r.createElement(hi,Object.assign({tickStroke:C,stroke:C},Qh,{tickPadding:4,showDomain:!1,innerTickSize:0,axisAt:"right",orient:"right",ticks:3})),r.createElement(iu,Object.assign({},Xh(),{id:0,at:"right",orient:"left",displayFormat:Object(kr.a)(".2f")})),r.createElement(uc,{yAccessor:function(e){return e.rsi}}),r.createElement(fh,{origin:[0,-6],yAccessor:function(e){return e.rsi},options:O.rsi.options(),fontSize:12,textFill:"rgba(255,255,255,0.8)",labelFill:"rgba(255,255,255,0.3)"})),c.atr&&r.createElement(xo,{id:6,height:80,yExtents:O.atr14.accessor(),origin:[0,t.atr]},r.createElement(li,Object.assign({tickStroke:C,showTicks:!1,showTickLabel:!1,stroke:C},Qh,{axisAt:"bottom",orient:"bottom",opacity:.8})),r.createElement(hi,Object.assign({tickStroke:C,stroke:C},Qh,{tickPadding:4,showDomain:!1,innerTickSize:0,axisAt:"right",orient:"right",ticks:3})),r.createElement(iu,Object.assign({},Xh(),{id:0,at:"right",orient:"left",displayFormat:Object(kr.a)(".8f")})),r.createElement(As,{yAccessor:O.atr14.accessor(),stroke:O.atr14.stroke()}),r.createElement(Yd,{yAccessor:O.atr14.accessor(),yLabel:"ATR ("+O.atr14.options().windowSize+")",yDisplayFormat:Object(kr.a)(".8f"),origin:[0,-6],fontSize:12,labelFill:"rgba(255,255,255,0.3)",valueFill:"rgba(255,255,255,0.8)"})),c.fi&&r.createElement(xo,{id:7,height:80,yExtents:O.fi.accessor(),origin:[0,t.fi]},"/>",r.createElement(hi,Object.assign({tickStroke:C,stroke:C},Qh,{tickPadding:4,showDomain:!1,innerTickSize:0,axisAt:"right",orient:"right",ticks:3})),r.createElement(li,Object.assign({tickStroke:C,showTicks:!1,showTickLabel:!1,stroke:C},Qh,{axisAt:"bottom",orient:"bottom",opacity:.8})),r.createElement(iu,Object.assign({},Xh(),{id:0,at:"right",orient:"left",displayFormat:Object(kr.a)(".2f")})),r.createElement(Ns,{baseAt:function(e){return e(0)},yAccessor:O.fi.accessor()}),r.createElement(Zl,{yValue:0,stroke:"#ffffff",opacity:.3}),r.createElement(Yd,{yAccessor:O.fi.accessor(),yLabel:"ForceIndex (1)",fontSize:12,valueFill:"rgba(255,255,255,0.8)",labelFill:"rgba(255,255,255,0.3)",yDisplayFormat:Object(kr.a)(".4s"),origin:[0,-6]})),c.er&&r.createElement(xo,{id:8,height:80,yExtents:[0,O.elder.accessor()],origin:[0,t.er]},r.createElement(li,Object.assign({tickStroke:C,showTicks:!1,showTickLabel:!1,stroke:C},Qh,{axisAt:"bottom",orient:"bottom",opacity:.8})),r.createElement(hi,Object.assign({tickStroke:C,stroke:C},Qh,{tickPadding:4,showDomain:!1,innerTickSize:0,axisAt:"right",orient:"right",ticks:3,tickFormat:Object(kr.a)(".4f")})),r.createElement(iu,Object.assign({},Xh(),{id:0,at:"right",orient:"left",displayFormat:Object(kr.a)(".4f")})),r.createElement(Sc,{yAccessor:O.elder.accessor(),bullPowerFill:U,bearPowerFill:Y}),r.createElement(Zl,{yValue:0,stroke:"#ffffff",opacity:.3}),r.createElement(Yd,{yAccessor:O.elder.accessor(),yLabel:"Elder Ray",fontSize:12,valueFill:"rgba(255,255,255,0.8)",labelFill:"rgba(255,255,255,0.3)",yDisplayFormat:function(e){return Object(kr.a)(".7f")(e.bullPower)+", "+Object(kr.a)(".7f")(e.bearPower)},origin:[0,-6]})),c.sto&&r.createElement(xo,{id:9,yExtents:[0,100],height:80,origin:[0,t.sto]},r.createElement(li,Object.assign({tickStroke:C,showTicks:!1,showTickLabel:!1,stroke:C},Qh,{axisAt:"bottom",orient:"bottom",opacity:.8})),r.createElement(hi,Object.assign({tickStroke:C,stroke:C},Qh,{tickPadding:4,showDomain:!1,innerTickSize:0,axisAt:"right",orient:"right",tickValues:[20,50,80]})),r.createElement(iu,Object.assign({},Xh(),{id:0,at:"right",orient:"left",displayFormat:Object(kr.a)(".2f")})),r.createElement(hc,{yAccessor:function(e){return e.slowSTO},stroke:{top:"#ffffff",middle:"#ffffff",bottom:"#ffffff",dLine:"#EA2BFF",kLine:"#74D400"}}),r.createElement(bh,{origin:[0,-6],yAccessor:function(e){return e.slowSTO},options:O.slowSTO.options(),appearance:Uh,label:"Slow STO"})),c.sto&&r.createElement(xo,{id:10,yExtents:[0,100],height:80,origin:[0,t.sto+100]},r.createElement(li,Object.assign({tickStroke:C,showTicks:!1,showTickLabel:!1,stroke:C},Qh,{axisAt:"bottom",orient:"bottom",opacity:.8})),r.createElement(hi,Object.assign({tickStroke:C,stroke:C},Qh,{tickPadding:4,showDomain:!1,innerTickSize:0,axisAt:"right",orient:"right",tickValues:[20,50,80]})),r.createElement(iu,Object.assign({},Xh(),{id:0,at:"right",orient:"left",displayFormat:Object(kr.a)(".2f")})),r.createElement(hc,{yAccessor:function(e){return e.slowSTO},stroke:{top:"#ffffff",middle:"#ffffff",bottom:"#ffffff",dLine:"#EA2BFF",kLine:"#74D400"}}),r.createElement(bh,{origin:[0,-6],yAccessor:function(e){return e.fastSTO},options:O.fastSTO.options(),appearance:Uh,label:"Fast STO"})),c.sto&&r.createElement(xo,{id:11,yExtents:[0,100],height:80,origin:[0,t.sto+200]},r.createElement(li,Object.assign({tickStroke:C,showTicks:!1,showTickLabel:!1,stroke:C},Qh,{axisAt:"bottom",orient:"bottom",opacity:.8})),r.createElement(hi,Object.assign({tickStroke:C,stroke:C},Qh,{tickPadding:4,showDomain:!1,innerTickSize:0,axisAt:"right",orient:"right",tickValues:[20,50,80]})),r.createElement(iu,Object.assign({},Xh(),{id:0,at:"right",orient:"left",displayFormat:Object(kr.a)(".2f")})),r.createElement(hc,{yAccessor:function(e){return e.slowSTO},stroke:{top:"#ffffff",middle:"#ffffff",bottom:"#ffffff",dLine:"#EA2BFF",kLine:"#74D400"}}),r.createElement(bh,{origin:[0,-6],yAccessor:function(e){return e.fullSTO},options:O.fullSTO.options(),appearance:Uh,label:"Full STO"})),r.createElement(xo,{id:5,height:a-75,yExtents:[]},r.createElement(li,Object.assign({tickStroke:C,stroke:C},Qh,{ticks:8,axisAt:"bottom",orient:"bottom"})),r.createElement(eu,{rectWidth:125,at:"bottom",orient:"bottom",displayFormat:w})),r.createElement(fu,{stroke:x}),r.createElement(Ed,{enabled:!g.trendline,getInteractiveNodes:d,drawingObjectMap:{Trendline:"trends"},onSelect:h}),r.createElement(Ed,{enabled:!g.fib,getInteractiveNodes:d,drawingObjectMap:{FibonacciRetracement:"retracements"},onSelect:m}),r.createElement(Ed,{enabled:!g.equ,getInteractiveNodes:d,drawingObjectMap:{EquidistantChannel:"channels"},onSelect:y}),r.createElement(Ed,{enabled:!g.sdc,getInteractiveNodes:d,drawingObjectMap:{StandardDeviationChannel:"channels"},onSelect:b}),r.createElement(Ed,{enabled:!g.gf,getInteractiveNodes:d,drawingObjectMap:{GannFan:"fans"},onSelect:v}))}}]),t}();Jh=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100,a=function(a){function i(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":vi(t))&&"function"!=typeof t?e:t}(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,e));return t.handleWindowResize=t.handleWindowResize.bind(t),t.getWrappedInstance=t.getWrappedInstance.bind(t),t.saveNode=t.saveNode.bind(t),t.setTestCanvas=t.setTestCanvas.bind(t),t.state={},t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":vi(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,r.Component),ki(i,[{key:"saveNode",value:function(e){this.node=e}},{key:"setTestCanvas",value:function(e){this.testCanvas=e}},{key:"getRatio",value:function(){if(uo(this.testCanvas)){var e=this.testCanvas.getContext("2d");return(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)}return 1}},{key:"componentDidMount",value:function(){window.addEventListener("resize",this.handleWindowResize),this.handleWindowResize(),this.setState({ratio:this.getRatio()})}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleWindowResize)}},{key:"handleWindowResize",value:function(){var e=this;this.setState({width:0},function(){var t=e.node,r=window.getComputedStyle(t.parentNode),o=r.width,a=r.paddingLeft,i=r.paddingRight,s=parseFloat(o)-(parseFloat(a)+parseFloat(i));e.setState({width:Math.round(Math.max(s,n))})})}},{key:"getWrappedInstance",value:function(){return this.node}},{key:"render",value:function(){var n=t?{ref:this.saveNode}:{};return this.state.width?o.a.createElement(e,gi({width:this.state.width,ratio:this.state.ratio},this.props,n)):o.a.createElement("div",n,o.a.createElement("canvas",{ref:this.setTestCanvas}))}}]),i}();return a.displayName="fitWidth("+function(e){return e.displayName||e.name||"Series"}(e)+")",a}(Jh);var Kh=Object(A.a)(function(e){function t(e){Wh(this,t);var n=Hh(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.mainChart=r.createRef(),n.state={enables:{trendline:!1,fib:!1,equ:!1,sdc:!1,gf:!1},dropdowns:{indicators:!1,tools:!1,settings:!1},retracements_1:[],trends_1:[],channels_2:[],channels_1:[],fans:[]},n.onKeyPress=n.onKeyPress.bind(n),n.onDrawCompleteChart1=n.onDrawCompleteChart1.bind(n),n.onGfComplete=n.onGfComplete.bind(n),n.onSdcComplete=n.onSdcComplete.bind(n),n.onFibComplete=n.onFibComplete.bind(n),n.onEquComplete=n.onEquComplete.bind(n),n.handleSelection=n.handleSelection.bind(n),n.handleSelection1=n.handleSelection1.bind(n),n.handleSelection2=n.handleSelection2.bind(n),n.handleSelection3=n.handleSelection3.bind(n),n.handleSelection4=n.handleSelection4.bind(n),n.saveInteractiveNodes=function(e,t){var n=this;return function(r){po(n.interactiveNodes)&&(n.interactiveNodes={});var o=e+"_"+t;(uo(r)||uo(n.interactiveNodes[o]))&&(n.interactiveNodes=Mh({},n.interactiveNodes,Lh({},o,{type:e,chartId:t,node:r})))}}.bind(n),n.getInteractiveNodes=function(){return this.interactiveNodes}.bind(n),n.saveCanvasNode=n.saveCanvasNode.bind(n),n._onInputHeight=n._onInputHeight.bind(n),n._listener=n._listener.bind(n),n}return zh(t,r["Component"]),Vh(t,[{key:"saveCanvasNode",value:function(e){this.canvasNode=e}},{key:"handleSelection3",value:function(e){var t=vo([e[3]],function(e){return["channels_2",e.objects]});this.setState(t)}},{key:"handleSelection2",value:function(e){var t=vo([e[2]],function(e){return["channels_"+e.chartId,e.objects]});this.setState(t)}},{key:"handleSelection1",value:function(e){var t=vo([e[1]],function(e){return["retracements_"+e.chartId,e.objects]});this.setState(t)}},{key:"handleSelection4",value:function(e){var t=vo([e[4]],function(e){return["fans",e.objects]});this.setState(t)}},{key:"handleSelection",value:function(e){var t=vo([e[0]],function(e){return["trends_"+e.chartId,e.objects]});this.setState(t)}},{key:"onEquComplete",value:function(e){this.setState({enables:{trendline:!1,fib:!1,equ:!1,sdc:!1,gf:!1},channels_1:e})}},{key:"onFibComplete",value:function(e){this.setState({retracements_1:e,enables:{trendline:!1,fib:!1,equ:!1,sdc:!1,gf:!1}})}},{key:"onSdcComplete",value:function(e){this.setState({channels_2:e,enables:{trendline:!1,fib:!1,equ:!1,sdc:!1,gf:!1}})}},{key:"onGfComplete",value:function(e){this.setState({fans:e,enables:{trendline:!1,fib:!1,equ:!1,sdc:!1,gf:!1}})}},{key:"onDrawCompleteChart1",value:function(e){this.setState({enables:{trendline:!1,fib:!1,equ:!1,sdc:!1,gf:!1},trends_1:e}),console.debug("trend1:",e)}},{key:"onKeyPress",value:function(e){var t=e.which;switch(console.log(t),t){case 8:var n=this.state.trends_1.filter(function(e){return!e.selected}),r=this.state.retracements_1.filter(function(e){return!e.selected}),o=this.state.channels_1.filter(function(e){return!e.selected}),a=this.state.channels_2.filter(function(e){return!e.selected}),i=this.state.fans.filter(function(e){return!e.selected});this.canvasNode.cancelDrag(),this.setState({trends_1:n,retracements_1:r,channels_1:o,channels_2:a,fans:i})}}},{key:"shouldComponentUpdate",value:function(e,t){return!(!e.priceData.length&&!this.props.priceData.length)&&!(m.a.are_equal_shallow(e.priceData,this.props.priceData)&&m.a.are_equal_shallow(e.indicators,this.props.indicators)&&m.a.are_equal_shallow(e.indicatorSettings,this.props.indicatorSettings)&&m.a.are_equal_shallow(e.tools,this.props.tools)&&m.a.are_equal_shallow(t,this.state)&&e.height===this.props.height&&e.chartHeight===this.props.chartHeight&&e.width===this.props.width&&e.leftOrderBook===this.props.leftOrderBook&&e.zoom===this.props.zoom&&e.showVolumeChart===this.props.showVolumeChart&&e.enableChartClamp===this.props.enableChartClamp)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keyup",this.onKeyPress),document.removeEventListener("click",this._listener)}},{key:"_toggleTools",value:function(e){console.debug("toolsKey:",e);var t=this.state.enables;console.debug("toolsKey:",t),t[e]=!0,this.setState(t),this._resetDropdowns(),this.forceUpdate()}},{key:"_changeSettings",value:function(e,t){t.persist(),t.stopPropagation(),t.nativeEvent.stopImmediatePropagation()}},{key:"_onInputHeight",value:function(e){var t=e.target.value;this.props.onChangeChartHeight({value:parseInt(t,10)})}},{key:"_toggleDropdown",value:function(e,t){t.stopPropagation();var n=this.state.dropdowns,r={};for(var o in this.state.dropdowns)r[o]=o===e&&!n[o];r[e]&&document.addEventListener("click",this._listener,{capture:!1,passive:!0}),this.setState({dropdowns:r})}},{key:"_listener",value:function(){this._resetDropdowns(),document.removeEventListener("click",this._listener)}},{key:"_stopPropagation",value:function(e){e.stopPropagation(),e.nativeEvent.stopImmediatePropagation()}},{key:"_resetDropdowns",value:function(){var e={};for(var t in this.state.dropdowns)e[t]=!1;this.setState({dropdowns:e})}},{key:"componentDidMount",value:function(){document.addEventListener("keyup",this.onKeyPress),this.mainChart&&this.mainChart.current.addEventListener("wheel",function(e){e.stopPropagation()},!0)}},{key:"render",value:function(){var e=this,t=this.props,n=(t.elementorigin,t.currentPeriod),o=t.buckets,a=t.bucketSize,i=t.indicators,s=t.indicatorSettings,l=this.state.dropdowns;console.debug("shuyuan",this.state.trends_1);var c=function(e){return"all"===e?j.a.translate("exchange.zoom_all"):e<60?e+"s":e<3600?e/60+"m":e<86400?e/3600+"h":e<604800?e/86400+"d":e<2592e3?e/604800+"w":e/2592e3+"m"},u=o.map(function(t){return r.createElement(T.m,{key:t,active:a===t,onClick:e.props.changeBucketSize.bind(e,t),size:"smaller",type:"white-primary",style:{marginRight:"4px"}},c(t))}),p=([21600,172800,345600,604800,1209600,2592e3,7776e3,"all"].map(function(t){return r.createElement("div",{key:t,className:g()("label bucket-option",{"active-bucket":n===t}),onClick:e.props.changeZoomPeriod.bind(e,t)},c(t))}),[]),f=["macd","bb","sar"].map(function(t){return r.createElement(T.m,{key:t,className:"hide-column-small",active:i[t],size:"smaller",type:"white-primary",style:{marginRight:"4px"},onClick:e.props.onChangeIndicators.bind(null,t)},r.createElement(b.a,{content:"exchange.chart_options."+t}))}),d=Object.keys(i).map(function(t){var n=t in s?r.createElement("div",{className:"inline-block",style:{paddingRight:5}},r.createElement(b.a,{content:"exchange.chart_options.period"}),":",r.createElement("input",{style:{margin:0},type:"number",value:s[t],onChange:e.props.onChangeIndicatorSetting.bind(null,t)})):null;return-1===t.toLowerCase().indexOf("volume")?r.createElement("li",{className:"indicator",key:t},r.createElement(T.h,{active:i[t],value:t,onChange:e.props.onChangeIndicators.bind(null,t),labelStyle:{alignItems:"center"}},r.createElement(b.a,{content:"exchange.chart_options."+t})),n):e.props.showVolumeChart?void p.push(r.createElement("li",{className:"indicator",key:t},r.createElement(T.h,{active:i[t],value:t,onChange:e.props.onChangeIndicators.bind(null,t),labelStyle:{alignItems:"center"}},r.createElement(b.a,{content:"exchange.chart_options."+t})),n)):null}).filter(function(e){return!!e});console.debug("this.props.tools:",this.props.tools);var h=this.props.tools.map(function(t){return r.createElement("li",{className:"clickable",key:t,onClick:e._toggleTools.bind(e,t)},r.createElement("div",{style:{marginLeft:5},className:"inline-block"},r.createElement(b.a,{content:"exchange.chart_options."+t})))});["volume","height","clamp_chart"].map(function(t){var n=void 0;switch(t){case"height":n=r.createElement("li",{className:"indicator",key:t},r.createElement("div",{style:{marginLeft:0,paddingRight:10}},r.createElement("div",null,r.createElement(b.a,{content:"exchange.chart_options.height"}),":")),r.createElement("div",null,r.createElement("input",{style:{margin:0,textAlign:"right",maxWidth:75},value:e.props.chartHeight,type:"number",onChange:e._onInputHeight})));break;case"volume":n=r.createElement("li",{className:"clickable indicator",key:t,onClick:e.props.onToggleVolume},r.createElement("input",{type:"checkbox",checked:e.props.showVolumeChart}),r.createElement("div",null,r.createElement(b.a,{content:"exchange.chart_options."+t})));break;case"clamp_chart":n=r.createElement("li",{className:"clickable indicator",key:t,onClick:e.props.onToggleChartClamp},r.createElement("input",{type:"checkbox",checked:e.props.enableChartClamp}),r.createElement("div",null,r.createElement(b.a,{content:"exchange.chart_options."+t})));break;default:n=r.createElement("li",{key:t},"TBD")}return n});return r.createElement("div",{className:"no-margin no-padding",style:{overflow:"visible",width:"100%"},ref:this.mainChart},r.createElement("div",{className:"chart-tools"},r.createElement("ul",{className:"market-stats stats bottom-stats"},r.createElement("li",{className:"stat"},r.createElement("span",null,r.createElement("span",{className:"with-colon"},r.createElement(b.a,{content:"exchange.time"})),r.createElement("span",null,u))),r.createElement("li",{className:"stat custom-dropdown"},r.createElement("span",null,r.createElement("span",{className:"with-colon"},r.createElement(b.a,{content:"exchange.chart_options.title"}))),r.createElement("span",null,f,r.createElement(T.m,{size:"smaller",type:"white-primary",style:{marginRight:"4px"},onClick:this._toggleDropdown.bind(this,"indicators")},r.createElement(b.a,{content:"exchange.chart_options.more"}))),l.indicators?r.createElement("div",{className:"custom-dropdown-content",onClick:this._stopPropagation},r.createElement("ul",null,r.createElement("li",{className:"indicator-title"},r.createElement(b.a,{content:"exchange.chart_options.price_title"})),d,p.length?r.createElement("li",{className:"indicator-title"},r.createElement(b.a,{content:"exchange.chart_options.volume_title"})):null,p)):null),r.createElement("li",{className:"stat input custom-dropdown"},r.createElement("div",{className:"v-align indicators clickable",onClick:this._toggleDropdown.bind(this,"tools")},r.createElement(b.a,{content:"exchange.chart_options.tools"})),l.tools?r.createElement("div",{className:"custom-dropdown-content",onClick:this._stopPropagation},r.createElement("ul",null,h)):null))),this.props.priceData.length?r.createElement(Jh,Object.assign({ref:this.mainChart},this.props,{handleSelection:this.handleSelection,handleSelection1:this.handleSelection1,handleSelection2:this.handleSelection2,handleSelection3:this.handleSelection3,handleSelection4:this.handleSelection4,getInteractiveNodes:this.getInteractiveNodes,trends_1:this.state.trends_1,fans:this.state.fans,channels_2:this.state.channels_2,retracements_1:this.state.retracements_1,channels_1:this.state.channels_1,onFibComplete:this.onFibComplete,onEquComplete:this.onEquComplete,onSdcComplete:this.onSdcComplete,onDrawCompleteChart1:this.onDrawCompleteChart1,onGfComplete:this.onGfComplete,enableTrendLine:this.state.enableTrendLine,saveInteractiveNodes:this.saveInteractiveNodes,saveCanvasNode:this.saveCanvasNode,enables:this.state.enables})):r.createElement("div",{className:"grid-content text-center"},r.createElement("div",{style:{paddingTop:this.props.height/2,height:this.props.height}},r.createElement(b.a,{content:"exchange.no_data",component:"h2"}))))}}]),t}()),Zh=n(1685),$h=n(35),em=n(211),tm=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nm=n(39),rm=n(1713),om=(r.createClass({displayName:"NotificationSet",getInitialState:function(){return{notifications:[]}},componentDidMount:function(){nm.subscribe(this.props.id,function(e,t){"clearall"===t?this.clearAll():this.addNotification(t)}.bind(this))},addNotification:function(e){e.id=nm.generateUuid();var t=this.state.notifications.concat(e);this.setState({notifications:t})},removeNotifcation:function(e){return function(t){var n=[];this.state.notifications.forEach(function(t){t.id!==e&&n.push(t)}),this.setState({notifications:n}),t.preventDefault()}.bind(this)},clearAll:function(){this.setState({notifications:[]})},render:function(){var e=this.state.notifications.map(function(e){return r.createElement(rm,tm({key:e.id},e,{closeHandler:this.removeNotifcation(e.id),className:"is-active"}),e.content)}.bind(this));return r.createElement("div",null,e)}}),n(1713)),am=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},im=(n(26),n(39)),sm=r.createClass({displayName:"NotificationStatic",getInitialState:function(){return{open:!1}},componentDidMount:function(){im.subscribe(this.props.id,function(e,t){"open"===t?this.setState({open:!0}):"close"===t&&this.setState({open:!1})}.bind(this))},componentWillUnmount:function(){im.unsubscribe(this.props.id)},closeHandler:function(e){this.setState({open:!1}),e.preventDefault(),e.stopPropagation()},render:function(){return r.createElement(em.a,{active:this.state.open,animationIn:"fadeIn",animationOut:"fadeOut"},r.createElement(om.default,am({},this.props,{closeHandler:this.closeHandler}),this.props.children))}}),lm=n(341),cm=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var um,pm=nn.c.operations,fm=Object.keys(pm),dm=((um=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),cm(t,[{key:"componentWillReceiveProps",value:function(e){if(e.account.size&&this.props.account.get("history")){var t=this.props.account.get("history")&&this.props.account.get("history").first()?this.props.account.get("history").first().toJS():null,n=e.account.get("history")&&e.account.get("history").first()?e.account.get("history").first().toJS():null;n&&t&&"fill_order"===fm[n.op[0]]&&(!t&&n.id||n.id!==t.id)&&(Jn.a.publish("account-notify","open"),setTimeout(function(){Jn.a.publish("account-notify","close")},5e3))}}},{key:"shouldComponentUpdate",value:function(e){return!Xt.is(e.account.get("history"),this.props.account.get("history"))||!Xt.is(e.account,this.props.account)}},{key:"render",value:function(){var e=this.props.account;if(!e)return r.createElement("div",null);var t=void 0,n=void 0;return this.props.account.get("history")&&this.props.account.get("history").size&&(t=this.props.account.get("history").first().toJS())&&(n=r.createElement(lm.a,{key:t.id,op:t.op,result:t.result,block:t.block_num,current:e.get("id"),hideDate:!0,hideFee:!0})),t?r.createElement(sm,{id:"account-notify",title:null,image:"",wrapperElement:"div"},r.createElement("table",{className:"table"},r.createElement("tbody",null,n))):r.createElement("div",null)}}]),t}()).propTypes={account:yn.a.ChainAccount.isRequired},um),hm=dm=Object(bn.a)(dm,{keep_updating:!0}),mm=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var ym=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),mm(t,[{key:"render",value:function(){return r.createElement(u.a,{stores:[i.a],inject:{account:function(){return i.a.getState().currentAccount}}},r.createElement(hm,null))}}]),t}(),bm=n(91),vm=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var gm=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),vm(t,[{key:"show",value:function(){var e="modal_confirm_"+this.props.type;Jn.a.publish(e,"open")}},{key:"_onForce",value:function(e,t){var n="modal_confirm_"+this.props.type;t.preventDefault(),Jn.a.publish(n,"close"),e&&this.props.onForce()}},{key:"render",value:function(){var e=this.props,t=e.type,n=e.diff,o=e.hasOrders;return r.createElement(Kn.a,{id:"modal_confirm_"+t,overlay:!0},r.createElement(b.a,{component:"h3",content:"transaction.confirm"}),r.createElement("div",{className:"grid-block vertical"},o?r.createElement(b.a,{content:"exchange.confirm_"+t,diff:m.a.format_number(n,2)}):r.createElement(b.a,{content:"exchange.confirm_no_orders_"+t}),r.createElement("div",{className:"button-group",style:{paddingTop:"2rem"}},r.createElement("input",{onClick:this._onForce.bind(this,!0),className:"button success",type:"submit",value:"Yes"}),r.createElement(bm.a,{close:"modal_confirm_"+t},r.createElement("input",{className:"button info",type:"submit",value:"No"})))))}}]),t}(),km=(n(64),n(342)),wm=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function Em(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Sm(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Om(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _m=function(e){function t(){return Em(this,t),Sm(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Om(t,r["Component"]),wm(t,[{key:"render",value:function(){var e=this.props,t=e.baseSymbol,n=e.quoteSymbol;return r.createElement("thead",null,r.createElement("tr",null,r.createElement("th",{style:{textAlign:"center"}},r.createElement(b.a,{content:"exchange.price"})," ",t?r.createElement("span",{className:"header-sub-title"},"(",r.createElement(w.a,{name:t}),"/",r.createElement(w.a,{name:n}),")"):null),r.createElement("th",{style:{textAlign:"center"}},r.createElement(b.a,{content:"transfer.amount"})," ",n?r.createElement("span",{className:"header-sub-title"},"(",r.createElement(w.a,{name:n}),")"):null),r.createElement("th",{style:{textAlign:"center"}},r.createElement(b.a,{content:"transaction.settlement_date"})," ",r.createElement("span",{style:{visibility:"hidden"},className:"header-sub-title"},"d"))))}}]),t}();_m.defaultProps={quoteSymbol:null,baseSymbol:null};var Cm=function(e){function t(){return Em(this,t),Sm(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Om(t,r["Component"]),wm(t,[{key:"render",value:function(){var e=this.props,t=e.quote,n=e.order,o=e.showSymbols?" "+t.get("symbol"):null;return r.createElement("tr",null,r.createElement("td",null,m.a.format_number(n.getPrice(),t.get("precision"))," ",o),r.createElement("td",null,r.createElement(mn.a,{amount:n[n.isBid()?"amountToReceive":"amountForSale"]().getAmount(),asset:n[n.isBid()?"amountToReceive":"amountForSale"]().asset_id})),r.createElement("td",null,r.createElement(km.a,{time:n.settlement_date})))}}]),t}();Cm.defaultProps={showSymbols:!1,invert:!1};var xm=function(e){function t(){return Em(this,t),Sm(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Om(t,r["Component"]),wm(t,[{key:"shouldComponentUpdate",value:function(e){return e.currentAccount!==this.props.currentAccount||e.orders!==this.props.orders}},{key:"render",value:function(){var e=this.props,t=e.orders,n=e.base,o=e.quote,a=e.quoteSymbol,i=e.baseSymbol,s=null;if(!(t.size>0&&n&&o))return null;var l=0;return s=t.sort(function(e,t){return e.isBefore(t)?-1:1}).map(function(e){return r.createElement(Cm,{key:l++,order:e,base:n,quote:o})}).toArray(),r.createElement("div",{key:"open_orders",className:"grid-block no-overflow small-12 no-padding vertical medium-horizontal middle-content"},r.createElement("div",{className:"small-12 order-1",style:{paddingBottom:"1rem"}},r.createElement("div",{className:"exchange-bordered"},this.props.withHeader&&r.createElement("div",{className:"exchange-content-header"},r.createElement(b.a,{content:"exchange.settle_orders"})),r.createElement("div",{className:"grid-block",style:{maxHeight:"400px",overflow:"hidden"},ref:"orders"},r.createElement("table",{className:"table order-table text-right table-hover"},r.createElement(_m,{type:"buy",baseSymbol:i,quoteSymbol:a}),r.createElement("tbody",{ref:"orders"},s))))))}}]),t}();xm.defaultProps={base:{},quote:{},orders:{},quoteSymbol:"",baseSymbol:""},xm.propTypes={base:p.object.isRequired,quote:p.object.isRequired,orders:p.object.isRequired,quoteSymbol:p.string.isRequired,baseSymbol:p.string.isRequired};var Pm=xm,Am=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Tm=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),Am(t,[{key:"_addMarket",value:function(e,t){var n=e+"_"+t;this.props.starredMarkets.has(n)?en.a.removeStarMarket(e,t):en.a.addStarMarket(e,t)}},{key:"render",value:function(){var e=this.props,t=e.quoteAsset,n=e.baseAsset,o=e.starredMarkets,a=e.hasPrediction,i=e.feedPrice,s=e.showCallLimit,l=e.lowestCallPrice,c=e.marketReady,u=e.latestPrice,p=(e.currentPeriod,e.marketStats),f=(e.showDepthChart,e.buckets,e.bucketSize,e.showIndicators,e.onBorrowBase,e.onBorrowQuote,e.indicators,e.indicatorSettings,e.currentMouseItem,n.get("symbol")),d=t.get("symbol"),h=d+"_"+f,m=o.has(h)?"gold-star":"grey-star",y=p.get("change"),v=0===parseFloat(y)?"":parseFloat(y)<0?"negative":"positive",g=""===v?"":"positive"===v?"change-up":"change-down",k=p.get("volumeBase"),E=p.get("volumeQuote");return r.createElement("div",{className:"grid-block shrink no-padding overflow-visible top-bar"},r.createElement("div",{className:"grid-block overflow-visible"},r.createElement("div",{className:"grid-block shrink show-for-large"},r.createElement("span",{className:"v-align clickable",onClick:this._addMarket.bind(this,d,f)},r.createElement("span",{style:{paddingRight:0},className:"market-symbol"},r.createElement(wn.a,{className:m,name:"fi-star"})),r.createElement("span",{className:"market-symbol"},r.createElement("span",{style:{fontSize:"1.2em"}},r.createElement(w.a,{name:d}))," / ",r.createElement(w.a,{name:f})))),r.createElement("div",{className:"grid-block vertical",style:{overflow:"visible"}},r.createElement("ul",{className:"market-stats stats top-stats medium-12"},u?r.createElement(P,{ready:c,price:u.full,hideBase:!0,withYuan:!0,quote:t,base:n,hideQuote:!0,content:"exchange.latest"}):null,r.createElement("li",{className:"stat"},r.createElement("span",null,r.createElement(b.a,{className:"nowrap",component:"span",content:"account.hour_24"}),r.createElement("br",null),r.createElement("b",{className:"value "+v},c?y:0,r.createElement("span",{className:g}," ",""===g?null:"change-up"===g?r.createElement("span",null,"↑"):r.createElement("span",null,"↓"))),r.createElement("span",null,"%"))),k>=0?r.createElement(P,{ready:c,decimals:0,volume:!0,price:k,volume2:E,base:n,quote:t,content:"exchange.volume_24"}):null,!a&&i?r.createElement(P,{toolTip:j.a.translate("tooltip.settle_price"),ready:c,price:i.toReal(),quote:t,base:n,content:"exchange.settle"}):null,l&&s?r.createElement(P,{toolTip:j.a.translate("tooltip.call_limit"),ready:c,className:"is-call",price:l,quote:t,base:n,content:"explorer.block.call_limit"}):null,i&&s?r.createElement(P,{toolTip:j.a.translate("tooltip.margin_price"),ready:c,className:"is-call",price:i.getSqueezePrice({real:!0}),quote:t,base:n,content:"exchange.squeeze"}):null))))}}]),t}(),Dm=n(4),jm=n(339),Rm=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Fm=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function Nm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var qm=[{key:"my-market",label:"exchange.tabs.market"},{key:"my-order",label:"exchange.tabs.orders"},{key:"order-book-buy",label:"exchange.tabs.bidask"},{key:"depth-chart",label:"exchange.tabs.depthChart"},{key:"market-history",label:"exchange.tabs.trades"},{key:"open-settle-order",label:"exchange.tabs.settle"}],Im=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state=n._initialState(e),n._getWindowSize=Object(Dn.debounce)(n._getWindowSize.bind(n),150),n._checkFeeStatus=n._checkFeeStatus.bind(n),n.psInit=!0,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),Fm(t,[{key:"_initialState",value:function(e){var t=e.viewSettings,n={forSaleText:"",toReceiveText:"",priceText:"",for_sale:new Zn.a({asset_id:e.baseAsset.get("id"),precision:e.baseAsset.get("precision")}),to_receive:new Zn.a({asset_id:e.quoteAsset.get("id"),precision:e.quoteAsset.get("precision")}),price:null};n.price=new Zn.f({base:n.for_sale,quote:n.to_receive});var r={forSaleText:"",toReceiveText:"",priceText:"",for_sale:new Zn.a({asset_id:e.quoteAsset.get("id"),precision:e.quoteAsset.get("precision")}),to_receive:new Zn.a({asset_id:e.baseAsset.get("id"),precision:e.baseAsset.get("precision")}),price:null};r.price=new Zn.f({base:r.for_sale,quote:r.to_receive});var o=t.get("indicators",{}),a={};[["sma",!0],["ema1",!1],["ema2",!1],["smaVolume",!0],["macd",!1],["bb",!1],["vpVolume",!1],["vpbsVolume",!1],["sar",!1],["rsi",!1],["atr",!1],["fi",!1],["er",!1],["sto",!1]].forEach(function(e){a[e[0]]=e[0]in o?o[e[0]]:e[1]});var i=t.get("indicatorSettings",{}),s={};[["sma",7],["ema1",20],["ema2",50],["smaVolume",30]].forEach(function(e){s[e[0]]=e[0]in i?i[e[0]]:e[1]});var l=qm[0];return{history:[],buySellOpen:t.get("buySellOpen",!0),bid:n,ask:r,flipBuySell:t.get("flipBuySell",!1),favorite:!1,showDepthChart:t.get("showDepthChart",!1),leftOrderBook:t.get("leftOrderBook",!1),buyDiff:!1,sellDiff:!1,indicators:a,buySellTop:t.get("buySellTop",!0),buyFeeAssetIdx:t.get("buyFeeAssetIdx",0),sellFeeAssetIdx:t.get("sellFeeAssetIdx",0),indicatorSettings:s,tools:["fib","trendline","equ","sdc","gf"],currentMouseItem:{},currentInfoTab:l,height:window.innerHeight,width:window.innerWidth,chartHeight:t.get("chartHeight",425),currentPeriod:t.get("currentPeriod",7776e3)}}},{key:"_getLastMarketKey",value:function(){var e=Dm.a.instance().chain_id;return"lastMarket"+(e?"_"+e.substr(0,8):"")}},{key:"componentWillMount",value:function(){window.removeEventListener("optimizedResize",this._getWindowSize),this._checkFeeStatus()}},{key:"componentDidMount",value:function(){en.a.changeViewSetting.defer(Nm({},this._getLastMarketKey(),this.props.quoteAsset.get("symbol")+"_"+this.props.baseAsset.get("symbol"))),window.addEventListener("optimizedResize",this._getWindowSize)}},{key:"_checkFeeStatus",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[this.props.coreAsset,this.props.baseAsset,this.props.quoteAsset],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.props.currentAccount,r={},o=[];t.forEach(function(e){o.push(Object(jm.b)({accountID:n.get("id"),feeID:e.get("id"),type:"limit_order_create"}))}),Promise.all(o).then(function(n){t.forEach(function(e,t){r[e.get("id")]=n[t]}),m.a.are_equal_shallow(e.state.feeStatus,r)||e.setState({feeStatus:r})})}},{key:"_getWindowSize",value:function(){var e=window,t=e.innerHeight,n=e.innerWidth;if(t!==this.state.height||n!==this.state.width){this.setState({height:t,width:n});var r=this.refs.center;r&&Zt.a.update(r)}}},{key:"componentWillReceiveProps",value:function(e){if(this.refs.center&&this.psInit){var t=this.refs.center;t&&(Zt.a.initialize(t),this.psInit=!1)}return e.quoteAsset===this.props.quoteAsset&&e.baseAsset===this.props.baseAsset&&e.currentAccount===this.props.currentAccount||this._checkFeeStatus([e.coreAsset,e.baseAsset,e.quoteAsset],e.currentAccount),e.quoteAsset.get("symbol")!==this.props.quoteAsset.get("symbol")||e.baseAsset.get("symbol")!==this.props.baseAsset.get("symbol")?(this.setState(this._initialState(e)),en.a.changeViewSetting(Nm({},this._getLastMarketKey(),e.quoteAsset.get("symbol")+"_"+e.baseAsset.get("symbol")))):this.props.sub&&e.bucketSize!==this.props.bucketSize?this._changeBucketSize(e.bucketSize):void 0}},{key:"componentWillUnmount",value:function(){this.resizeSubscription&&this.resizeSubscription.unsubscribe()}},{key:"_getFeeAssets",value:function(e,t,n){var r=this,o=this.props.currentAccount,a=this.state.feeStatus;function i(e,t){-1===e.indexOf(t)&&e.push(t)}var s=[n,e===n?t:e];i(s,e),i(s,t);var l=[n,t===n?e:t];i(l,e),i(l,t);var c={};function u(e,t,r){var o=void 0;return(e=e.filter(function(e){return!!t[e.get("id")]&&(function(e){return a[e]&&a[e].hasPoolBalance}(e.get("id"))&&function(e){return a[e]&&a[e].hasBalance}(e.get("id")))})).length?o=e[Math.min(e.length-1,r)]:(o=n,e.push(n)),{assets:e,asset:o}}o.get("balances",[]).filter(function(n,r){return["1.3.0",e.get("id"),t.get("id")].indexOf(r)>=0}).forEach(function(e,t){var n=nn.b.getObject(e);c[t]={balance:n?parseInt(n.get("balance"),10):0,fee:r._getFee(nn.b.getAsset(t))}});var p=u(s,c,this.state.sellFeeAssetIdx),f=p.assets,d=p.asset,h=u(l,c,this.state.buyFeeAssetIdx),m=h.assets,y=h.asset;return{sellFeeAsset:d,sellFeeAssets:f,sellFee:this._getFee(d),buyFeeAsset:y,buyFeeAssets:m,buyFee:this._getFee(y)}}},{key:"_getFee",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props.coreAsset;return this.state.feeStatus[e.get("id")]&&this.state.feeStatus[e.get("id")].fee}},{key:"_verifyFee",value:function(e,t,n,r){var o=this._getFee(),a=e.getAmount()+t;return"1.3.0"===e.asset_id?o.getAmount()<=r?"1.3.0":null:a<=n?e.asset_id:o.getAmount()<=r&&"1.3.0"!==e.asset_id?"1.3.0":null}},{key:"_createLimitOrderConfirm",value:function(e,t,n,r,o,a){var i=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];arguments[7].preventDefault();var s=this.props.marketData,l=s.highestBid,c=s.lowestAsk,u=this.state["sell"===a?"ask":"bid"];n=u.for_sale.clone(n?parseInt(nn.b.getObject(n).toJS().balance,10):0),r=new Zn.a({amount:r?parseInt(nn.b.getObject(r).toJS().balance,10):0});var p=this._getFee(o),f=this._verifyFee(p,u.for_sale.getAmount(),n.getAmount(),r.getAmount());if(!f)return $h.b.addNotification({message:"Insufficient funds to pay fees",level:"error"});if("buy"===a&&c){var d=this.state.bid.price.toReal()/c.getPrice();if(d>1.2)return this.refs.buy.show(),this.setState({buyDiff:d})}else if("sell"===a&&l){var h=1/(this.state.ask.price.toReal()/l.getPrice());if(h>1.2)return this.refs.sell.show(),this.setState({sellDiff:h})}var m=t.getIn(["bitasset","is_prediction_market"]);return u.for_sale.gt(n)&&!m?$h.b.addNotification({message:"Insufficient funds to place order, you need at least "+u.for_sale.getAmount({real:!0})+" "+t.get("symbol"),level:"error"}):u.for_sale.getAmount()>0&&u.to_receive.getAmount()>0?"sell"===a&&m&&i?this._createPredictionShort(f):void this._createLimitOrder(a,f):$h.b.addNotification({message:"Please enter a valid amount and price",level:"error"})}},{key:"_createLimitOrder",value:function(e,t){var n=this.state["sell"===e?"ask":"bid"],r=new Zn.e({for_sale:n.for_sale,to_receive:n.to_receive,seller:this.props.currentAccount.get("id"),fee:{asset_id:t,amount:0}}),o=$t.a.getMarketID(this.props.baseAsset,this.props.quoteAsset),a=o.marketID,i=o.first,s=this.props.marketDirections.get(a);if(s&&i.get("id")!==this.props.baseAsset.get("id")||!s&&i.get("id")!==this.props.baseAsset.get("id")){var l={};l[a]=!s,en.a.changeMarketDirection(l)}return console.log("order:",JSON.stringify(r.toObject())),d.a.createLimitOrder2(r).then(function(e){e.error&&"wallet locked"!==e.error.message&&$h.b.addNotification({message:"Unknown error. Failed to place order for "+n.to_receive.getAmount({real:!0})+" "+n.to_receive.asset_id,level:"error"})}).catch(function(e){console.log("order failed:",e)})}},{key:"_createPredictionShort",value:function(e){var t=this.state.ask,n=new Zn.e({for_sale:t.for_sale,to_receive:t.to_receive,seller:this.props.currentAccount.get("id"),fee:{asset_id:e,amount:0}});Promise.all([Object(nn.f)("getAsset",this.props.quoteAsset.getIn(["bitasset","options","short_backing_asset"]))]).then(function(e){var t=Rm(e,1)[0],r=new Zn.a({amount:n.amount_for_sale.getAmount(),asset_id:t.get("id"),precision:t.get("precision")});d.a.createPredictionShort(n,r).then(function(e){e.error&&"wallet locked"!==e.error.message&&$h.b.addNotification({message:"Unknown error. Failed to place order for "+buyAssetAmount+" "+buyAsset.symbol,level:"error"})})})}},{key:"_forceBuy",value:function(e,t,n,r){var o=this.state["sell"===e?"ask":"bid"];n=o.for_sale.clone(n?parseInt(nn.b.getObject(n).get("balance"),10):0),r=new Zn.a({amount:r?parseInt(nn.b.getObject(r).toJS().balance,10):0});var a=this._getFee(t),i=this._verifyFee(a,o.for_sale.getAmount(),n.getAmount(),r.getAmount());i?this._createLimitOrder(e,i):console.error("Unable to pay fees, aborting limit order creation")}},{key:"_forceSell",value:function(e,t,n,r){var o=this.state["sell"===e?"ask":"bid"];n=o.for_sale.clone(n?parseInt(nn.b.getObject(n).get("balance"),10):0),r=new Zn.a({amount:r?parseInt(nn.b.getObject(r).toJS().balance,10):0});var a=this._getFee(t),i=this._verifyFee(a,o.for_sale.getAmount(),n.getAmount(),r.getAmount());i?this._createLimitOrder(e,i):console.error("Unable to pay fees, aborting limit order creation")}},{key:"_cancelLimitOrder",value:function(e,t){t.preventDefault();var n=this.props.currentAccount;d.a.cancelLimitOrder(n.get("id"),e)}},{key:"_changeBucketSize",value:function(e,t){if(t&&t.preventDefault(),e!==this.props.bucketSize){d.a.changeBucketSize.defer(e);var n=this.props.sub.split("_");d.a.unSubscribeMarket.defer(n[0],n[1]),this.props.subToMarket(this.props,e)}}},{key:"_changeZoomPeriod",value:function(e,t){t.preventDefault(),e!==this.state.currentPeriod&&(this.setState({currentPeriod:e}),en.a.changeViewSetting({currentPeriod:e}))}},{key:"_depthChartClick",value:function(e,t,n,r){r.preventDefault();var o=this.state,a=o.bid,i=o.ask;a.price=new Zn.f({base:this.state.bid.for_sale,quote:this.state.bid.to_receive,real:r.xAxis[0].value/n}),a.priceText=a.price.toReal(),i.price=new Zn.f({base:this.state.ask.to_receive,quote:this.state.ask.for_sale,real:r.xAxis[0].value/n}),i.priceText=i.price.toReal();var s={bid:a,ask:i,depthLine:a.price.toReal()};this._setForSale(a,!0)||this._setReceive(a,!0),this._setReceive(i)||this._setForSale(i),this._setPriceText(a,!0),this._setPriceText(i,!1),this.setState(s)}},{key:"_flipBuySell",value:function(){en.a.changeViewSetting({flipBuySell:!this.state.flipBuySell}),this.setState({flipBuySell:!this.state.flipBuySell})}},{key:"_toggleOpenBuySell",value:function(){en.a.changeViewSetting({buySellOpen:!this.state.buySellOpen}),this.setState({buySellOpen:!this.state.buySellOpen})}},{key:"_toggleCharts",value:function(){en.a.changeViewSetting({showDepthChart:!this.state.showDepthChart}),this.setState({showDepthChart:!this.state.showDepthChart})}},{key:"_moveOrderBook",value:function(){en.a.changeViewSetting({leftOrderBook:!this.state.leftOrderBook}),this.setState({leftOrderBook:!this.state.leftOrderBook})}},{key:"_currentPriceClick",value:function(e,t){var n="bid"===e,r=this.state[e];r.price=t[n?"invert":"clone"](),r.priceText=r.price.toReal(),n?this._setForSale(r,n)||this._setReceive(r,n):this._setReceive(r,n)||this._setForSale(r,n),this.forceUpdate()}},{key:"_orderbookClick",value:function(e){var t=e.isBid(),n=e.totalToReceive({noCache:!0}),r=n.times(e.sellPrice()),o=new Zn.f({base:t?r:n,quote:t?n:r}),a=this.state[t?"bid":"ask"];a.price=o,a.priceText=o.toReal();var i=Nm({},t?"ask":"bid",{for_sale:n,forSaleText:n.getAmount({real:!0}),to_receive:r,toReceiveText:r.getAmount({real:!0}),price:o,priceText:o.toReal()});t?this._setForSale(a,t)||this._setReceive(a,t):this._setReceive(a,t)||this._setForSale(a,t),this.setState(i)}},{key:"_borrowQuote",value:function(){this.refs.borrowQuote.show()}},{key:"_borrowBase",value:function(){this.refs.borrowBase.show()}},{key:"_onSelectIndicators",value:function(){this.refs.indicators.show()}},{key:"_getSettlementInfo",value:function(){var e=this.props,t=e.lowestCallPrice,n=e.feedPrice,r=e.quoteAsset,o=!1;return n&&(o=n.inverted?t<=n.toReal():t>=n.toReal()),!(!o||!t||r.getIn(["bitasset","is_prediction_market"]))}},{key:"_changeIndicator",value:function(e){var t=Object(Dn.cloneDeep)(this.state.indicators);t[e]=!t[e],this.setState({indicators:t}),en.a.changeViewSetting({indicators:t})}},{key:"_changeIndicatorSetting",value:function(e,t){t.preventDefault();var n=Object(Dn.cloneDeep)(this.state.indicatorSettings),r=parseInt(t.target.value,10);isNaN(r)&&(r=1),n[e]=r,this.setState({indicatorSettings:n}),en.a.changeViewSetting({indicatorSettings:n})}},{key:"onChangeFeeAsset",value:function(e,t){t.preventDefault(),"buy"===e?(this.setState({buyFeeAssetIdx:t.target.value}),en.a.changeViewSetting({buyFeeAssetIdx:t.target.value})):(this.setState({sellFeeAssetIdx:t.target.value}),en.a.changeViewSetting({sellFeeAssetIdx:t.target.value}))}},{key:"onChangeChartHeight",value:function(e){var t=e.value,n=e.increase,r=t||this.state.chartHeight+(n?20:-20);console.log("newHeight",r),this.setState({chartHeight:r}),en.a.changeViewSetting({chartHeight:r})}},{key:"_toggleBuySellPosition",value:function(){this.setState({buySellTop:!this.state.buySellTop}),en.a.changeViewSetting({buySellTop:!this.state.buySellTop})}},{key:"_setReceive",value:function(e,t){return!(!e.price.isValid()||!e.for_sale.hasAmount())&&(e.to_receive=e.for_sale.times(e.price),e.toReceiveText=e.to_receive.getAmount({real:!0}).toString(),!0)}},{key:"_setForSale",value:function(e,t){return!(!e.price.isValid()||!e.to_receive.hasAmount())&&(e.for_sale=e.to_receive.times(e.price,!0),e.forSaleText=e.for_sale.getAmount({real:!0}).toString(),!0)}},{key:"_setPrice",value:function(e){return!(!e.for_sale.hasAmount()||!e.to_receive.hasAmount())&&(e.price=new Zn.f({base:e.for_sale,quote:e.to_receive}),e.priceText=e.price.toReal().toString(),!0)}},{key:"_setPriceText",value:function(e,t){var n=e[t?"for_sale":"to_receive"],r=e[t?"to_receive":"for_sale"];n.hasAmount()&&r.hasAmount()&&(e.priceText=new Zn.f({base:n,quote:r}).toReal().toString())}},{key:"_onInputPrice",value:function(e,t){var n=this.state[e],r="bid"===e;n.price=new Zn.f({base:n[r?"for_sale":"to_receive"],quote:n[r?"to_receive":"for_sale"],real:parseFloat(t.target.value)||0}),r?this._setForSale(n,r)||this._setReceive(n,r):this._setReceive(n,r)||this._setForSale(n,r),n.priceText=t.target.value,this.forceUpdate()}},{key:"_onInputSell",value:function(e,t,n){var r=this.state[e];r.for_sale.setAmount({real:parseFloat(n.target.value)||0}),r.price.isValid()?this._setReceive(r,t):this._setPrice(r),r.forSaleText=n.target.value,this._setPriceText(r,"bid"===e),this.forceUpdate()}},{key:"_onInputReceive",value:function(e,t,n){var r=this.state[e];r.to_receive.setAmount({real:parseFloat(n.target.value)||0}),r.price.isValid()?this._setForSale(r,t):this._setPrice(r),r.toReceiveText=n.target.value,this._setPriceText(r,"bid"===e),this.forceUpdate()}},{key:"isMarketFrozen",value:function(){var e=this.props,t=e.baseAsset,n=e.quoteAsset,r=t.getIn(["options","whitelist_markets"]).toJS(),o=n.getIn(["options","whitelist_markets"]).toJS(),a=t.getIn(["options","blacklist_markets"]).toJS(),i=n.getIn(["options","blacklist_markets"]).toJS();return o.length&&-1===o.indexOf(t.get("id"))?{isFrozen:!0,frozenAsset:n.get("symbol")}:r.length&&-1===r.indexOf(n.get("id"))?{isFrozen:!0,frozenAsset:t.get("symbol")}:i.length&&-1!==i.indexOf(t.get("id"))?{isFrozen:!0,frozenAsset:n.get("symbol")}:a.length&&-1!==a.indexOf(n.get("id"))?{isFrozen:!0,frozenAsset:t.get("symbol")}:{isFrozen:!1}}},{key:"_toggleMiniChart",value:function(){en.a.changeViewSetting({miniDepthChart:!this.props.miniDepthChart})}},{key:"_handleMouseMove",value:function(e){var t=this;setTimeout(function(){return t.setState({currentMouseItem:e})})}},{key:"render",value:function(){var e=this.props,t=e.currentAccount,n=e.marketLimitOrders,o=e.marketCallOrders,a=e.marketData,i=e.activeMarketHistory,s=e.invertedCalls,l=e.starredMarkets,c=e.quoteAsset,u=e.baseAsset,p=e.lowestCallPrice,f=e.marketStats,d=e.marketReady,m=e.marketSettleOrders,y=e.bucketSize,b=e.totals,v=e.feedPrice,k=e.buckets,w=e.coreAsset,E=a.combinedBids,S=a.combinedAsks,O=a.lowestAsk,_=a.highestBid,C=(a.flatBids,a.flatAsks,a.flatCalls,a.flatSettles,this.state),x=(C.elements,C.bid),P=C.ask,A=C.leftOrderBook,D=C.showDepthChart,j=C.tools,R=C.chartHeight,F=C.buyDiff,N=C.sellDiff,q=C.indicators,I=C.indicatorSettings,M=C.width,L=C.buySellTop;C.currentInfoTab;console.log("indicators111:",q);var B=this.isMarketFrozen(),V=B.isFrozen,W=(B.frozenAsset,{atr:310,rsi:310,macd:310,sma:310,ema1:310,ema2:310,smaVolume:310,bb:310,fi:310,er:310,sto:310}),H=366,z={atr:{height:100,show:q.atr},macd:{height:100,show:q.macd},rsi:{height:100,show:q.rsi},fi:{height:100,show:q.fi},er:{height:100,show:q.er},sto:{height:100,show:q.sto}},U=["macd","rsi","atr","fi","er","sto"];U.map(function(e){"sto"===e&&z[e].show?H+=300:z[e].show&&"sto"!==z[e]&&(H+=z[e].height);for(var t=0;t<U.length;t++)if(z[U[t]].show&&U[t]!==e)W[e]+=z[U[t]].height;else if(U[t]===e)break}),console.debug("elementsHeight",H),console.debug("elementsOrigin",W);var Y=null,G=null,Q=null,X=null,J=null,K=null,Z=void 0,$=void 0,ee=!1,te=void 0,ne=void 0,re="1.2.3"===t.get("id"),oe=this.props.viewSettings.get("showVolumeChart",!0),ae=this.props.viewSettings.get("enableChartClamp",!1);if(c.size&&u.size&&t.size){if(G=c,$=(Y=u).get("symbol"),Z=G.get("symbol"),Q=t.get("balances").toJS())for(var ie in Q)ie===G.get("id")&&(X=Q[ie]),ie===Y.get("id")&&(J=Q[ie]),"1.3.0"===ie&&(K=Q[ie]);ee=this._getSettlementInfo()}var se=!!c.get("bitasset_data_id"),le=!!u.get("bitasset_data_id");O&&_&&(O.getPrice(),_.getPrice());if(i.size){var ce=i.take(3),ue=ce.first(),pe=ce.last(),fe=void 0,de=void 0,he=!1;ue.pays.asset_id===Y.get("id")?(fe=Y,de=G,he=!0):(fe=G,de=Y);var me=Y.get("id").split(".")[2]>G.get("id").split(".")[2];if(te=$t.a.parse_order_history(ue,fe,de,he,me),he=!1,pe){pe.pays.asset_id===Y.get("id")?(fe=Y,de=G,he=!0):(fe=G,de=Y);var ye=$t.a.parse_order_history(pe,fe,de,he,me);ne=te.full===ye.full?"":te.full-ye.full>0?"change-up":"change-down"}}if(!w||!this.state.feeStatus)return null;var be=this._getFeeAssets(G,Y,w),ve=be.sellFeeAsset,ge=be.sellFeeAssets,ke=be.sellFee,we=be.buyFeeAsset,Ee=be.buyFeeAssets,Se=be.buyFee,Oe=Y.getIn(["bitasset","is_prediction_market"])||G.getIn(["bitasset","is_prediction_market"]),_e=null;Oe&&(_e=c.getIn(["options","description"]),_e=mr.a.parseDescription(_e).main);var Ce=!1;M<1e3&&(Ce=!0,A=!1);var xe=A?2:1,Pe=Math.max(this.state.height>1100?R:R-125,300),Ae=V?null:r.createElement(gr,{onBorrow:!re&&le?this._borrowBase.bind(this):null,currentAccount:t,backedCoin:Y.get("symbol")in this.props.backedCoins,currentBridges:this.props.bridgeCoins.get(Y.get("symbol"))||null,smallScreen:Ce,isOpen:this.state.buySellOpen,onToggleOpen:this._toggleOpenBuySell.bind(this),className:g()("bgcolor-primary small-12 medium-6 no-padding",{disabled:re},this.state.flipBuySell?"order-"+(L?2:5*xe)+" sell-form":"order-"+(L?1:4*xe)+" buy-form"),type:"bid",amount:x.toReceiveText,price:x.priceText,total:x.forSaleText,quote:G,base:Y,amountChange:this._onInputReceive.bind(this,"bid",!0),priceChange:this._onInputPrice.bind(this,"bid"),setPrice:this._currentPriceClick.bind(this),totalChange:this._onInputSell.bind(this,"bid",!1),balance:J,balanceId:Y.get("id"),onSubmit:this._createLimitOrderConfirm.bind(this,G,Y,J,K,we,"buy"),balancePrecision:Y.get("precision"),quotePrecision:G.get("precision"),totalPrecision:Y.get("precision"),currentPrice:O.getPrice(),currentPriceObject:O,account:t.get("name"),fee:Se,hasFeeBalance:this.state.feeStatus[Se.asset_id].hasBalance,feeAssets:Ee,feeAsset:we,onChangeFeeAsset:this.onChangeFeeAsset.bind(this,"buy"),isPredictionMarket:Y.getIn(["bitasset","is_prediction_market"]),onFlip:this.state.flipBuySell?null:this._flipBuySell.bind(this),onTogglePosition:this._toggleBuySellPosition.bind(this)}),Te=V?null:r.createElement(gr,{onBorrow:!re&&se?this._borrowQuote.bind(this):null,currentAccount:t,backedCoin:G.get("symbol")in this.props.backedCoins,currentBridges:this.props.bridgeCoins.get(G.get("symbol"))||null,smallScreen:Ce,isOpen:this.state.buySellOpen,onToggleOpen:this._toggleOpenBuySell.bind(this),className:g()("bgcolor-primary small-12 medium-6 no-padding",{disabled:re},this.state.flipBuySell?"order-"+(L?1:4*xe)+" buy-form":"order-"+(L?2:5*xe)+" sell-form"),type:"ask",amount:P.forSaleText,price:P.priceText,total:P.toReceiveText,quote:G,base:Y,amountChange:this._onInputSell.bind(this,"ask",!1),priceChange:this._onInputPrice.bind(this,"ask"),setPrice:this._currentPriceClick.bind(this),totalChange:this._onInputReceive.bind(this,"ask",!0),balance:X,balanceId:G.get("id"),onSubmit:this._createLimitOrderConfirm.bind(this,Y,G,X,K,ve,"sell"),balancePrecision:G.get("precision"),quotePrecision:G.get("precision"),totalPrecision:Y.get("precision"),currentPrice:_.getPrice(),currentPriceObject:_,account:t.get("name"),fee:ke,hasFeeBalance:this.state.feeStatus[ke.asset_id].hasBalance,feeAssets:ge,feeAsset:ve,onChangeFeeAsset:this.onChangeFeeAsset.bind(this,"sell"),isPredictionMarket:G.getIn(["bitasset","is_prediction_market"]),onFlip:this.state.flipBuySell?this._flipBuySell.bind(this):null}),De=r.createElement(Qt,{latest:te,changeClass:ne,orders:n,calls:o,invertedCalls:s,combinedBids:E,combinedAsks:S,highestBid:_,lowestAsk:O,totalBids:b.bid,totalAsks:b.ask,base:Y,quote:G,baseSymbol:$,quoteSymbol:Z,height:Pe,width:M,onClick:this._orderbookClick.bind(this),horizontal:!1,moveOrderBook:this._moveOrderBook.bind(this),flipOrderBook:this.props.viewSettings.get("flipOrderBook"),marketReady:d,currentAccount:this.props.currentAccount.get("id")});return r.createElement("div",{className:"market-layout"},r.createElement("div",{className:"market-main _scroll-bar",style:{overflowX:"hidden",boxShadow:"0 0 2px 2px "+T.f.$colorNoir}},r.createElement(Tm,{quoteAsset:c,baseAsset:u,hasPrediction:Oe,starredMarkets:l,lowestAsk:O,highestBid:_,lowestCallPrice:p,showCallLimit:ee,feedPrice:v,marketReady:d,latestPrice:te,showDepthChart:D,onSelectIndicators:this._onSelectIndicators.bind(this),marketStats:f,onToggleCharts:this._toggleCharts.bind(this),showVolumeChart:oe}),r.createElement("div",{className:"grid-block shrink no-overflow",id:"market-charts"},r.createElement(Kh,{elementorigin:W,priceData:this.props.priceData,volumeData:this.props.volumeData,base:Y,quote:G,baseSymbol:$,quoteSymbol:Z,height:H,leftOrderBook:A,marketReady:d,indicators:q,indicatorSettings:I,latest:te,theme:this.props.settings.get("themes"),zoom:this.state.currentPeriod,tools:j,showVolumeChart:oe,enableChartClamp:ae,buckets:k,bucketSize:y,currentPeriod:this.state.currentPeriod,changeBucketSize:this._changeBucketSize.bind(this),changeZoomPeriod:this._changeZoomPeriod.bind(this),onSelectIndicators:this._onSelectIndicators.bind(this),onChangeIndicators:this._changeIndicator.bind(this),onChangeChartHeight:this.onChangeChartHeight.bind(this),chartHeight:R,onToggleVolume:function(){en.a.changeViewSetting({showVolumeChart:!oe})},onToggleChartClamp:function(){en.a.changeViewSetting({enableChartClamp:!ae})},onChangeIndicatorSetting:this._changeIndicatorSetting.bind(this),onMouseMove:this._handleMouseMove.bind(this)})),r.createElement("div",{className:"grid-block no-padding exchange-forms"},Ae,Te,r.createElement(gm,{type:"buy",ref:"buy",onForce:this._forceBuy.bind(this,"buy",we,J,K),diff:F,hasOrders:S.length>0}),r.createElement(gm,{type:"sell",ref:"sell",onForce:this._forceSell.bind(this,"sell",ve,X,K),diff:N,hasOrders:E.length>0})),r.createElement(h.a,{smallScreen:this.props.smallScreen,className:g()({disabled:re},"align-spaced ps-container middle-content order-6"),key:"open_orders",orders:n,currentAccount:t,base:Y,quote:G,baseSymbol:$,quoteSymbol:Z,onCancel:this._cancelLimitOrder.bind(this),flipMyOrders:this.props.viewSettings.get("flipMyOrders")}),r.createElement(Pm,{withHeader:!1,key:"settle_orders",className:g()(Ce||A?"":"medium-6 xlarge-4 order-12","small-12 medium-6 no-padding align-spaced ps-container middle-content order-12"),orders:m,base:Y,quote:G,baseSymbol:$,quoteSymbol:Z})),r.createElement("div",{className:"market-markets"},r.createElement(Gn,{className:"left-order-book no-padding no-overflow",headerStyle:{paddingTop:0},columns:[{name:"star",index:1},{name:"market",index:2},{name:"vol",index:3},{name:"price",index:4},{name:"change",index:5}],findColumns:[{name:"market",index:1},{name:"issuer",index:2},{name:"vol",index:3},{name:"add",index:4}],current:Z+"_"+$})),r.createElement("div",{className:"market-orders",style:{borderTop:"1px solid "+T.i.$colorDark}},r.createElement(hn,{className:"no-padding no-overflow middle-content small-12",headerStyle:{paddingTop:0},history:i,currentAccount:t,myHistory:t.get("history"),base:Y,quote:G,baseSymbol:$,quoteSymbol:Z,isNullAccount:re})),r.createElement("div",{className:"market-orderbook",id:"orderBook"},De),r.createElement("div",null),!re&&se?r.createElement(Zh.a,{ref:"borrowQuote",quote_asset:c.get("id"),backing_asset:c.getIn(["bitasset","options","short_backing_asset"]),account:t}):null,!re&&le?r.createElement(Zh.a,{ref:"borrowBase",quote_asset:u.get("id"),backing_asset:u.getIn(["bitasset","options","short_backing_asset"]),account:t}):null,r.createElement(ym,null))}}]),t}();Im.propTypes={marketCallOrders:p.object.isRequired,activeMarketHistory:p.object.isRequired,viewSettings:p.object.isRequired,priceData:p.array.isRequired,volumeData:p.array.isRequired},Im.defaultProps={marketCallOrders:[],activeMarketHistory:{},viewSettings:{},priceData:[],volumeData:[]};var Mm=Im,Lm=n(187),Bm=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function Vm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Wm(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Hm(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var zm=function(e){function t(){return Vm(this,t),Wm(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Hm(t,r["Component"]),Bm(t,[{key:"render",value:function(){var e=this.props.match.params.marketID.split("_");return r.createElement(u.a,{stores:[a.a,i.a,s.b],inject:{marketLimitOrders:function(){return a.a.getState().marketLimitOrders},marketCallOrders:function(){return a.a.getState().marketCallOrders},invertedCalls:function(){return a.a.getState().invertedCalls},marketSettleOrders:function(){return a.a.getState().marketSettleOrders},marketData:function(){return a.a.getState().marketData},totals:function(){return a.a.getState().totals},priceData:function(){return a.a.getState().priceData},volumeData:function(){return a.a.getState().volumeData},activeMarketHistory:function(){return a.a.getState().activeMarketHistory},bucketSize:function(){return a.a.getState().bucketSize},buckets:function(){return a.a.getState().buckets},lowestCallPrice:function(){return a.a.getState().lowestCallPrice},feedPrice:function(){return a.a.getState().feedPrice},currentAccount:function(){return i.a.getState().currentAccount},linkedAccounts:function(){return i.a.getState().linkedAccounts},viewSettings:function(){return s.b.getState().viewSettings},settings:function(){return s.b.getState().settings},preferredBases:function(){return s.b.getState().preferredBases},starredMarkets:function(){return s.b.getState().starredMarkets},marketDirections:function(){return s.b.getState().marketDirections},marketStats:function(){return a.a.getState().marketStats},marketReady:function(){return a.a.getState().marketReady},backedCoins:function(){return l.b.getState().backedCoins.get("JADE",[])},bridgeCoins:function(){return l.b.getState().bridgeCoins},miniDepthChart:function(){return s.b.getState().viewSettings.get("miniDepthChart",!0)}}},r.createElement(Km,{router:this.props.history,quoteAsset:e[0],baseAsset:e[1]}))}}]),t}(),Um=Object(nn.e)(),Ym=void 0,Gm=void 0,Qm=void 0,Xm=void 0,Jm=void 0,Km=((Zm=function(e){function t(e){Vm(this,t);var n=Wm(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={sub:null},n._subToMarket=n._subToMarket.bind(n),n}return Hm(t,r["Component"]),Bm(t,[{key:"componentWillMount",value:function(){var e=this;this.props.quoteAsset.toJS&&this.props.baseAsset.toJS&&this._subToMarket(this.props),Um.on("cancel-order",Gm=d.a.cancelLimitOrderSuccess),Um.on("close-call",Ym=d.a.closeCallOrderSuccess),Um.on("call-order-update",Qm=d.a.callOrderUpdate),Um.on("bitasset-update",Xm=d.a.feedUpdate),Um.on("settle-order-update",Jm=function(t){var n=$t.a.isMarketAsset(e.props.quoteAsset,e.props.baseAsset),r=n.isMarketAsset,o=n.marketAsset;console.log("settle-order-update:",t,"isMarketAsset:",r,"marketAsset:",o),r&&o.id===t.balance.asset_id&&d.a.settleOrderUpdate(o.id)})}},{key:"componentWillReceiveProps",value:function(e){var t=e.baseAsset,n=e.quoteAsset,r=(e.preferredBases,Object(Lm.a)(t.get("symbol"),n.get("symbol")));if(e.baseAsset&&e.baseAsset.getIn(["bitasset","is_prediction_market"])&&!e.quoteAsset&&e.quoteAsset.getIn(["bitasset","is_prediction_market"])?this.props.router.push("/market/"+e.baseAsset.get("symbol")+"_"+e.quoteAsset.get("symbol")):t.get("symbol")===r.base||e.baseAsset.getIn(["bitasset","is_prediction_market"])||e.quoteAsset.getIn(["bitasset","is_prediction_market"])||this.props.router.push("/market/"+e.baseAsset.get("symbol")+"_"+e.quoteAsset.get("symbol")),e.quoteAsset&&e.baseAsset&&!this.state.sub)return this._subToMarket(e);if(e.quoteAsset.get("symbol")!==this.props.quoteAsset.get("symbol")||e.baseAsset.get("symbol")!==this.props.baseAsset.get("symbol")){var o=this.state.sub.split("_");return d.a.unSubscribeMarket(o[0],o[1]),this._subToMarket(e)}}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.quoteAsset,n=e.baseAsset;d.a.unSubscribeMarket(t.get("id"),n.get("id")),Um&&(Um.off("cancel-order",Gm),Um.off("close-call",Ym),Um.off("call-order-update",Qm),Um.off("bitasset-update",Xm),Um.off("settle-order-update",Jm))}},{key:"_subToMarket",value:function(e,t){var n=e.quoteAsset,r=e.baseAsset,o=e.bucketSize;t&&(o=t),n.get("id")&&r.get("id")&&(d.a.subscribeMarket.defer(r,n,o),this.setState({sub:n.get("id")+"_"+r.get("id")}))}},{key:"render",value:function(){return r.createElement(r.Fragment,null,this.props.marketReady?null:r.createElement(Rn.a,null),r.createElement(Mm,Object.assign({},this.props,{sub:this.state.sub,subToMarket:this._subToMarket})))}}]),t}()).propTypes={currentAccount:yn.a.ChainAccount.isRequired,quoteAsset:yn.a.ChainAsset.isRequired,baseAsset:yn.a.ChainAsset.isRequired,coreAsset:yn.a.ChainAsset.isRequired},Zm.defaultProps={currentAccount:"1.2.3",coreAsset:"1.3.0"},Zm);Km=Object(bn.a)(Km,{keep_updating:!0,show_loader:!0}),zm=Object(En.a)(zm);var Zm;t.default=zm}}]);