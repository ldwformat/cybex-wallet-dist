(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{1401:
/*!**************************************************!*\
  !*** ./components/Utility/TransitionWrapper.jsx ***!
  \**************************************************/
/*! exports provided: default */
/*! exports used: default */function(e,t,n){"use strict";var r=n(/*! react */0),a=(n(/*! prop-types */3),n(/*! react-transition-group/CSSTransitionGroup */1550)),o=n.n(a),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var s=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={animateEnter:!1},e.timer=null,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),i(t,[{key:"componentDidMount",value:function(){this.enableAnimation()}},{key:"resetAnimation",value:function(){this.setState({animateEnter:!1}),this.enableAnimation()}},{key:"enableAnimation",value:function(){var e=this;this.timer=setTimeout(function(){e.timer&&e.setState({animateEnter:!0})},2e3)}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timer),this.timer=null}},{key:"render",value:function(){return this.props.children?r.createElement(o.a,{className:this.props.className,component:this.props.component,transitionName:this.props.transitionName,transitionEnterTimeout:this.props.enterTimeout,transitionEnter:this.state.animateEnter,transitionLeave:!1},this.props.children):r.createElement(this.props.component)}}]),t}();s.defaultProps={component:"span",enterTimeout:2e3},t.a=s},1527:
/*!***********************************************!*\
  !*** ../node_modules/file-saver/FileSaver.js ***!
  \***********************************************/
/*! no static exports found */
/*! exports used: saveAs */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){var r,a=a||function(e){"use strict";if(!(void 0===e||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var t=function(){return e.URL||e.webkitURL||e},n=e.document.createElementNS("http://www.w3.org/1999/xhtml","a"),r="download"in n,a=/constructor/i.test(e.HTMLElement)||e.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent),i=function(t){(e.setImmediate||e.setTimeout)(function(){throw t},0)},s=function(e){setTimeout(function(){"string"==typeof e?t().revokeObjectURL(e):e.remove()},4e4)},l=function(e){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob([String.fromCharCode(65279),e],{type:e.type}):e},c=function(c,u,p){p||(c=l(c));var h,f=this,d="application/octet-stream"===c.type,m=function(){!function(e,t,n){for(var r=(t=[].concat(t)).length;r--;){var a=e["on"+t[r]];if("function"==typeof a)try{a.call(e,n||e)}catch(e){i(e)}}}(f,"writestart progress write writeend".split(" "))};if(f.readyState=f.INIT,r)return h=t().createObjectURL(c),void setTimeout(function(){var e,t;n.href=h,n.download=u,e=n,t=new MouseEvent("click"),e.dispatchEvent(t),m(),s(h),f.readyState=f.DONE});!function(){if((o||d&&a)&&e.FileReader){var n=new FileReader;return n.onloadend=function(){var t=o?n.result:n.result.replace(/^data:[^;]*;/,"data:attachment/file;");e.open(t,"_blank")||(e.location.href=t),t=void 0,f.readyState=f.DONE,m()},n.readAsDataURL(c),void(f.readyState=f.INIT)}h||(h=t().createObjectURL(c)),d?e.location.href=h:e.open(h,"_blank")||(e.location.href=h);f.readyState=f.DONE,m(),s(h)}()},u=c.prototype;return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(e,t,n){return t=t||e.name||"download",n||(e=l(e)),navigator.msSaveOrOpenBlob(e,t)}:(u.abort=function(){},u.readyState=u.INIT=0,u.WRITING=1,u.DONE=2,u.error=u.onwritestart=u.onprogress=u.onwrite=u.onabort=u.onerror=u.onwriteend=null,function(e,t,n){return new c(e,t||e.name||"download",n)})}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);
/*! @source http://purl.eligrey.com/github/FileSaver.js/blob/master/FileSaver.js */void 0!==e&&e.exports?e.exports.saveAs=a:null!==n(/*! !webpack amd define */825)&&null!==n(/*! !webpack amd options */1533)&&(void 0===(r=function(){return a}.call(t,n,t,e))||(e.exports=r))},1533:
/*!******************************************************!*\
  !*** ../node_modules/webpack/buildin/amd-options.js ***!
  \******************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t){(function(t){e.exports=t}).call(this,{})},1536:
/*!***************************************************!*\
  !*** ./components/Account/RecentTransactions.jsx ***!
  \***************************************************/
/*! exports provided: RecentTransactions, TransactionWrapper */
/*! exports used: RecentTransactions, TransactionWrapper */function(e,t,n){"use strict";n.d(t,"a",function(){return N}),n.d(t,"b",function(){return C});var r=n(/*! react */0),a=n(/*! prop-types */3),o=n(/*! react-translate-component */1),i=n.n(o),s=n(/*! file-saver */1527),l=n(/*! ../Blockchain/Operation */302),c=n(/*! ../Utility/ChainTypes */21),u=n(/*! ../Utility/BindToChainState */24),p=n(/*! common/utils */8),h=n(/*! cybexjs */2),f=n(/*! ../Utility/TransitionWrapper */1401),d=n(/*! perfect-scrollbar */1569),m=n.n(d),g=n(/*! counterpart */14),v=n.n(g),y=n(/*! ../Icon/Icon */50),b=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var k=h.c.operations,S={textAlign:"left"},O={textAlign:"right"};function x(e,t){return t.block_num===e.block_num?t.virtual_op-e.virtual_op:t.block_num-e.block_num}function A(e){return e?'"'+e.textContent.replace(/[\s\t\r\n]/gi," ")+'"':""}var N=function(e){function t(e){w(this,t);var n=E(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.state={limit:e.limit||20,csvExport:!1,headerHeight:85,filter:"all"},n}return _(t,r["Component"]),b(t,[{key:"componentDidMount",value:function(){if(!this.props.fullHeight){var e=this.refs.transactions;m.a.initialize(e),this._setHeaderHeight()}}},{key:"_setHeaderHeight",value:function(){var e=this.refs.header.offsetHeight;e!==this.state.headerHeight&&this.setState({headerHeight:e})}},{key:"shouldComponentUpdate",value:function(e,t){if(!p.a.are_equal_shallow(this.props.accountsList,e.accountsList))return!0;if(this.props.maxHeight!==e.maxHeight)return!0;if(this.state.headerHeight!==t.headerHeight)return!0;if(this.state.filter!==t.filter)return!0;if(this.props.customFilter&&(!p.a.are_equal_shallow(this.props.customFilter.fields,e.customFilter.fields)||!p.a.are_equal_shallow(this.props.customFilter.values,e.customFilter.values)))return!0;if(this.props.maxHeight!==e.maxHeight)return!0;if(t.limit!==this.state.limit||t.csvExport!==this.state.csvExport)return!0;for(var n=0;n<e.accountsList.length;++n){var r=e.accountsList[n],a=this.props.accountsList[n];if(r&&a&&r.get("history")!==a.get("history"))return!0}return!1}},{key:"componentDidUpdate",value:function(){if(this.state.csvExport){this.state.csvExport=!1;var e=document.getElementById("csv_export_container").childNodes,t="",n=!0,r=!1,a=void 0;try{for(var o,i=e[Symbol.iterator]();!(n=(o=i.next()).done);n=!0){var l=o.value.childNodes;""!==t&&(t+="\n"),t+=[A(l[0]),A(l[1]),A(l[2]),A(l[3])].join(",")}}catch(e){r=!0,a=e}finally{try{!n&&i.return&&i.return()}finally{if(r)throw a}}var c=new Blob([t],{type:"text/csv;charset=utf-8"}),u=new Date;Object(s.saveAs)(c,"cybhist-"+u.getFullYear()+"-"+("0"+(u.getMonth()+1)).slice(-2)+"-"+("0"+u.getDate()).slice(-2)+"-"+("0"+u.getHours()).slice(-2)+("0"+u.getMinutes()).slice(-2)+".csv")}if(!this.props.fullHeight){var p=this.refs.transactions;m.a.update(p),this._setHeaderHeight()}}},{key:"_onIncreaseLimit",value:function(){this.setState({limit:this.state.limit+30})}},{key:"_getHistory",value:function(e,t,n){var r=[],a=new Set,o=!0,i=!1,s=void 0;try{for(var l,c=e[Symbol.iterator]();!(o=(l=c.next()).done);o=!0){var u=l.value;if(u){var p=u.get("history");p&&(r=r.concat(p.toJS().filter(function(e){return!a.has(e.id)&&a.add(e.id)})))}}}catch(e){i=!0,s=e}finally{try{!o&&c.return&&c.return()}finally{if(i)throw s}}return t&&(r=r.filter(function(e){return e.op[0]===k[t]})),n&&(r=r.filter(function(e){return n.fields.reduce(function(t,r){switch(r){case"asset_id":return t&&e.op[1].amount[r]===n.values[r];default:return t&&e.op[1][r]===n.values[r]}},!0)})),r}},{key:"_downloadCSV",value:function(){this.setState({csvExport:!0})}},{key:"_onChangeFilter",value:function(e){this.setState({filter:e.target.value})}},{key:"render",value:function(){var e=this.props,t=e.accountsList,n=e.compactView,a=e.filter,o=e.customFilter,s=e.style,c=e.maxHeight,u=this.state,p=u.limit,h=u.headerHeight,d=1===t.length&&t[0]?t[0].get("id"):null,m=this._getHistory(t,this.props.showFilters&&"all"!==this.state.filter?this.state.filter:a,o).sort(x),g=m.length;s=s||{};var b=null;b=["all","transfer","limit_order_create","limit_order_cancel","fill_order","account_create","account_update","asset_create","witness_withdraw_pay","vesting_balance_withdraw"].map(function(e){return r.createElement("option",{value:e,key:e},v.a.translate("transaction.trxTypes."+e))});var w=m.length?m.slice(0,p).map(function(e){return r.createElement(l.a,{style:S,key:e.id,op:e.op,result:e.result,block:e.block_num,current:d,hideFee:!0,inverted:!1,hideOpLabel:n})}):[r.createElement("tr",{key:"no_recent"},r.createElement("td",{colSpan:n?"2":"3"},r.createElement(i.a,{content:"operation.no_recent"})))];return w.push(r.createElement("tr",{className:"total-value",key:"total_value"},r.createElement("td",{className:"column-hide-tiny"}),r.createElement("td",{style:O},g>0?r.createElement("span",null,r.createElement("a",{className:"inline-block",onClick:this._downloadCSV.bind(this),"data-tip":v.a.translate("transaction.csv_tip"),"data-place":"bottom"},r.createElement(y.a,{name:"excel",className:"icon-14px"}))):null),r.createElement("td",{style:{textAlign:"center"}}," ",this.props.showMore&&g>this.props.limit||p<g?r.createElement("a",{onClick:this._onIncreaseLimit.bind(this)},r.createElement(y.a,{name:"chevron-down",className:"icon-14px"})):null))),r.createElement("div",{className:"recent-transactions no-overflow",style:s},r.createElement("div",{className:"generic-bordered-box"},this.props.dashboard?null:r.createElement("div",{ref:"header"},r.createElement("div",{className:"block-content-header"},r.createElement("span",null,this.props.title?this.props.title:r.createElement(i.a,{content:"account.recent"})))),r.createElement("div",{className:"box-content grid-block no-margin",style:this.props.fullHeight?null:{maxHeight:c-h},ref:"transactions"},r.createElement("table",{className:"table"+(n?" compact":"")+(this.props.dashboard?" dashboard-table":"")},r.createElement("thead",null,r.createElement("tr",null,n?null:r.createElement("th",{style:S,className:"column-hide-tiny"},this.props.showFilters?r.createElement("select",{"data-place":"left","data-tip":v.a.translate("tooltip.filter_ops"),style:{paddingTop:5,width:"auto"},className:"cyb-select no-margin",value:this.state.filter,onChange:this._onChangeFilter.bind(this)},b):null),r.createElement("th",{style:S},r.createElement(i.a,{content:"account.votes.info"})),r.createElement("th",null))),r.createElement(f.a,{component:"tbody",transitionName:"newrow"},w))),g>0&&this.state.csvExport&&r.createElement("div",{id:"csv_export_container",style:{display:"none"}},r.createElement("div",null,r.createElement("div",null,"DATE"),r.createElement("div",null,"OPERATION"),r.createElement("div",null,"MEMO"),r.createElement("div",null,"AMOUNT")),m.map(function(e){return r.createElement(l.a,{key:e.id,op:e.op,result:e.result,block:e.block_num,inverted:!1,csvExportMode:!0})}))))}}]),t}();N.propTypes={accountsList:c.a.ChainAccountsList.isRequired,compactView:a.bool,limit:a.number,maxHeight:a.number,fullHeight:a.bool,showFilters:a.bool},N.defaultProps={limit:25,maxHeight:500,fullHeight:!1,showFilters:!1},N=Object(u.a)(N,{keep_updating:!0});var C=function(e){function t(){return w(this,t),E(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return _(t,r["Component"]),b(t,[{key:"render",value:function(){return r.createElement("span",{className:"wrapper"},this.props.children(this.props))}}]),t}();C.propTypes={asset:c.a.ChainAsset.isRequired,to:c.a.ChainAccount.isRequired,fromAccount:c.a.ChainAccount.isRequired},C.defaultProps={asset:"1.3.0"},C=Object(u.a)(C)},2016:
/*!*****************************************************************!*\
  !*** ./components/Dashboard/DashboardContainer.jsx + 3 modules ***!
  \*****************************************************************/
/*! exports provided: default */
/*! all exports used */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/alt-container/lib/AltContainer.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ./actions/MarketsActions.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./components/LoadingIndicator.tsx */
/*! ModuleConcatenation bailout: Cannot concat with ./components/Utility/TotalBalanceValue.tsx */
/*! ModuleConcatenation bailout: Cannot concat with ./lib/common/utils.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./stores/SettingsStore.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./actions/AccountActions.js */
/*! ModuleConcatenation bailout: Cannot concat with ./actions/SettingsActions.js */
/*! ModuleConcatenation bailout: Cannot concat with ./components/Account/RecentTransactions.jsx */
/*! ModuleConcatenation bailout: Cannot concat with ./components/Icon/Icon.jsx */
/*! ModuleConcatenation bailout: Cannot concat with ./components/Utility/AssetName.jsx */
/*! ModuleConcatenation bailout: Cannot concat with ./components/Utility/BindToChainState.jsx */
/*! ModuleConcatenation bailout: Cannot concat with ./components/Utility/ChainTypes.js */
/*! ModuleConcatenation bailout: Cannot concat with ./cybex/cybexjs-ws/index-umd.js */
/*! ModuleConcatenation bailout: Cannot concat with ./cybex/cybexjs/index.js */
/*! ModuleConcatenation bailout: Cannot concat with ./lib/alt-react/lib/index.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ./lib/counterpart/index.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ./stores/AccountStore.js */
/*! ModuleConcatenation bailout: Cannot concat with ./stores/MarketsStore.js */
/*! ModuleConcatenation bailout: Cannot concat with ./stores/WalletUnlockStore.js */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/classnames/index.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/immutable/dist/immutable.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/prop-types/index.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/react-translate-component/index.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/react/index.js (<- Module is not an ECMAScript module) */function(e,t,n){"use strict";n.r(t);var r=n(0),a=n(3),o=n(28),i=n(13),s=n(88),l=n(128),c=n.n(l),u=n(7),p=n.n(u),h=n(8),f=n(1),d=n.n(f),m=n(25),g=n(65),v=n(21),y=n(24),b=n(22),w=n(56),E=n(50),_=n(2),k=n(306),S=n(14),O=n.n(S),x=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function A(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function C(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var j=function(e){function t(e){A(this,t);var n=N(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),r=e.viewSettings.get("marketLookupInput"),a=r?r.split(":"):[null];a[0],2===a.length&&a[1];return n.state={inverseSort:e.viewSettings.get("dashboardSortInverse",!0),sortBy:e.viewSettings.get("dashboardSort","star"),dashboardFilter:e.viewSettings.get("dashboardFilter","")},n}return C(t,r["Component"]),x(t,[{key:"shouldComponentUpdate",value:function(e,t){return!h.a.are_equal_shallow(e.accounts,this.props.accounts)||e.width!==this.props.width||e.showIgnored!==this.props.showIgnored||e.locked!==this.props.locked||!h.a.are_equal_shallow(e.starredAccounts,this.props.starredAccounts)||!h.a.are_equal_shallow(t,this.state)}},{key:"_onStar",value:function(e,t,n){n.preventDefault(),t?w.a.removeStarAccount(e):w.a.addStarAccount(e)}},{key:"_goAccount",value:function(e){this.context.router.push("/account/"+e)}},{key:"_onFilter",value:function(e){this.setState({dashboardFilter:e.target.value.toLowerCase()}),b.a.changeViewSetting({dashboardFilter:e.target.value.toLowerCase()})}},{key:"_setSort",value:function(e){var t=e===this.state.sortBy?!this.state.inverseSort:this.state.inverseSort;this.setState({sortBy:e,inverseSort:t}),b.a.changeViewSetting({dashboardSort:e,dashboardSortInverse:t})}},{key:"_renderList",value:function(e){var t=this,n=this.props,a=n.width,i=n.starredAccounts,s=this.state,l=s.dashboardFilter,c=s.sortBy,u=s.inverseSort,f=p.a.List();return e.filter(function(e){return!!e&&-1!==e.get("name").toLowerCase().indexOf(l)}).sort(function(e,t){switch(c){case"star":return function(e,t,n,r){var a=e.get("name"),o=t.get("name"),i=r.has(a),s=r.has(o);return i&&!s?n?-1:1:s&&!i?n?1:-1:a>o?n?1:-1:a<o?n?-1:1:h.a.sortText(a,o,!n)}(e,t,u,i);case"name":return h.a.sortText(e.get("name"),t.get("name"),u)}}).map(function(e){if(e){var n={},s={},l={};f=f.clear();var c=e.get("name"),u=e.get("lifetime_referrer_name")===c;e.get("orders")&&e.get("orders").forEach(function(e,t){var n=_.b.getObject(e);if(n){var r=n.getIn(["sell_price","base","asset_id"]);l[r]?l[r]+=parseInt(n.get("for_sale"),10):l[r]=parseInt(n.get("for_sale"),10)}}),e.get("call_orders")&&e.get("call_orders").forEach(function(e,t){var r=_.b.getObject(e);if(r){var a=r.getIn(["call_price","base","asset_id"]);n[a]?n[a]+=parseInt(r.get("collateral"),10):n[a]=parseInt(r.get("collateral"),10);var o=r.getIn(["call_price","quote","asset_id"]);s[o]?s[o]+=parseInt(r.get("debt"),10):s[o]=parseInt(r.get("debt"),10)}});var p=e.get("balances");e.get("balances")&&p.forEach(function(e){var t=_.b.getObject(e);if(!t||!t.get("balance"))return null;f=f.push(e)});var h=o.a.isMyAccount(e),d=i.has(c),m=d?"gold-star":"grey-star";return r.createElement("tr",{key:c},r.createElement("td",{onClick:t._onStar.bind(t,c,d)},r.createElement(E.a,{className:m,name:"fi-star"})),r.createElement("td",{style:{textAlign:"left",paddingLeft:10},onClick:t._goAccount.bind(t,c+"/overview"),className:h?"my-account":""},r.createElement("span",{className:u?"lifetime":""},c)),r.createElement("td",{onClick:t._goAccount.bind(t,c+"/orders"),style:{textAlign:"right"}},r.createElement(k.a,{balances:[],openOrders:l})),a>=750?r.createElement("td",{onClick:t._goAccount.bind(t,c+"/overview"),style:{textAlign:"right"}},r.createElement(k.a,{balances:[],collateral:n})):null,a>=1200?r.createElement("td",{onClick:t._goAccount.bind(t,c+"/overview"),style:{textAlign:"right"}},r.createElement(k.a,{balances:[],debt:s})):null,r.createElement("td",{onClick:t._goAccount.bind(t,c+"/overview"),style:{textAlign:"right"}},r.createElement(k.a,{balances:f,collateral:n,debt:s,openOrders:l})))}})}},{key:"render",value:function(){var e=this.props,t=e.width,n=e.showIgnored,a=this.state.dashboardFilter,o=this._renderList(this.props.accounts),i=n?this._renderList(this.props.ignoredAccounts):null,s=O.a.translate("explorer.accounts.filter")+"...";return r.createElement("div",{style:this.props.style},this.props.compact?null:r.createElement("section",{style:{paddingLeft:"5px",width:"100%",position:"relative"}},r.createElement("input",{placeholder:s,type:"text",value:a,onChange:this._onFilter.bind(this)}),this.props.ignoredAccounts.length?r.createElement("div",{onClick:this.props.onToggleIgnored,style:{position:"absolute",top:0,right:0},className:"button outline small"},r.createElement(d.a,{content:"account."+(this.props.showIgnored?"hide_ignored":"show_ignored")})):null),r.createElement("table",{className:"table table-hover dashboard-table",style:{fontSize:"0.85rem"}},this.props.compact?null:r.createElement("thead",null,r.createElement("tr",null,r.createElement("th",{onClick:this._setSort.bind(this,"star"),className:"clickable"},r.createElement(E.a,{className:"grey-star",name:"fi-star"})),r.createElement("th",{style:{textAlign:"left",paddingLeft:10},onClick:this._setSort.bind(this,"name"),className:"clickable"},r.createElement(d.a,{content:"header.account"})),r.createElement("th",{style:{textAlign:"right"}},r.createElement(d.a,{content:"account.open_orders"})),t>=750?r.createElement("th",{style:{textAlign:"right"}},r.createElement(d.a,{content:"account.as_collateral"})):null,t>=1200?r.createElement("th",{style:{textAlign:"right"}},r.createElement(d.a,{content:"transaction.borrow_amount"})):null,r.createElement("th",{style:{textAlign:"right"}},r.createElement(d.a,{content:"account.total_value"})))),r.createElement("tbody",null,o,n?r.createElement("tr",{style:{backgroundColor:"transparent"},key:"hidden"},r.createElement("td",{style:{height:20},colSpan:"4"})):null,i)))}}]),t}();j.contextTypes={router:a.object.isRequired},j.propTypes={accounts:v.a.ChainAccountsList.isRequired,ignoredAccounts:v.a.ChainAccountsList},j.defaultProps={width:2e3,compact:!1},j=Object(y.a)(j);var I=function(e){function t(){return A(this,t),N(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return C(t,r["Component"]),x(t,[{key:"render",value:function(){return r.createElement(j,this.props)}}]),t}(),T=Object(m.connect)(I,{listenTo:function(){return[i.b,g.a,o.a]},getProps:function(){return{locked:g.a.getState().locked,starredAccounts:o.a.getState().starredAccounts,viewSettings:i.b.getState().viewSettings}}}),L=n(1536),P=n(70),H=n(40),q=n.n(H),R=n(47),M=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function F(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function D(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function B(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var U=function(e){function t(){F(this,t);var e=D(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.statsInterval=null,e.state={imgError:!1},e}return B(t,r["Component"]),M(t,[{key:"_checkStats",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{close:{}},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{close:{}};return e.volumeBase!==t.volumeBase||!h.a.are_equal_shallow(e.close&&e.close.base,t.close&&t.close.base)||!h.a.are_equal_shallow(e.close&&e.close.quote,t.close&&t.close.quote)}},{key:"shouldComponentUpdate",value:function(e,t){return this._checkStats(e.marketStats,this.props.marketStats)||e.base!==this.props.base||e.quote!==this.props.quote||t.imgError!==this.state.imgError}},{key:"componentWillMount",value:function(){R.a.getMarketStats.defer(this.props.quote,this.props.base),this.statsChecked=new Date,this.statsInterval=setInterval(R.a.getMarketStats.bind(this,this.props.quote,this.props.base),35e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.statsInterval)}},{key:"goToMarket",value:function(e){e.preventDefault(),this.context.router.push("/market/"+this.props.base.get("symbol")+"_"+this.props.quote.get("symbol"))}},{key:"_onError",value:function(e){this.state.imgError||(this.refs[e.toLowerCase()].src="asset-symbols/bts.png",this.setState({imgError:!0}))}},{key:"render",value:function(){var e=this.props,t=e.hide,n=e.isLowVolume,a=e.base,o=e.quote,i=e.marketStats;if(n||t)return null;var s=function(e){var t=e.get("symbol");if("OPEN.BTC"===t)return t;var n=e.get("symbol").split(".");return 2===n.length?n[1]:n[0]}(a),l=i?parseFloat(i.change)>0?"change-up":parseFloat(i.change)<0?"change-down":"":"";return r.createElement("div",{className:q()("grid-block no-overflow fm-container",this.props.className),onClick:this.goToMarket.bind(this)},r.createElement("div",{className:"grid-block vertical shrink"},r.createElement("div",{className:"v-align"},r.createElement("img",{className:"align-center",ref:s.toLowerCase(),onError:this._onError.bind(this,s),style:{maxWidth:70},src:"/asset-symbols/"+s.toLowerCase()+".png"}))),r.createElement("div",{className:"grid-block vertical no-overflow"},r.createElement("div",{className:"fm-name"},r.createElement(P.a,{dataPlace:"top",name:a.get("symbol")})," :"," ",r.createElement(P.a,{dataPlace:"top",name:o.get("symbol")})),r.createElement("div",{className:"fm-volume"},r.createElement(d.a,{content:"exchange.price"}),":"," ",r.createElement("div",{className:"float-right"},i&&i.price?h.a.price_text(i.price.toReal(),a,o):null)),r.createElement("div",{className:"fm-volume"},r.createElement(d.a,{content:"exchange.volume"}),":"," ",r.createElement("div",{className:"float-right"},i?h.a.format_volume(i.volumeBase,o.get("precision")):null)),r.createElement("div",{className:"fm-change"},r.createElement(d.a,{content:"exchange.change"}),":"," ",r.createElement("div",{className:q()("float-right",l)},i?i.change:null,"%"))))}}]),t}();U.contextTypes={router:a.object.isRequired},U.propTypes={quote:v.a.ChainAsset.isRequired,base:v.a.ChainAsset.isRequired,invert:a.bool},U.defaultProps={invert:!0},U=Object(y.a)(U);var V=function(e){function t(){return F(this,t),D(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return B(t,r["Component"]),M(t,[{key:"render",value:function(){return r.createElement(U,this.props)}}]),t}(),z=Object(m.connect)(V,{listenTo:function(){return[s.a]},getProps:function(e){return{marketStats:s.a.getState().allMarketStats.get(e.marketId)}}}),W=n(4),J=n(164),Y=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var G=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),r={"90be01e8":[["JADE.ETH","CYB"]],"59e27e38":[["JADE.ETH","CYB"]]},a=W.a.instance().chain_id;return a&&(a=a.substr(0,8)),n.state={width:null,showIgnored:!1,featuredMarkets:r[a]||r["90be01e8"],newAssets:[],currentEntry:e.currentEntry},n._setDimensions=n._setDimensions.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),Y(t,[{key:"componentWillMount",value:function(){var e=this.props,t=e.linkedAccounts,n=e.myIgnoredAccounts,r=e.passwordAccount;t.size+n.size+(r?1:0)||this.props.router.push("/login")}},{key:"componentDidMount",value:function(){this._setDimensions(),window.addEventListener("resize",this._setDimensions,{capture:!1,passive:!0})}},{key:"shouldComponentUpdate",value:function(e,t){return!h.a.are_equal_shallow(t.featuredMarkets,this.state.featuredMarkets)||!h.a.are_equal_shallow(e.lowVolumeMarkets,this.props.lowVolumeMarkets)||!h.a.are_equal_shallow(t.newAssets,this.state.newAssets)||e.linkedAccounts!==this.props.linkedAccounts||e.ignoredAccounts!==this.props.ignoredAccounts||e.passwordAccount!==this.props.passwordAccount||t.width!==this.state.width||e.accountsReady!==this.props.accountsReady||t.showIgnored!==this.state.showIgnored||t.currentEntry!==this.state.currentEntry}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._setDimensions)}},{key:"_setDimensions",value:function(){var e=window.innerWidth;e!==this.state.width&&this.setState({width:e})}},{key:"_onToggleIgnored",value:function(){this.setState({showIgnored:!this.state.showIgnored})}},{key:"_onSwitchType",value:function(e){this.setState({currentEntry:e}),b.a.changeViewSetting({dashboardEntry:e})}},{key:"render",value:function(){var e=this.props,t=e.linkedAccounts,n=e.myIgnoredAccounts,a=e.accountsReady,o=e.passwordAccount,i=this.state,s=i.width,l=i.showIgnored,c=i.featuredMarkets,u=i.newAssets,h=i.currentEntry;o&&!t.has(o)&&(t=t.add(o));var f=t.toArray().sort();o&&-1===f.indexOf(o)&&f.push(o);var m=n.toArray().sort(),g=t.size+n.size+(o?1:0);if(!a)return r.createElement(J.a,null);var v=0,y=c?c.map(function(e){var t="";return++v>9?t+=" show-for-"+(g?"large":"xlarge"):v>6&&(t+=" show-for-"+(g?"medium":"large")),r.createElement(z,{key:e[0]+"_"+e[1],marketId:e[1]+"_"+e[0],new:-1!==u.indexOf(e[1]),className:t,quote:e[0],base:e[1],invert:e[2],isLowVolume:!1,hide:v>20})}).filter(function(e){return!!e}):null;["accounts","recent"].indexOf(h);return r.createElement("div",{ref:"wrapper",className:"grid-block page-layout vertical anim-fade"},r.createElement("div",{ref:"container",className:"grid-container",style:{padding:"25px 10px 0 10px"}},r.createElement("div",{className:"block-content-header",style:{marginBottom:15}},r.createElement(d.a,{content:"exchange.featured"})),r.createElement("div",{className:"grid-block small-up-1 medium-up-3 large-up-4 no-overflow fm-outer-container"},y),g?r.createElement("div",{className:"generic-bordered-box",style:{marginBottom:5}},r.createElement("div",{className:"block-content-header",style:{marginBottom:15}},r.createElement(d.a,{content:"account.accounts"})),r.createElement("div",{className:"box-content"},r.createElement(T,{accounts:p.a.List(f),ignoredAccounts:p.a.List(m),width:s,onToggleIgnored:this._onToggleIgnored.bind(this),showIgnored:l}))):null,g?r.createElement(L.a,{style:{marginBottom:20,marginTop:20},accountsList:t,limit:10,compactView:!1,fullHeight:!0,showFilters:!0}):null))}}]),t}(),K=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Q=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),K(t,[{key:"render",value:function(){return r.createElement(c.a,{stores:[o.a,i.b,s.a],inject:{linkedAccounts:function(){return o.a.getState().linkedAccounts},myIgnoredAccounts:function(){return o.a.getState().myIgnoredAccounts},accountsReady:function(){return o.a.getState().accountsLoaded&&o.a.getState().refsLoaded},passwordAccount:function(){return o.a.getState().passwordAccount},lowVolumeMarkets:function(){return s.a.getState().lowVolumeMarkets},currentEntry:i.b.getState().viewSettings.get("dashboardEntry","accounts")}},r.createElement(G,this.props))}}]),t}();t.default=Q}}]);