(window.webpackJsonp=window.webpackJsonp||[]).push([[264],{1488:function(e,t,n){"use strict";n.r(t),n.d(t,"Gateway",function(){return z});var a,r,s,o,i=n(0),c=n(2),l=n(1499),u=n(1509),d=n(26),p=n(41),m=n(73),f=n(1498),h=n(60),b=n(1),g=n.n(b),w=n(70),y=n.n(w),v=n(8),E=n.n(v),_=n(5),j=n(15),k=n(1714),A=n(20),N=n(23),O=n(331),T=n(18),S=n(145),C=n(1501),x=n(1710),D=n(1709),P=n(17),I=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function R(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function M(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function J(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var W=f.d.ADDRESS_TYPES,F=Object.keys(W),L=E.a.translate("gateway.no_balance"),B=((a=function(e){function t(){R(this,t);var e=M(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e._showWithdrawModal=function(t){e.props.account;l.d.showWithdrawModal(t)},e}return J(t,i["Component"]),I(t,[{key:"_showDepositWithdraw",value:function(e){var t=this.props.account;l.d.showDepositModal(t.get("name"),e)}},{key:"render",value:function(){var e=this.props,t=e.asset,n=e.balance,a=n&&n.get&&n.get("balance")>0;return i.createElement(i.Fragment,null,i.createElement("tr",null,i.createElement("td",null,i.createElement(S.a,{asset:t.get("id")})),i.createElement("td",null,a?i.createElement(O.a,{balance:t.get("balance"),hide_asset:!0}):"-"),i.createElement("td",null,i.createElement("a",{onClick:this._showDepositWithdraw.bind(this,t.get("symbol"),!1)},i.createElement(h.a,{name:"deposit",className:"icon-14px"}))),i.createElement("td",null,a&&i.createElement("a",{className:a?"":"disabled",onClick:a?this._showWithdrawModal.bind(this,t.get("symbol"),!1):function(){}},i.createElement(h.a,{name:"withdraw",className:"icon-14px"}))||i.createElement("a",{href:"javascript:;","data-for":"noBalance","data-place":"right","data-offset":"{ 'left': -6 }",style:{opacity:.3},"data-tip":!0},i.createElement(h.a,{name:"withdraw",className:"icon-14px"})))),!a&&i.createElement(y.a,{id:"noBalance",effect:"solid"},L))}}]),t}()).propTypes={balance:A.a.ChainObject},a);B=Object(N.a)(B);var G=((r=function(e){function t(){return R(this,t),M(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return J(t,i["Component"]),I(t,[{key:"render",value:function(){var e=this.props,t=e.assets,n=e.balances,a=(e.filter,e.account),r=t.filter(function(e){return!!e}).map(function(e){return e.set("balance",n.get(e.get("id")))});return i.createElement("table",{className:"table gateway-table dashboard-table"},i.createElement("thead",null,i.createElement("tr",null,i.createElement(g.a,{component:"th",content:"account.asset"}),i.createElement(g.a,{component:"th",content:"account.qty"}),i.createElement(g.a,{component:"th",content:"gateway.deposit"}),i.createElement(g.a,{component:"th",content:"gateway.withdraw"}))),i.createElement("tbody",null,r.map(function(e){return i.createElement(B,{key:e.get("id"),asset:e,account:a,balance:e.get("balance")})})))}}]),t}()).propTypes={assets:A.a.ChainAssetsList.isRequired},r.defaultProps={assets:Object(_.List)()},r);G=Object(N.a)(G,{keep_update:!0});var q=((s=function(e){function t(e){R(this,t);var n=M(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.query=function(){l.d.queryFundRecords(n.props.account,n.props.login)},n.login=function(){l.d.loginGatewayQuery(n.props.account)},n}return J(t,i["Component"]),I(t,[{key:"componentDidMount",value:function(){this.props.isLocked?p.a.unlock():l.d.queryFundRecords(this.props.account,this.props.login)}},{key:"componentDidUpdate",value:function(e){(e.isLocked&&!this.props.isLocked||e.account!==this.props.account)&&(console.debug("[GatewayRecords] Updated",e,this.props),l.d.queryFundRecords(this.props.account,this.props.login))}},{key:"render",value:function(){var e=this.props,t=e.fundRecords,n=e.isLocked,a=t.records||[];return i.createElement("div",{className:"cybex-records",style:{position:"relative"}},i.createElement(k.a,{data:a,noDataText:E.a.translate("gateway.no_record_one_month"),style:n?{filter:"blur(5px)",transform:"scale(0.99)"}:{},columns:[{Header:E.a.translate("account.asset"),accessor:"coinType",maxWidth:80},{Header:E.a.translate("gateway.type"),maxWidth:80,accessor:function(e){return E.a.translate("gateway."+e.fundType.toLowerCase())},id:"fundType"},{Header:E.a.translate("transfer.amount"),accessor:function(e){return{asset:e.asset,amount:e.amount}},maxWidth:120,id:"amount",sortMethod:function(e,t){return e.amount-t.amount},Cell:function(e){return i.createElement(T.a,{asset:e.original.asset,amount:e.original.amount,hide_asset:!0})}},{Header:E.a.translate("gateway.address"),id:"address",accessor:function(e){return e.address}},{Header:E.a.translate("proposal.status"),id:"state",maxWidth:80,accessor:function(e){return e.state}},{Header:E.a.translate("gateway.last_update"),maxWidth:180,id:"update",accessor:function(e){return e.updateAt}}]}),n&&i.createElement("div",{className:"mask gateway-mask",style:{position:"absolute",left:0,top:0,bottom:0,right:0,display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:j.b.$colorMask}},i.createElement(g.a,{className:"mask-tip",component:"th",content:"gateway.unlock_first"})))}}]),t}()).propTypes={isLocked:c.bool.isRequired},s.defaultProps={isLocked:!0},s);q=Object(P.connect)(q,{listenTo:function(){return[m.a,u.b]},getProps:function(e){return console.debug("WalletUnlockStore.getState()",m.a.getState()),{isLocked:m.a.getState().locked,fundRecords:u.b.getState().records,login:u.b.getState().login}}});var z=((o=function(e){function t(e){R(this,t);var n=M(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onNameFilterChange=function(e){var t=e.target.value.toUpperCase();n.setState({nameFilter:t})},n.onWithdrawFilterChange=function(e){var t=e.target.checked;n.setState({onlyCanWithdraw:t})},n.state={nameFilter:"",onlyCanWithdraw:!1},n}return J(t,i["Component"]),I(t,[{key:"componentWillMount",value:function(){}},{key:"render",value:function(){var e=this.props,t=e.depositModal,n=e.withdrawModal,a=e.account,r=this.state.nameFilter,s=F.filter(function(e){return-1!==e.search(r)});return i.createElement("div",{className:"page-layout"},i.createElement("div",{className:"grid-block main-content"},i.createElement("div",{className:"grid-container"},i.createElement(C.b,{defaultActiveTab:1,segmented:!1,setting:"overviewTab",className:"overview-tabs app-tables gateway-wrapper",contentClass:"no-padding",tabsClass:"account-overview no-padding bordered-header content-block"},i.createElement(C.a,{title:"account.deposit_withdraw"},i.createElement("div",{className:"filter-wrapper"},i.createElement("input",{name:"nameFilter",id:"nameFilter",type:"text",style:{marginBottom:0},onChange:this.onNameFilterChange,value:this.state.nameFilter,placeholder:E.a.translate("gateway.find_asset")})),i.createElement(G,{filter:this.state,assets:s,account:a,balances:a.get("balances",null)})),i.createElement(C.a,{title:"gateway.fund_records"},i.createElement(q,{account:a})))),t&&i.createElement(x.a,{balances:a.get("balances",null),modalId:l.a,fade:!0}),n&&i.createElement(D.a,{balances:a.get("balances",null),account:a,issuer:a.get("id"),modalId:l.c})))}}]),t}()).propTypes={account:A.a.ChainAccount.isRequired},o);z=Object(N.a)(z),z=Object(P.connect)(z,{listenTo:function(){return[d.a,u.b]},getProps:function(){return{account:d.a.getState().currentAccount,depositModal:u.b.getState().modals.get(l.a),withdrawModal:u.b.getState().modals.get(l.c)}}}),t.default=z},1497:function(e,t,n){"use strict";var a=n(0),r=n(2),s=n(1),o=n.n(s),i=n(20),c=n(23),l=n(18),u=n(333),d=n(5),p=n.n(d),m=n(8),f=n.n(m),h=n(88),b=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var v=function(e){function t(){return g(this,t),w(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return y(t,a["Component"]),b(t,[{key:"render",value:function(){return 0===this.props.assets.length?null:a.createElement(u.a,{entries:this.props.assets.map(function(e){return e&&e.get("symbol")}).filter(function(e){return!!e}),values:this.props.assets.reduce(function(e,t){return t&&t.get("symbol")&&(e[t.get("symbol")]=t),e},{}),singleEntry:this.props.assets[0]?a.createElement(l.a,{asset:this.props.assets[0].get("id"),amount:0,hide_amount:!0}):null,value:this.props.value,onChange:this.props.onChange})}}]),t}();v.propTypes={assets:i.a.ChainAssetsList,value:r.string,onChange:r.func},v=Object(c.a)(v);var E=function(e){function t(){return g(this,t),w(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return y(t,a["Component"]),b(t,[{key:"componentDidMount",value:function(){this.onAssetChange(this.props.asset)}},{key:"formatAmount",value:function(e){return e||(e=""),"number"==typeof e&&(e=e.toString()),e.trim().replace(/,/g,"")}},{key:"_onChange",value:function(e){var t=e.target.value;this.props.onChange({amount:t,asset:this.props.asset})}},{key:"onAssetChange",value:function(e){this.props.onChange({amount:this.props.amount,asset:e})}},{key:"render",value:function(){var e=this.props.error?f.a.translate(this.props.error):this.formatAmount(this.props.amount),t=this.props.isNumber;return a.createElement("div",{className:"amount-selector",style:this.props.style},a.createElement("label",{className:"right-label"},this.props.display_balance),a.createElement(o.a,{className:"left-label",component:"label",content:this.props.label}),a.createElement("div",{className:"inline-label input-wrapper"},t?a.createElement(h.l,{disabled:this.props.disabled,type:"number",valueFromOuter:!0,value:e||0,size:"small",placeholder:this.props.placeholder,onChange:this._onChange.bind(this),tabIndex:this.props.tabIndex,style:{width:"100%",marginBottom:0}}):a.createElement(h.l,{disabled:this.props.disabled,type:"text",valueFromOuter:!0,size:"small",value:e||"",placeholder:this.props.placeholder,onChange:this._onChange.bind(this),tabIndex:this.props.tabIndex,style:{width:"100%",marginBottom:0}}),a.createElement("div",{className:"form-label select floating-dropdown"},a.createElement(v,{ref:this.props.refCallback,value:this.props.asset.get("symbol"),assets:p.a.List(this.props.assets),onChange:this.onAssetChange.bind(this)}))))}}]),t}();E.propTypes={label:r.string,asset:i.a.ChainAsset.isRequired,assets:r.array,amount:r.any,placeholder:r.string,onChange:r.func.isRequired,tabIndex:r.number,error:r.string},E.defaultProps={disabled:!1},E=Object(c.a)(E),t.a=E},1498:function(e,t,n){"use strict";n.d(t,"d",function(){return a}),n.d(t,"c",function(){return r}),n.d(t,"b",function(){return s}),n.d(t,"a",function(){return o});var a={GATEWAY_ACCOUNT:"cybex-jadegateway",ADDRESS_TYPES:{"JADE.ETH":"ETH","JADE.BTC":"BTC","JADE.LTC":"LTC","JADE.EOS":"EOS","JADE.USDT":"USDT","JADE.LHT":"LHT","JADE.INK":"INK","JADE.BAT":"BAT","JADE.OMG":"OMG","JADE.SNT":"SNT","JADE.NAS":"NAS","JADE.KNC":"KNC","JADE.PAY":"PAY","JADE.GET":"GET","JADE.MAD":"MAD","JADE.TCT":"TCT","JADE.NES":"NES","JADE.PPT":"PPT","JADE.RHOC":"RHOC","JADE.MKR":"MKR","JADE.FUN":"FUN","JADE.MVP":"MVP","JADE.GNT":"GNT","JADE.DPY":"DPY","JADE.GNX":"GNX","JADE.KEY":"KEY","JADE.MT":"MT","JADE.ENG":"ENG"},ADDRESS_ASSETS:{ETH:"JADE.ETH",BTC:"JADE.BTC",EOS:"JADE.EOS",USDT:"JADE.USDT",LTC:"JADE.LTC",LHT:"JADE.LHT",BAT:"JADE.BAT",INK:"JADE.INK",OMG:"JADE.OMG",SNT:"JADE.SNT",NAS:"JADE.NAS",KNC:"JADE.KNC",PAY:"JADE.PAY",GET:"JADE.GET",MAD:"JADE.MAD",TCT:"JADE.TCT",NES:"JADE.NES",RHOC:"JADE.RHOC",PPT:"JADE.PPT",MKR:"JADE.MKR",FUN:"JADE.FUN",MVP:"JADE.MVP",GNT:"JADE.GNT",DPY:"JADE.DPY",GNX:"JADE.GNX",KEY:"JADE.KEY",MT:"JADE.MT",ENG:"JADE.ENG"}},r="https://gateway.cybex.io/gateway",s="https://gateway-query.cybex.io/",o="CybexGateway"},1499:function(e,t,n){"use strict";var a=n(12),r=n(10),s=n(9),o=n(211),i=n(1532),c=n(36),l=n(1498),u=n(3),d=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var p=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.op=t,this.signer=""}return d(e,[{key:"addSigner",value:function(e){this.signer=e}}]),e}();n.d(t,"a",function(){return b}),n.d(t,"c",function(){return g}),n.d(t,"b",function(){return v});var m=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var f=function(e,t,n,a){return new(n||(n=Promise))(function(r,s){function o(e){try{c(a.next(e))}catch(e){s(e)}}function i(e){try{c(a.throw(e))}catch(e){s(e)}}function c(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(o,i)}c((a=a.apply(e,t||[])).next())})},h=Object(o.a)("GatewayActions"),b="DEPOSIT_MODAL_ID",g="WITHDRAW_MODAL_ID",w=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=[],a=!0,s=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(a=(i=c.next()).done);a=!0){var l=i.value,u=r.a.getPrivateKey(l);if(u&&(n.push(u),n.length>=t))break}}catch(e){s=!0,o=e}finally{try{!a&&c.return&&c.return()}finally{if(s)throw o}}return n},y=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return m(e,[{key:"showDepositModal",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:b;return f(this,void 0,void 0,regeneratorRuntime.mark(function a(){var r;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(r=l.d.ADDRESS_TYPES[t]){a.next=3;break}return a.abrupt("return",c.a.error("No suitable asset for "+t+" to be deposited"));case 3:return a.next=5,this.updateDepositAddress(e,r);case 5:if(a.sent){a.next=8;break}return a.abrupt("return");case 8:this.openModal(n);case 9:case"end":return a.stop()}},a,this)}))}},{key:"showWithdrawModal",value:function(e){return f(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(h("Withdraw: ",e),n=l.d.ADDRESS_TYPES[e]){t.next=4;break}return t.abrupt("return",c.a.error("No suitable asset for "+e+" to be withdrawn"));case 4:return t.next=6,this.updateWithdrawInfo(e,n);case 6:if(t.sent){t.next=9;break}return t.abrupt("return");case 9:this.openModal(g);case 10:case"end":return t.stop()}},t,this)}))}},{key:"updateDepositAddress",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return f(this,void 0,void 0,regeneratorRuntime.mark(function a(){var r,s,o;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return r=void 0,h("Update Deposit Address: ",e,t,n),a.prev=2,a.next=5,Object(i.a)(e,t,n);case 5:s=r=a.sent,o=s.address,h("Address: ",o),a.next=15;break;case 10:return a.prev=10,a.t0=a.catch(2),h(a.t0),c.a.error(a.t0.message),a.abrupt("return",!1);case 15:return this.afterUpdateDepositInfo(r),a.abrupt("return",r);case 17:case"end":return a.stop()}},a,this,[[2,10]])}))}},{key:"updateWithdrawInfo",value:function(e,t){return f(this,void 0,void 0,regeneratorRuntime.mark(function n(){var a;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return a=void 0,n.prev=1,n.next=4,Object(i.b)(t);case 4:a=n.sent,h("WithdrawLimit: ",a),n.next=13;break;case 8:return n.prev=8,n.t0=n.catch(1),h(n.t0),c.a.error(n.t0.message),n.abrupt("return",!1);case 13:return this.afterUpdateWithdrawInfo(Object.assign({asset:e},a)),n.abrupt("return",!0);case 15:case"end":return n.stop()}},n,this,[[1,8]])}))}},{key:"queryFundRecords",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:200;return f(this,void 0,void 0,regeneratorRuntime.mark(function r(){var s,o,c,l;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return h("[QueryFundRecord]",e),s=new p({accountName:e.get("name"),offset:n,size:a}),t.accountName===e.get("name")&&t.signer&&s.addSigner(t.signer),r.next=5,Object(i.d)(s);case 5:if(o=r.sent){r.next=15;break}return r.next=9,this.loginGatewayQuery(e);case 9:return c=r.sent,l=c.signer,s.addSigner(l),r.next=14,Object(i.d)(s);case 14:o=r.sent;case 15:o&&this.updateFundRecords(o);case 16:case"end":return r.stop()}},r,this)}))}},{key:"updateFundRecords",value:function(e){return e}},{key:"loginGatewayQuery",value:function(e){return f(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n,a,r,o,c,l,d;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(h("[LoginGatewayQuery]",e),h("[LoginGatewayQuery]",s.b.getSetting("walletLockTimeout")),n=new p({accountName:e.get("name"),expiration:Date.now()+1e3*s.b.getSetting("walletLockTimeout")}),a=u.p.fund_query.fromObject(n.op),e.getIn(["active","weight_threshold"]),r=e.getIn(["active","key_auths"]).filter(function(e){return e.get(1)>=1}).map(function(e){return e.get(0)}).toJS(),o=w(r)[0]){t.next=9;break}throw Error("Privkey Not Found");case 9:return h("[LoginGatewayQuery privKey]",e.getIn(["options","memo_key"]),o),c=u.p.fund_query.toBuffer(a),l=u.k.signBuffer(c,o).toHex(),h("[LoginGatewayQuery Signed]",l),n.addSigner(l),t.next=16,Object(i.c)(n);case 16:return d=t.sent,h("[LoginGatewayQuery LoginRes]",d),d&&this.updateLogin(d),t.abrupt("return",d);case 20:case"end":return t.stop()}},t,this)}))}},{key:"updateLogin",value:function(e){return e}},{key:"afterUpdateWithdrawInfo",value:function(e){return e}},{key:"afterUpdateDepositInfo",value:function(e){return e}},{key:"closeModal",value:function(e){return e}},{key:"openModal",value:function(e){return e}}]),e}(),v=a.a.createActions(y);t.d=v},1501:function(e,t,n){"use strict";n.d(t,"b",function(){return g}),n.d(t,"a",function(){return b});var a=n(0),r=n(2),s=n(1),o=n.n(s),i=n(24),c=n.n(i),l=n(17),u=n(19),d=n(9),p=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var b=function(e){function t(){return m(this,t),f(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return h(t,a["Component"]),p(t,[{key:"render",value:function(){var e=this.props,t=e.isActive,n=e.index,r=e.changeTab,s=e.title,i=e.className,l=e.disabled,u=c()({"is-active":t},i);return this.props.collapsed?a.createElement("option",{value:n},"string"==typeof s&&s.indexOf(".")>0?a.createElement(o.a,{className:"tab-title",content:s}):a.createElement("span",{className:"tab-title"},s)):a.createElement("li",{className:u,onClick:l?null:r.bind(this,n)},a.createElement("a",null,"string"==typeof s&&s.indexOf(".")>0?a.createElement(o.a,{className:"tab-title",content:s}):a.createElement("span",{className:"tab-title"},s),this.props.subText?a.createElement("div",{className:"tab-subtext"},this.props.subText):null))}}]),t}();b.propTypes={changeTab:r.func,isActive:r.bool.isRequired,index:r.number.isRequired,className:r.string},b.defaultProps={isActive:!1,index:0,className:""};var g=function(e){function t(e){m(this,t);var n=f(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.state={activeTab:e.setting?e.viewSettings.get(e.setting,e.defaultActiveTab):e.defaultActiveTab,width:window.innerWidth},n._setDimensions=n._setDimensions.bind(n),n}return h(t,a["Component"]),p(t,[{key:"componentDidMount",value:function(){this._setDimensions(),window.addEventListener("resize",this._setDimensions,{capture:!1,passive:!0})}},{key:"componentWillReceiveProps",value:function(e){var t=e.viewSettings.get(e.setting);t!==this.props.viewSettings.get(this.props.setting)&&this.setState({activeTab:t})}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._setDimensions)}},{key:"_setDimensions",value:function(){var e=window.innerWidth;e!==this.state.width&&this.setState({width:e})}},{key:"_changeTab",value:function(e){e!==this.state.activeTab&&(this.props.setting&&u.a.changeViewSetting(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},this.props.setting,e)),this.setState({activeTab:e}),this.props.onChangeTab&&this.props.onChangeTab(e))}},{key:"render",value:function(){var e=this,t=this.props,n=t.children,r=t.contentClass,s=t.tabsClass,o=t.style,i=t.segmented,l=this.state.width<900,u=null,d=[],p=a.Children.map(n,function(t,n){if(!t)return null;if(l&&t.props.disabled)return null;var r=n===e.state.activeTab;return r&&(u=t.props.children),a.cloneElement(t,{collapsed:l,isActive:r,changeTab:e._changeTab.bind(e),index:n})}).filter(function(e){return e&&d.push(e.props.index),null!==e});return u||(u=p[0].props.children),a.createElement("div",{className:c()(this.props.actionButtons?"with-buttons":"",this.props.className)},a.createElement("div",{className:"service-selector"},a.createElement("ul",{style:o,className:c()("button-group no-margin",s,{segmented:i})},l?a.createElement("li",{style:{paddingLeft:10,paddingRight:10,minWidth:"15rem"}},a.createElement("select",{value:this.state.activeTab,style:{marginTop:10,marginBottom:10},className:"cyb-select",onChange:function(t){e._changeTab(parseInt(t.target.value,10))}},p)):p,this.props.actionButtons?a.createElement("li",{className:"tabs-action-buttons"},this.props.actionButtons):null)),a.createElement("div",{className:r+" tab-content"},u))}}]),t}();g.propTypes={setting:r.string,defaultActiveTab:r.number,segmented:r.bool},g.defaultProps={active:0,defaultActiveTab:0,segmented:!0,contentClass:"",style:{}},g=Object(l.connect)(g,{listenTo:function(){return[d.b]},getProps:function(){return{viewSettings:d.b.getState().viewSettings}}})},1509:function(e,t,n){"use strict";n.d(t,"a",function(){return m});var a=n(39),r=n(5),s=n(12),o=n(1499),i=n(1498),c=n(137),l=n(69),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var d=new l.a("__graphene__"),p=Object(c.a)("GatewayStore"),m=i.d.ADDRESS_TYPES,f=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={backedCoins:Object(r.Map)({JADE:m}),bridgeCoins:Object(r.Map)(Object(r.fromJS)(d.get("bridgeCoins",{}))),bridgeInputs:["btc","dash","eth","steem"],login:{accountName:"",signer:""},records:{total:0,records:[],offset:0,size:20},down:Object(r.Map)({}),modals:Object(r.Map)(),depositInfo:{},withdrawInfo:{}},e.bindListeners({handleDepositUpdate:o.b.afterUpdateDepositInfo,handleWithdrawUpdate:o.b.afterUpdateWithdrawInfo,handleLogin:o.b.updateLogin,handleRecordsUpdate:o.b.updateFundRecords,openModal:o.b.openModal,closeModal:o.b.closeModal}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["a"]),u(t,[{key:"handleDepositUpdate",value:function(e){p("Open: ",e),this.setState({depositInfo:e})}},{key:"handleWithdrawUpdate",value:function(e){this.setState({withdrawInfo:e})}},{key:"handleLogin",value:function(e){this.setState({login:e})}},{key:"handleRecordsUpdate",value:function(e){this.setState({records:e})}},{key:"openModal",value:function(e){this.setState({modals:this.state.modals.set(e,!0)})}},{key:"closeModal",value:function(e){this.setState({modals:this.state.modals.set(e,!1)})}}]),t}(),h=s.a.createStore(f,"GatewayStore");t.b=h},1524:function(e,t,n){"use strict";var a=n(0),r=(n(2),n(8)),s=n.n(r),o=n(1660),i=n.n(o),c=n(60);t.a=function(e){var t=e.className,n=void 0===t?"button":t,r=e.text,o=void 0===r?"":r,l=e.tip,u=void 0===l?"tooltip.copy_tip":l,d=e.dataPlace,p=void 0===d?"right":d,m=e.buttonIcon,f=void 0===m?"clippy":m,h=e.buttonText,b=void 0===h?"":h;return a.createElement(i.a,{"data-clipboard-text":o,className:n,"data-place":p,"data-tip":s.a.translate(u)},b||a.createElement(c.a,{name:f}))}},1532:function(e,t,n){"use strict";n.d(t,"a",function(){return v}),n.d(t,"b",function(){return E}),n.d(t,"e",function(){return _}),n.d(t,"d",function(){return j}),n.d(t,"c",function(){return k});var a=n(1498),r=n(211),s=n(1705),o=n.n(s),i=n(1721),c=n(1663),l=n(1720),u=f(["\n    mutation GenNewAddress($accountName: String!, $asset: String!) {\n      newDepositAddress(accountName: $accountName, asset: $asset) {\n        address\n        accountName\n        asset\n        type\n        createAt\n      }\n    }\n  "],["\n    mutation GenNewAddress($accountName: String!, $asset: String!) {\n      newDepositAddress(accountName: $accountName, asset: $asset) {\n        address\n        accountName\n        asset\n        type\n        createAt\n      }\n    }\n  "]),d=f(["\n    query GetAddress($accountName: String!, $asset: String!) {\n      getDepositAddress(accountName: $accountName, asset: $asset) {\n        address\n        accountName\n        asset\n        type\n        createAt\n      }\n    }\n  "],["\n    query GetAddress($accountName: String!, $asset: String!) {\n      getDepositAddress(accountName: $accountName, asset: $asset) {\n        address\n        accountName\n        asset\n        type\n        createAt\n      }\n    }\n  "]),p=f(["\n    query WithdrawInfo($type: String!) {\n      withdrawInfo(type: $type) {\n        fee\n        minValue\n        precision\n        asset\n        type\n        gatewayAccount\n      }\n    }\n  "],["\n    query WithdrawInfo($type: String!) {\n      withdrawInfo(type: $type) {\n        fee\n        minValue\n        precision\n        asset\n        type\n        gatewayAccount\n      }\n    }\n  "]),m=f(["\n    query VerifyAddress(\n      $asset: String!\n      $accountName: String!\n      $address: String!\n    ) {\n      verifyAddress(\n        asset: $asset\n        accountName: $accountName\n        address: $address\n      ) {\n        valid\n        asset\n      }\n    }\n  "],["\n    query VerifyAddress(\n      $asset: String!\n      $accountName: String!\n      $address: String!\n    ) {\n      verifyAddress(\n        asset: $asset\n        accountName: $accountName\n        address: $address\n      ) {\n        valid\n        asset\n      }\n    }\n  "]);function f(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var h=function(e,t,n,a){return new(n||(n=Promise))(function(r,s){function o(e){try{c(a.next(e))}catch(e){s(e)}}function i(e){try{c(a.throw(e))}catch(e){s(e)}}function c(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(o,i)}c((a=a.apply(e,t||[])).next())})},b=Object(r.a)("GatewayService"),g=new Headers;g.append("Content-Type","application/x-www-form-urlencoded");var w=new c.a({uri:a.c}),y=new i.a({link:w,cache:new l.a});function v(e,t,n){return h(this,void 0,void 0,regeneratorRuntime.mark(function a(){var r,s;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(b("Get Deposit: ",e,t,n),r=o()(u),s=o()(d),!n){a.next=9;break}return a.next=6,N("mutate",{mutation:r,variables:{accountName:e,asset:t}},"newDepositAddress");case 6:a.t0=a.sent,a.next=12;break;case 9:return a.next=11,N("query",{query:s,variables:{accountName:e,asset:t}},"getDepositAddress");case 11:a.t0=a.sent;case 12:return a.abrupt("return",a.t0);case 13:case"end":return a.stop()}},a,this)}))}function E(e){return h(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=o()(p),t.next=3,N("query",{query:n,variables:{type:e}},"withdrawInfo");case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}},t,this)}))}function _(e,t,n){return h(this,void 0,void 0,regeneratorRuntime.mark(function a(){var r;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return r=o()(m),a.next=3,N("query",{query:r,variables:{asset:n,accountName:t,address:e}},"verifyAddress");case 3:return a.abrupt("return",a.sent);case 4:case"end":return a.stop()}},a,this)}))}function j(e){return h(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,A("records",e).then(function(e){return e.data});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}))}function k(e){return h(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,A("login",e).then(function(e){return e.data});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}))}function A(e,t){return h(this,void 0,void 0,regeneratorRuntime.mark(function n(){var r,s;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return(r=new Headers).append("Content-Type","application/json"),s={headers:r,method:"POST",body:JSON.stringify(t)},n.next=5,fetch(""+a.b+e,s).then(function(e){return e.json()}).catch(function(e){return{code:400,error:e.message}});case 5:return n.abrupt("return",n.sent);case 6:case"end":return n.stop()}},n,this)}))}function N(e,t,n){return h(this,void 0,void 0,regeneratorRuntime.mark(function a(){return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,y[e](t);case 3:return a.t0=n,a.abrupt("return",a.sent.data[a.t0]);case 7:throw a.prev=7,a.t1=a.catch(0),console.error("GatewayError: ",a.t1),a.t1;case 11:case"end":return a.stop()}},a,this,[[0,7]])}))}},1666:function(e,t,n){"use strict";var a=n(0),r=n(1),s=n.n(r),o=function(e){var t=e.isI18n,n=e.message,r=e.messageParams;return t?a.createElement(s.a,Object.assign({className:"has-error",component:"div",content:n},r)):a.createElement("div",{className:"has-error"},n)},i=function(e){var t=e.isI18n,n=e.message,r=e.messageParams;return t?a.createElement(s.a,Object.assign({className:"has-info",component:"div",content:n},r)):a.createElement("div",{className:"has-info"},n)},c=function(e){var t=e.children;return a.createElement("div",{className:"error-wrapper"},t)};t.a=function(e){var t=e.placeholder,n=e.isI18n,r=e.tips,s=e.muiltTips,l=r.filter(function(e){return e.isError});if(!l.length&&!t)return null;if(!l.length)return!0===t?a.createElement(c,null,a.createElement("div",null)):t?a.createElement(c,null,a.createElement(i,{isI18n:n,message:t,messageParams:{}})):null;var u=s?l:l.slice(0,1);return a.createElement(c,null,u.map(function(e){var t=e.name,n=e.isI18n,r=e.message,s=e.messageParams;return a.createElement(o,{key:t,isI18n:n,message:r,messageParams:s||{}})}))}},1667:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var a=n(0),r=n(126),s=n(1499),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var i=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onClose=function(){n.setState({fadeOut:!0}),setTimeout(function(){s.b.closeModal(n.props.modalId)},300)},n.state={fadeOut:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["Component"]),o(t,[{key:"render",value:function(){var e=this.props.fade,t=this.state.fadeOut;return a.createElement("div",{className:Object(r.a)("overlay",{"fade-in":e,"fade-out":t})},a.createElement("div",{id:this.props.modalId,className:"modal with-shadow"},a.createElement("a",{href:"javascript:;",className:"close-button",onClick:this.onClose},"Ã—"),this.props.children))}}]),t}();i.defaultProps={fade:!0}},1709:function(e,t,n){"use strict";var a=n(0),r=n(2),s=n(17),o=n(3),i=n(1509),c=n(1532),l=n(1498),u=n(23),d=n(331),p=n(1497),m=n(20),f=n(1),h=n.n(f),b=n(1666),g=n(7),w=n(211),y=n(335),v=n(29),E=n(1667),_=n(67),j=n(271),k=function(e,t){return Math.floor(parseFloat(e)*Math.pow(10,t))},A=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var N=function(e,t,n,a){return new(n||(n=Promise))(function(r,s){function o(e){try{c(a.next(e))}catch(e){s(e)}}function i(e){try{c(a.throw(e))}catch(e){s(e)}}function c(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(o,i)}c((a=a.apply(e,t||[])).next())})},O=Object(w.a)("WithdrawModal"),T=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onWithdrawAmountChange=function(e){var t,a=e.amount,r=void 0,s=void 0;try{r="EOS"===n.props.withdrawInfo.type?4:n.props.withdrawInfo.precision||n.props.asset.get("precision")}catch(e){r=4}s=new j.BigNumber(1).dividedBy(Math.pow(10,r)),t=-1!==new j.BigNumber(a||1).dividedBy(s).toString().indexOf("."),n.setState({withdraw_amount:a,eosPrecisionError:t,outerPrecision:s.toString()})},n.onMemoToggleChange=function(e){var t=e.target.checked,a=(n.state.withdraw_address,void 0);n.setState({withMemo:t,memoContent:""}),t?(a={target:{value:n.state.withdraw_address}},n.onWithdrawOriginAddrChange(a)):(a={target:{value:n.state.withdraw_address_origin}},n.onWithdrawAddressChanged(a))},n.onWithdrawMemoChange=function(e){if(n.state.withMemo){var t=e.target.value;n.setState({memoContent:t});var a={target:{value:t?n.state.withdraw_address_origin+"["+t+"]":n.state.withdraw_address_origin}};n.onWithdrawAddressChanged(a)}},n.onWithdrawOriginAddrChange=function(e){var t=e.target.value;n.setState({withdraw_address_origin:t});var a={target:{value:n.state.withMemo&&n.state.memoContent?t+"["+n.state.memoContent+"]":t}};n.onWithdrawAddressChanged(a)},n._validateAddress=function(e){return N(n,void 0,void 0,regeneratorRuntime.mark(function t(){var n,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=void 0,t.prev=1,t.next=4,Object(c.e)(e,this.props.account.get("name"),this.props.withdrawInfo.type);case 4:a=t.sent,O("Verify Res: ",a),n=a.valid,t.next=12;break;case 9:return t.prev=9,t.t0=t.catch(1),t.abrupt("return",this.setState({withdraw_address_loading:!1,withdraw_address_valid:!1,withdraw_address_error:!0}));case 12:this.setState({withdraw_address_loading:!1,withdraw_address_error:!1,withdraw_address_valid:n}),O("Valid: ",n);case 14:case"end":return t.stop()}},t,this,[[1,9]])}))},n.validateAddress=Object(v.debounce)(n._validateAddress,250),n.onSubmit=function(){var e=n.state.useCybAsFee,t=n.props.asset.get("precision"),a=k(n.state.withdraw_amount,t);k(n.props.withdrawInfo.fee,t);_.a.transfer(n.props.account.get("id"),n.props.withdrawInfo.gatewayAccount,a,n.props.asset.get("id"),n._withdrawMemo(),null,e?"1.3.0":n.props.asset.get("id"))},n._withdrawMemo=function(){return"withdraw:"+l.a+":"+n.props.withdrawInfo.type+":"+n.state.withdraw_address},n.invalid_address_message=a.createElement("div",{className:"has-error",style:{paddingTop:10}},a.createElement(h.a,{content:"gateway.valid_address",coin_type:n.props.withdrawInfo.type})),n.invalid_gateway_message=a.createElement("div",{className:"has-error",style:{paddingTop:10}},a.createElement(h.a,{content:"gateway.valid_service"})),n.state={withdraw_amount:0,withdraw_address:"",fadeOut:!1,fee_asset_id:"1.3.0",feeAmount:null,from_account:e.account,feeStatus:{},memo:null,hasPoolBalance:null,hasBalance:null,balanceError:null,error:!1,useCybAsFee:!0,eosPrecisionError:!1,withdraw_address_loading:!1,withdraw_address_valid:!1,outerPrecision:2,withMemo:!1,withdraw_address_origin:"",memoContent:""},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["Component"]),A(t,[{key:"onWithdrawAddressChanged",value:function(e){this.setState({withdraw_address:e.target.value,withdraw_address_loading:!0,withdraw_address_valid:!1}),this.validateAddress(e.target.value)}},{key:"componentWillMount",value:function(){}},{key:"componentDidUpdate",value:function(e){this.props.withdrawInfo&&e.withdraw&&this.props.withdrawInfo.type!=e.withdrawInfo.type&&this.setState({withMemo:!1})}},{key:"onFeeChanged",value:function(e){var t=e.asset;this.setState({fee_asset_id:t.get("id")},this._updateFee)}},{key:"_updateFee",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state,n=t.fee_asset_id,a=t.from_account,r=this._getAvailableAssets(t).fee_asset_types;if(1===r.length&&r[0]!==n&&(n=r[0]),O("UpdateFee: ",t),!a)return null;Object(y.b)({accountID:a.get("id"),feeID:n,options:["price_per_kbyte"],data:{type:"memo",content:this.props.receive_asset_symbol+":"+t.withdraw_address+(t.memo?":"+t.memo:"")}}).then(function(t){var n=t.fee,a=t.hasBalance,r=t.hasPoolBalance;e.setState({feeAmount:n,hasBalance:a,hasPoolBalance:r,error:!a||!r},e._checkBalance)})}},{key:"_getAvailableAssets",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state,t=e.from_account,n=e.feeStatus;var a=[];if(!t||!t.get("balances"))return{fee_asset_types:a};var r=e.from_account.get("balances").toJS();for(var s in a=Object.keys(r).sort(g.a.sortID),r){var i=o.b.getObject(s),c=o.b.getObject(r[s]);c&&0===c.get("balance")&&-1!==a.indexOf(s)&&a.splice(a.indexOf(s),1),i&&("1.3.0"===i.get("id")||g.a.isValidPrice(i.getIn(["options","core_exchange_rate"]))||a.splice(a.indexOf(s),1))}return{fee_asset_types:a=a.filter(function(e){return function(e){return void 0===n[e]||n[e]&&n[e].hasPoolBalance}(e)&&function(e){return void 0===n[e]||n[e]&&n[e].hasBalance}(e)})}}},{key:"_checkFeeStatus",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state,n=t.from_account;if(n){var a=this._getAvailableAssets(t).fee_asset_types,r={},s=[];a.forEach(function(a){s.push(Object(y.b)({accountID:n.get("id"),feeID:a,options:["price_per_kbyte"],data:{type:"memo",content:"withdraw:"+l.a+":"+e.props.asset+":"+t.withdraw_address+(t.memo?":"+t.memo:"")}}))}),Promise.all(s).then(function(n){a.forEach(function(e,t){r[e]=n[t]}),g.a.are_equal_shallow(t.feeStatus,r)||e.setState({feeStatus:r}),e._checkBalance()}).catch(function(e){console.error(e)})}}},{key:"setNestedRef",value:function(e){this.nestedRef=e}},{key:"onFeeCheckboxChange",value:function(e){var t=e.target.checked;this.setState({useCybAsFee:t})}},{key:"_checkBalance",value:function(){var e=this.state,t=e.feeAmount,n=e.withdraw_amount,a=this.props.asset,r=this.props.account.get("balances").toJS()[this.props.asset.get("id")];if(r&&t){var s=Object(y.a)(n,a,t,r);if(null!==s)return this.setState({balanceError:!s}),s}}},{key:"render",value:function(){var e=this.props,t=(e.asset,e.withdrawInfo),n=e.modalId,r=this.state,s=r.withdraw_amount,o=r.withdraw_address,i=r.withdraw_address_valid,c=r.withdraw_address_loading,l=r.withdraw_address_error,u=r.useCybAsFee,m=r.eosPrecisionError,f=(r.memo,r.withdraw_address_origin),w=r.withMemo,y=r.memoContent,v=null,_=this.props.account.get("balances").toJS();if(Object.keys(_).length>0){var j=this.props.asset.get("id");v=j?a.createElement("span",null,a.createElement(h.a,{component:"span",content:"transfer.available"}),":",a.createElement(d.a,{balance:_[j]})):"No funds"}else v="No funds";var k=this._getAvailableAssets().fee_asset_types,A=o&&!c&&l,N=o&&!c&&!i&&!l,O=Number(s)>=t.minValue,T=!o||c||N||A||m||!O,S=g.a.replaceName(this.props.asset.get("symbol")).name,C=-1!==S.indexOf("EOS");return a.createElement(E.a,{modalId:n},a.createElement("div",{className:"content-block"},a.createElement("h3",null,a.createElement(h.a,{content:"gateway.withdraw"})," "+S,"(",this.props.receive_asset_symbol,")")),a.createElement("div",{className:"content-block"},a.createElement("p",null,a.createElement(h.a,{unsafe:!0,content:"gateway.withdraw_funds",type:this.props.receive_asset_symbol,asset:S}))),a.createElement("div",{className:"content-block"},a.createElement(p.a,{label:"modal.withdraw.amount",amount:this.state.withdraw_amount,asset:this.props.asset.get("id"),assets:[this.props.asset.get("id")],placeholder:"0.0",onChange:this.onWithdrawAmountChange.bind(this),display_balance:v}),a.createElement(b.a,{isI18n:!0,tips:[{name:"withdraw-amount",isError:!O&&0!=Number(s),isI18n:!0,message:"gateway.low_limit",messageParams:{symbol:this.props.withdrawInfo.type,amount:this.props.withdrawInfo.minValue}},{name:"withdraw-precision",isError:m,isI18n:!0,message:"gateway.precision_error",messageParams:{symbol:this.props.withdrawInfo.type,amount:this.state.outerPrecision}}],muiltTips:!1})),this.state.feeAmount?a.createElement("div",{className:"content-block gate_fee"},a.createElement(p.a,{refCallback:this.setNestedRef.bind(this),label:"transfer.fee",disabled:!0,amount:this.state.feeAmount.getAmount({real:!0}),onChange:this.onFeeChanged.bind(this),asset:this.state.feeAmount.asset_id,assets:k}),this.state.hasBalance?null:a.createElement("p",{className:"has-error no-margin",style:{paddingTop:10}},a.createElement(h.a,{content:"transfer.errors.noFeeBalance"})),this.state.hasPoolBalance?null:a.createElement("p",{className:"has-error no-margin",style:{paddingTop:10}},a.createElement(h.a,{content:"transfer.errors.noPoolBalance"}))):null,this.props.withdrawInfo.fee?a.createElement("div",{className:"amount-selector right-selector",style:{paddingBottom:20}},a.createElement("label",{className:"left-label"},a.createElement(h.a,{content:"gateway.fee"})),a.createElement("div",{className:"inline-label input-wrapper"},a.createElement("input",{type:"text",disabled:!0,value:this.props.withdrawInfo.fee}),a.createElement("div",{className:"form-label select floating-dropdown"},a.createElement("div",{className:"dropdown-wrapper inactive"},a.createElement("div",null,t.type))))):null,a.createElement("div",{className:"content-block"},a.createElement("div",{className:"inline-label use-cyb"},a.createElement(h.a,{className:"left-label",component:"lebel",content:"modal.withdraw.cyb_fee"}),a.createElement("div",{className:"switch"},a.createElement("input",{id:"useCybAsFee",type:"checkbox",value:u,defaultChecked:!0,onChange:this.onFeeCheckboxChange.bind(this)}),a.createElement("label",{htmlFor:"useCybAsFee"})))),C&&a.createElement("div",{className:"content-block"},a.createElement("div",{className:"inline-label use-cyb"},a.createElement(h.a,{className:"left-label",component:"lebel",content:"modal.withdraw.with_memo"}),a.createElement("div",{className:"switch"},a.createElement("input",{id:"withMemo",type:"checkbox",value:w,defaultChecked:!1,onChange:this.onMemoToggleChange}),a.createElement("label",{htmlFor:"withMemo"})))),a.createElement("div",{className:"content-block"},a.createElement("label",{className:"left-label"},C?a.createElement(h.a,{component:"span",content:"modal.withdraw.to_eos"}):a.createElement(h.a,{component:"span",content:"modal.withdraw.address"})),a.createElement("div",{className:"blocktrades-select-dropdown"},a.createElement("div",{className:"inline-label"},a.createElement("input",{type:"text",value:w?f:o,onChange:w?this.onWithdrawOriginAddrChange.bind(this):this.onWithdrawAddressChanged.bind(this),autoComplete:"off"}))),w&&a.createElement("div",{style:{marginTop:10}},a.createElement("label",{className:"left-label"},a.createElement(h.a,{component:"span",content:"gateway.withdraw_memo"})),a.createElement("div",{className:"blocktrades-select-dropdown"},a.createElement("div",{className:"inline-label"},a.createElement("input",{type:"text",value:y,onChange:this.onWithdrawMemoChange.bind(this),autoComplete:"off"})))),a.createElement(b.a,{isI18n:!0,placeholder:!0,tips:[{name:"withdraw-address",isError:-1!==o.indexOf(" "),isI18n:!0,message:"gateway.space_in_memo"},{name:"withdraw-address",isError:N,isI18n:!0,message:"gateway.valid_address",messageParams:{coin_type:this.props.withdrawInfo.type}},{name:"withdraw-gateway",isError:A,isI18n:!0,message:"gateway.valid_service"},{name:"withdraw-gateway",isError:c,isI18n:!0,message:"gateway.loading"}],muiltTips:!1})),a.createElement("div",{className:"button-group"},a.createElement(h.a,{content:"modal.withdraw.submit",onClick:this.onSubmit,className:"button"+(T?" disabled":"")})))}}]),t}();T.propTypes={account:m.a.ChainAccount.isRequired,issuer:m.a.ChainAccount.isRequired,asset:m.a.ChainAsset.isRequired,receive_asset_name:r.string,receive_asset_symbol:r.string,memo_prefix:r.string};var S=Object(u.a)(T,{keep_updating:!0,show_loader:!0});S=Object(s.connect)(S,{listenTo:function(){return[i.b]},getProps:function(e){var t=e.modalId,n=i.b.getState().withdrawInfo;return{open:i.b.getState().modals.get(t),withdrawInfo:n,receive_asset_symbol:n.type,asset:i.b.getState().withdrawInfo.asset}}});t.a=S},1710:function(e,t,n){"use strict";var a=n(0),r=n(17),s=n(1509),o=n(1499),i=n(23),c=n(20),l=n(37),u=n(1),d=n.n(u),p=n(1524),m=n(8),f=n.n(m),h=n(7),b=n(31),g=n(1523),w=n.n(g),y=n(1667),v=function(e){var t=e.currentBalance,n=e.asset,r=h.a.replaceName(n.get("symbol"),!!n.get("bitasset")).name,s=a.createElement("span",{style:{border:"2px solid black",borderLeft:"none"},className:"form-label"},r);return a.createElement("div",{className:"SimpleTrade__withdraw-row",style:{fontSize:"1rem"}},a.createElement("label",{style:{fontSize:"1rem"}},f.a.translate("gateway.balance_asset",{asset:r}),":",a.createElement("span",{className:"inline-label"},a.createElement("input",{disabled:!0,style:{color:"white",border:"2px solid black",padding:10,width:"100%"},value:t&&t.getAmount?t.getAmount({real:!0}):0}),s)))},E=n(1491),_=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var j=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.getNewAddress=function(){var e=n.props.depositInfo;o.b.updateDepositAddress(e.accountName,e.type,!0)},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["Component"]),_(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.asset,r=t.depositInfo,s=t.modalId,o=t.type,i=this.props.balances.find(function(t){return t&&t.get&&t.get("asset_type")===e.props.asset.get("id")}),c=new l.a({asset_id:n.get("id"),precision:n.get("precision"),amount:i?i.get("balance"):0}),u=o,m=void 0,g=void 0,_=/^(.+)\[(.+)\]$/;_.test(r.address)?(g=r.address.match(_)[1],m=r.address.match(_)[2]):m=r.address;var j="EOS"===o;return a.createElement(y.a,{modalId:s},a.createElement("h3",null,a.createElement(d.a,{content:"gateway.deposit"})," ",h.a.replaceName(n.get("symbol"),!1).name,"(",u,")"),a.createElement("p",null,a.createElement(d.a,{unsafe:!0,content:"gateway.add_funds",type:u,account:r.accountName})),i&&a.createElement(v,{currentBalance:c,asset:n}),a.createElement("div",{className:"SimpleTrade__withdraw-row"},j?a.createElement(d.a,{component:"p",style:{fontSize:"bold"},content:"gateway.deposit_eos",account:g}):a.createElement(a.Fragment,null,a.createElement("p",{style:{marginBottom:10},"data-place":"right","data-tip":f.a.translate("tooltip.deposit_tip",{asset:u})},a.createElement("span",{className:"help-tooltip"},f.a.translate("gateway.deposit_to",{asset:u}))),a.createElement("section",{className:"text-center"},a.createElement("div",{className:"wrapper",style:{padding:"8px",background:"white",display:"inline-block"}},a.createElement(w.a,{level:"L",size:140,value:m})))),r?a.createElement("label",null,a.createElement("span",{className:"inline-label"},a.createElement("input",{id:"depositAddress",readOnly:!0,type:"text",value:m}),a.createElement(p.a,{text:m}))):a.createElement(b.a,{type:"three-bounce"}),a.createElement("div",{className:"SimpleTrade__withdraw-row"},a.createElement("p",null,"Current address is generated"," ",E(r.createAt).fromNow())),a.createElement("div",{className:"button-group SimpleTrade__withdraw-row"},a.createElement("button",{className:"button",onClick:this.getNewAddress,type:"submit"},j?a.createElement(d.a,{content:"gateway.generate_new_eos"}):a.createElement(d.a,{content:"gateway.generate_new"})))))}}]),t}();j.propTypes={asset:c.a.ChainAsset.isRequired,balances:c.a.ChainObjectsList};var k=Object(i.a)(j,{keep_updating:!0,show_loader:!0});k=Object(r.connect)(k,{listenTo:function(){return[s.b]},getProps:function(e){var t=e.modalId;return{open:s.b.getState().modals.get(t),depositInfo:s.b.getState().depositInfo,type:s.b.getState().depositInfo.type,asset:s.b.getState().depositInfo.asset}}});t.a=k},1713:function(e,t,n){var a={"./af":1658,"./af.js":1658,"./ar":1657,"./ar-dz":1656,"./ar-dz.js":1656,"./ar-kw":1655,"./ar-kw.js":1655,"./ar-ly":1654,"./ar-ly.js":1654,"./ar-ma":1653,"./ar-ma.js":1653,"./ar-sa":1652,"./ar-sa.js":1652,"./ar-tn":1651,"./ar-tn.js":1651,"./ar.js":1657,"./az":1650,"./az.js":1650,"./be":1649,"./be.js":1649,"./bg":1648,"./bg.js":1648,"./bm":1647,"./bm.js":1647,"./bn":1646,"./bn.js":1646,"./bo":1645,"./bo.js":1645,"./br":1644,"./br.js":1644,"./bs":1643,"./bs.js":1643,"./ca":1642,"./ca.js":1642,"./cs":1641,"./cs.js":1641,"./cv":1640,"./cv.js":1640,"./cy":1639,"./cy.js":1639,"./da":1638,"./da.js":1638,"./de":1637,"./de-at":1636,"./de-at.js":1636,"./de-ch":1635,"./de-ch.js":1635,"./de.js":1637,"./dv":1634,"./dv.js":1634,"./el":1633,"./el.js":1633,"./en-au":1632,"./en-au.js":1632,"./en-ca":1631,"./en-ca.js":1631,"./en-gb":1630,"./en-gb.js":1630,"./en-ie":1629,"./en-ie.js":1629,"./en-il":1628,"./en-il.js":1628,"./en-nz":1627,"./en-nz.js":1627,"./eo":1626,"./eo.js":1626,"./es":1625,"./es-do":1624,"./es-do.js":1624,"./es-us":1623,"./es-us.js":1623,"./es.js":1625,"./et":1622,"./et.js":1622,"./eu":1621,"./eu.js":1621,"./fa":1620,"./fa.js":1620,"./fi":1619,"./fi.js":1619,"./fo":1618,"./fo.js":1618,"./fr":1617,"./fr-ca":1616,"./fr-ca.js":1616,"./fr-ch":1615,"./fr-ch.js":1615,"./fr.js":1617,"./fy":1614,"./fy.js":1614,"./gd":1613,"./gd.js":1613,"./gl":1612,"./gl.js":1612,"./gom-latn":1611,"./gom-latn.js":1611,"./gu":1610,"./gu.js":1610,"./he":1609,"./he.js":1609,"./hi":1608,"./hi.js":1608,"./hr":1607,"./hr.js":1607,"./hu":1606,"./hu.js":1606,"./hy-am":1605,"./hy-am.js":1605,"./id":1604,"./id.js":1604,"./is":1603,"./is.js":1603,"./it":1602,"./it.js":1602,"./ja":1601,"./ja.js":1601,"./jv":1600,"./jv.js":1600,"./ka":1599,"./ka.js":1599,"./kk":1598,"./kk.js":1598,"./km":1597,"./km.js":1597,"./kn":1596,"./kn.js":1596,"./ko":1595,"./ko.js":1595,"./ky":1594,"./ky.js":1594,"./lb":1593,"./lb.js":1593,"./lo":1592,"./lo.js":1592,"./lt":1591,"./lt.js":1591,"./lv":1590,"./lv.js":1590,"./me":1589,"./me.js":1589,"./mi":1588,"./mi.js":1588,"./mk":1587,"./mk.js":1587,"./ml":1586,"./ml.js":1586,"./mn":1585,"./mn.js":1585,"./mr":1584,"./mr.js":1584,"./ms":1583,"./ms-my":1582,"./ms-my.js":1582,"./ms.js":1583,"./mt":1581,"./mt.js":1581,"./my":1580,"./my.js":1580,"./nb":1579,"./nb.js":1579,"./ne":1578,"./ne.js":1578,"./nl":1577,"./nl-be":1576,"./nl-be.js":1576,"./nl.js":1577,"./nn":1575,"./nn.js":1575,"./pa-in":1574,"./pa-in.js":1574,"./pl":1573,"./pl.js":1573,"./pt":1572,"./pt-br":1571,"./pt-br.js":1571,"./pt.js":1572,"./ro":1570,"./ro.js":1570,"./ru":1569,"./ru.js":1569,"./sd":1568,"./sd.js":1568,"./se":1567,"./se.js":1567,"./si":1566,"./si.js":1566,"./sk":1565,"./sk.js":1565,"./sl":1564,"./sl.js":1564,"./sq":1563,"./sq.js":1563,"./sr":1562,"./sr-cyrl":1561,"./sr-cyrl.js":1561,"./sr.js":1562,"./ss":1560,"./ss.js":1560,"./sv":1559,"./sv.js":1559,"./sw":1558,"./sw.js":1558,"./ta":1557,"./ta.js":1557,"./te":1556,"./te.js":1556,"./tet":1555,"./tet.js":1555,"./tg":1554,"./tg.js":1554,"./th":1553,"./th.js":1553,"./tl-ph":1552,"./tl-ph.js":1552,"./tlh":1551,"./tlh.js":1551,"./tr":1550,"./tr.js":1550,"./tzl":1549,"./tzl.js":1549,"./tzm":1548,"./tzm-latn":1547,"./tzm-latn.js":1547,"./tzm.js":1548,"./ug-cn":1546,"./ug-cn.js":1546,"./uk":1545,"./uk.js":1545,"./ur":1544,"./ur.js":1544,"./uz":1543,"./uz-latn":1542,"./uz-latn.js":1542,"./uz.js":1543,"./vi":1541,"./vi.js":1541,"./x-pseudo":1540,"./x-pseudo.js":1540,"./yo":1539,"./yo.js":1539,"./zh-cn":1538,"./zh-cn.js":1538,"./zh-hk":1537,"./zh-hk.js":1537,"./zh-tw":1536,"./zh-tw.js":1536};function r(e){var t=s(e);return n(t)}function s(e){var t=a[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}r.keys=function(){return Object.keys(a)},r.resolve=s,e.exports=r,r.id=1713},1714:function(e,t,n){"use strict";n.d(t,"a",function(){return u});var a=n(0),r=n(24),s=n.n(r),o=n(1711),i=n(8),c=n.n(i),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["Component"]),l(t,[{key:"render",value:function(){return a.createElement(o.a,Object.assign({previousText:c.a.translate("table.previousText"),nextText:c.a.translate("table.nextText"),loadingText:c.a.translate("table.loadingText"),pageText:c.a.translate("table.pageText"),ofText:c.a.translate("table.ofText")+" ",rowsText:c.a.translate("table.rowsText"),defaultPageSize:10},this.props,{data:this.props.data,columns:this.props.columns,className:s()("-striped -highlight",this.props.className)}))}}]),t}()}}]);