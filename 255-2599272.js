(window.webpackJsonp=window.webpackJsonp||[]).push([[255,2,4],{1261:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(122),s=n(22),i=n(8),l=n(1282),c=n(156),u=n.n(c),p=n(3),d=n(48),m=n(879),h=n(73),f=n(17),b=n(2),g=n.n(b),y=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var v=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["Component"]),y(t,[{key:"render",value:function(){var e=this.props,t=e.price,n=e.preFormattedPrice,r=e.quote,o=e.base,s=(e.component,e.precision),i=(e.previous,n||f.a.price_to_text(t,r,o,s));return i.full>=1?a.createElement("span",null,a.createElement("span",{className:"price-integer"},i.int,"."),i.dec?a.createElement("span",{className:"price-integer"},i.dec):null,i.trailing?a.createElement("span",{className:"price-integer"},i.trailing):null):i.full>=.1?a.createElement("span",null,a.createElement("span",{className:"price-decimal"},i.int,"."),i.dec?a.createElement("span",{className:"price-integer"},i.dec):null,i.trailing?a.createElement("span",{className:"price-decimal"},i.trailing):null):a.createElement("span",null,a.createElement("span",{className:"price-decimal"},i.int,"."),i.dec?a.createElement("span",{className:"price-decimal"},i.dec):null,i.trailing?a.createElement("span",{className:"price-integer"},i.trailing):null)}}]),t}(),_=n(1292),E=n(154),k=n(93),w=n(1),A=n(27),O=n(1291),C=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function T(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function P(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var D={textAlign:"right"},N=function(e){function t(){return x(this,t),T(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return P(t,a["Component"]),C(t,[{key:"render",value:function(){var e=this.props,t=e.baseSymbol,n=e.quoteSymbol,r=e.dashboard,o=(e.isMyAccount,e.settings),s=o?o.get("unit"):"1.3.0";return r?a.createElement("thead",null,a.createElement("tr",null,a.createElement("th",null,a.createElement(g.a,{content:"account.cyb_market"})),a.createElement("th",{style:D},a.createElement(g.a,{content:"exchange.price"})),a.createElement("th",{style:D},a.createElement(g.a,{content:"account.qty"})),a.createElement("th",{style:D},a.createElement(g.a,{content:"exchange.total"})),a.createElement("th",{style:D},a.createElement(g.a,{content:"exchange.order_value"})," (",a.createElement(E.a,{name:s}),")"),a.createElement("th",null,a.createElement(g.a,{content:"account.trade"})),a.createElement("th",null,a.createElement(g.a,{content:"wallet.cancel"})))):a.createElement("thead",null,a.createElement("tr",null,a.createElement("th",{className:"text-right"},a.createElement(g.a,{className:"header-sub-title",content:"exchange.price"})),a.createElement("th",{className:"text-right"},t?a.createElement("span",{className:"header-sub-title"},a.createElement(E.a,{dataPlace:"top",name:n})):null),a.createElement("th",{className:"text-right"},t?a.createElement("span",{className:"header-sub-title"},a.createElement(E.a,{dataPlace:"top",name:t})):null),a.createElement("th",{className:"text-right",style:{width:"28%"}},a.createElement(g.a,{className:"header-sub-title",content:"transaction.expiration"})),a.createElement("th",{style:{whiteSpace:"nowrap"}},a.createElement(g.a,{content:"wallet.cancel"}))))}}]),t}();N.defaultProps={quoteSymbol:null,baseSymbol:null};var j=function(e){function t(){return x(this,t),T(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return P(t,a["Component"]),C(t,[{key:"shouldComponentUpdate",value:function(e){return e.order.for_sale!==this.props.order.for_sale||e.order.id!==this.props.order.id||e.isMyAccount!==this.props.isMyAccount||e.quote!==this.props.quote||e.base!==this.props.base||e.order.market_base!==this.props.order.market_base}},{key:"render",value:function(){var e=this.props,t=e.base,n=e.quote,r=e.order,o=e.showSymbols,s=e.dashboard,i=(e.isMyAccount,e.settings),l=r.isBid(),c=r.isCall(),u=(c?"orderHistoryCall":l?"orderHistoryBid":"orderHistoryAsk")+" text-right",p=o?a.createElement("span",null," "+t.get("symbol")+"/"+n.get("symbol")):null,d=o?" "+t.get("symbol"):null,b=o?" "+n.get("symbol"):null,g=i?i.get("unit"):"1.3.0";return s?a.createElement("tr",{key:r.id},a.createElement("td",{style:{textAlign:"center",paddingLeft:0,borderRight:"none"}},a.createElement(m.a,{to:"/asset/"+n.get("symbol")},a.createElement(E.a,{noTip:!0,name:n.get("symbol")})),"/",a.createElement(m.a,{to:"/asset/"+t.get("symbol")},a.createElement(E.a,{noTip:!0,name:t.get("symbol")}))),a.createElement("td",{className:u,style:D},a.createElement(v,{price:r.getPrice(),base:t,quote:n}),p),a.createElement("td",{style:D},f.a.format_number(r[l?"amountToReceive":"amountForSale"]().getAmount({real:!0}),n.get("precision"))," ",b),a.createElement("td",{style:D},f.a.format_number(r[l?"amountForSale":"amountToReceive"]().getAmount({real:!0}),t.get("precision"))," ",d),a.createElement("td",{className:"text-right"},a.createElement(O.b,{hide_asset:!0,amount:r.amountForSale().getAmount(),fromAsset:r.amountForSale().asset_id,noDecimals:!0,toAsset:g})),a.createElement("td",null,a.createElement(m.a,{to:"/market/"+n.get("symbol")+"_"+t.get("symbol")},a.createElement(k.a,{name:"trade",className:"icon-14px"}))),a.createElement("td",{className:"text-center",style:{padding:"2px 5px"}},c?null:a.createElement("a",{style:{marginRight:0},className:"order-cancel",onClick:this.props.onCancel},a.createElement(k.a,{name:"cross-circle",className:"icon-14px"})))):a.createElement("tr",{key:r.id},a.createElement("td",{className:u,style:{paddingLeft:10}},a.createElement(v,{price:r.getPrice(),base:t,quote:n}),p),a.createElement("td",{className:"text-right"},f.a.format_number(r[l?"amountToReceive":"amountForSale"]().getAmount({real:!0}),n.get("precision"))," ",b),a.createElement("td",{className:"text-right"},f.a.format_number(r[l?"amountForSale":"amountToReceive"]().getAmount({real:!0}),t.get("precision"))," ",d),a.createElement("td",{className:"text-right",style:{width:"28%"}},c?null:a.createElement(h.a,{value:r.expiration,format:"short"})),a.createElement("td",{className:"text-center",style:{padding:"2px 5px"}},c?null:a.createElement("a",{style:{marginRight:0},className:"order-cancel",onClick:this.props.onCancel},a.createElement(k.a,{name:"cross-circle",className:"icon-14px"}))))}}]),t}();j.defaultProps={showSymbols:!1};var I=function(e){function t(e){x(this,t);var n=T(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._getOrders=n._getOrders.bind(n),n}return P(t,a["Component"]),C(t,[{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(){}},{key:"_getOrders",value:function(){var e,t=this,n=this.props,a=n.currentAccount,r=n.base,o=n.quote,s=a.get("orders"),i=a.get("call_orders"),l=r.get("id"),c=o.get("id"),u=(S(e={},r.get("id"),{precision:r.get("precision")}),S(e,o.get("id"),{precision:o.get("precision")}),e),p=s.toArray().map(function(e){var t=w.b.getObject(e);if(!t)return null;var n=t.getIn(["sell_price","base","asset_id"]),a=t.getIn(["sell_price","quote","asset_id"]);return n===l&&a===c||n===c&&a===l?new A.d(t.toJS(),u,o.get("id")):void 0}).filter(function(e){return!!e}),d=i.toArray().map(function(e){var n=w.b.getObject(e);if(!n)return null;var a=n.getIn(["call_price","base","asset_id"]),r=n.getIn(["call_price","quote","asset_id"]);return a===l&&r===c||a===c&&r===l?t.props.feedPrice?new A.b(n.toJS(),u,o.get("id"),t.props.feedPrice):null:void 0}).filter(function(e){return!!e}).filter(function(e){return e.isMarginCalled()});return p.concat(d)}},{key:"render",value:function(){var e=this,t=this.props,n=t.base,r=t.quote,o=t.quoteSymbol,s=t.baseSymbol;if(!n||!r)return null;var i=this._getOrders(),l=a.createElement("tr",null,a.createElement("td",{style:{textAlign:"center"},colSpan:5},a.createElement(g.a,{content:"account.no_orders"}))),c=i.filter(function(e){return e.isBid()}).sort(function(e,t){return t.getPrice()-e.getPrice()}).map(function(t){var o=t.getPrice();return a.createElement(j,{price:o,key:t.id,order:t,base:n,quote:r,onCancel:e.props.onCancel.bind(e,t.id)})}),u=i.filter(function(e){return!e.isBid()}).sort(function(e,t){return e.getPrice()-t.getPrice()}).map(function(t){var o=t.getPrice();return a.createElement(j,{price:o,key:t.id,order:t,base:n,quote:r,onCancel:e.props.onCancel.bind(e,t.id)})}),p=[];return u.length&&(p=p.concat(u)),c.length&&(p=p.concat(c)),p.sort(function(e,t){return e.props.price-t.props.price}),a.createElement(a.Fragment,null,a.createElement("div",{className:"exchange-content-header"},a.createElement(g.a,{content:"exchange.my_orders"})),a.createElement("table",{className:"table order-table table-hover"},a.createElement(N,{type:"sell",baseSymbol:s,quoteSymbol:o})),a.createElement("div",{className:"grid-block no-padding market-right-padding _scroll-bar",ref:"asks",style:{overflow:"auto",maxHeight:720}},a.createElement("table",{style:{paddingBottom:5},className:"table order-table table-hover"},a.createElement(_.a,{component:"tbody",transitionName:"newrow"},p.length?p:l))))}}]),t}();I.defaultProps={base:{},quote:{},orders:{},quoteSymbol:"",baseSymbol:""},I.propTypes={base:p.object.isRequired,quote:p.object.isRequired,orders:p.object.isRequired,quoteSymbol:p.string.isRequired,baseSymbol:p.string.isRequired};var F=n(28),M=n.n(F),R=n(237),B=n(81),q=n.n(B),L=n(16),U=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var V=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={change:null},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["Component"]),U(t,[{key:"shouldComponentUpdate",value:function(e){return!(!e.volume2||e.volume2===this.props.volume2)||(e.price!==this.props.price||e.ready!==this.props.ready)}},{key:"componentWillReceiveProps",value:function(e){e.ready&&this.props.ready?this.setState({change:parseFloat(e.price)-parseFloat(this.props.price)}):this.setState({change:0})}},{key:"componentDidUpdate",value:function(){q.a.rebuild()}},{key:"render",value:function(){var e=this.props,t=e.base,n=e.quote,r=e.hideQuote,o=e.hideBase,s=(e.price,e.content),i=e.ready,l=e.value,c=e.valueByYuan,u=e.volume,p=e.volume2,d=e.withYuan,m=e.toolTip,h=this.state.change,b=null;h&&null!==h&&(b=h>0?"change-up":"change-down");var y=p?f.a.format_volume(p):null;return a.createElement("li",{className:M()("stat",this.props.className),"data-place":"bottom","data-tip":m},a.createElement("span",null,s&&a.createElement(g.a,{content:s}),s&&a.createElement("br",null),a.createElement("b",{className:"value stat-primary "+(o?b:"")},i?l:0)," ",a.createElement("span",{className:"symbol-text"},!o&&a.createElement(E.a,{name:t.get("symbol")}),r||!n||u?null:a.createElement("span",null,"/",a.createElement(E.a,{name:n.get("symbol")})))),"number"==typeof p?a.createElement("span",null,a.createElement("span",null),a.createElement("b",{className:"value stat-primary"},i?a.createElement("span",null," / ",y):0)," ",a.createElement("span",{className:"symbol-text"},a.createElement(E.a,{name:n.get("symbol")}))):null,d&&!isNaN(c)&&a.createElement("span",null,a.createElement("span",null),!o&&" / ",a.createElement("b",{className:"value stat-primary"},a.createElement("span",{className:"symbol-text"},"¥"),i?a.createElement("span",null," ",c):0," ")))}}]),t}(),J=V=Object(L.connect)(V,{listenTo:function(){return[R.a]},getProps:function(e){var t=e.volume,n=e.price,a=e.quote,r=e.base,o=t?f.a.format_volume(n):f.a.price_text(n,a,r),s=f.a.replaceName(r.get("symbol"),!1).name,i=R.a.getState().priceState[s];return{value:o,valueByYuan:i?parseFloat((o*i).toFixed(4)):NaN}}}),W=n(33),H=n(82),z=n(13),G=n.n(z),$=n(1522),Y=n(77),K=n(1520),X=n.n(K),Q=n(1518),Z=n.n(Q),ee=n(1514),te=n.n(ee),ne=[{base:"A",letters:/[\u0041\u24B6\uFF21\u00C0\u00C1\u00C2\u1EA6\u1EA4\u1EAA\u1EA8\u00C3\u0100\u0102\u1EB0\u1EAE\u1EB4\u1EB2\u0226\u01E0\u00C4\u01DE\u1EA2\u00C5\u01FA\u01CD\u0200\u0202\u1EA0\u1EAC\u1EB6\u1E00\u0104\u023A\u2C6F]/g},{base:"AA",letters:/[\uA732]/g},{base:"AE",letters:/[\u00C6\u01FC\u01E2]/g},{base:"AO",letters:/[\uA734]/g},{base:"AU",letters:/[\uA736]/g},{base:"AV",letters:/[\uA738\uA73A]/g},{base:"AY",letters:/[\uA73C]/g},{base:"B",letters:/[\u0042\u24B7\uFF22\u1E02\u1E04\u1E06\u0243\u0182\u0181]/g},{base:"C",letters:/[\u0043\u24B8\uFF23\u0106\u0108\u010A\u010C\u00C7\u1E08\u0187\u023B\uA73E]/g},{base:"D",letters:/[\u0044\u24B9\uFF24\u1E0A\u010E\u1E0C\u1E10\u1E12\u1E0E\u0110\u018B\u018A\u0189\uA779]/g},{base:"DZ",letters:/[\u01F1\u01C4]/g},{base:"Dz",letters:/[\u01F2\u01C5]/g},{base:"E",letters:/[\u0045\u24BA\uFF25\u00C8\u00C9\u00CA\u1EC0\u1EBE\u1EC4\u1EC2\u1EBC\u0112\u1E14\u1E16\u0114\u0116\u00CB\u1EBA\u011A\u0204\u0206\u1EB8\u1EC6\u0228\u1E1C\u0118\u1E18\u1E1A\u0190\u018E]/g},{base:"F",letters:/[\u0046\u24BB\uFF26\u1E1E\u0191\uA77B]/g},{base:"G",letters:/[\u0047\u24BC\uFF27\u01F4\u011C\u1E20\u011E\u0120\u01E6\u0122\u01E4\u0193\uA7A0\uA77D\uA77E]/g},{base:"H",letters:/[\u0048\u24BD\uFF28\u0124\u1E22\u1E26\u021E\u1E24\u1E28\u1E2A\u0126\u2C67\u2C75\uA78D]/g},{base:"I",letters:/[\u0049\u24BE\uFF29\u00CC\u00CD\u00CE\u0128\u012A\u012C\u0130\u00CF\u1E2E\u1EC8\u01CF\u0208\u020A\u1ECA\u012E\u1E2C\u0197]/g},{base:"J",letters:/[\u004A\u24BF\uFF2A\u0134\u0248]/g},{base:"K",letters:/[\u004B\u24C0\uFF2B\u1E30\u01E8\u1E32\u0136\u1E34\u0198\u2C69\uA740\uA742\uA744\uA7A2]/g},{base:"L",letters:/[\u004C\u24C1\uFF2C\u013F\u0139\u013D\u1E36\u1E38\u013B\u1E3C\u1E3A\u0141\u023D\u2C62\u2C60\uA748\uA746\uA780]/g},{base:"LJ",letters:/[\u01C7]/g},{base:"Lj",letters:/[\u01C8]/g},{base:"M",letters:/[\u004D\u24C2\uFF2D\u1E3E\u1E40\u1E42\u2C6E\u019C]/g},{base:"N",letters:/[\u004E\u24C3\uFF2E\u01F8\u0143\u00D1\u1E44\u0147\u1E46\u0145\u1E4A\u1E48\u0220\u019D\uA790\uA7A4]/g},{base:"NJ",letters:/[\u01CA]/g},{base:"Nj",letters:/[\u01CB]/g},{base:"O",letters:/[\u004F\u24C4\uFF2F\u00D2\u00D3\u00D4\u1ED2\u1ED0\u1ED6\u1ED4\u00D5\u1E4C\u022C\u1E4E\u014C\u1E50\u1E52\u014E\u022E\u0230\u00D6\u022A\u1ECE\u0150\u01D1\u020C\u020E\u01A0\u1EDC\u1EDA\u1EE0\u1EDE\u1EE2\u1ECC\u1ED8\u01EA\u01EC\u00D8\u01FE\u0186\u019F\uA74A\uA74C]/g},{base:"OI",letters:/[\u01A2]/g},{base:"OO",letters:/[\uA74E]/g},{base:"OU",letters:/[\u0222]/g},{base:"P",letters:/[\u0050\u24C5\uFF30\u1E54\u1E56\u01A4\u2C63\uA750\uA752\uA754]/g},{base:"Q",letters:/[\u0051\u24C6\uFF31\uA756\uA758\u024A]/g},{base:"R",letters:/[\u0052\u24C7\uFF32\u0154\u1E58\u0158\u0210\u0212\u1E5A\u1E5C\u0156\u1E5E\u024C\u2C64\uA75A\uA7A6\uA782]/g},{base:"S",letters:/[\u0053\u24C8\uFF33\u1E9E\u015A\u1E64\u015C\u1E60\u0160\u1E66\u1E62\u1E68\u0218\u015E\u2C7E\uA7A8\uA784]/g},{base:"T",letters:/[\u0054\u24C9\uFF34\u1E6A\u0164\u1E6C\u021A\u0162\u1E70\u1E6E\u0166\u01AC\u01AE\u023E\uA786]/g},{base:"TZ",letters:/[\uA728]/g},{base:"U",letters:/[\u0055\u24CA\uFF35\u00D9\u00DA\u00DB\u0168\u1E78\u016A\u1E7A\u016C\u00DC\u01DB\u01D7\u01D5\u01D9\u1EE6\u016E\u0170\u01D3\u0214\u0216\u01AF\u1EEA\u1EE8\u1EEE\u1EEC\u1EF0\u1EE4\u1E72\u0172\u1E76\u1E74\u0244]/g},{base:"V",letters:/[\u0056\u24CB\uFF36\u1E7C\u1E7E\u01B2\uA75E\u0245]/g},{base:"VY",letters:/[\uA760]/g},{base:"W",letters:/[\u0057\u24CC\uFF37\u1E80\u1E82\u0174\u1E86\u1E84\u1E88\u2C72]/g},{base:"X",letters:/[\u0058\u24CD\uFF38\u1E8A\u1E8C]/g},{base:"Y",letters:/[\u0059\u24CE\uFF39\u1EF2\u00DD\u0176\u1EF8\u0232\u1E8E\u0178\u1EF6\u1EF4\u01B3\u024E\u1EFE]/g},{base:"Z",letters:/[\u005A\u24CF\uFF3A\u0179\u1E90\u017B\u017D\u1E92\u1E94\u01B5\u0224\u2C7F\u2C6B\uA762]/g},{base:"a",letters:/[\u0061\u24D0\uFF41\u1E9A\u00E0\u00E1\u00E2\u1EA7\u1EA5\u1EAB\u1EA9\u00E3\u0101\u0103\u1EB1\u1EAF\u1EB5\u1EB3\u0227\u01E1\u00E4\u01DF\u1EA3\u00E5\u01FB\u01CE\u0201\u0203\u1EA1\u1EAD\u1EB7\u1E01\u0105\u2C65\u0250]/g},{base:"aa",letters:/[\uA733]/g},{base:"ae",letters:/[\u00E6\u01FD\u01E3]/g},{base:"ao",letters:/[\uA735]/g},{base:"au",letters:/[\uA737]/g},{base:"av",letters:/[\uA739\uA73B]/g},{base:"ay",letters:/[\uA73D]/g},{base:"b",letters:/[\u0062\u24D1\uFF42\u1E03\u1E05\u1E07\u0180\u0183\u0253]/g},{base:"c",letters:/[\u0063\u24D2\uFF43\u0107\u0109\u010B\u010D\u00E7\u1E09\u0188\u023C\uA73F\u2184]/g},{base:"d",letters:/[\u0064\u24D3\uFF44\u1E0B\u010F\u1E0D\u1E11\u1E13\u1E0F\u0111\u018C\u0256\u0257\uA77A]/g},{base:"dz",letters:/[\u01F3\u01C6]/g},{base:"e",letters:/[\u0065\u24D4\uFF45\u00E8\u00E9\u00EA\u1EC1\u1EBF\u1EC5\u1EC3\u1EBD\u0113\u1E15\u1E17\u0115\u0117\u00EB\u1EBB\u011B\u0205\u0207\u1EB9\u1EC7\u0229\u1E1D\u0119\u1E19\u1E1B\u0247\u025B\u01DD]/g},{base:"f",letters:/[\u0066\u24D5\uFF46\u1E1F\u0192\uA77C]/g},{base:"g",letters:/[\u0067\u24D6\uFF47\u01F5\u011D\u1E21\u011F\u0121\u01E7\u0123\u01E5\u0260\uA7A1\u1D79\uA77F]/g},{base:"h",letters:/[\u0068\u24D7\uFF48\u0125\u1E23\u1E27\u021F\u1E25\u1E29\u1E2B\u1E96\u0127\u2C68\u2C76\u0265]/g},{base:"hv",letters:/[\u0195]/g},{base:"i",letters:/[\u0069\u24D8\uFF49\u00EC\u00ED\u00EE\u0129\u012B\u012D\u00EF\u1E2F\u1EC9\u01D0\u0209\u020B\u1ECB\u012F\u1E2D\u0268\u0131]/g},{base:"j",letters:/[\u006A\u24D9\uFF4A\u0135\u01F0\u0249]/g},{base:"k",letters:/[\u006B\u24DA\uFF4B\u1E31\u01E9\u1E33\u0137\u1E35\u0199\u2C6A\uA741\uA743\uA745\uA7A3]/g},{base:"l",letters:/[\u006C\u24DB\uFF4C\u0140\u013A\u013E\u1E37\u1E39\u013C\u1E3D\u1E3B\u017F\u0142\u019A\u026B\u2C61\uA749\uA781\uA747]/g},{base:"lj",letters:/[\u01C9]/g},{base:"m",letters:/[\u006D\u24DC\uFF4D\u1E3F\u1E41\u1E43\u0271\u026F]/g},{base:"n",letters:/[\u006E\u24DD\uFF4E\u01F9\u0144\u00F1\u1E45\u0148\u1E47\u0146\u1E4B\u1E49\u019E\u0272\u0149\uA791\uA7A5]/g},{base:"nj",letters:/[\u01CC]/g},{base:"o",letters:/[\u006F\u24DE\uFF4F\u00F2\u00F3\u00F4\u1ED3\u1ED1\u1ED7\u1ED5\u00F5\u1E4D\u022D\u1E4F\u014D\u1E51\u1E53\u014F\u022F\u0231\u00F6\u022B\u1ECF\u0151\u01D2\u020D\u020F\u01A1\u1EDD\u1EDB\u1EE1\u1EDF\u1EE3\u1ECD\u1ED9\u01EB\u01ED\u00F8\u01FF\u0254\uA74B\uA74D\u0275]/g},{base:"oi",letters:/[\u01A3]/g},{base:"ou",letters:/[\u0223]/g},{base:"oo",letters:/[\uA74F]/g},{base:"p",letters:/[\u0070\u24DF\uFF50\u1E55\u1E57\u01A5\u1D7D\uA751\uA753\uA755]/g},{base:"q",letters:/[\u0071\u24E0\uFF51\u024B\uA757\uA759]/g},{base:"r",letters:/[\u0072\u24E1\uFF52\u0155\u1E59\u0159\u0211\u0213\u1E5B\u1E5D\u0157\u1E5F\u024D\u027D\uA75B\uA7A7\uA783]/g},{base:"s",letters:/[\u0073\u24E2\uFF53\u00DF\u015B\u1E65\u015D\u1E61\u0161\u1E67\u1E63\u1E69\u0219\u015F\u023F\uA7A9\uA785\u1E9B]/g},{base:"t",letters:/[\u0074\u24E3\uFF54\u1E6B\u1E97\u0165\u1E6D\u021B\u0163\u1E71\u1E6F\u0167\u01AD\u0288\u2C66\uA787]/g},{base:"tz",letters:/[\uA729]/g},{base:"u",letters:/[\u0075\u24E4\uFF55\u00F9\u00FA\u00FB\u0169\u1E79\u016B\u1E7B\u016D\u00FC\u01DC\u01D8\u01D6\u01DA\u1EE7\u016F\u0171\u01D4\u0215\u0217\u01B0\u1EEB\u1EE9\u1EEF\u1EED\u1EF1\u1EE5\u1E73\u0173\u1E77\u1E75\u0289]/g},{base:"v",letters:/[\u0076\u24E5\uFF56\u1E7D\u1E7F\u028B\uA75F\u028C]/g},{base:"vy",letters:/[\uA761]/g},{base:"w",letters:/[\u0077\u24E6\uFF57\u1E81\u1E83\u0175\u1E87\u1E85\u1E98\u1E89\u2C73]/g},{base:"x",letters:/[\u0078\u24E7\uFF58\u1E8B\u1E8D]/g},{base:"y",letters:/[\u0079\u24E8\uFF59\u1EF3\u00FD\u0177\u1EF9\u0233\u1E8F\u00FF\u1EF7\u1E99\u1EF5\u01B4\u024F\u1EFF]/g},{base:"z",letters:/[\u007A\u24E9\uFF5A\u017A\u1E91\u017C\u017E\u1E93\u1E95\u01B6\u0225\u0240\u2C6C\uA763]/g}],ae=function(e){for(var t=0;t<ne.length;t++)e=e.replace(ne[t].letters,ne[t].base);return e},re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oe=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},se=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),ie=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},le=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},ce=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},ue=function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n},pe=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},de=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},me=function(e){return e.replace(/^\s+|\s+$/g,"")},he=function(e){return e.label+" "+e.value},fe=function(e){function t(){return oe(this,t),pe(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return ce(t,e),se(t,[{key:"render",value:function(){var e=this.props,t=(e.in,e.out,e.onExited,e.appear,e.enter,e.exit,e.innerRef),n=ue(e,["in","out","onExited","appear","enter","exit","innerRef"]);return r.a.createElement("input",le({ref:t},n,{className:Object($.a)({background:0,border:0,fontSize:"inherit",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(0)"})}))}}]),t}(a.Component),be=function(e){function t(){return oe(this,t),pe(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return ce(t,e),se(t,[{key:"componentDidMount",value:function(){this.props.innerRef(Object(Y.findDOMNode)(this))}},{key:"componentWillUnmount",value:function(){this.props.innerRef(null)}},{key:"render",value:function(){return this.props.children}}]),t}(a.Component),ge=["boxSizing","height","overflow","paddingRight","position"],ye={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function ve(e){e.preventDefault()}function _e(e){e.stopPropagation()}function Ee(){var e=this.scrollTop,t=this.scrollHeight,n=e+this.offsetHeight;0===e?this.scrollTop=1:n===t&&(this.scrollTop=e-1)}function ke(){return"ontouchstart"in window||navigator.maxTouchPoints}var we=!("undefined"==typeof window||!window.document||!window.document.createElement),Ae=0,Oe=function(e){function t(){var e,n,a;oe(this,t);for(var r=arguments.length,o=Array(r),s=0;s<r;s++)o[s]=arguments[s];return n=a=pe(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),a.originalStyles={},a.listenerOptions={capture:!1,passive:!1},pe(a,n)}return ce(t,e),se(t,[{key:"componentDidMount",value:function(){var e=this;if(we){var t=this.props,n=t.accountForScrollbars,a=t.touchScrollTarget,r=document.body,o=r&&r.style;if(n&&ge.forEach(function(t){var n=o&&o[t];e.originalStyles[t]=n}),n&&Ae<1){var s=parseInt(this.originalStyles.paddingRight,10)||0,i=document.body?document.body.clientWidth:0,l=window.innerWidth-i+s||0;Object.keys(ye).forEach(function(e){var t=ye[e];o&&(o[e]=t)}),o&&(o.paddingRight=l+"px")}r&&ke()&&(r.addEventListener("touchmove",ve,this.listenerOptions),a&&(a.addEventListener("touchstart",Ee,this.listenerOptions),a.addEventListener("touchmove",_e,this.listenerOptions))),Ae+=1}}},{key:"componentWillUnmount",value:function(){var e=this;if(we){var t=this.props,n=t.accountForScrollbars,a=t.touchScrollTarget,r=document.body,o=r&&r.style;Ae=Math.max(Ae-1,0),n&&Ae<1&&ge.forEach(function(t){var n=e.originalStyles[t];o&&(o[t]=n)}),r&&ke()&&(r.removeEventListener("touchmove",ve,this.listenerOptions),a&&(a.removeEventListener("touchstart",Ee,this.listenerOptions),a.removeEventListener("touchmove",_e,this.listenerOptions)))}}},{key:"render",value:function(){return null}}]),t}(a.Component);Oe.defaultProps={accountForScrollbars:!0};var Ce=function(e){return function(t){var n=t.css,a=t.innerRef,o=ue(t,["css","innerRef"]);return r.a.createElement(e,le({ref:a,className:Object($.a)(n)},o))}}("div"),Se=function(e){return r.a.createElement("span",le({className:Object($.a)({border:0,clip:"rect(1px, 1px, 1px, 1px)",height:1,overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:1})},e))};function xe(){return r.a.createElement(Ce,{className:Object($.a)({position:"fixed",left:0,bottom:0,right:0,top:0})},r.a.createElement(Oe,null))}var Te=function(e){function t(){var e,n,a;oe(this,t);for(var r=arguments.length,o=Array(r),s=0;s<r;s++)o[s]=arguments[s];return n=a=pe(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),a.isBottom=!1,a.isTop=!1,a.cancelScroll=function(e){e.preventDefault(),e.stopPropagation()},a.handleEventDelta=function(e,t){var n=a.props,r=n.onBottomArrive,o=n.onBottomLeave,s=n.onTopArrive,i=n.onTopLeave,l=a.scrollTarget,c=l.scrollTop,u=l.scrollHeight,p=l.clientHeight,d=a.scrollTarget,m=t>0,h=u-p-c,f=!1;h>t&&a.isBottom&&(o&&o(e),a.isBottom=!1),m&&a.isTop&&(i&&i(e),a.isTop=!1),m&&t>h?(r&&!a.isBottom&&r(e),d.scrollTop=u,f=!0,a.isBottom=!0):!m&&-t>c&&(s&&!a.isTop&&s(e),d.scrollTop=0,f=!0,a.isTop=!0),f&&a.cancelScroll(e)},a.onWheel=function(e){a.handleEventDelta(e,e.deltaY)},a.onTouchStart=function(e){a.touchStart=e.changedTouches[0].clientY},a.onTouchMove=function(e){var t=a.touchStart-e.changedTouches[0].clientY;a.handleEventDelta(e,t)},a.getScrollTarget=function(e){a.scrollTarget=e},pe(a,n)}return ce(t,e),se(t,[{key:"componentDidMount",value:function(){this.startListening(this.scrollTarget)}},{key:"componentWillUnmount",value:function(){this.stopListening(this.scrollTarget)}},{key:"startListening",value:function(e){e.scrollHeight<=e.clientHeight||("function"==typeof e.addEventListener&&e.addEventListener("wheel",this.onWheel,!1),"function"==typeof e.addEventListener&&e.addEventListener("touchstart",this.onTouchStart,!1),"function"==typeof e.addEventListener&&e.addEventListener("touchmove",this.onTouchMove,!1))}},{key:"stopListening",value:function(e){e.scrollHeight<=e.clientHeight||("function"==typeof e.removeEventListener&&e.removeEventListener("wheel",this.onWheel,!1),"function"==typeof e.removeEventListener&&e.removeEventListener("touchstart",this.onTouchStart,!1),"function"==typeof e.removeEventListener&&e.removeEventListener("touchmove",this.onTouchMove,!1))}},{key:"render",value:function(){return r.a.createElement(be,{innerRef:this.getScrollTarget},this.props.children)}}]),t}(a.Component),Pe=function(e){function t(){return oe(this,t),pe(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return ce(t,e),se(t,[{key:"render",value:function(){var e=this.props,t=e.isEnabled,n=ue(e,["isEnabled"]);return t?r.a.createElement(Te,n):this.props.children}}]),t}(a.Component);Pe.defaultProps={isEnabled:!0};var De=function(){};function Ne(e,t){return t?e+"__"+t:e}var je=function(e){return Array.isArray(e)?e.filter(Boolean):"object"===(void 0===e?"undefined":re(e))&&null!==e?[e]:[]};function Ie(e){return[document.documentElement,document.body,window].includes(e)}function Fe(e){return Ie(e)?window.pageYOffset:e.scrollTop}function Me(e,t){Ie(e)?window.scrollTo(0,t):e.scrollTop=t}function Re(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:200,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:De,r=Fe(e),o=t-r,s=10,i=0;!function t(){var l=function(e,t,n,a){return n*((e=e/a-1)*e*e+1)+t}(i+=s,r,o,n);Me(e,l),i<n?X()(t):a(e)}()}function Be(){try{return document.createEvent("TouchEvent"),!0}catch(e){return!1}}var qe="#222",Le="#2684FF",Ue="#B2D4FF",Ve="#DEEBFF",Je="#DE350B",We="#FFBDAD",He="hsl(0, 0%, 100%)",ze="hsl(0, 0%, 98%)",Ge="hsl(0, 0%, 95%)",$e="hsl(0, 0%, 90%)",Ye="hsl(0, 0%, 80%)",Ke="hsl(0, 0%, 70%)",Xe="hsl(0, 0%, 60%)",Qe="hsl(0, 0%, 50%)",Ze="hsl(0, 0%, 40%)",et="hsl(0, 0%, 0%)",tt="hsla(0, 0%, 0%, 0.1)",nt={baseUnit:4,controlHeight:38,menuGutter:8},at=function(e){function t(){return oe(this,t),pe(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return ce(t,e),se(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.className,a=e.cx,o=e.isMulti,s=e.getStyles,i=e.hasValue;return r.a.createElement("div",{className:a(Object($.a)(s("valueContainer",this.props)),{"value-container":!0,"value-container--is-multi":o,"value-container--has-value":i},n)},t)}}]),t}(a.Component),rt=function(e){var t=e.size,n=ue(e,["size"]);return r.a.createElement("svg",le({height:t,width:t,viewBox:"0 0 20 20",className:Object($.a)({display:"inline-block",fill:"currentColor",lineHeight:1,stroke:"currentColor",strokeWidth:0})},n))},ot=function(e){return r.a.createElement(rt,le({size:20,focusable:"false",role:"presentation"},e),r.a.createElement("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},st=function(e){return r.a.createElement(rt,le({size:20,focusable:"false",role:"presentation"},e),r.a.createElement("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},it=function(e){var t=e.isFocused;return{color:t?Ze:Ye,display:"flex",padding:2*nt.baseUnit,transition:"color 150ms",":hover":{color:t?et:Xe}}},lt=it,ct=it,ut=function(e){var t=e.color,n=e.delay,a=e.offset;return r.a.createElement("span",{css:{animationDuration:"1s",animationDelay:n+"ms",animationIterationCount:"infinite",animationName:"react-select-loading-indicator",animationTimingFunction:"ease-in-out",backgroundColor:t,borderRadius:"1em",display:"inline-block",marginLeft:a?"1em":null,height:"1em",verticalAlign:"top",width:"1em"}})};Object($.b)("@keyframes ","react-select-loading-indicator","{0%,80%,100%{opacity:0;}40%{opacity:1;}};");var pt=function(e){var t=e.className,n=e.cx,a=e.getStyles,o=e.innerProps,s=e.isFocused,i=e.isRtl,l=s?qe:Ye;return r.a.createElement("div",le({},o,{className:n(Object($.a)(a("loadingIndicator",e)),{indicator:!0,"loading-indicator":!0},t)}),r.a.createElement(ut,{color:l,delay:0,offset:i}),r.a.createElement(ut,{color:l,delay:160,offset:!0}),r.a.createElement(ut,{color:l,delay:320,offset:!i}),r.a.createElement(Se,null,"Loading"))};pt.defaultProps={size:4};function dt(e){var t=e.maxHeight,n=e.menuEl,a=e.minHeight,r=e.placement,o=e.shouldScroll,s=e.isFixedPosition,i=function(e){var t=getComputedStyle(e),n="absolute"===t.position,a=/(auto|scroll)/,r=document.documentElement;if("fixed"===t.position)return r;for(var o=e;o=o.parentElement;)if(t=getComputedStyle(o),(!n||"static"!==t.position)&&a.test(t.overflow+t.overflowY+t.overflowX))return o;return r}(n),l={placement:"bottom",maxHeight:t};if(!n||!n.offsetParent)return l;var c=i.getBoundingClientRect().height,u=n.getBoundingClientRect(),p=u.bottom,d=u.height,m=u.top,h=n.offsetParent.getBoundingClientRect().top,f=window.innerHeight,b=Fe(i),g=nt.menuGutter,y=h-g,v=f-m,_=y+b,E=c-b-m,k=p-f+b+g,w=b+m-g;switch(r){case"auto":case"bottom":if(v>=d)return{placement:"bottom",maxHeight:t};if(E>=d&&!s)return o&&Re(i,k,160),{placement:"bottom",maxHeight:t};if(!s&&E>=a||s&&v>=a)return o&&Re(i,k,160),{placement:"bottom",maxHeight:s?v-g:E-g};if("auto"===r||s){var A=t;return(!s&&_>=a||s&&y>=a)&&(A=s?y-g-nt.controlHeight:_-g-nt.controlHeight),{placement:"top",maxHeight:A}}if("bottom"===r)return Me(i,k),{placement:"bottom",maxHeight:t};break;case"top":if(y>=d)return{placement:"top",maxHeight:t};if(_>=d&&!s)return o&&Re(i,w,160),{placement:"top",maxHeight:t};if(!s&&_>=a||s&&y>=a){var O=t;return(!s&&_>=a||s&&y>=a)&&(O=s?y-g:_-g),o&&Re(i,w,160),{placement:"top",maxHeight:O}}return{placement:"bottom",maxHeight:t};default:throw new Error('Invalid placement provided "'+r+'".')}return l}var mt=function(e){return"auto"===e?"bottom":e},ht=function(e){function t(){var e,n,a;oe(this,t);for(var r=arguments.length,o=Array(r),s=0;s<r;s++)o[s]=arguments[s];return n=a=pe(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),a.state={maxHeight:a.props.maxMenuHeight,placement:null},a.getPlacement=function(e){var t=a.props,n=t.minMenuHeight,r=t.maxMenuHeight,o=t.menuPlacement,s=t.menuPosition,i=t.menuShouldScrollIntoView,l=a.context.getPortalPlacement;if(e){var c="fixed"===s,u=dt({maxHeight:r,menuEl:e,minHeight:n,placement:o,shouldScroll:i&&!c,isFixedPosition:c});l&&l(u),a.setState(u)}},a.getState=function(){var e=a.props.menuPlacement,t=a.state.placement||mt(e);return le({},a.props,{placement:t,maxHeight:a.state.maxHeight})},pe(a,n)}return ce(t,e),se(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.className,a=e.cx,o=e.getStyles,s=e.innerProps;return r.a.createElement("div",le({className:a(Object($.a)(o("menu",this.getState())),{menu:!0},n),ref:this.getPlacement},s),t)}}]),t}(a.Component);ht.contextTypes={getPortalPlacement:te.a.func};var ft=function(){return{color:Xe,padding:2*nt.baseUnit+"px "+3*nt.baseUnit+"px",textAlign:"center"}},bt=ft,gt=ft,yt=function(e){var t=e.children,n=e.className,a=e.cx,o=e.getStyles,s=e.innerProps;return r.a.createElement("div",le({className:a(Object($.a)(o("noOptionsMessage",e)),{"menu-notice":!0,"menu-notice--no-options":!0},n)},s),t)};yt.defaultProps={children:"No options"};var vt=function(e){var t=e.children,n=e.className,a=e.cx,o=e.getStyles,s=e.innerProps;return r.a.createElement("div",le({className:a(Object($.a)(o("loadingMessage",e)),{"menu-notice":!0,"menu-notice--loading":!0},n)},s),t)};vt.defaultProps={children:"Loading..."};var _t=function(e){function t(){var e,n,a;oe(this,t);for(var r=arguments.length,o=Array(r),s=0;s<r;s++)o[s]=arguments[s];return n=a=pe(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),a.state={placement:null},a.getPortalPlacement=function(e){var t=e.placement;t!==mt(a.props.menuPlacement)&&a.setState({placement:t})},pe(a,n)}return ce(t,e),se(t,[{key:"getChildContext",value:function(){return{getPortalPlacement:this.getPortalPlacement}}},{key:"render",value:function(){var e=this.props,t=e.appendTo,n=e.children,a=e.controlElement,o=e.menuPlacement,s=e.menuPosition,i=e.getStyles,l="fixed"===s;if(!t&&!l||!a)return null;var c=this.state.placement||mt(o),u=function(e){var t=e.getBoundingClientRect();return{bottom:t.bottom,height:t.height,left:t.left,right:t.right,top:t.top,width:t.width}}(a),p=l?0:window.pageYOffset,d={offset:u[c]+p,position:s,rect:u},m=r.a.createElement("div",{className:Object($.a)(i("menuPortal",d))},n);return t?Object(Y.createPortal)(m,t):m}}]),t}(a.Component);_t.childContextTypes={getPortalPlacement:te.a.func};var Et=Ce,kt=Ce,wt=function(e){function t(){return oe(this,t),pe(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return ce(t,e),se(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=ue(e,["children"]);return r.a.createElement(Ce,n,t)}}]),t}(a.Component);wt.defaultProps={children:r.a.createElement(ot,{size:14})};var At=function(e){function t(){return oe(this,t),pe(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return ce(t,e),se(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.className,a=e.components,o=e.cx,s=e.getStyles,i=e.innerProps,l=e.isDisabled,c=e.removeProps,u={container:o(Object($.a)(s("multiValue",this.props)),{"multi-value":!0,"multi-value--is-disabled":l},n),label:o(Object($.a)(s("multiValueLabel",this.props)),{"multi-value__label":!0},n),remove:o(Object($.a)(s("multiValueRemove",this.props)),{"multi-value__remove":!0},n)},p=a.Container,d=a.Label,m=a.Remove;return r.a.createElement(p,le({className:u.container},i),r.a.createElement(d,{className:u.label},t),r.a.createElement(m,le({className:u.remove},c)))}}]),t}(a.Component);At.defaultProps={cropWithEllipsis:!0};var Ot={ClearIndicator:function(e){var t=e.children,n=void 0===t?r.a.createElement(ot,null):t,a=e.className,o=e.cx,s=e.getStyles,i=e.innerProps;return r.a.createElement("div",le({},i,{className:o(Object($.a)(s("clearIndicator",e)),{indicator:!0,"clear-indicator":!0},a)}),n)},Control:function(e){var t=e.children,n=e.cx,a=e.getStyles,o=e.className,s=e.isDisabled,i=e.isFocused,l=e.innerProps;return r.a.createElement("div",le({className:n(Object($.a)(a("control",e)),{control:!0,"control-is-disabled":s,"control-is-focused":i},o)},l),t)},DropdownIndicator:function(e){var t=e.children,n=void 0===t?r.a.createElement(st,null):t,a=e.className,o=e.cx,s=e.getStyles,i=e.innerProps;return r.a.createElement("div",le({},i,{className:o(Object($.a)(s("dropdownIndicator",e)),{indicator:!0,"dropdown-indicator":!0},a)}),n)},DownChevron:st,CrossIcon:ot,Group:function(e){var t=e.children,n=e.className,a=e.cx,o=e.getStyles,s=e.Heading,i=e.headingProps,l=e.label,c=e.innerProps;return r.a.createElement("div",le({className:a(Object($.a)(o("group",e)),{group:!0},n)},c),r.a.createElement(s,le({getStyles:o,cx:a},i),l),r.a.createElement("div",null,t))},GroupHeading:function(e){var t=e.className,n=e.cx,a=e.getStyles,o=ue(e,["className","cx","getStyles"]);return r.a.createElement("div",le({className:n(Object($.a)(a("groupHeading",e)),{"group-heading":!0},t)},o))},IndicatorsContainer:function(e){var t=e.children,n=e.className,a=e.cx,o=e.getStyles;return r.a.createElement("div",{className:a(Object($.a)(o("indicatorsContainer",e)),{indicators:!0},n)},t)},IndicatorSeparator:function(e){var t=e.className,n=e.cx,a=e.getStyles,o=e.innerProps;return r.a.createElement("span",le({},o,{className:n(Object($.a)(a("indicatorSeparator",e)),{"indicator-separator":!0},t)}))},Input:function(e){var t=e.className,n=e.cx,a=e.getStyles,o=e.innerRef,s=e.isHidden,i=e.isDisabled,l=ue(e,["className","cx","getStyles","innerRef","isHidden","isDisabled"]);return r.a.createElement("div",{className:Object($.a)(a("input",l))},r.a.createElement(Z.a,le({className:n(null,{input:!0},t),inputRef:o,inputStyle:function(e){return{background:0,border:0,fontSize:"inherit",opacity:e?0:1,outline:0,padding:0,color:"inherit"}}(s),disabled:i},l)))},LoadingIndicator:pt,Menu:ht,MenuList:function(e){var t=e.children,n=e.className,a=e.cx,o=e.getStyles,s=e.isMulti,i=e.innerProps;return r.a.createElement("div",le({className:a(Object($.a)(o("menuList",e)),{"menu-list":!0,"menu-list--is-multi":s},n)},i),t)},MenuPortal:_t,LoadingMessage:vt,NoOptionsMessage:yt,MultiValue:At,MultiValueContainer:Et,MultiValueLabel:kt,MultiValueRemove:wt,Option:function(e){var t=e.children,n=e.className,a=e.cx,o=e.getStyles,s=e.isDisabled,i=e.isFocused,l=e.isSelected,c=e.innerProps;return r.a.createElement("div",le({className:a(Object($.a)(o("option",e)),{option:!0,"option--is-disabled":s,"option--is-focused":i,"option--is-selected":l},n)},c),t)},Placeholder:function(e){var t=e.children,n=e.className,a=e.cx,o=e.getStyles,s=e.innerProps;return r.a.createElement("div",le({className:a(Object($.a)(o("placeholder",e)),{placeholder:!0},n)},s),t)},SelectContainer:function(e){var t=e.children,n=e.className,a=e.cx,o=e.getStyles,s=e.innerProps,i=e.isDisabled,l=e.isRtl;return r.a.createElement("div",le({className:a(Object($.a)(o("container",e)),{"--is-disabled":i,"--is-rtl":l},n)},s),t)},SingleValue:function(e){var t=e.children,n=e.className,a=e.cx,o=e.getStyles,s=e.isDisabled,i=e.innerProps;return r.a.createElement("div",le({className:a(Object($.a)(o("singleValue",e)),{"single-value":!0,"single-value--is-disabled":s},n),css:o("singleValue",e)},i),t)},ValueContainer:at},Ct=function(e){return le({},Ot,e.components)},St={clearIndicator:ct,container:function(e){var t=e.isDisabled;return{direction:e.isRtl?"rtl":null,pointerEvents:t?"none":null,position:"relative"}},control:function(e){var t=e.isDisabled,n=e.isFocused;return{alignItems:"center",backgroundColor:t?Ge:n?He:ze,borderColor:t?$e:n?Le:Ye,borderRadius:4,borderStyle:"solid",borderWidth:1,boxShadow:n?"0 0 0 1px "+Le:null,cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:nt.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms","&:hover":{borderColor:n?Le:Ke}}},dropdownIndicator:lt,group:function(){return{paddingBottom:2*nt.baseUnit,paddingTop:2*nt.baseUnit}},groupHeading:function(){return{color:"#999",cursor:"default",display:"block",fontSize:"75%",fontWeight:"500",marginBottom:"0.25em",paddingLeft:3*nt.baseUnit,paddingRight:3*nt.baseUnit,textTransform:"uppercase"}},indicatorsContainer:function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},indicatorSeparator:function(e){return{alignSelf:"stretch",backgroundColor:e.isDisabled?$e:Ye,marginBottom:2*nt.baseUnit,marginTop:2*nt.baseUnit,width:1}},input:function(e){var t=e.isDisabled;return{margin:nt.baseUnit/2,paddingBottom:nt.baseUnit/2,paddingTop:nt.baseUnit/2,visibility:t?"hidden":"visible",color:qe}},loadingIndicator:function(e){var t=e.isFocused,n=e.size;return{color:t?Ze:Ye,display:"flex",padding:2*nt.baseUnit,transition:"color 150ms",alignSelf:"center",fontSize:n,lineHeight:1,marginRight:n,textAlign:"center",verticalAlign:"middle"}},loadingMessage:gt,menu:function(e){var t,n=e.placement;return ie(t={},function(e){return e?{bottom:"top",top:"bottom"}[e]:"bottom"}(n),"100%"),ie(t,"backgroundColor",He),ie(t,"borderRadius",4),ie(t,"boxShadow","0 0 0 1px "+tt+", 0 4px 11px "+tt),ie(t,"marginBottom",nt.menuGutter),ie(t,"marginTop",nt.menuGutter),ie(t,"position","absolute"),ie(t,"width","100%"),ie(t,"zIndex",1),t},menuList:function(e){return{maxHeight:e.maxHeight,overflowY:"auto",paddingBottom:nt.baseUnit,paddingTop:nt.baseUnit,position:"relative",WebkitOverflowScrolling:"touch"}},menuPortal:function(e){var t=e.rect,n=e.offset,a=e.position;return{left:t.left,position:a,top:n,width:t.width,zIndex:1}},multiValue:function(){return{backgroundColor:$e,borderRadius:2,display:"flex",margin:nt.baseUnit/2,minWidth:0}},multiValueLabel:function(e){var t=e.cropWithEllipsis;return{color:qe,fontSize:"85%",overflow:"hidden",padding:3,paddingLeft:6,textOverflow:t?"ellipsis":null,whiteSpace:"nowrap"}},multiValueRemove:function(e){return{alignItems:"center",borderRadius:2,backgroundColor:e.isFocused&&We,display:"flex",paddingLeft:nt.baseUnit,paddingRight:nt.baseUnit,":hover":{backgroundColor:We,color:Je}}},noOptionsMessage:bt,option:function(e){var t=e.isDisabled,n=e.isFocused,a=e.isSelected;return{backgroundColor:a?Le:n?Ve:"transparent",color:t?Ye:a?He:"inherit",cursor:"default",display:"block",fontSize:"inherit",padding:2*nt.baseUnit+"px "+3*nt.baseUnit+"px",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)",":active":{backgroundColor:a?Le:Ue}}},placeholder:function(){return{color:Qe,marginLeft:nt.baseUnit/2,marginRight:nt.baseUnit/2,position:"absolute",top:"50%",transform:"translateY(-50%)"}},singleValue:function(e){return{color:e.isDisabled?Xe:qe,marginLeft:nt.baseUnit/2,marginRight:nt.baseUnit/2,maxWidth:"calc(100% - "+2*nt.baseUnit+"px)",overflow:"hidden",position:"absolute",textOverflow:"ellipsis",whiteSpace:"nowrap",top:"50%",transform:"translateY(-50%)"}},valueContainer:function(){return{alignItems:"center",display:"flex",flex:1,flexWrap:"wrap",padding:nt.baseUnit/2+"px "+2*nt.baseUnit+"px",WebkitOverflowScrolling:"touch",position:"relative"}}};var xt={backspaceRemovesValue:!0,blurInputOnSelect:Be(),captureMenuScroll:!Be(),closeMenuOnSelect:!0,components:{},escapeClearsValue:!1,filterOption:function(e){return function(t,n){var a=le({ignoreCase:!0,ignoreAccents:!0,stringify:he,trim:!0,matchFrom:"any"},e),r=a.ignoreCase,o=a.ignoreAccents,s=a.stringify,i=a.trim,l=a.matchFrom,c=i?me(n):n,u=i?me(s(t)):s(t);return r&&(c=c.toLowerCase(),u=u.toLowerCase()),o&&(c=ae(c),u=ae(u)),"start"===l?u.substr(0,c.length)===c:u.indexOf(c)>-1}}(),formatGroupLabel:function(e){return e.label},getOptionLabel:function(e){return e.label},getOptionValue:function(e){return e.value},hideSelectedOptions:!0,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:function(e){return!!e.isDisabled},loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!function(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch(e){return!1}}(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var t=e.count;return t+" result"+(1!==t?"s":"")+" available."},styles:{},tabIndex:"0",tabSelectsValue:!0},Tt=1,Pt=function(e){function t(e){oe(this,t);var n=pe(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));Dt.call(n);var a=e.value;n.components=Ct(e),n.instancePrefix="react-select-"+(n.props.instanceId||++Tt);var r=je(a),o=n.buildMenuOptions(e,r);return n.state.menuOptions=o,n.state.selectValue=r,n}return ce(t,e),se(t,[{key:"componentDidMount",value:function(){this.props.autoFocus&&this.focusInput()}},{key:"componentWillReceiveProps",value:function(e){var t=this.props,n=t.components,a=t.options,r=t.value,o=t.inputValue;if(e.components!==n&&(this.components=Ct(e)),e.value!==r||e.options!==a||e.inputValue!==o){var s=je(e.value),i=this.buildMenuOptions(e,s),l=this.getNextFocusedValue(s),c=this.getNextFocusedOption(i.focusable);this.setState({menuOptions:i,selectValue:s,focusedOption:c,focusedValue:l})}null!=this.inputIsHiddenAfterUpdate&&(this.setState({inputIsHidden:this.inputIsHiddenAfterUpdate}),delete this.inputIsHiddenAfterUpdate),e.menuIsOpen&&!this.props.menuIsOpen?this.startListeningToTouch():!e.menuIsOpen&&this.props.menuIsOpen&&this.stopListeningToTouch()}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.isDisabled,a=t.menuIsOpen,r=this.state.isFocused;(r&&!n&&e.isDisabled||r&&a&&!e.menuIsOpen)&&this.focusInput(),this.menuRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&function(e,t){var n=e.getBoundingClientRect(),a=t.getBoundingClientRect(),r=t.offsetHeight/3;a.bottom+r>n.bottom?Me(e,Math.min(t.offsetTop+t.clientHeight-e.offsetHeight+r,e.scrollHeight)):a.top-r<n.top&&Me(e,Math.max(t.offsetTop-r,0))}(this.menuRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close"}),this.props.onMenuClose()}},{key:"onInputChange",value:function(e,t){this.props.onInputChange(e,t)}},{key:"focusInput",value:function(){this.input&&this.input.focus()}},{key:"blurInput",value:function(){this.input&&this.input.blur()}},{key:"openMenu",value:function(e){var t=this.state,n=t.menuOptions,a=t.selectValue,r=this.props.isMulti,o="first"===e?0:n.focusable.length-1;if(!r){var s=n.focusable.indexOf(a[0]);s>-1&&(o=s)}this.scrollToFocusedOptionOnUpdate=!0,this.inputIsHiddenAfterUpdate=!1,this.onMenuOpen(),this.setState({focusedValue:null,focusedOption:n.focusable[o]})}},{key:"focusValue",value:function(e){var t=this.props.isMulti,n=this.state,a=n.selectValue,r=n.focusedValue;if(t){this.setState({focusedOption:null});var o=r?a.indexOf(r):-1,s=a.length-1,i=-1;if(a.length){switch(e){case"previous":i=0===o?0:-1===o?s:o-1;break;case"next":o>-1&&o<s&&(i=o+1)}this.setState({inputIsHidden:-1!==i,focusedValue:a[i]})}}}},{key:"focusOption",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"first",t=this.props.pageSize,n=this.state,a=n.focusedOption,r=n.menuOptions.focusable;if(r.length){var o=0,s=a?r.indexOf(a):-1;"up"===e?o=s>0?s-1:r.length-1:"down"===e?o=(s+1)%r.length:"pageup"===e?(o=s-t)<0&&(o=0):"pagedown"===e?(o=s+t)>r.length-1&&(o=r.length-1):"last"===e&&(o=r.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:r[o],focusedValue:null})}}},{key:"getCommonProps",value:function(){var e=this.clearValue,t=this.getStyles,n=this.setValue,a=this.selectOption,r=this.props,o=r.className,s=r.classNamePrefix,i=r.isMulti,l=r.isRtl,c=r.options,u=this.state.selectValue,p=this.hasValue(),d=s;return o&&void 0===s&&(console.warn("\n        Warning: the behaviour of 'className' has changed between 2.0.0-beta.2 and 2.0.0-beta.3.\n        You can now use className to specify the class name of the outer container, and classNamePrefix to enable our provided BEM class names for internal elements.\n        The className prop will have no effect on internal elements when 2.0.0 is released.\n      "),d=o),{cx:function(e,t,n,a){var r=[t,a];if(n&&e)for(var o in n)n.hasOwnProperty(o)&&n[o]&&r.push(""+Ne(e,o));return r.filter(function(e){return e}).map(function(e){return String(e).trim()}).join(" ")}.bind(null,d),clearValue:e,getStyles:t,getValue:function(){return u},hasValue:p,isMulti:i,isRtl:l,options:c,selectOption:a,setValue:n,selectProps:r}}},{key:"getNextFocusedValue",value:function(e){if(this.clearFocusValueOnUpdate)return this.clearFocusValueOnUpdate=!1,null;var t=this.state,n=t.focusedValue,a=t.selectValue.indexOf(n);if(a>-1){if(e.indexOf(n)>-1)return n;if(a<e.length)return e[a]}return null}},{key:"getNextFocusedOption",value:function(e){var t=this.state.focusedOption;return t&&e.indexOf(t)>-1?t:e[0]}},{key:"getOptionLabel",value:function(e){return this.props.getOptionLabel(e)}},{key:"getOptionValue",value:function(e){return this.props.getOptionValue(e)}},{key:"hasValue",value:function(){return this.state.selectValue.length>0}},{key:"hasOptions",value:function(){return!!this.state.menuOptions.render.length}},{key:"countOptions",value:function(){return this.state.menuOptions.focusable.length}},{key:"isClearable",value:function(){var e=this.props,t=e.isClearable,n=e.isMulti;return void 0===t?n:t}},{key:"isOptionDisabled",value:function(e){return"function"==typeof this.props.isOptionDisabled&&this.props.isOptionDisabled(e)}},{key:"isOptionSelected",value:function(e,t){var n=this;if(t.indexOf(e)>-1)return!0;if("function"==typeof this.props.isOptionSelected)return this.props.isOptionSelected(e,t);var a=this.getOptionValue(e);return t.some(function(e){return n.getOptionValue(e)===a})}},{key:"filterOption",value:function(e,t){return!this.props.filterOption||this.props.filterOption(e,t)}},{key:"formatOptionLabel",value:function(e,t){if("function"==typeof this.props.formatOptionLabel){var n=this.props.inputValue,a=this.state.selectValue;return this.props.formatOptionLabel(e,{context:t,inputValue:n,selectValue:a})}return this.getOptionLabel(e)}},{key:"formatGroupLabel",value:function(e){return this.props.formatGroupLabel(e)}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"buildMenuOptions",value:function(e,t){var n=this,a=e.hideSelectedOptions,r=e.isMulti,o=e.inputValue,s=void 0===o?"":o,i=function(e,o){var i=n.isOptionDisabled(e),l=n.isOptionSelected(e,t),c=n.getOptionLabel(e),u=n.getOptionValue(e);if(!(r&&a&&l)&&n.filterOption({label:c,value:u,data:e},s)){var p=i?void 0:function(){return n.onOptionHover(e)},d=i?void 0:function(){return n.selectOption(e)},m=n.getElementId("option")+"-"+o;return{innerProps:{"aria-selected":l,id:m,onClick:d,onMouseMove:p,onMouseOver:p,role:"option",tabIndex:-1},data:e,isDisabled:i,isSelected:l,key:m,label:c,type:"option",value:u}}};return e.options.reduce(function(e,t,a){if(t.options){n.hasGroups||(n.hasGroups=!0);var r=t.options.map(function(t,n){var r=i(t,a+"-"+n);return r&&!r.isDisabled&&e.focusable.push(t),r}).filter(Boolean);if(r.length){var o=n.getElementId("group")+"-"+a;e.render.push({type:"group",key:o,data:t,options:r})}}else{var s=i(t,""+a);s&&(e.render.push(s),s.isDisabled||e.focusable.push(t))}return e},{render:[],focusable:[]})}},{key:"renderScreenReaderStatus",value:function(){var e=this.props.screenReaderStatus;return r.a.createElement(Se,{"aria-atomic":"true","aria-live":"polite",role:"status"},e({count:this.countOptions()}))}},{key:"renderInput",value:function(){var e=this.props,t=e.isDisabled,n=e.isLoading,a=e.isSearchable,o=e.inputId,s=e.inputValue,i=e.menuIsOpen,l=e.tabIndex,c=this.components.Input,u=this.state.inputIsHidden,p=o||this.getElementId("input");if(!a)return r.a.createElement(fe,{id:p,innerRef:this.onInputRef,onBlur:this.onInputBlur,onChange:De,onFocus:this.onInputFocus,readOnly:!0,tabIndex:l,value:""});var d={"aria-activedescendant":this.getActiveDescendentId(),"aria-autocomplete":"list","aria-busy":n,"aria-describedby":this.props["aria-describedby"],"aria-expanded":i,"aria-haspopup":i,"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-owns":i?this.getElementId("listbox"):void 0,role:"combobox"},m=this.commonProps.cx;return r.a.createElement(c,le({autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",cx:m,getStyles:this.getStyles,id:p,innerRef:this.onInputRef,isDisabled:t,isHidden:u,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:l,type:"text",value:s},d))}},{key:"renderPlaceholderOrValue",value:function(){var e=this,t=this.components,n=t.MultiValue,a=t.MultiValueContainer,o=t.MultiValueLabel,s=t.MultiValueRemove,i=t.SingleValue,l=t.Placeholder,c=this.commonProps,u=this.props,p=u.isDisabled,d=u.isMulti,m=u.inputValue,h=u.placeholder,f=this.state,b=f.selectValue,g=f.focusedValue;if(!this.hasValue())return m?null:r.a.createElement(l,le({},c,{key:"placeholder",isDisabled:p}),h);if(d)return b.map(function(t){var i=t===g;return r.a.createElement(n,le({},c,{components:{Container:a,Label:o,Remove:s},isFocused:i,isDisabled:p,key:e.getOptionValue(t),removeProps:{onClick:function(){return e.removeValue(t)},onMouseDown:function(e){e.preventDefault(),e.stopPropagation()}},data:t}),e.formatOptionLabel(t,"value"))});if(m)return null;var y=b[0];return r.a.createElement(i,le({},c,{data:y,isDisabled:p}),this.formatOptionLabel(y,"value"))}},{key:"renderClearIndicator",value:function(){var e=this.components.ClearIndicator,t=this.commonProps,n=this.props,a=n.isDisabled,o=n.isLoading,s=this.state.isFocused;if(!this.isClearable()||!e||a||!this.hasValue()||o)return null;var i={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,role:"button"};return r.a.createElement(e,le({},t,{innerProps:i,isFocused:s}))}},{key:"renderLoadingIndicator",value:function(){var e=this.components.LoadingIndicator,t=this.commonProps,n=this.props,a=n.isDisabled,o=n.isLoading,s=this.state.isFocused;if(!e||!o)return null;return r.a.createElement(e,le({},t,{innerProps:{role:"presentation"},isDisabled:a,isFocused:s}))}},{key:"renderIndicatorSeparator",value:function(){var e=this.components,t=e.DropdownIndicator,n=e.IndicatorSeparator;if(!t||!n)return null;var a=this.commonProps,o=this.props.isDisabled,s=this.state.isFocused;return r.a.createElement(n,le({},a,{innerProps:{role:"presentation"},isDisabled:o,isFocused:s}))}},{key:"renderDropdownIndicator",value:function(){var e=this.components.DropdownIndicator;if(!e)return null;var t=this.commonProps,n=this.props.isDisabled,a=this.state.isFocused,o={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,role:"button"};return r.a.createElement(e,le({},t,{innerProps:o,isDisabled:n,isFocused:a}))}},{key:"renderMenu",value:function(){var e=this,t=this.components,n=t.Group,a=t.GroupHeading,o=t.Menu,s=t.MenuList,i=t.MenuPortal,l=t.LoadingMessage,c=t.NoOptionsMessage,u=t.Option,p=this.commonProps,d=this.state,m=d.focusedOption,h=d.menuOptions,f=this.props,b=f.captureMenuScroll,g=f.inputValue,y=f.isLoading,v=f.isMulti,_=f.loadingMessage,E=f.minMenuHeight,k=f.maxMenuHeight,w=f.menuIsOpen,A=f.menuPlacement,O=f.menuPosition,C=f.menuPortalTarget,S=f.menuShouldBlockScroll,x=f.menuShouldScrollIntoView,T=f.noOptionsMessage,P=f.onMenuScrollToTop,D=f.onMenuScrollToBottom;if(!w)return null;var N=function(t){var n=m===t.data;return t.innerProps.ref=n?e.onFocusedOptionRef:void 0,r.a.createElement(u,le({},p,t,{isFocused:n}),e.formatOptionLabel(t.data,"menu"))},j=void 0;j=this.hasOptions()?h.render.map(function(t){if("group"===t.type){t.type;var o=ue(t,["type"]),s=t.key+"-heading";return r.a.createElement(n,le({},p,o,{Heading:a,innerProps:{"aria-expanded":!0,"aria-labelledby":s,role:"group"},headingProps:{id:s},label:e.formatGroupLabel(t.data)}),t.options.map(function(e){return N(e)}))}if("option"===t.type)return N(t)}):y?r.a.createElement(l,p,_({inputValue:g})):r.a.createElement(c,p,T({inputValue:g}));var I=r.a.createElement("div",null,S?r.a.createElement(xe,null):null,r.a.createElement(o,le({},p,{innerProps:{onMouseDown:this.onMenuMouseDown,onMouseMove:this.onMenuMouseMove},isLoading:y,minMenuHeight:E,maxMenuHeight:k,menuPlacement:A,menuPosition:O,menuShouldScrollIntoView:x}),r.a.createElement(Pe,{isEnabled:b,onTopArrive:P,onBottomArrive:D},r.a.createElement(s,le({},p,{innerProps:{"aria-multiselectable":v,id:this.getElementId("listbox"),ref:this.onMenuRef,role:"listbox"},isLoading:y,maxHeight:k}),j))));return C||"fixed"===O?r.a.createElement(i,le({},p,{appendTo:C,controlElement:this.controlRef,menuPlacement:A,menuPosition:O}),I):I}},{key:"renderFormField",value:function(){var e=this,t=this.props,n=t.delimiter,a=t.isDisabled,o=t.isMulti,s=t.name,i=this.state.selectValue;if(s&&!a){if(o){if(n){var l=i.map(function(t){return e.getOptionValue(t)}).join(n);return r.a.createElement("input",{name:s,type:"hidden",value:l})}return r.a.createElement("div",null,i.map(function(t,n){return r.a.createElement("input",{key:"i-"+n,name:s,type:"hidden",value:e.getOptionValue(t)})}))}var c=i[0]?this.getOptionValue(i[0]):"";return r.a.createElement("input",{name:s,type:"hidden",value:c})}}},{key:"render",value:function(){var e=this.components,t=e.Control,n=e.IndicatorsContainer,a=e.SelectContainer,o=e.ValueContainer,s=this.props,i=s.className,l=s.id,c=s.isDisabled,u=this.state.isFocused,p=this.commonProps=this.getCommonProps();return r.a.createElement(a,le({},p,{className:i,innerProps:{id:l,onKeyDown:this.onKeyDown},isDisabled:c,isFocused:u}),this.renderScreenReaderStatus(),r.a.createElement(t,le({},p,{innerProps:{ref:this.onControlRef,onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:c,isFocused:u}),r.a.createElement(o,le({},p,{isDisabled:c}),this.renderPlaceholderOrValue(),this.renderInput()),r.a.createElement(n,le({},p,{isDisabled:c}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}]),t}(a.Component);Pt.defaultProps=xt;var Dt=function(){var e=this;this.blockOptionHover=!1,this.clearFocusValueOnUpdate=!1,this.hasGroups=!1,this.instancePrefix="",this.openAfterFocus=!1,this.scrollToFocusedOptionOnUpdate=!1,this.state={focusedOption:null,focusedValue:null,inputIsHidden:!1,isFocused:!1,menuOptions:{render:[],focusable:[]},selectValue:[]},this.onInputRef=function(t){e.input=t},this.onControlRef=function(t){e.controlRef=t},this.onMenuRef=function(t){e.menuRef=t},this.onFocusedOptionRef=function(t){e.focusedOptionRef=t},this.focus=this.focusInput,this.blur=this.blurInput,this.setValue=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"set-value",a=e.props,r=a.closeMenuOnSelect,o=a.isMulti,s=a.onChange;e.onInputChange("",{action:"set-value"}),r&&(e.inputIsHiddenAfterUpdate=!o,e.onMenuClose()),e.clearFocusValueOnUpdate=!0,s(t,{action:n})},this.selectOption=function(t){var n=e.props,a=n.blurInputOnSelect;if(n.isMulti){var r=e.state.selectValue;e.isOptionSelected(t,r)?e.setValue(r.filter(function(e){return e!==t}),"deselect-option"):e.setValue([].concat(de(r),[t]),"select-option")}else e.setValue(t,"select-option");a&&e.blurInput()},this.removeValue=function(t){(0,e.props.onChange)(e.state.selectValue.filter(function(e){return e!==t}),{action:"remove-value"}),e.focusInput()},this.clearValue=function(){var t=e.props,n=t.isMulti;(0,t.onChange)(n?[]:null,{action:"clear"})},this.popValue=function(){var t=e.props.onChange,n=e.state.selectValue;t(n.slice(0,n.length-1),{action:"pop-value"})},this.getStyles=function(t,n){var a=St[t](n);a.boxSizing="border-box";var r=e.props.styles[t];return r?r(a,n):a},this.getElementId=function(t){return e.instancePrefix+"-"+t},this.getActiveDescendentId=function(){var t=e.props.menuIsOpen,n=e.state,a=n.menuOptions,r=n.focusedOption;if(r&&t){var o=a.focusable.indexOf(r),s=a.render[o];return s&&s.key}},this.onMenuMouseDown=function(t){0===t.button&&(t.stopPropagation(),t.preventDefault(),e.focusInput())},this.onMenuMouseMove=function(t){e.blockOptionHover=!1},this.onControlMouseDown=function(t){var n=e.props.openMenuOnClick;e.state.isFocused?e.props.menuIsOpen?e.onMenuClose():e.openMenu("first"):(n&&(e.openAfterFocus=!0),e.focusInput()),"INPUT"!==t.target.tagName&&t.preventDefault()},this.onDropdownIndicatorMouseDown=function(t){if(!(t&&"mousedown"===t.type&&0!==t.button||e.props.isDisabled)){var n=e.props,a=n.isMulti,r=n.menuIsOpen;e.focusInput(),r?(e.inputIsHiddenAfterUpdate=!a,e.onMenuClose()):e.openMenu("first"),t.preventDefault(),t.stopPropagation()}},this.onClearIndicatorMouseDown=function(t){t&&"mousedown"===t.type&&0!==t.button||(e.clearValue(),t.stopPropagation(),e.openAfterFocus=!1,setTimeout(function(){return e.focusInput()}))},this.onTouchStart=function(){e.userIsDragging=!1},this.onTouchMove=function(){e.userIsDragging=!0},this.onTouchEnd=function(t){e.userIsDragging||e.controlRef&&!e.controlRef.contains(t.target)&&e.menuRef&&!e.menuRef.contains(t.target)&&e.blurInput()},this.onControlTouchEnd=function(t){e.userIsDragging||e.onControlMouseDown(t)},this.onClearIndicatorTouchEnd=function(t){e.userIsDragging||e.onClearIndicatorMouseDown(t)},this.onDropdownIndicatorTouchEnd=function(t){e.userIsDragging||e.onDropdownIndicatorMouseDown(t)},this.handleInputChange=function(t){var n=t.currentTarget.value;e.inputIsHiddenAfterUpdate=!1,e.onInputChange(n,{action:"input-change"}),e.onMenuOpen()},this.onInputFocus=function(t){e.props.onFocus&&e.props.onFocus(t),e.inputIsHiddenAfterUpdate=!1,e.setState({isFocused:!0}),(e.openAfterFocus||e.props.openMenuOnFocus)&&e.openMenu("first"),e.openAfterFocus=!1},this.onInputBlur=function(t){e.props.onBlur&&e.props.onBlur(t),e.onInputChange("",{action:"input-blur"}),e.onMenuClose(),e.setState({focusedValue:null,isFocused:!1})},this.onOptionHover=function(t){e.blockOptionHover||e.state.focusedOption===t||e.setState({focusedOption:t})},this.onKeyDown=function(t){var n=e.props,a=n.isMulti,r=n.backspaceRemovesValue,o=n.escapeClearsValue,s=n.inputValue,i=n.isClearable,l=n.isDisabled,c=n.menuIsOpen,u=n.onKeyDown,p=n.tabSelectsValue,d=n.openMenuOnFocus,m=e.state,h=m.focusedOption,f=m.focusedValue,b=m.selectValue;if(!(l||"function"==typeof u&&(u(t),t.defaultPrevented))){switch(e.blockOptionHover=!0,t.key){case"ArrowLeft":if(!a||s)return;e.focusValue("previous");break;case"ArrowRight":if(!a||s)return;e.focusValue("next");break;case"Backspace":if(s)return;if(f)e.removeValue(f);else{if(!r)return;e.popValue()}break;case"Tab":if(t.shiftKey||!c||!p||!h||d&&e.isOptionSelected(h,b))return;e.selectOption(h);break;case"Enter":if(c){if(!h)return;e.selectOption(h)}else e.focusOption("first");break;case"Escape":c?(e.inputIsHiddenAfterUpdate=!1,e.onInputChange("",{action:"menu-close"}),e.onMenuClose()):i&&o&&e.clearValue();break;case" ":if(s)return;if(!c){e.openMenu("first");break}if(!h)return;e.selectOption(h);break;case"ArrowUp":c?e.focusOption("up"):e.openMenu("last");break;case"ArrowDown":c?e.focusOption("down"):e.openMenu("first");break;case"PageUp":if(!c)return;e.focusOption("pageup");break;case"PageDown":if(!c)return;e.focusOption("pagedown");break;case"Home":if(!c)return;e.focusOption("first");break;case"End":if(!c)return;e.focusOption("last");break;default:return}t.preventDefault()}}},Nt=function(e){var t,n;return n=t=function(t){function n(){var e,t,a;oe(this,n);for(var r=arguments.length,o=Array(r),s=0;s<r;s++)o[s]=arguments[s];return t=a=pe(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(o))),a.state={inputValue:void 0!==a.props.inputValue?a.props.inputValue:a.props.defaultInputValue,menuIsOpen:void 0!==a.props.menuIsOpen?a.props.menuIsOpen:a.props.defaultMenuIsOpen,value:void 0!==a.props.value?a.props.value:a.props.defaultValue},a.onChange=function(e,t){a.callProp("onChange",e,t),a.setState({value:e})},a.onInputChange=function(e,t){var n=a.callProp("onInputChange",e,t);a.setState({inputValue:void 0!==n?n:e})},a.onMenuOpen=function(){a.callProp("onMenuOpen"),a.setState({menuIsOpen:!0})},a.onMenuClose=function(){a.callProp("onMenuClose"),a.setState({menuIsOpen:!1})},pe(a,t)}return ce(n,t),se(n,[{key:"focus",value:function(){this.select.focus()}},{key:"blur",value:function(){this.select.blur()}},{key:"getProp",value:function(e){return void 0!==this.props[e]?this.props[e]:this.state[e]}},{key:"callProp",value:function(e){if("function"==typeof this.props[e]){for(var t,n=arguments.length,a=Array(n>1?n-1:0),r=1;r<n;r++)a[r-1]=arguments[r];return(t=this.props)[e].apply(t,de(a))}}},{key:"render",value:function(){var t=this;return r.a.createElement(e,le({},this.props,{ref:function(e){t.select=e},inputValue:this.getProp("inputValue"),menuIsOpen:this.getProp("menuIsOpen"),onChange:this.onChange,onInputChange:this.onInputChange,onMenuClose:this.onMenuClose,onMenuOpen:this.onMenuOpen,value:this.getProp("value")}))}}]),n}(a.Component),t.defaultProps={defaultInputValue:"",defaultMenuIsOpen:!1,defaultValue:null},n},jt={cacheOptions:!1,defaultOptions:!1},It=function(e){var t,n;return n=t=function(t){function n(e){oe(this,n);var t=pe(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return t.mounted=!1,t.optionsCache={},t.handleInputChange=function(e,n){var a=t.props,r=a.cacheOptions,o=function(e,t,n){if(n){var a=n(e,t);if("string"==typeof a)return a}return e}(e,n,a.onInputChange);if(!o)return delete t.lastRequest,void t.setState({inputValue:"",loadedInputValue:"",loadedOptions:[],isLoading:!1,passEmptyOptions:!1});if(r&&t.optionsCache[o])t.setState({inputValue:o,loadedInputValue:o,loadedOptions:t.optionsCache[o],isLoading:!1,passEmptyOptions:!1});else{var s=t.lastRequest={};t.setState({inputValue:o,isLoading:!0,passEmptyOptions:!t.state.loadedInputValue},function(){t.loadOptions(o,function(e){t.mounted&&(e&&(t.optionsCache[o]=e),s===t.lastRequest&&(delete t.lastRequest,t.setState({isLoading:!1,loadedInputValue:o,loadedOptions:e||[],passEmptyOptions:!1})))})})}return o},t.state={defaultOptions:Array.isArray(e.defaultOptions)?e.defaultOptions:void 0,inputValue:"",isLoading:!0===e.defaultOptions,loadedOptions:[],passEmptyOptions:!1},t}return ce(n,t),se(n,[{key:"componentDidMount",value:function(){var e=this;this.mounted=!0,!0===this.props.defaultOptions&&this.loadOptions("",function(t){if(e.mounted){var n=!!e.lastRequest;e.setState({defaultOptions:t||[],isLoading:n})}})}},{key:"componentWillReceiveProps",value:function(e){e.cacheOptions!==this.props.cacheOptions&&(this.optionsCache={})}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"focus",value:function(){this.select.focus()}},{key:"blur",value:function(){this.select.blur()}},{key:"loadOptions",value:function(e,t){var n=this.props.loadOptions;if(!n)return t();var a=n(e,t);a&&"function"==typeof a.then&&a.then(t,function(){return t()})}},{key:"render",value:function(){var t=this,n=this.props,a=(n.loadOptions,ue(n,["loadOptions"])),o=this.state,s=o.defaultOptions,i=o.inputValue,l=o.isLoading,c=o.loadedInputValue,u=o.loadedOptions,p=o.passEmptyOptions?[]:i&&c?u:s||[];return r.a.createElement(e,le({},a,{ref:function(e){t.select=e},options:p,filterOption:null,isLoading:l,onInputChange:this.handleInputChange}))}}]),n}(a.Component),t.defaultProps=jt,n},Ft=(It(Nt(Pt)),function(e,t){var n=e.toLowerCase();return t.value.toLowerCase()===n||t.label.toLowerCase()===n}),Mt=le({allowCreateWhileLoading:!1},{formatCreateLabel:function(e){return'Create "'+e+'"'},isValidNewOption:function(e,t,n){return!(!e||t.some(function(t){return Ft(e,t)})||n.some(function(t){return Ft(e,t)}))},getNewOptionData:function(e,t){return{label:t,value:e,__isNew__:!0}}}),Rt=function(e){var t,n;return n=t=function(t){function n(e){oe(this,n);var t=pe(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));t.onChange=function(e,n){var a=t.props,r=a.getNewOptionData,o=a.inputValue,s=a.isMulti,i=a.onChange,l=a.onCreateOption,c=a.value;if("select-option"!==n.action)return i(e,n);var u=t.state.newOption,p=Array.isArray(e)?e:[e];if(p[p.length-1]!==u)i(e,n);else if(l)l(o);else{var d=r(o,o),m={action:"create-option"};i(s?[].concat(de(je(c)),[d]):d,m)}};var a=e.options||[];return t.state={newOption:void 0,options:a},t}return ce(n,t),se(n,[{key:"componentWillReceiveProps",value:function(e){var t=e.allowCreateWhileLoading,n=e.formatCreateLabel,a=e.getNewOptionData,r=e.inputValue,o=e.isLoading,s=e.isValidNewOption,i=e.value,l=e.options||[],c=this.state.newOption;c=s(r,je(i),l)?a(r,n(r)):void 0,this.setState({newOption:c,options:!t&&o||!c?l:[].concat(de(l),[c])})}},{key:"focus",value:function(){this.select.focus()}},{key:"blur",value:function(){this.select.blur()}},{key:"render",value:function(){var t=this,n=ue(this.props,[]),a=this.state.options;return r.a.createElement(e,le({},n,{ref:function(e){t.select=e},options:a,onChange:this.onChange}))}}]),n}(a.Component),t.defaultProps=Mt,n},Bt=(Nt(Rt(Pt)),It(Nt(Rt(Pt))),Nt(Pt)),qt=n(9),Lt=n(398),Ut=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var Vt=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&(n[a[r]]=e[a[r]])}return n},Jt=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.subCounter={ticker:{},depth:{}},this.subscription={channel:""}}return Ut(e,[{key:"addMarketListener",value:function(e){var t=this;(arguments.length>1&&void 0!==arguments[1]?arguments[1]:["ticker","depth"]).forEach(function(n){e in t.subCounter[n]?t.subCounter[n][e]+=1:t.subCounter[n][e]=1}),this.updateWs()}},{key:"removeMarketListener",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["ticker","depth"];console.debug("RemoveMarket: ",e),n.forEach(function(n){e in t.subCounter[n]&&t.subCounter[n][e]>0?t.subCounter[n][e]=0:console.error("Remove Market Listener Error: ",e,n)}),console.debug("Now Subcounter: ",JSON.stringify(this.subCounter)),this.updateWs()}},{key:"updateWs",value:function(){var e=this,t=Object.getOwnPropertyNames(this.subCounter).map(function(t){return Object.getOwnPropertyNames(e.subCounter[t]).filter(function(n){return!!e.subCounter[t][n]}).map(function(e){return e+"@"+t}).join("/")}).filter(function(e){return e.length}).join("/");t!==this.subscription.channel&&t&&(this.subscription.ws&&this.subscription.ws.close(),this.setupWs(t))}},{key:"setupWs",value:function(e){this.subscription.channel=e,this.subscription.ws=new Lt.a("wss://mdp.cybex.io/streams?stream="+e),this.subscription.ws.onmessage=this.onMarketMsg}},{key:"onMarketMsg",value:function(e){var t=JSON.parse(e.data);return{channel:t.type,market:t.sym,data:Vt(t,["type","sym"])}}}]),e}(),Wt=qt.a.createActions(Jt),Ht=n(128),zt=n(5),Gt=n.n(zt),$t=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var Yt,Kt,Xt=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return console.debug("RTE Store Constructor"),e.state={ticker:Object(zt.Map)(),depth:Object(zt.Map)()},e.bindListeners({onUpdateMarket:Wt.onMarketMsg}),console.debug("RTE Store Constructor Done"),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,Ht["a"]),$t(t,[{key:"onUpdateMarket",value:function(e){var t=e.channel,n=e.market,a=e.data;if(this.state[t]){var r=this.state[t].set(n,a);this.setState(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},t,r))}}}]),t}(),Qt=qt.a.createStore(Xt,"RteStore"),Zt=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],a=!0,r=!1,o=void 0;try{for(var s,i=e[Symbol.iterator]();!(a=(s=i.next()).done)&&(n.push(s.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{!a&&i.return&&i.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),en=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function tn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function nn(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function an(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rn(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}!function(e){e[e.Ask=0]="Ask",e[e.Bid=1]="Bid",e[e.All=2]="All"}(Yt||(Yt={})),function(e){e[e.Accum=0]="Accum",e[e.Interval=1]="Interval"}(Kt||(Kt={}));var on={base:{display:"flex",flexShrink:0,position:"relative",padding:"0 0.5rem",margin:"0 -0.5em"}},sn={base:Object.assign({},on.base,{flexGrow:1,flexFlow:"column",transition:"all 0.4s ease-in-out",overflowY:"hidden",justifyContent:"space-between",flex:"1"}),expand:{flex:"1"},hidden:{flex:"0"},scroll:{overflowY:"auto",height:"calc(100% - 32px)"}},ln={height:"calc(100% - 32px)"},cn=Object.assign({},ln,sn,{display:"flex",padding:"0 0.5rem",flexFlow:"column"}),un={flexBasis:"24px",lineHeight:"24px"},pn={height:"32px",display:"flex",alignItems:"center"},dn=function(e,t,n,a){return t&&e&&Array.isArray(e)&&n?e.length>n?e.slice(0,n):[].concat(rn(e),rn(new Array(n-e.length).fill(a))):e},mn=function(e){return{zIndex:2,lineHeight:"24px",width:e}},hn=(function(){function e(t,n,a,r,o,s){an(this,e),this.price=t,this.value=n,this.amount=a,this.isBid=r,this.basePrecision=o,this.quotePresicion=s}en(e,[{key:"sum",value:function(t){return new e(this.price,this.value+t.value,this.amount+t.amount,this.isBid,this.basePrecision,this.quotePresicion)}},{key:"priceAmount",get:function(){return parseInt((this.price*Math.pow(10,this.basePrecision)).toString())}},{key:"amountAmount",get:function(){return parseInt((this.amount*Math.pow(10,this.quotePresicion)).toString())}},{key:"accumAmount",get:function(){return parseInt((this.accum*Math.pow(10,this.quotePresicion)).toString())}},{key:"quoteValueAmount",get:function(){return parseInt((this.accum*this.price*Math.pow(10,this.basePrecision)).toString())}}])}(),(kn=function(e){function t(){return an(this,t),tn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return nn(t,a["Component"]),en(t,[{key:"shouldComponentUpdate",value:function(e){return e.order.ne(this.props.order)||e.index!==this.props.index||e.digits!==this.props.digits||e.max!==this.props.max||e.total!==this.props.total||e.depthType!==this.props.depthType||e.currentAccount!==this.props.currentAccount}},{key:"render",value:function(){var e=this.props,t=e.order,n=e.quote,r=e.base,o=(e.final,e.digits),s=e.depthType,i=e.total,l=e.withYuan,c=e.unitYuan,u=e.max,p=e.previous,d=t.isBid(),m=(t.isCall(),a.createElement(v,{price:t.getPrice(t.sell_price,o),quote:n,base:r,precision:o,previous:p})),h=l?parseFloat((c*t.getPrice(t.sell_price,o)).toFixed(Math.max(o-3,2))):NaN,b=(t?s===Kt.Interval?100*((d?t.amountToReceive().amount:t.amountForSale().amount)/u).toFixed(4):100*(t.accum/i).toFixed(4):0)+"%";return a.createElement("div",{onClick:this.props.onClick,className:M()("link","order-row",{"my-order":t.isMine(this.props.currentAccount)}),style:[on.base,un],"data-tip":l&&!isNaN(h)?"¥ "+h:null,"data-place":"left"},a.createElement("i",{className:"bg",style:{position:"absolute",zIndex:1,width:b,height:"100%",margin:"0 -0.5em",backgroundColor:d?H.e.$colorGrass:H.e.$colorFlame,opacity:.25}}),a.createElement("span",{className:"text-left",style:[mn("30%"),{color:d?H.e.$colorGrass:H.e.$colorFlame}]},m),a.createElement("span",{className:"text-right",style:mn("30%")},f.a.format_number(t[d?"amountToReceive":"amountForSale"]().getAmount({real:!0}),n.get("precision"))),a.createElement("span",{className:"text-right",style:mn("40%")},f.a.format_number(t[d?"amountForSale":"amountToReceive"]().getAmount({real:!0}),r.get("precision"))))}}]),t}()).defaultProps={depthType:Kt.Interval},kn);hn=Object(W.a)(hn),hn=Object(L.connect)(hn,{listenTo:function(){return[R.a]},getProps:function(e){var t=e.base,n=f.a.replaceName(t.get("symbol"),!1).name;return{unitYuan:R.a.getState().priceState[n]||NaN}}});var fn=function(e){function t(){an(this,t);var e=tn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.handleDepthChange=function(t){var n=e.props.onDepthChange;n&&n(t)},e.getDepthOption=function(e){return{label:G.a.translate("exchange.depth",{depth:e}),value:e}},e}return nn(t,a["PureComponent"]),en(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.type,r=t.depthType,o=t.onTypeChange,s=t.onDepthTypeChange,i=(t.onDepthChange,this.props),l=i.maxDigits,c=i.digits;console.debug("OrderBookHeader: ",this.props);var u=Math.min(8,l),p=new Array(Math.min(4,u)).fill(1).map(function(t,n){return e.getDepthOption(u-n)});return a.createElement(a.Fragment,null,a.createElement(H.j,{key:"orderType-all",active:n===Yt.All,onClick:o.bind(this,Yt.All),style:En.tab},a.createElement(g.a,{content:"exchange.orderbook.all"})),a.createElement(H.j,{key:"orderType-ask",active:n===Yt.Ask,onClick:o.bind(this,Yt.Ask),style:En.tab},a.createElement(g.a,{content:"exchange.orderbook.ask"})),a.createElement(H.j,{key:"orderType-bid",active:n===Yt.Bid,onClick:o.bind(this,Yt.Bid),style:En.tab},a.createElement(g.a,{content:"exchange.orderbook.bid"})),a.createElement("i",{key:"orderType-divider",style:{flexGrow:1}}),a.createElement(H.j,{key:"depthType-interval",type:"secondary",active:r===Kt.Interval,onClick:s.bind(this,Kt.Interval),style:En.tab},a.createElement(g.a,{content:"exchange.orderbook.compare_depth"})),a.createElement(H.j,{key:"depthType-accum",type:"secondary",active:r===Kt.Accum,onClick:s.bind(this,Kt.Accum),style:En.tab},a.createElement(g.a,{content:"exchange.orderbook.accum_depth"})),a.createElement("i",{key:"depthType-divider",style:{flexGrow:1}}),a.createElement(Bt,{key:"depthType-switcher",onChange:this.handleDepthChange,styles:Object(H.a)("orderbook"),options:p,value:this.getDepthOption(c)}))}}]),t}(),bn=function(e){function t(){return an(this,t),tn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return nn(t,a["PureComponent"]),en(t,[{key:"render",value:function(){return a.createElement("div",{style:on.base},a.createElement("span",{className:"text-left",style:mn("30%")},"---"),a.createElement("span",{className:"text-right",style:mn("30%")},"---"),a.createElement("span",{className:"text-right",style:mn("40%")},"---"))}}]),t}(),gn=function(e){function t(){return an(this,t),tn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return nn(t,a["PureComponent"]),en(t,[{key:"render",value:function(){var e=this.props,t=e.baseSymbol,n=e.quoteSymbol;return a.createElement("div",{key:"top-header",style:pn,className:"top-header"},a.createElement("span",{className:"header-sub-title text-left",style:{width:"30%"}},G.a.translate("exchange.price"),"(",a.createElement(E.a,{dataPlace:"top",name:t}),")"),a.createElement("span",{className:"header-sub-title text-right",style:{width:"30%"}},G.a.translate("exchange.quantity"),"(",a.createElement(E.a,{dataPlace:"top",name:n}),")"),a.createElement("span",{className:"header-sub-title text-right",style:{width:"40%"}},G.a.translate("exchange.total_bidask"),"(",a.createElement(E.a,{dataPlace:"top",name:t}),")"))}}]),t}(),yn=function(e){function t(){return an(this,t),tn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return nn(t,a["Component"]),en(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.orders,r=(t.displayType,t.type),o=(t.countOfRow,t.base),s=t.quote,i=t.onOrderClick,l=t.currentAccount,c=t.depthType,u=t.total,p=t.digits,d=t.max,m=r===Yt.Ask?n.reverse():n;return m.map(function(t,n){var h=void 0,f=(h=r===Yt.Ask?n<m.length-1?m[n+1]:null:n>0?m[n-1]:null)?h.getPrice():null;return null===t?a.createElement(bn,{key:"$nullOrder"+n}):a.createElement(hn,{index:n,key:t.getPrice()+(t.isCall()?"_call":""),order:t,onClick:i.bind(e,t,t.getPrice(t.sell_price,p)),digits:p,withYuan:!0,base:o,quote:s,final:0===n,depthType:c,max:d,total:u,currentAccount:l,previous:f})})}}]),t}(),vn=function(e){var t=e&&e.full||0,n=Number.parseFloat(t).toPrecision(5).split(".")[1]||"",a=n.length;return{maxDigit:Math.max(1,Math.min(8,a)),tooSmall:n.startsWith("0000")}},_n=((wn=function(e){function t(e){an(this,t);var n=tn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.setType=function(e){n.setState({type:e}),n.fixPos()},n.setDepthType=function(e){n.setState({depthType:e})},n.fixPos=function(){setTimeout(function(){n.askWrapper&&(n.askWrapper.scrollTop=n.askWrapper.scrollHeight+1e3),n.state.type!==Yt.Ask&&setTimeout(function(){n.askWrapper.scrollTop=n.askWrapper.scrollHeight+1e3},200)},200)},n.onDepthChange=function(e){var t=e.value;n.setState({digits:t})},n.onDepthTypeChange={};var a=vn(e.latest),r=a.maxDigit,o=a.tooSmall;return n.state={scrollToBottom:!0,flip:e.flipOrderBook,showAllBids:!0,showAllAsks:!0,rowCount:20,tooSmall:o,digits:o?r:r-2,maxDigits:r,depthType:Kt.Interval,type:Yt.All},Wt.addMarketListener(""+e.quoteSymbol+e.baseSymbol),n}return nn(t,a["Component"]),en(t,[{key:"shouldComponentUpdate",value:function(e){return e.marketReady}},{key:"componentDidUpdate",value:function(e){var t=""+this.props.quoteSymbol+this.props.baseSymbol;this.marketPair!==t&&(Wt.removeMarketListener(this.marketPair),this.marketPair=t,Wt.addMarketListener(this.marketPair))}},{key:"componentDidMount",value:function(){this.fixPos()}},{key:"componentDidCatch",value:function(){return a.createElement("h1",null,"Opps")}},{key:"render",value:function(){var e=this,t=this.props,n=t.combinedBids,r=t.combinedAsks,o=(t.highestBid,t.lowestAsk,t.quote),s=t.base,i=(t.totalAsks,t.totalBids,t.quoteSymbol),l=t.baseSymbol,c=(t.horizontal,t.marketReady),u=t.rteTicker,p=t.rteDepth,d=t.latest,m=this.state,h=(m.showAllAsks,m.showAllBids,m.rowCount,m.type),f=m.digits,b=m.maxDigits,g=m.depthType,y=document.getElementById("orderBook")?Math.floor((document.getElementById("orderBook").offsetHeight/24-3)/2):24;if(!s||!o)return null;var v="JADE.USDT"===l&&"JADE.ETH"===i||"JADE.USDT"===l&&"JADE.EOS"===i,_=(v&&p.bids,v&&p.bids?[p.bids,p.asks].map(function(e,t){return e.map(function(e){return A.d.fromRteOrder(e,s,o,!t)})}):[n,r]),E=Zt(_,2),k=[E[0],E[1]].map(function(e){return Array.from(e.reduce(function(e,t){var n=t.getPrice(t.sell_price,f);e[n];if(e.has(n)){var a=e.get(n).sum(t);e.set(n,a)}else e.set(n,t);return e},new Map).values())}),w=Zt(k,2),O=w[0],C=w[1];Array.prototype.lastOne=function(){return this.length?this.filter(function(e){return e}).slice(-1)[0]:null},C=Yt.Ask===h?dn(C,C.length<2*y,2*y,null):dn(C,!0,y,null);var S=0,x=0,T=0;(O=Yt.Bid===h?dn(O,O.length<2*y,2*y,null):dn(O,!0,y,null)).filter(function(e){return e}).forEach(function(e){var t=e.isBid()?e.amountToReceive().amount:e.amountForSale().amount;x=Math.max(x,t),S+=t,e.accum=S}),S=0,C.filter(function(e){return e}).forEach(function(e){var t=e.isBid()?e.amountToReceive().amount:e.amountForSale().amount;T=Math.max(T,t),S+=t,e.accum=S});var P=Math.max(O.lastOne()&&O.lastOne().accum||0,C.lastOne()&&C.lastOne().accum||0),D=a.createElement("div",{style:[un,{backgroundColor:H.e.$colorAnchor,margin:"0 -0.5rem"}],className:"text-center"},a.createElement(J,{ready:c,price:v&&u&&u.px||d&&d.full||{},quote:o,withYuan:!0,base:s,hideQuote:!0}));return[a.createElement("div",{className:"order-book-title",style:pn},a.createElement(fn,{type:this.state.type,onTypeChange:this.setType,maxDigits:b,digits:f,depthType:this.state.depthType,onDepthTypeChange:this.setDepthType,onDepthChange:this.onDepthChange})),a.createElement("div",{className:"order-book-wrapper",style:ln},a.createElement(gn,{baseSymbol:s.get("symbol"),quoteSymbol:o.get("symbol")}),a.createElement("div",{className:"order-book-body _scroll-bar",style:[cn]},a.createElement("div",{ref:function(t){return e.askWrapper=t},className:"ask-wrapper",style:[sn.base,h===Yt.All&&sn.expand,h===Yt.Ask&&sn.scroll,h===Yt.Bid&&sn.hidden]},a.createElement(yn,{displayType:this.state.type,type:Yt.Ask,currentAccount:this.props.currentAccount,countOfRow:y,total:P,digits:f,base:s,quote:o,orders:C,max:T,depthType:g,onOrderClick:this.props.onClick.bind(this)})),D,a.createElement("div",{className:"bid-wrapper",style:[sn.base,h===Yt.All&&sn.expand,h===Yt.Bid&&sn.scroll,h===Yt.Ask&&sn.hidden]},a.createElement(yn,{displayType:this.state.type,type:Yt.Bid,currentAccount:this.props.currentAccount,countOfRow:y,digits:f,base:s,total:P,quote:o,depthType:g,max:x,orders:O,onOrderClick:this.props.onClick.bind(this)}))))]}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=t.maxDigits,a=t.tooSmall,r=vn(e.latest),o=r.maxDigit,s=r.tooSmall,i=Math.min(o+2,8),l={tooSmall:s,maxDigits:i};return(t.digits>i||i!=n||s!==a)&&(l.digits=s?i:i-2),l}}]),t}()).defaultProps={bids:[],asks:[],orders:{}},wn.propTypes={bids:p.array.isRequired,asks:p.array.isRequired,orders:p.object.isRequired},wn),En={tab:{marginRight:"0.5rem",lineHeight:"24px",height:"24px"}};_n=Object(W.a)(_n);var kn,wn,An=_n=Object(L.connect)(_n,{listenTo:function(){return[Qt]},getProps:function(e){return{rteDepth:Qt.getState().depth.get(""+e.quoteSymbol+e.baseSymbol,{}),rteTicker:Qt.getState().ticker.get(""+e.quoteSymbol+e.baseSymbol,{})}}}),On=(n(1421),n(94)),Cn=n(18),Sn=n(111),xn=n(191),Tn=n(1467),Pn=n.n(Tn),Dn=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var Nn=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["Component"]),Dn(t,[{key:"componentWillMount",value:function(){xn.a.getBlock.defer(this.props.block_number)}},{key:"shouldComponentUpdate",value:function(e){return e.block&&!this.props.block&&setTimeout(q.a.rebuild,1e3),e.block!==this.props.block}},{key:"render",value:function(){var e=this.props,t=e.block,n=e.tooltip,r=e.component,o=e.format;return t?a.createElement(r,{className:n?"tooltip":"","data-tip":n?t.timestamp:""},a.createElement("span",null,G.a.localize(t.timestamp,{type:"date",format:o}))):a.createElement(r)}}]),t}();Nn.defaultProps={format:-1!==Pn()().toLowerCase().indexOf("en-us")?"market_history_us":"market_history",tooltip:!1,component:"span"};var jn=Nn=Object(L.connect)(Nn,{listenTo:function(){return[Sn.a]},getProps:function(e){return{block:Sn.a.getState().blocks.get(e.block_number)}}}),In=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var Fn=w.c.operations,Mn=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.state={activeTab:e.viewSettings.get("historyTab","history")},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["Component"]),In(t,[{key:"shouldComponentUpdate",value:function(e,t){return!Gt.a.is(e.history,this.props.history)||e.baseSymbol!==this.props.baseSymbol||e.quoteSymbol!==this.props.quoteSymbol||e.className!==this.props.className||t.activeTab!==this.state.activeTab||e.currentAccount!==this.props.currentAccount}},{key:"_changeTab",value:function(e){Cn.a.changeViewSetting({historyTab:e}),this.setState({activeTab:e}),this.refs.history.scrollTop=0,setTimeout(q.a.rebuild,1e3)}},{key:"render",value:function(){var e=this.props,t=e.history,n=e.myHistory,r=e.base,o=e.quote,s=(e.baseSymbol,e.quoteSymbol),i=e.isNullAccount,l=this.state.activeTab,c=null;if(i&&(l="history"),"my_history"===l&&n&&n.size){var u=-1,p=r.get("id").split(".")[2]>o.get("id").split(".")[2];c=n.filter(function(e){return e.getIn(["op",0])===Fn.fill_order}).filter(function(e){var t=o.get("id"),n=r.get("id"),a=e.getIn(["op",1,"pays","asset_id"]),s=e.getIn(["op",1,"receives","asset_id"]);return(t===a||t===s)&&(n===a||n===s)}).sort(function(e,t){return t.get("block_num")-e.get("block_num")}).map(function(e){var t=e.toJS().op[1];u++;var n=void 0,s=void 0,i=!1;t.pays.asset_id===r.get("id")?(n=r,s=o,i=!0):(n=o,s=r);var l=On.a.parse_order_history(t,n,s,i,p),c=e.get("block_num");return a.createElement("tr",{key:"my_history_"+u},a.createElement("td",{className:l.className},a.createElement(v,{preFormattedPrice:l})),a.createElement("td",null,l.receives),a.createElement(jn,{component:"td",block_number:c,tooltip:!0}))}).toArray()}else if(t&&t.size){var d=0,m=-1,h=r.get("id").split(".")[2]>o.get("id").split(".")[2];c=this.props.history.filter(function(){return++d%2==0}).take(100).map(function(e){m++;var t=void 0,n=void 0,s=!1;e.pays.asset_id===r.get("id")?(t=r,n=o,s=!0):(t=o,n=r);var i=On.a.parse_order_history(e,t,n,s,h);return a.createElement("tr",{key:"history_"+m},a.createElement("td",{className:i.className},a.createElement(v,{preFormattedPrice:i})),a.createElement("td",null,i.receives),a.createElement("td",null,G.a.localize(new Date(e.time),{type:"date",format:-1!==Pn()().toLowerCase().indexOf("en-us")?"market_history_us":"market_history"})))}).toArray()}var f="mymarkets-header clickable",b=M()(f,{inactive:"my_history"===l}),y=M()(f,{inactive:"history"===l});return a.createElement("div",{className:this.props.className},a.createElement("div",{className:"flex-wrapper flex-wrapper-main flex-column small-12 ",style:{height:"100%"}},a.createElement("div",{style:this.props.headerStyle,className:"grid-block shrink left-orderbook-header bottom-header"},a.createElement("div",{className:M()(y,{disabled:i}),onClick:this._changeTab.bind(this,"my_history")},a.createElement(g.a,{content:"exchange.my_history"})),a.createElement("div",{className:b,onClick:this._changeTab.bind(this,"history")},a.createElement(g.a,{content:"exchange.history"}))),a.createElement("div",{className:"grid-block shrink left-orderbook-header "},a.createElement("table",{className:"table table-4 order-table fixed-table market-right-padding"},a.createElement("thead",null,a.createElement("tr",null,a.createElement("th",{className:"text-center"},a.createElement(g.a,{className:"header-sub-title",content:"exchange.price"})),a.createElement("th",{className:"text-center"},a.createElement("span",{className:"header-sub-title"},a.createElement(E.a,{dataPlace:"top",name:s}))),a.createElement("th",{className:"text-center"},a.createElement(g.a,{className:"header-sub-title",content:"explorer.block.date"})))))),a.createElement("div",{className:"table-container flex-wrapper flex-column grid-block _scroll-bar",ref:"history",style:{maxHeight:420}},a.createElement("table",{className:"table table-4 flex-wrapper-main order-table text-right fixed-table market-right-padding"},a.createElement(_.a,{component:"tbody",transitionName:"newrow"},c)))))}}]),t}();Mn.defaultProps={history:[]},Mn.propTypes={history:p.object.isRequired};var Rn=Object(L.connect)(Mn,{listenTo:function(){return[i.b]},getProps:function(){return{viewSettings:i.b.getState().viewSettings}}}),Bn=n(80),qn=n(19),Ln=n(40),Un=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var Vn=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["Component"]),Un(t,[{key:"render",value:function(){return this.props.account?a.createElement("span",null,this.props.account.get("name")):null}}]),t}();Vn.propTypes={account:qn.a.ChainObject.isRequired},Vn.defaultProps={autosubscribe:!1};var Jn=Object(Ln.a)(Vn),Wn=n(1253),Hn=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var zn={row:{base:{width:"100%"},active:{backgroundColor:H.e.$colorGreyLightWhite,opacity:.8}},cell:{active:{color:H.e.$colorOrange}}},Gn=(($n=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.statsInterval=null,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["Component"]),Hn(t,[{key:"_onClick",value:function(e){"/market/"+e!==this.props.location.pathname&&(d.a.switchMarket(),this.props.history.push("/market/"+e))}},{key:"componentDidMount",value:function(){d.a.getMarketStats.defer(this.props.base,this.props.quote),this.statsChecked=new Date,this.statsInterval=setInterval(d.a.getMarketStats.bind(this,this.props.base,this.props.quote),6e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.statsInterval)}},{key:"shouldComponentUpdate",value:function(e){return!f.a.are_equal_shallow(e,this.props)}},{key:"_onStar",value:function(e,t,n){n.preventDefault(),this.props.starred?Cn.a.removeStarMarket(e,t):Cn.a.addStarMarket(e,t)}},{key:"render",value:function(){var e=this,t=this.props,n=t.quote,r=t.base,o=(t.noSymbols,t.stats),s=t.starred,i=t.unitYuan,l=t.tooltipPosition,c=t.withYuan,u=t.hideZeroVol;if(!n||!r)return null;if(u&&o&&0===o.volumeQuote&&0===o.volumeBase&&"JADE.USDT"!==r.get("symbol")&&"JADE.MXC"!==n.get("symbol")&&"JADE.NASH"!==n.get("symbol")&&"JADE.RING"!==n.get("symbol")&&"JADE.JCT"!==n.get("symbol"))return null;var p=n.get("symbol")+"_"+r.get("symbol"),d=n.get("symbol")+":"+r.get("symbol"),m=n.get("dynamic"),h=r.get("dynamic"),b=f.a.convertPrice(n,r),g=o&&o.price?o.price.toReal():o&&o.close&&o.close.quote.amount&&o.close.base.amount?f.a.get_asset_price(o.close.quote.amount,n,o.close.base.amount,r,!0):f.a.get_asset_price(b.quote.amount,n,b.base.amount,r,!0),y=parseFloat((i*g).toFixed(4));this.props.compact&&" no-margin";var v=this.props.columns.map(function(t){switch(t.name){case"star":var i=s?"gold-star":"grey-star";return a.createElement("td",{onClick:e._onStar.bind(e,n.get("symbol"),r.get("symbol")),key:t.index},a.createElement(k.a,{className:i,name:"fi-star"}));case"vol":var l=o?o.volumeBase:0;return a.createElement("td",{onClick:e._onClick.bind(e,p),className:"text-right",key:t.index},f.a.format_volume(l));case"change":var c=f.a.format_number(o&&o.change?o.change:0,2),u="0.00"===c?"":parseFloat(c)>0?"change-up":"change-down";return a.createElement("td",{onClick:e._onClick.bind(e,p),className:"text-right "+u,key:t.index},c+"%");case"marketName":return a.createElement("td",{onClick:e._onClick.bind(e,p),key:t.index},d);case"market":return a.createElement("td",{onClick:e._onClick.bind(e,p),key:t.index,style:[e.props.current&&zn.cell.active]},e.props.name);case"price":var b=6;return-1!==["BTC","OPEN.BTC","TRADE.BTC","GOLD","SILVER"].indexOf(r.get("symbol"))&&(b=8),a.createElement("td",{onClick:e._onClick.bind(e,p),className:"text-right",key:t.index},f.a.format_number(g,g>1e3?0:g>10?2:b));case"quoteSupply":return a.createElement("td",{onClick:e._onClick.bind(e,p),key:t.index},m?a.createElement(Bn.a,{style:{fontWeight:"bold"},amount:parseInt(m.get("current_supply"),10),asset:n.get("id")}):null);case"baseSupply":return a.createElement("td",{onClick:e._onClick.bind(e,p),key:t.index},h?a.createElement(Bn.a,{style:{fontWeight:"bold"},amount:parseInt(h.get("current_supply"),10),asset:r.get("id")}):null);case"issuer":return a.createElement("td",{onClick:e._onClick.bind(e,p),key:t.index},a.createElement(Jn,{account:n.get("issuer")}));case"add":return a.createElement("td",{style:{textAlign:"right"},key:t.index,onClick:e.props.onCheckMarket.bind(e,p)},a.createElement("input",{type:"checkbox",checked:!!e.props.isChecked||e.props.isDefault,disabled:e.props.isDefault,"data-tip":e.props.isDefault?"This market is a default market and cannot be removed":null}));case"remove":return a.createElement("td",{key:t.index,className:"clickable",onClick:e.props.removeMarket},a.createElement("span",{style:{marginBottom:"6px",marginRight:"6px",zIndex:999},className:"text float-right remove"},"–"))}}).sort(function(e,t){return e.key>t.key});return this.props.current&&" activeMarket",a.createElement("tr",{className:"table-row clickable",style:[zn.row.base,this.props.current&&zn.row.active],"data-tip":c&&!isNaN(y)?"¥ "+y.toFixed(4):null,"data-place":l,"data-offset":"{'right': 6}"},v)}}]),t}()).propTypes={quote:qn.a.ChainAsset.isRequired,base:qn.a.ChainAsset.isRequired},$n.defaultProps={noSymbols:!1,withYuan:!1,tempComponent:"tr",tooltipPosition:"right"},$n.contextTypes={router:p.object.isRequired},$n);Gn=Object(W.a)(Gn),Gn=Object(Ln.a)(Gn),Gn=Object(L.connect)(Gn,{listenTo:function(){return[R.a]},getProps:function(e){var t=e.base,n=f.a.replaceName(t,!1).name;return{unitYuan:R.a.getState().priceState[n]||NaN}}});var $n,Yn=Gn=Object(Wn.a)(Gn),Kn=n(106),Xn=n(1300),Qn=n(1278),Zn=n(23),ea=n(52),ta=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],a=!0,r=!1,o=void 0;try{for(var s,i=e[Symbol.iterator]();!(a=(s=i.next()).done)&&(n.push(s.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{!a&&i.return&&i.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),na=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function aa(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ra(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function oa(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var sa=new Date,ia={"JADE.USDT":{CYB:0,"JADE.ETH":1,"JADE.BTC":2,"JADE.EOS":3,"JADE.MXC":4,"JADE.RING":4,"JADE.XRP":5}},la={CYB:new Set(["JADE.JCT","JADE.NES","JADE.MXC","JADE.NASH"]),"JADE.ETH":new Set(["JADE.LTC","JADE.MXC"]),"JADE.EOS":new Set(["JADE.LTC"]),"JADE.BTC":new Set(["JADE.MT","JADE.ETH","JADE.BTC","JADE.EOS","JADE.INK","JADE.BAT","JADE.VET","JADE.OMG","JADE.SNT","JADE.NAS","JADE.KNC","JADE.PAY","JADE.GET","JADE.MAD","JADE.GNX","JADE.KEY","JADE.TCT","JADE.RING","JADE.XRP","JADE.CENNZ","JADE.NASH","JADE.NWT","JADE.JCT","JADE.MCO","JADE.CTXC","JADE.NES","JADE.RHOC","JADE.PPT","JADE.MKR","JADE.FUN","JADE.GNT","JADE.MVP","JADE.DPY"])},ca={"JADE.ETH":{"JADE.NES":-1,"JADE.NASH":-2}},ua=function(e){function t(e){aa(this,t);var n=ra(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state=n._getInitialState(e),n}return oa(t,a["Component"]),na(t,[{key:"_getInitialState",value:function(e){var t=!!e.findMarketTab||e.viewSettings.get("myMarketsBase_"+e.index);return{open:void 0===t||t,inverseSort:e.viewSettings.get("myMarketsInvert",!0),sortBy:e.viewSettings.get("myMarketsSort","volume")}}},{key:"componentWillReceiveProps",value:function(e){e.findMarketTab!==this.props.findMarketTab&&this.setState(this._getInitialState(e))}},{key:"shouldComponentUpdate",value:function(e,t){return!e.markets||!this.props.markets||(!f.a.are_equal_shallow(t,this.state)||!f.a.are_equal_shallow(e.markets,this.props.markets)||e.starredMarkets!==this.props.starredMarkets||e.marketStats!==this.props.marketStats||e.userMarkets!==this.props.userMarkets)}},{key:"_inverseSort",value:function(){Cn.a.changeViewSetting({myMarketsInvert:!this.state.myMarketsInvert}),this.setState({inverseSort:!this.state.inverseSort})}},{key:"_changeSort",value:function(e){e!==this.state.sortBy?(Cn.a.changeViewSetting({myMarketsSort:e}),this.setState({sortBy:e})):this._inverseSort()}},{key:"_onToggle",value:function(e){if(!this.props.findMarketTab){var t=!this.state.open;this.setState({open:t});var n={};n["myMarketsBase_"+this.props.index]=t,Cn.a.changeViewSetting(n)}}},{key:"_onToggleUserMarket",value:function(e){var t=e.split("_"),n=ta(t,2),a=n[0],r=n[1],o=!this.props.userMarkets.get(e);Cn.a.setUserMarket(a,r,o)}},{key:"render",value:function(){var e=this,t=this.props,n=t.columns,r=t.markets,o=t.base,s=t.marketStats,i=t.starredMarkets,l=t.current,c=(t.findMarketTab,t.findMarketValue),u=t.allDefaultMarkets,p=this.state,d=p.sortBy,m=p.inverseSort,h=p.open;r=r||[];var b=n.map(function(t){switch(t.name){case"market":return a.createElement("th",{key:t.name,className:"clickable",style:{textAlign:"left"},onClick:e._changeSort.bind(e,"name")},a.createElement(g.a,{content:"exchange.market"}));case"vol":return a.createElement("th",{key:t.name,className:"clickable",onClick:e._changeSort.bind(e,"volume"),style:{textAlign:"right"}},a.createElement(g.a,{content:"exchange.vol_short"}));case"price":return a.createElement("th",{key:t.name,style:{textAlign:"right"}},a.createElement(g.a,{content:"exchange.price"}));case"quoteSupply":return a.createElement("th",{key:t.name},a.createElement(g.a,{content:"exchange.quote_supply"}));case"baseSupply":return a.createElement("th",{key:t.name},a.createElement(g.a,{content:"exchange.base_supply"}));case"change":return a.createElement("th",{key:t.name,className:"clickable",onClick:e._changeSort.bind(e,"change"),style:{textAlign:"right"}},a.createElement(g.a,{content:"exchange.change"}));case"issuer":return a.createElement("th",{key:t.name},a.createElement(g.a,{content:"explorer.assets.issuer"}));default:return a.createElement("th",{key:t.name}," ")}}),y=r.map(function(t){return a.createElement(Yn,{key:t.id,withYuan:!0,name:"others"===o?a.createElement("span",null,a.createElement(E.a,{name:t.quote}),":",a.createElement(E.a,{name:t.base})):a.createElement(E.a,{dataPlace:"left",name:t.quote}),quote:t.quote,base:t.base,columns:n,hideZeroVol:!1,compact:!0,noSymbols:!0,stats:s.get(t.id),starred:i.has(t.id),current:l===t.id,isChecked:e.props.userMarkets.has(t.id),isDefault:e.props.defaultMarkets&&e.props.defaultMarkets.has(t.id),onCheckMarket:e._onToggleUserMarket.bind(e)})}).filter(function(e){return null!==e});y=(y=this.props.withFilter?y.filter(function(e){return e.props.base in la?!la[e.props.base].has(e.props.quote):e}).filter(function(e){return e.props.base in ia?e.props.quote in ia[e.props.base]:e}):y.filter(function(e){return!u.has(e.props.quote)&&f.a.replaceName(e.props.quote).name.includes(c)})).sort(function(e,t){if(e.props.base in ia)return ia[e.props.base][e.props.quote]-ia[e.props.base][t.props.quote];if(e.props.base in ca&&(e.props.quote in ca[e.props.base]||t.props.quote in ca[e.props.base]))return e.props.quote in ca[e.props.base]&&t.props.quote in ca[e.props.base]?ca[e.props.base][e.props.quote]<ca[e.props.base][t.props.quote]?-1:1:e.props.quote in ca[e.props.base]?-1:1;var n=e.key.split("_"),a=t.key.split("_"),r=s.get(n[0]+"_"+n[1]),o=s.get(a[0]+"_"+a[1]);switch(d){case"name":return f.a.replaceName(n[0]).name>f.a.replaceName(a[0]).name?m?-1:1:n[0]<a[0]?m?1:-1:f.a.replaceName(n[1]).name>f.a.replaceName(a[1]).name?m?-1:1:f.a.replaceName(n[1]).name<f.a.replaceName(a[1]).name?m?1:-1:0;case"volume":return r&&o?m?o.volumeBase-r.volumeBase:r.volumeBase-o.volumeBase:0;case"change":return r&&o?m?o.change-r.change:r.change-o.change:0}});h?a.createElement("span",null,"▼"):a.createElement("span",null,"▲");return h&&a.createElement("table",{className:"",style:{width:"100%"}},a.createElement("thead",{className:"table-row",style:{paddingRight:"10px"}},a.createElement("tr",null,b)),a.createElement("tbody",{className:"",style:{overflowY:"auto",paddingRight:"4px"}},y&&y.length?y:a.createElement("tr",null,a.createElement("td",{colSpan:n.length,className:"text-center",style:{opacity:.6,height:"10rem"}},a.createElement(g.a,{content:this.props.withFilter||!this.props.withFilter&&this.props.findMarketValue?"markets.no_market":"markets.find_market"})))))}}]),t}();ua.defaultProps={maxRows:40,findMarketValue:"",withFilter:!0};var pa=((da=function(e){function t(e){aa(this,t);var n=ra(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.getAssetList=Object(Zn.debounce)(Qn.a.getAssetList.defer,150),n._renderFindMarkets=function(){[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(n.props.preferredBases));return a.createElement("div",{className:"grid-block",style:{overflow:"visible",width:"100%",textAlign:"left",flexGrow:0,padding:"0.75rem 0.5rem"}},a.createElement("div",{className:"market-more small-12 medium-12",style:{marginTop:"-1px"}},a.createElement("input",{style:{fontSize:"0.9rem",marginBottom:0,height:26},type:"text",value:n.state.inputValue,onChange:n._onInputName.bind(n),placeholder:G.a.translate("exchange.search")})))};var r=[null],o=r[0],s=2===r.length?r[1]:null;return n.state={inverseSort:e.viewSettings.get("myMarketsInvert",!0),sortBy:e.viewSettings.get("myMarketsSort","volume"),activeTab:e.viewSettings.get("favMarketTab","my-market"),activeMarketTab:0,lookupQuote:o,lookupBase:s,inputValue:null,minWidth:"100%",findBaseInput:"USD",activeFindBase:"USD"},n}return oa(t,a["Component"]),na(t,[{key:"shouldComponentUpdate",value:function(e,t){return"find-market"===this.state.activeTab||"find-market"!==t.activeTab||e.searchAssets.size||this._lookupAssets("OPEN.",!0),!(zt.is(e.searchAssets,this.props.searchAssets)&&zt.is(e.markets,this.props.markets)&&zt.is(e.starredMarkets,this.props.starredMarkets)&&zt.is(e.defaultMarkets,this.props.defaultMarkets)&&zt.is(e.marketStats,this.props.marketStats)&&f.a.are_equal_shallow(t,this.state)&&e.locale===this.props.locale&&e.current===this.props.current&&e.minWidth===this.props.minWidth&&e.listHeight===this.props.listHeight&&e.preferredBases===this.props.preferredBases&&e.onlyStars===this.props.onlyStars&&e.assetsLoading===this.props.assetsLoading&&e.userMarkets===this.props.userMarkets)}},{key:"componentDidMount",value:function(){this.refs.favorites;"find-market"===this.state.activeTab&&this._lookupAssets("JADE.",!0)}},{key:"_inverseSort",value:function(){Cn.a.changeViewSetting({myMarketsInvert:!this.state.myMarketsInvert}),this.setState({inverseSort:!this.state.inverseSort})}},{key:"_changeSort",value:function(e){e!==this.state.sortBy?(Cn.a.changeViewSetting({myMarketsSort:e}),this.setState({sortBy:e})):this._inverseSort()}},{key:"_goMarkets",value:function(){this.context.router.history.push("/markets")}},{key:"_changeTab",value:function(e){Cn.a.changeViewSetting({favMarketTab:e}),this.setState({activeTab:e})}},{key:"_onInputName",value:function(e){var t=e.target.value.toUpperCase();this.setState({inputValue:t}),this._lookupAssets(t)}},{key:"_lookupAssets",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(console.log("__lookupAssets",e,t),e||""===e){var n=new Date,a=e.toUpperCase().split(":"),r=a[0],o=2===a.length?a[1]:null;if(this.setState({lookupQuote:r,lookupBase:o}),Cn.a.changeViewSetting.defer({marketLookupInput:e.toUpperCase()}),this.state.lookupQuote!==r||t){if(r.length<1||n-sa<=250)return!1;this.getAssetList(r,50)}else if(o&&this.state.lookupBase!==o){if(o.length<1||n-sa<=250)return!1;this.getAssetList(o,50)}}}},{key:"toggleActiveMarketTab",value:function(e){this.setState({activeMarketTab:e})}},{key:"_onInputBaseAsset",value:function(e){this.setState({findBaseInput:e.toUpperCase(),error:null})}},{key:"_onFoundBaseAsset",value:function(e){e&&this.setState({activeFindBase:e.get("symbol")})}},{key:"render",value:function(){var e=this,t=this.props,n=t.starredMarkets,r=t.defaultMarkets,o=t.marketStats,s=t.columns,i=t.searchAssets,l=t.assetsLoading,c=t.preferredBases,u=(t.core,t.current),p=t.viewSettings,m=t.listHeight,h=t.onlyStars,b=t.userMarkets,y=this.state,v=y.activeMarketTab,_=y.activeTab,k=y.lookupQuote,w=y.lookupBase,A=(a.createElement("div",null),"my-market"===_),O=(c.map(function(e){return e}),{}),C=[];k||(k="OPEN."),i.forEach(function(e){w&&w.length?0===e.symbol.indexOf(w)&&C.push(e.symbol):c.includes(e.symbol)&&e.symbol.length>=k.length&&e.symbol.length<k.length+3&&C.push(e.symbol)}),C=(C=C.concat(c.filter(function(e){return!w||!w.length||0===e.indexOf(w)}).toArray())).filter(function(e){return!(w&&w.length>1)||0===e.indexOf(w)});var S=[];i.size&&i.filter(function(e){return-1!==e.symbol.indexOf(k)&&e.symbol.length>=k.length}).forEach(function(e){C.forEach(function(t){var n=e.symbol+"_"+t;t!==e.symbol&&S.push([n,{quote:e.symbol,base:t}])})}),S=S.filter(function(e){return!w||e[1].quote===k}),S=zt.Map(S);var x=A?r:S;A&&b.size&&b.forEach(function(e,t){x=x.set(t,e)}),x.size>0&&x.filter(function(t){if(A){var a=t.quote+"_"+t.base;return f.a.replaceName(t.quote).name,e.state.myMarketFilter?-1!==f.a.replaceName(t.quote).name.indexOf(e.state.myMarketFilter):!(h&&!n.has(a))}return!(k.length<1)&&-1!==t.quote.indexOf(k)}).map(function(e){var t=e.quote+"_"+e.base;return c.includes(e.base)?(O[e.base]||(O[e.base]=[]),O[e.base].push({id:t,quote:e.quote,base:e.base}),null):{id:t,quote:e.quote,base:e.base}}).filter(function(e){return null!==e}).take(A?100:20).toArray();var T="mymarkets-header clickable",P=M()(T,{inactive:!A}),D=M()(T,{inactive:A}),N={minWidth:this.state.minWidth,minHeight:"6rem"};return m&&(N.height=m),a.createElement(a.Fragment,null,a.createElement("div",{className:"grid-block shrink left-orderbook-header"},a.createElement("div",{ref:"myMarkets",className:P,onClick:this._changeTab.bind(this,"my-market")},a.createElement(g.a,{content:"exchange.market_name"})),a.createElement("div",{className:D,onClick:this._changeTab.bind(this,"find-market")},a.createElement(g.a,{content:"exchange.more"}))),this.props.controls&&a.createElement("div",{className:"small-12 medium-6",style:{padding:"1rem 0"}},this.props.controls?a.createElement("div",{style:{paddingBottom:"0.5rem"}},this.props.controls):null),a.createElement("ul",{className:"mymarkets-tabs",style:{padding:"0 0.5em"}},c.map(function(t,n){return t?a.createElement(H.j,{style:{lineHeight:"1.8",marginRight:"1rem",display:"inline-block",height:"1.8em",fontWeight:"bold",borderBottomWidth:"2px"},key:t,active:v===n,onClick:e.toggleActiveMarketTab.bind(e,n)},a.createElement(E.a,{name:t,dataPlace:"left"})):null})),A?a.createElement("div",{className:"grid-block shrink",style:{width:"100%",textAlign:"left",padding:"0.75rem 0.5rem"}},a.createElement(H.d,{active:this.props.onlyStars,onChange:function(){d.a.toggleStars()},labelStyle:{alignItems:"center"}},a.createElement(g.a,{content:"exchange.show_star_2"}),a.createElement(g.a,{content:"exchange.show_star_1"}),a.createElement(H.g,{icon:"star"})),a.createElement(H.f,null),a.createElement("div",null,a.createElement("input",{style:{height:"inherit"},className:"no-margin",type:"text",placeholder:G.a.translate("exchange.filter_name"),value:this.state.myMarketFilter,onChange:function(t){e.setState({myMarketFilter:t.target.value&&t.target.value.toUpperCase()})}}))):this._renderFindMarkets(),a.createElement("div",{style:N,className:"table-container grid-block vertical mymarkets-list",ref:"favorites"},l?a.createElement("div",{style:{position:"absolute",paddingTop:"3rem",textAlign:"center",width:"100%"}},a.createElement(ea.a,{type:"three-bounce"})):null,c.filter(function(e){return e===c.get(v)}).map(function(t,r){return a.createElement(ua,{userMarkets:e.props.userMarkets,defaultMarkets:e.props.defaultMarkets,allDefaultMarkets:e.props.allDefaultMarkets,index:r,allowChange:!1,key:t,current:u,starredMarkets:n,marketStats:o,viewSettings:p,withFilter:A,findMarketValue:e.state.inputValue,columns:A?s:e.props.findColumns||s,markets:O[t],base:t,maxRows:A?20:10,findMarketTab:!A})})))}}]),t}()).propTypes={core:qn.a.ChainAsset.isRequired},da.defaultProps={activeTab:"my-market",core:"1.3.0",setMinWidth:!1},da.contextTypes={router:p.object.isRequired},da);pa=Object(Ln.a)(pa,{keep_updating:!0});var da,ma=function(e){function t(){return aa(this,t),ra(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return oa(t,a["Component"]),na(t,[{key:"render",value:function(){return a.createElement(pa,Object.assign({},this.props))}}]),t}(),ha=Object(L.connect)(ma,{listenTo:function(){return[i.b,o.a,Xn.a,Kn.a]},getProps:function(){return{locale:Kn.a.getState().currentLocale,starredMarkets:i.b.getState().starredMarkets,defaultMarkets:i.b.getState().defaultMarkets,allDefaultMarkets:i.b.getState().allDefaultMarkets,viewSettings:i.b.getState().viewSettings,preferredBases:i.b.getState().preferredBases,marketStats:o.a.getState().allMarketStats,userMarkets:i.b.getState().userMarkets,searchAssets:Xn.a.getState().assets,onlyStars:o.a.getState().onlyStars,assetsLoading:Xn.a.getState().assetsLoading}}}),fa=n(1511),ba=n(54),ga=n.n(ba),ya=n(235),va=n(1466),_a=n(1465),Ea=n(291),ka=n(88),wa=n(1287),Aa=n(1299),Oa=n.n(Aa),Ca=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Sa=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function xa(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ta(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Pa(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Da=function(e){function t(e){xa(this,t);var n=Ta(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.state={toAddress:va.a.getLast(e.walletType),withdrawValue:"",amountError:null,inputAmount:0,receiveLoading:!1,limitLoading:!0,apiError:!1},n._validateAddress(n.state.toAddress,e),n.deposit_address_cache=new _a.a,n}return Pa(t,a["Component"]),Sa(t,[{key:"onClose",value:function(){ga.a.publish(this.props.modalId,"close")}},{key:"componentWillMount",value:function(){this._getDepositAddress()}},{key:"componentDidMount",value:function(){this._getDepositLimit(),this._estimateOutput()}},{key:"componentWillReceiveProps",value:function(e){e.inputCoinType===this.props.inputCoinType&&e.outputCoinType===this.props.outputCoinType||(this._getDepositLimit(e),this._estimateOutput(e),this._getDepositAddress(e))}},{key:"shouldComponentUpdate",value:function(e,t){return e.inputCoinType!==this.props.inputCoinType||e.outputCoinType!==this.props.outputCoinType||e.sender!==this.props.sender||e.asset!==this.props.asset||e.isAvailable!==this.props.isAvailable||e.isDown!==this.props.isDown||!f.a.are_equal_shallow(t,this.state)}},{key:"_getDepositLimit",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;this.setState({limitLoading:!0}),Object(va.d)(t.inputCoinType,t.outputCoinType).then(function(t){e.setState({depositLimit:t.depositLimit,limitLoading:!1})}).catch(function(t){console.log("deposit limit error:",t),e.setState({depositLimit:null,limitLoading:!1})})}},{key:"_onAmountChange",value:function(e,t){var n=new RegExp(/[[:digit:]]/),a=t.target;switch(n.test(a.value)||(a.value=a.value.replace(/[^0-9.]/g,"")),"."==a.value.charAt(0)&&(a.value="0."),a.value.charAt(a.value.length)!=a.value.search(".")&&a.value.substr(1),a.value=f.a.limitByPrecision(a.value,8),e){case"input":this.setState({inputAmount:a.value},this._estimateOutput.bind(this));break;case"output":this.setState({outputAmount:a.value},this._estimateInput.bind(this))}}},{key:"_estimateOutput",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;this.setState({receiveAmount:0,sendAmount:this.state.inputAmount}),this.state.inputAmount&&(this.setState({receiveLoading:!0}),Object(va.c)(this.state.inputAmount,t.inputCoinType,t.outputCoinType).then(function(t){e.setState({inputAmount:t.inputAmount,receiveAmount:t.outputAmount,receiveLoading:!1})}).catch(function(t){console.log("receive amount err:",t),e.setState({receiveLoading:!1,apiError:!0})}))}},{key:"_estimateInput",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;this.setState({receiveAmount:this.state.outputAmount,sendAmount:0}),this.state.outputAmount&&(this.setState({receiveLoading:!0}),Object(va.b)(this.state.outputAmount,t.inputCoinType,t.outputCoinType).then(function(t){e.setState({inputAmount:t.inputAmount,sendAmount:f.a.limitByPrecision(t.inputAmount,8),receiveLoading:!1})}).catch(function(t){console.log("send amount err:",t),e.setState({receiveLoading:!1,apiError:!0})}))}},{key:"_getDepositAddress",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;if(e.inputCoinType){this.setState({receive_address:null}),Object(va.e)(this._getDepositObject(e))}}},{key:"_getDepositObject",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;return{inputCoinType:t.inputCoinType.toLowerCase(),outputCoinType:t.outputCoinType.toLowerCase(),outputAddress:t.sender.get("name"),url:ka.b.BASE,stateCallback:function(n){e.addDepositAddress(t.inputCoinType.toLowerCase(),t.outputCoinType.toLowerCase(),t.sender.get("name"),n)}}}},{key:"addDepositAddress",value:function(e,t,n,a){this.deposit_address_cache.cacheInputAddress("blocktrades",n,e,t,a.address,a.memo),this.setState({receive_address:a})}},{key:"componentDidUpdate",value:function(){q.a.rebuild()}},{key:"_validateAddress",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.props;Object(va.f)({walletType:n.walletType,newAddress:e}).then(function(n){t.state.toAddress===e&&t.setState({withdraw_address_check_in_progress:!1,validAddress:n})}).catch(function(e){console.error("Error when validating address:",e)})}},{key:"_openRegistrarSite",value:function(e){e.preventDefault(),window.open(i.b.site_registr,"_blank").opener=null}},{key:"_onDropDownSelect",value:function(e){Cn.a.changeViewSetting({preferredBridge:e})}},{key:"onBlockTradesContact",value:function(){console.log("Open New Tab"),window.open("https://www.blocktrades.us/contact","_blank").focus()}},{key:"_renderDeposit",value:function(){var e=f.a.replaceName(this.props.asset.get("symbol"),!!this.props.asset.get("bitasset")),t=e.name,n=e.prefix,r=this.state,o=r.receive_address,s=r.apiError,i=o&&"memo"in o&&o.memo,l=o&&o.address||"",c=a.createElement("div",{className:"SimpleTrade__QR"},a.createElement(Oa.a,{size:140,value:l})),u=Object.keys(this.props.bridges.toJS()),p=this.props.inputCoinType.toUpperCase(),d=(n||"")+t,m=(this.state.receiveAmount/this.state.inputAmount).toFixed(4),h=d+"/"+p,b=this.state.inputAmount>parseFloat(this.state.depositLimit)||this.state.sendAmount>parseFloat(this.state.depositLimit),y=b?{border:"1px solid #a94442"}:null;return a.createElement("div",{className:l?"":"no-overflow"},a.createElement("div",{className:"SimpleTrade__withdraw-row"},a.createElement("label",{className:"left-label"},"ASSET"),a.createElement("div",{className:"inline-label input-wrapper"},a.createElement("input",{disabled:!0,type:"text",defaultValue:d}))),a.createElement("div",{className:"SimpleTrade__withdraw-row"},a.createElement("div",{className:"grid-block"},a.createElement("label",{className:"left-label"},"BRIDGE"),a.createElement("span",{"data-tip":G.a.translate("tooltip.bridge_TRADE"),className:"inline-block tooltip",onClick:this.onBlockTradesContact.bind(this)}," ",a.createElement(k.a,{style:{position:"relative",top:0},name:"question-circle"}))),a.createElement("div",{className:"inline-label input-wrapper"},a.createElement("input",{disabled:!0,type:"text",defaultValue:"BLOCKTRADES"})," ")),a.createElement("span",{style:s?{display:"none"}:{display:""}},a.createElement("div",{className:"SimpleTrade__withdraw-row"},a.createElement("div",{className:"no-margin no-padding"},a.createElement("div",{className:"small-6",style:{paddingRight:10}},a.createElement("div",{className:"grid-block"},a.createElement("label",{className:"left-label"},a.createElement(g.a,{content:"transfer.send"})),b?a.createElement("div",{className:"error-msg inline-block tooltip","data-tip":G.a.translate("tooltip.over_limit")},a.createElement(g.a,{content:"gateway.over_limit"})," ",a.createElement(k.a,{name:"question-circle"})):null),a.createElement("div",{className:"inline-label input-wrapper"},a.createElement("input",{style:y,type:"text",value:this.state.sendAmount,onInput:this._onAmountChange.bind(this,"input")}),a.createElement("div",{className:"form-label select floating-dropdown"},a.createElement(wa.a,{entries:u,values:u.reduce(function(e,t){return t&&(e[t]=t),e},{}),singleEntry:u[0],value:this.props.preferredBridge||u[0],onChange:this._onDropDownSelect,upperCase:!0})))),a.createElement("div",{className:"small-6",style:{paddingLeft:10}},a.createElement("label",{className:"left-label"},a.createElement(g.a,{content:"gateway.deposit_limit"})),a.createElement("div",{className:"inline-label input-wrapper"},a.createElement("input",{disabled:!0,type:"number",value:this.state.depositLimit&&parseFloat(this.state.depositLimit).toFixed(4)||0}),a.createElement("div",{className:"input-right-symbol"},p))))),a.createElement("div",{className:"SimpleTrade__withdraw-row"},a.createElement("div",{className:"no-margin no-padding"},a.createElement("div",{className:"small-6",style:{paddingRight:10}},a.createElement("label",{className:"left-label"},a.createElement(g.a,{content:"exchange.receive"})),a.createElement("div",{className:"inline-label input-wrapper"},a.createElement("input",{style:y,type:"text",value:this.state.receiveAmount,onInput:this._onAmountChange.bind(this,"output")}),a.createElement("div",{className:"input-right-symbol"},d))),a.createElement("div",{className:"small-6",style:{paddingLeft:10}},a.createElement("div",{className:"grid-block"},a.createElement("label",{className:"left-label"},a.createElement(g.a,{content:"exchange.price"}),"  ",this.state.receiveLoading?a.createElement(g.a,{content:"footer.loading"}):"")),a.createElement("div",{className:"inline-label input-wrapper"},a.createElement("input",{disabled:!0,type:"number",value:b?0:m}),a.createElement("div",{className:"input-right-symbol"},h))))),l?a.createElement("div",{className:"SimpleTrade__withdraw-row",style:{textAlign:"center"}},i?null:c,a.createElement("div",{className:"grid-block SimpleTrade__deposit-info"},a.createElement("div",{className:"copyIcon"},a.createElement(Ea.a,{text:l,className:"SimpleTrade__copyIcon"})),a.createElement("div",{className:"deposit-details"},a.createElement("div",null,a.createElement(g.a,{unsafe:!0,content:"gateway.purchase_notice",inputAsset:p,outputAsset:d})),a.createElement("div",null,l))),i?a.createElement("div",{className:"grid-block SimpleTrade__deposit-info",style:{marginTop:"10px"}},a.createElement("div",{className:"copyIcon"},a.createElement(Ea.a,{text:o.memo,className:"SimpleTrade__copyIcon"})),a.createElement("div",{className:"deposit-details"},a.createElement("div",null,a.createElement(g.a,{unsafe:!0,content:"gateway.purchase_notice_memo"})),a.createElement("div",null,o.memo))):null):a.createElement("div",{style:{textAlign:"center"}},a.createElement(ea.a,{type:"three-bounce"})),a.createElement("div",{className:"SimpleTrade__withdraw-row",style:{textAlign:"center",paddingBottom:"2rem"}},a.createElement("div",{className:"no-margin no-padding"},a.createElement("button",{className:"ActionButton_Close",onClick:this.onClose.bind(this)},a.createElement(g.a,{content:"transfer.close"}))))),a.createElement("span",{style:s?{display:""}:{display:"none"}},a.createElement("div",{className:"SimpleTrade__withdraw-row",style:{textAlign:"center",paddingBottom:"2rem",color:"#bb2926"}},a.createElement(g.a,{className:"txtlabel cancel",content:"gateway.unavailable_TRADE",component:"p"}),a.createElement("button",{className:"ActionButton_Close",onClick:this.onClose.bind(this)},a.createElement(g.a,{content:"transfer.close"})))))}},{key:"_renderCurrentBalance",value:function(){var e=this,t=f.a.replaceName(this.props.asset.get("symbol"),!!this.props.asset.get("bitasset")).name,n="deposit"===this.props.action,r=this.props.balances.find(function(t){return t&&t.get("asset_type")===e.props.asset.get("id")}),o=r?new A.a({asset_id:r.get("asset_type"),precision:this.props.asset.get("precision"),amount:r.get("balance")}):null,s=n?a.createElement("span",{style:{border:"2px solid black",borderLeft:"none"},className:"form-label"},t):a.createElement("button",{"data-place":"right","data-tip":G.a.translate("tooltip.withdraw_full"),className:"button",style:{border:"2px solid black",borderLeft:"none"},onClick:this._updateAmount.bind(this,r?parseInt(r.get("balance"),10):0)},a.createElement(k.a,{name:"clippy"}));return a.createElement("div",{className:"SimpleTrade__withdraw-row",style:{fontSize:"1rem"}},a.createElement("label",{style:{fontSize:"1rem"}},G.a.translate("gateway.balance_asset",{asset:t}),":",a.createElement("span",{className:"inline-label"},a.createElement("input",{disabled:!0,style:{color:"black",border:"2px solid black",padding:10,width:"100%"},value:o?o.getAmount({real:!0}):0}),s)))}},{key:"render",value:function(){if(!this.props.asset)return null;var e=n(1249);return a.createElement("div",{className:"SimpleTrade__modal"},a.createElement("div",{className:"Modal__header",style:{background:"none"}}),a.createElement("div",{className:"grid-block vertical no-overflow",style:{zIndex:1002,paddingLeft:"2rem",paddingRight:"2rem"}},a.createElement("div",{style:{textAlign:"center"}},a.createElement("img",{style:{margin:0,height:80},src:e}),a.createElement("br",null),a.createElement("p",{style:{fontSize:"1.8rem",fontWeight:"bold",marginBottom:0}},"Buy")),this.props.isDown?a.createElement("div",{style:{textAlign:"center"}},a.createElement(g.a,{className:"txtlabel cancel",content:"gateway.unavailable_TRADE",component:"p"})):this.props.isAvailable?this._renderDeposit():a.createElement("div",{style:{textAlign:"center"}},a.createElement(g.a,{className:"txtlabel cancel",content:"gateway.unavailable",component:"p"}))))}}]),t}();Da.propTypes={sender:qn.a.ChainAccount.isRequired,asset:qn.a.ChainAsset.isRequired},Da=Object(Ln.a)(Da);var Na=function(e){function t(){return xa(this,t),Ta(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Pa(t,a["Component"]),Sa(t,[{key:"render",value:function(){var e=this.props,t=e.preferredBridge,n=function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}(e,["preferredBridge"]),r=this.props.bridges.get(this.props.preferredBridge);return r||(t=(r=this.props.bridges.first()).inputCoinType),a.createElement(Da,Ca({},n,{preferredBridge:t},r.toJS()))}}]),t}();Na=Object(L.connect)(Na,{listenTo:function(){return[i.b]},getProps:function(){return{preferredBridge:i.b.getState().viewSettings.get("preferredBridge","btc")}}});var ja=function(e){function t(){xa(this,t);var e=Ta(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={open:!1},e}return Pa(t,a["Component"]),Sa(t,[{key:"show",value:function(){var e=this;this.setState({open:!0},function(){ga.a.publish(e.props.modalId,"open")})}},{key:"onClose",value:function(){this.setState({open:!1})}},{key:"render",value:function(){return this.props.bridges?a.createElement(ya.a,{className:"test",onClose:this.onClose.bind(this),id:this.props.modalId,overlay:!0},this.state.open?a.createElement(Na,Ca({},this.props,{open:this.state.open})):null):null}}]),t}(),Ia=n(1464),Fa=n(187),Ma=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var Ra=((Ba=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["Component"]),Ma(t,[{key:"shouldComponentUpdate",value:function(e){return e.amount!==this.props.amount||e.onBorrow!==this.props.onBorrow||e.total!==this.props.total||e.currentPrice!==this.props.currentPrice||e.price!==this.props.price||e.balance!==this.props.balance||e.account!==this.props.account||e.className!==this.props.className||!(!e.fee||!this.props.fee)&&e.fee.ne(this.props.fee)||e.isPredictionMarket!==this.props.isPredictionMarket||e.feeAsset!==this.props.feeAsset||e.isOpen!==this.props.isOpen||e.hasFeeBalance!==this.props.hasFeeBalance}},{key:"_addBalance",value:function(e){"bid"===this.props.type?this.props.totalChange({target:{value:e.getAmount({real:!0}).toString()}}):this.props.amountChange({target:{value:e.getAmount({real:!0}).toString()}})}},{key:"_setPrice",value:function(e){this.props.priceChange({target:{value:e.toString()}})}},{key:"_onDeposit",value:function(e){e.preventDefault(),this.refs.deposit_modal.show()}},{key:"_onBuy",value:function(e){e.preventDefault(),this.refs.bridge_modal.show()}},{key:"render",value:function(){var e=this.props,t=e.type,n=e.quote,r=e.base,o=e.amountChange,s=e.fee,i=e.isPredictionMarket,l=e.priceChange,c=e.onSubmit,u=e.balance,p=e.totalChange,d=e.balancePrecision,m=(e.currentPrice,e.currentPriceObject,e.feeAsset),h=e.feeAssets,b=e.hasFeeBalance,y=e.backedCoin,v=void 0,_=void 0,w=void 0;this.props.isOpen?a.createElement("span",null,"▼"):a.createElement("span",null,"▲");this.props.amount&&(v=this.props.amount),this.props.price&&(_=this.props.price),this.props.total&&(w=this.props.total);var O=new A.a({amount:u?u.get("balance"):0,precision:d,asset_id:this.props.balanceId}),C=new A.a({amount:r.getIn(["options","max_market_fee"]),asset_id:r.get("asset_id"),precision:r.get("precision")}),S=new A.a({amount:n.getIn(["options","max_market_fee"]),asset_id:n.get("asset_id"),precision:n.get("precision")}),x=v?Math.min(S.getAmount({real:!0}),v*n.getIn(["options","market_fee_percent"])/1e4):0,T=v?Math.min(C.getAmount({real:!0}),w*r.getIn(["options","market_fee_percent"])/1e4):0,P=Fa.a.getFlagBooleans(r.getIn(["options","flags"]),r.has("bitasset_data_id")),D=Fa.a.getFlagBooleans(n.getIn(["options","flags"]),n.has("bitasset_data_id")),N=P.charge_market_fee||D.charge_market_fee,j=P.charge_market_fee?a.createElement("div",{className:"grid-block no-padding buy-sell-row"},a.createElement("div",{className:"grid-block small-3 no-margin no-overflow buy-sell-label"},a.createElement(g.a,{content:"explorer.asset.summary.market_fee"}),":"),a.createElement("div",{className:"grid-block small-5 no-margin no-overflow buy-sell-input"},a.createElement("input",{disabled:!0,type:"text",id:"baseMarketFee",value:T,autoComplete:"off"})),a.createElement("div",{className:"grid-block small-4 no-margin no-overflow buy-sell-box"},a.createElement(E.a,{noTip:!0,name:r.get("symbol")}),a.createElement("span",{"data-tip":G.a.translate("tooltip.market_fee",{percent:r.getIn(["options","market_fee_percent"])/100,asset:r.get("symbol")}),className:"inline-block tooltip"}," ",a.createElement(k.a,{style:{position:"relative",top:3},name:"question-circle"})))):N?a.createElement("div",{className:"grid-block no-padding buy-sell-row"},a.createElement("div",{style:{visibility:"hidden"},className:"grid-block small-3 no-margin no-overflow buy-sell-label"},a.createElement(g.a,{content:"explorer.asset.summary.market_fee"}),":")):null,I=D.charge_market_fee?a.createElement("div",{className:"grid-block no-padding buy-sell-row"},a.createElement("div",{className:"grid-block small-3 no-margin no-overflow buy-sell-label"},a.createElement(g.a,{content:"explorer.asset.summary.market_fee"}),":"),a.createElement("div",{className:"grid-block small-5 no-margin no-overflow buy-sell-input"},a.createElement("input",{disabled:!0,type:"text",id:"baseMarketFee",value:x,autoComplete:"off"})),a.createElement("div",{className:"grid-block small-4 no-margin no-overflow buy-sell-box"},a.createElement(E.a,{noTip:!0,name:n.get("symbol")}),a.createElement("span",{"data-tip":G.a.translate("tooltip.market_fee",{percent:n.getIn(["options","market_fee_percent"])/100,asset:n.get("symbol")}),className:"inline-block tooltip"}," ",a.createElement(k.a,{style:{position:"relative",top:3},name:"question-circle"})))):N?a.createElement("div",{className:"grid-block no-padding buy-sell-row"},a.createElement("div",{style:{visibility:"hidden"},className:"grid-block small-3 no-margin no-overflow buy-sell-label"},a.createElement(g.a,{content:"explorer.asset.summary.market_fee"}),":")):null,F="bid"===t,R=F&&I?I:!F&&j?j:null,B=F?O.getAmount({real:!0})>=parseFloat(w):O.getAmount({real:!0})>=parseFloat(v),q=i?G.a.translate("exchange.short"):F?G.a.translate("exchange.buy"):G.a.translate("exchange.sell"),L=F?G.a.translate("exchange.buy"):G.a.translate("exchange.sell"),U=!i&&!(O.getAmount()>0&&B),V=!(_>0),J=!(v>0),W=U||V||J,z=M()({disabled:W}),$=F?r.get("symbol"):n.get("symbol"),Y=V?G.a.translate("exchange.invalid_price"):J?G.a.translate("exchange.invalid_amount"):U?G.a.translate("exchange.no_balance"):null;h[1]&&"1.3.0"===h[1].getIn(["options","core_exchange_rate","quote","asset_id"])&&"1.3.0"===h[1].getIn(["options","core_exchange_rate","base","asset_id"])&&(m=h[0],h.splice(1,1));var K=0,X=h.map(function(e){var t=f.a.replaceName(e.get("symbol"),e.get("bitasset")&&!e.getIn(["bitasset","is_prediction_market"])&&"1.2.0"===e.get("issuer")),n=t.name,r=t.prefix;return a.createElement("option",{key:e.get("id"),value:K++},r,n)}),Q=void 0;Q=m.get("symbol")===$?O.clone(O.getAmount()-s.getAmount()):O;var Z=f.a.replaceName(this.props[F?"base":"quote"].get("symbol"),!!this.props[F?"base":"quote"].get("bitasset")),ee=Z.name,te=Z.prefix,ne=(te||"")+ee;return a.createElement("div",{className:this.props.className},a.createElement("div",{className:"buy-sell-container"},a.createElement("div",{className:"exchange-content-header "+t},a.createElement("span",null,q," ",a.createElement(E.a,{dataPlace:"top",name:n.get("symbol")})),this.props.onBorrow&&a.createElement("div",{className:"float-right buy-sell-deposit"},a.createElement("a",{onClick:this.props.onBorrow},a.createElement(g.a,{content:"exchange.borrow"})," ",a.createElement("span",{className:"asset-name"},ne)))),a.createElement("form",{className:(this.props.isOpen?"":"hide-container ")+"order-form",noValidate:!0},a.createElement("div",{className:"grid-block vertical no-overflow no-padding"},a.createElement("div",{className:"grid-block no-padding buy-sell-row"},a.createElement("div",{className:"grid-block small-3 no-margin no-overflow buy-sell-label"},a.createElement(g.a,{content:"exchange.price"}),":"),a.createElement("div",{className:"grid-block small-5 no-margin no-overflow buy-sell-input"},a.createElement(Ia.b,{id:ee+"_buyPrice",value:_,onChange:l,autoComplete:"off",placeholder:"0.0"})),a.createElement("div",{className:"grid-block small-4 no-margin no-overflow buy-sell-box"},a.createElement(E.a,{dataPlace:"right",name:r.get("symbol")}))),a.createElement("div",{className:"grid-block no-padding buy-sell-row"},a.createElement("div",{className:"grid-block small-3 no-margin no-overflow buy-sell-label"},a.createElement(g.a,{content:"exchange.amount"}),":"),a.createElement("div",{className:"grid-block small-5 no-margin no-overflow buy-sell-input"},a.createElement(Ia.b,{id:ee+"_amount_buyAmount",value:v,onChange:o,autoComplete:"off",placeholder:"0.0"})),a.createElement("div",{className:"grid-block small-4 no-margin no-overflow buy-sell-box"},a.createElement(E.a,{dataPlace:"right",name:n.get("symbol")}))),a.createElement("div",{className:"grid-block buy-sell-row bottom-row"},a.createElement("div",{className:"grid-block small-3 no-margin no-overflow buy-sell-label"},a.createElement(g.a,{content:"exchange.total"}),":"),a.createElement("div",{className:"grid-block small-5 no-margin no-overflow buy-sell-input"},a.createElement(Ia.b,{id:ee+"_total_buyAmount",value:w,onChange:p,autoComplete:"off",placeholder:"0.0"})),a.createElement("div",{className:"grid-block small-4 no-margin no-overflow buy-sell-box"},a.createElement(E.a,{dataPlace:"right",name:r.get("symbol")}))),a.createElement("div",{className:"grid-block no-padding buy-sell-row"},a.createElement("div",{className:"grid-block small-3 no-margin no-overflow buy-sell-label"},a.createElement(g.a,{content:"transfer.fee"}),":"),a.createElement("div",{className:"grid-block small-5 no-margin no-overflow buy-sell-input"},a.createElement("input",{className:b?"":"no-balance",disabled:!0,type:"text",id:ee+"_fee",value:b?s.getAmount({real:!0}):G.a.translate("transfer.errors.insufficient"),autoComplete:"off"})),a.createElement("div",{className:"grid-block small-4 no-margin no-overflow buy-sell-box",style:{paddingLeft:1!==h.length?0:5}},a.createElement("select",{style:1===h.length?{background:"none"}:null,disabled:1===h.length,value:h.indexOf(this.props.feeAsset),className:"form-control"+(1!==h.length?" buysell-select":""),onChange:this.props.onChangeFeeAsset},X)),R)),a.createElement("div",null,a.createElement("div",{className:"grid-content clear-fix no-padding"},a.createElement("table",{style:{width:"100%"}},a.createElement("tbody",null,a.createElement("tr",{className:"buy-sell-info"},a.createElement("td",null,a.createElement(g.a,{content:"exchange.balance"}),":"),a.createElement("td",{style:{paddingLeft:5,textAlign:"right"}},a.createElement("span",{style:{borderBottom:"#A09F9F 1px dotted",cursor:"pointer"},onClick:this._addBalance.bind(this,Q)},f.a.format_number(O.getAmount({real:!0}),d)," ",a.createElement(E.a,{name:$})))))),a.createElement("div",{className:"buysell-buttons-wrapper"},a.createElement("div",{className:"full-width-content","data-tip":Y&&""},a.createElement(H.c,{className:z,onClick:c.bind(this,!0),type:t,disabled:W},q," ",a.createElement(E.a,{name:n.get("symbol")}))),Y&&i?a.createElement("div",{style:{paddingLeft:10},className:"float-right","data-tip":Y,"data-place":"right"},a.createElement("input",{style:{margin:0},className:z,type:"submit",onClick:c.bind(this,!1),value:L})):i?a.createElement("div",{style:{paddingLeft:10},className:"float-right","data-tip":""},a.createElement("input",{style:{margin:0},className:z,type:"submit",onClick:c.bind(this,!1),value:L})):null))))),a.createElement(fa.a,Object.assign({ref:"deposit_modal",action:"deposit",fiatModal:!1,account:this.props.currentAccount.get("name"),sender:this.props.currentAccount.get("id"),asset:this.props[F?"base":"quote"].get("id"),modalId:"simple_deposit_modal"+("bid"===t?"":"_ask"),balances:[this.props.balance]},y)),a.createElement(ja,{ref:"bridge_modal",action:"deposit",account:this.props.currentAccount.get("name"),sender:this.props.currentAccount.get("id"),asset:this.props.balanceId,modalId:"simple_bridge_modal"+("bid"===t?"":"_ask"),balances:[this.props.balance],bridges:this.props.currentBridges}))}}]),t}()).propTypes={balance:qn.a.ChainObject,type:p.string,amountChange:p.func.isRequired,priceChange:p.func.isRequired,onSubmit:p.func.isRequired},Ba.defaultProps={type:"bid"},Ba);Ra=Object(W.a)(Ra);var Ba,qa=Object(Ln.a)(Ra,{keep_updating:!0}),La=n(1502),Ua=n(504),Va=n.n(Ua),Ja=n(12),Wa=n(192),Ha=n(4),za=n(188),Ga=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],a=!0,r=!1,o=void 0;try{for(var s,i=e[Symbol.iterator]();!(a=(s=i.next()).done)&&(n.push(s.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{!a&&i.return&&i.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),$a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function Ya(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ka(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var Xa=function(e,t,n,a){return new(n||(n=Promise))(function(r,o){function s(e){try{l(a.next(e))}catch(e){o(e)}}function i(e){try{l(a.throw(e))}catch(e){o(e)}}function l(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(s,i)}l((a=a.apply(e,t||[])).next())})};var Qa=function(e,t,n){return function(a,r,o){var s=void 0,i=void 0,l=void 0,c=void 0,u=void 0;/Z$/.test(a.key.open)||(a.key.open+="Z");var p=new Date(a.key.open);return t.get("id")===a.key.quote?(s=f.a.get_asset_price(a.high_base,e,a.high_quote,t),i=f.a.get_asset_price(a.low_base,e,a.low_quote,t),l=f.a.get_asset_price(a.open_base,e,a.open_quote,t),c=f.a.get_asset_price(a.close_base,e,a.close_quote,t),u=f.a.get_asset_amount(a.quote_volume,t)):(i=f.a.get_asset_price(a.high_quote,e,a.high_base,t),s=f.a.get_asset_price(a.low_quote,e,a.low_base,t),l=f.a.get_asset_price(a.open_quote,e,a.open_base,t),c=f.a.get_asset_price(a.close_quote,e,a.close_base,t),u=f.a.get_asset_amount(a.base_volume,t)),0===i&&(i=function(e,t){return 0!==e&&0!==t?Math.min(e,t):0===e?t:e}(l,c)),(isNaN(s)||s===1/0)&&(s=function(e,t){return e!==1/0&&t!==1/0?Math.max(e,t):e===1/0?t:e}(l,c)),c!==1/0&&0!==c||(c=l),l!==1/0&&0!==l||(l=c),{date:p,open:l,high:s,low:i,close:c,volume:u,interval:n,time:p.getTime(),base:e.get("symbol"),quote:t.get("symbol")}}},Za=function(e,t,n){return""+e+t+n},er=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=new Date,r=a.toISOString(),o=e.length?n?a:e[e.length-1].date:a,s=e.length?n?e[0].date:e[e.length-1].date:a;return{newDate:o,oldDate:s=e.length&&n?s:new Date(s.getTime()-1e3*t*200),nowDate:a,nowIsoString:r}},tr=function(e,t,n,a,r){var o=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];return Xa(void 0,void 0,void 0,regeneratorRuntime.mark(function s(){var i,l,c;return regeneratorRuntime.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return i=200*n*1e3,l=new Date,r=r>l?l:r,c=function(){for(var e=[],t=new Date(a);;){var n=new Date(Math.min(t.valueOf()+i,r));if(e.push([t,n]),n>=r)break;t=n}return e}(),s.next=6,Promise.all(c.map(function(a){return nr(e,t,n,a[0],a[1],o)})).then(function(e){return e.reduce(function(e,t){return e.concat(t)})});case 6:return s.abrupt("return",s.sent);case 7:case"end":return s.stop()}},s,this)}))},nr=function(e,t,n,a,r){!(arguments.length>5&&void 0!==arguments[5])||arguments[5];return Xa(void 0,void 0,void 0,regeneratorRuntime.mark(function o(){var s,i,l,c,u;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(e&&t){o.next=2;break}return o.abrupt("return",[]);case 2:s=0,i=[],l=new Date(a),c=new Date(r),u=(new Date).toISOString();case 7:if(i.length||!(s<Math.ceil(864/n))){o.next=16;break}return o.next=10,Ha.a.instance().history_api().exec("get_market_history",[e.get("id"),t.get("id"),n,l.toISOString().substring(0,u.length-5),c.toISOString().substring(0,u.length-5)]);case 10:o.t0=Qa(e,t,n),i=o.sent.map(o.t0),l=new Date(l.getTime()-1e3*n*200),s++,o.next=7;break;case 16:return i=i.map(function(e,t,a){var r=t!==a.length-1?a[t+1].date:c,o=(a.length,Math.max(0,Math.floor((r-e.date)/n/1e3)-1));return[e].concat(Ka(new Array(o).fill(1).map(function(t,a){var r=new Date(e.date.getTime()+(a+1)*n*1e3);return{date:r,time:r.getTime(),open:e.close,close:e.close,high:e.close,low:e.close,volume:0,interval:n,base:e.base,quote:e.quote}})))}).reduce(function(e,t){return[].concat(Ka(e),Ka(t))},[]).sort(function(e,t){return e.date>t.date?-1:e.date<t.date?1:0}),o.abrupt("return",i);case 18:case"end":return o.stop()}},o,this)}))},ar={"15S":15,1:60,5:300,60:3600,"1D":86400,D:86400},rr=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3e3;Ya(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.updateInterval=e,n.subCounterMap={},n.startTimer(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,za["EventEmitter"]),$a(t,[{key:"startTimer",value:function(){var e=this;this.timer=setInterval(function(){Object.keys(e.subCounterMap).filter(function(t){return e.subCounterMap[t]>0}).forEach(function(n){return Xa(e,void 0,void 0,regeneratorRuntime.mark(function e(){var a,r,o,s,i,l,c,u,p,d,m,h;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.decodeSubSymbol(n),r=Ga(a,3),o=r[0],s=r[1],i=r[2],e.next=3,Promise.all([o,s].map(function(e){return Object(w.f)("getAsset",e)}));case 3:return l=e.sent,c=Ga(l,2),u=c[0],p=c[1],d=new Date,m=new Date(d.valueOf()-10*parseInt(i)*1e3),e.next=11,tr(p,u,i,m,d,!1);case 11:h=e.sent,this.emit(n,h);case 13:case"end":return e.stop()}},e,this)}))})},this.updateInterval)}},{key:"stopUpdateTimer",value:function(){this.timer&&clearInterval(this.timer)}},{key:"addSub",value:function(e){e in this.subCounterMap?this.subCounterMap[e]++:this.subCounterMap[e]=1}},{key:"removeSub",value:function(e){e in this.subCounterMap&&this.subCounterMap[e]--}}]),t}();rr.encodeSubSymbol=function(e,t,n){return e+"/"+t+"_"+n},rr.decodeSubSymbol=function(e){return e.split("_").map(function(e,t){return 0===t?e.split("/"):[ar[e]]}).reduce(function(e,t){return e.concat(t)})};var or=function(){function e(){Ya(this,e)}return $a(e,[{key:"patchMarketHistory",value:function(e,t,n,a){var r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"COMMON";return Xa(this,void 0,void 0,regeneratorRuntime.mark(function s(){var i,l,c,u,p,d,m,h,f,b,g;return regeneratorRuntime.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:i=Object(Wa.b)(e,t),l=i.base,c=i.quote,u=Za(c.get("symbol"),l.get("symbol"),n),p=(a.getState()[u]||[]).sort(function(e,t){return e.date>t.date?-1:e.date<t.date?1:0}),d=[],m=0,h=er(p,n,r),f=h.oldDate,b=h.newDate,g=h.nowIsoString;case 7:if(!(0===m&&r&&p.length||!d.length&&m<Math.ceil(864/n))){s.next=16;break}return s.next=10,Ha.a.instance().history_api().exec("get_market_history",[l.get("id"),c.get("id"),n,f.toISOString().substring(0,g.length-5),b.toISOString().substring(0,g.length-5)]);case 10:s.t0=Qa(l,c,n),d=s.sent.map(s.t0),f=new Date(f.getTime()-1e3*n*200),m++,s.next=7;break;case 16:0===d.length&&p.length&&r&&d.push(p[0]),d=d.map(function(e,t,a){var r=t!==a.length-1?a[t+1].date:b,o=(a.length,Math.max(0,Math.floor((r-e.date)/n/1e3)-1));return[e].concat(Ka(new Array(o).fill(1).map(function(t,a){var r=new Date(e.date.getTime()+(a+1)*n*1e3);return{date:r,time:r.getTime(),open:e.close,close:e.close,high:e.close,low:e.close,volume:0,interval:n,base:e.base,quote:e.quote}})))}).reduce(function(e,t){return[].concat(Ka(e),Ka(t))},[]).sort(function(e,t){return e.date>t.date?-1:e.date<t.date?1:0}),this.onHistoryPatched({market:u,history:d,loadLatest:r,requestID:o});case 19:case"end":return s.stop()}},s,this)}))}},{key:"onHistoryPatched",value:function(e){return{market:e.market,history:e.history,loadLatest:e.loadLatest,requestID:e.requestID}}}]),e}(),sr=qt.a.createActions(or),ir=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],a=!0,r=!1,o=void 0;try{for(var s,i=e[Symbol.iterator]();!(a=(s=i.next()).done)&&(n.push(s.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{!a&&i.return&&i.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),lr=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function cr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var ur=function(e,t,n,a){return new(n||(n=Promise))(function(r,o){function s(e){try{l(a.next(e))}catch(e){o(e)}}function i(e){try{l(a.throw(e))}catch(e){o(e)}}function l(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(s,i)}l((a=a.apply(e,t||[])).next())})};var pr=function e(){cr(this,e)};pr.Spliter="/",pr.constructSymbolString=function(e,t){return[e,t].join(pr.Spliter)},pr.destructSymbolString=function(e){return e.split(pr.Spliter)},pr.constructSymbolTicker=function(e,t){return pr.constructSymbolString(e,t).replace(/JADE\./gm,"")},pr.getAsset=function(e){return Object(w.f)("getAsset",e)};var dr=Symbol(),mr=Object.keys(ar),hr={15:"15S",60:"1",300:"5",3600:"60",86400:"1D"},fr=function(e){function t(){cr(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.updateEmitter=new Va.a,e.updateCbs={},e.tvWidget=null,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["PureComponent"]),lr(t,[{key:"componentDidUpdate",value:function(e){this.props.quoteSymbol===e.quoteSymbol&&this.props.baseSymbol===e.baseSymbol||this.updateEmitter.emit(dr)}},{key:"componentDidMount",value:function(){var e=this;this.updateEmitter.on(dr,function(t){e.updateCbs.resetData&&(console.debug("==== getBar Reload Chart"),e.updateCbs.resetCache(),e.updateCbs.resetData())}),console.debug("==== getBar Component Did Mount"),this._setupTv()}},{key:"_setupTv",value:function(){var e=this,t=["edit_buttons_in_legend","header_symbol_search","symbol_search_hot_key","symbol_info","header_compare","header_undo_redo","border_around_the_chart"],n=new rr,a={onReady:function(e){console.debug("=====onReady running"),setTimeout(function(){e({supported_resolutions:Object.keys(ar)})},10)},resolveSymbol:function(n,a){console.debug("======resolveSymbol running",n);var r=(e.props.latestPrice?e.props.latestPrice.full:0).toPrecision(6).split(".")[1].length,o={name:n,description:pr.constructSymbolTicker(e.props.quoteSymbol,e.props.baseSymbol),type:"crypto",session:"24x7",timezone:"Asia/Shanghai",ticker:n,legs:[n],base_name:[n],minmov:1,pricescale:function(e){for(var t=1,n=0;n<e;n++)t*=10;return t}(r),has_intraday:!0,has_seconds:!0,intraday_multipliers:["15S","1","60"],disabled_features:t,supported_resolution:mr,volume_precision:4,has_empty_bars:!0,data_status:"streaming"};setTimeout(function(){a(o),console.debug("Resolving that symbol....",o)},0)},subscribeBars:function(t,a,r,o,s){console.debug("=====subscribeBars runnning",t,o),e.updateCbs.resetCache=function(){return s()},e.updateCbs.realtimeUpdate=r;var i=pr.destructSymbolString(t.name),l=ir(i,2),c=l[0],u=l[1];rr.encodeSubSymbol(c,u,ar[a]);n.addSub(o),n.addListener(o,function(t){console.debug("=====subscribeBars: Update Data: ",t,e.latestTime),t&&t.length&&e.latestTime&&(t=t.filter(function(t){return t.date>=e.latestTime})),t&&t.length&&((!e.latestTime||t[0].date>e.latestTime)&&(e.latestTime=t[0].date),t.reverse().forEach(function(e){return r(e)}))})},unsubscribeBars:function(e){n.removeSub(e),console.debug("=====unsubscribeBars running",e)},getBars:function(t,n,a,r,o,s,i){return ur(e,void 0,void 0,regeneratorRuntime.mark(function e(){var s,l,c,u,p,d,m,h=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a*=1e3,r*=1e3,s=pr.destructSymbolString(t.name),l=ir(s,2),c=l[0],u=l[1],e.next=5,Object(w.f)("getAsset",c);case 5:return p=e.sent,e.next=8,Object(w.f)("getAsset",u);case 8:return d=e.sent,e.next=11,tr(d,p,ar[n],a,r);case 11:m=e.sent,console.debug("=====getBars running",t,n,i,a,r),i&&(this.latestTime=null),function(e){e.filter(function(e){e.date>=a&&e.date}),(e=e.sort(function(e,t){return e.date>t.date?1:e.date<t.date?-1:0})).length>1?(console.debug("===getBars: FinalPrice",e),(!h.latestTime||e[0].date>h.latestTime)&&(h.latestTime=e[0].date),o(e,{noData:!1})):o([],{noData:!0})}(m);case 16:case"end":return e.stop()}},e,this)}))}},r={debug:!1,symbol:pr.constructSymbolString(this.props.quoteSymbol,this.props.baseSymbol),datafeed:a,interval:hr[this.props.bucketSize],container_id:this.props.containerId,library_path:this.props.libraryPath,locale:function(){var e=new RegExp("[\\?&]lang=([^&#]*)").exec(window.location.search);return null===e?Kn.a.getState().currentLocale:decodeURIComponent(e[1].replace(/\+/g," "))}()||"en",charts_storage_url:this.props.chartsStorageUrl,charts_storage_api_version:this.props.chartsStorageApiVersion,user_id:this.props.userId,fullscreen:this.props.fullscreen,autosize:this.props.autosize,timezone:"Asia/Shanghai",enabled_features:["hide_loading_screen_on_series_error","side_toolbar_in_fullscreen_mode","keep_left_toolbar_visible_on_small_screens"],disabled_features:t,toolbar_bg:Ja.b.$colorDark,client_id:"tradingview.com",custom_css_url:["/charting_library/themes/tv-dark.min.css"],overrides:{"paneProperties.background":Ja.b.$colorDark,"dataWindowProperties.font":"Open Sans, Verdana","dataWindowProperties.fontSize":8,"paneProperties.vertGridProperties.color":"#363c4e","paneProperties.horzGridProperties.color":"#363c4e","symbolWatermarkProperties.transparency":60,"scalesProperties.textColor":"#AAA","scalesProperties.fontSize":10,"paneProperties.topMargin":10,"paneProperties.bottomMargin":25,"paneProperties.leftMargin":20,"paneProperties.rightMargin":20,"mainSeriesProperties.candleStyle.wickUpColor":Ja.b.$colorGrass,"mainSeriesProperties.candleStyle.wickDownColor":Ja.b.$colorFlame,"mainSeriesProperties.candleStyle.upColor":Ja.b.$colorGrass,"mainSeriesProperties.candleStyle.downColor":Ja.b.$colorFlame},loading_screen:{backgroundColor:"#171d2a"},studies:["MACD@tv-basicstudies"]};this.tvWidget=new La.widget(r),this.tvWidget.onChartReady(function(){console.debug("Chart has loaded!"),e.updateCbs.resetData=function(){e.tvWidget.activeChart().resetData(),e.tvWidget.activeChart().setSymbol(pr.constructSymbolString(e.props.quoteSymbol,e.props.baseSymbol))}})}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){return a.createElement("div",{id:this.props.containerId,className:"TVChartContainer",style:{height:this.props.height,width:"100%",marginBottom:"15px",borderBottom:"1px solid #2f3239"}})}}]),t}();fr.defaultProps={interval:"60",containerId:"tv_chart_container",libraryPath:"/charting_library/",chartsStorageUrl:"https://saveload.tradingview.com",chartsStorageApiVersion:"1.0",clientId:"tradingview.com",userId:"anonymous",fullscreen:!1,autosize:!0,studiesOverrides:{}};var br=n(1435),gr=n(34),yr=n(183),vr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},_r=n(54),Er=n(1459),kr=(a.createClass({displayName:"NotificationSet",getInitialState:function(){return{notifications:[]}},componentDidMount:function(){_r.subscribe(this.props.id,function(e,t){"clearall"===t?this.clearAll():this.addNotification(t)}.bind(this))},addNotification:function(e){e.id=_r.generateUuid();var t=this.state.notifications.concat(e);this.setState({notifications:t})},removeNotifcation:function(e){return function(t){var n=[];this.state.notifications.forEach(function(t){t.id!==e&&n.push(t)}),this.setState({notifications:n}),t.preventDefault()}.bind(this)},clearAll:function(){this.setState({notifications:[]})},render:function(){var e=this.state.notifications.map(function(e){return a.createElement(Er,vr({key:e.id},e,{closeHandler:this.removeNotifcation(e.id),className:"is-active"}),e.content)}.bind(this));return a.createElement("div",null,e)}}),n(1459)),wr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Ar=(n(28),n(54)),Or=a.createClass({displayName:"NotificationStatic",getInitialState:function(){return{open:!1}},componentDidMount:function(){Ar.subscribe(this.props.id,function(e,t){"open"===t?this.setState({open:!0}):"close"===t&&this.setState({open:!1})}.bind(this))},componentWillUnmount:function(){Ar.unsubscribe(this.props.id)},closeHandler:function(e){this.setState({open:!1}),e.preventDefault(),e.stopPropagation()},render:function(){return a.createElement(yr.a,{active:this.state.open,animationIn:"fadeIn",animationOut:"fadeOut"},a.createElement(kr.default,wr({},this.props,{closeHandler:this.closeHandler}),this.props.children))}}),Cr=n(1294),Sr=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var xr,Tr=w.c.operations,Pr=Object.keys(Tr),Dr=((xr=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["Component"]),Sr(t,[{key:"componentWillReceiveProps",value:function(e){if(e.account.size&&this.props.account.get("history")){var t=this.props.account.get("history")&&this.props.account.get("history").first()?this.props.account.get("history").first().toJS():null,n=e.account.get("history")&&e.account.get("history").first()?e.account.get("history").first().toJS():null;n&&t&&"fill_order"===Pr[n.op[0]]&&(!t&&n.id||n.id!==t.id)&&(ga.a.publish("account-notify","open"),setTimeout(function(){ga.a.publish("account-notify","close")},5e3))}}},{key:"shouldComponentUpdate",value:function(e){return!zt.is(e.account.get("history"),this.props.account.get("history"))||!zt.is(e.account,this.props.account)}},{key:"render",value:function(){var e=this.props.account;if(!e)return a.createElement("div",null);var t=void 0,n=void 0;return this.props.account.get("history")&&this.props.account.get("history").size&&(t=this.props.account.get("history").first().toJS())&&(n=a.createElement(Cr.a,{key:t.id,op:t.op,result:t.result,block:t.block_num,current:e.get("id"),hideDate:!0,hideFee:!0})),t?a.createElement(Or,{id:"account-notify",title:null,image:"",wrapperElement:"div"},a.createElement("table",{className:"table"},a.createElement("tbody",null,n))):a.createElement("div",null)}}]),t}()).propTypes={account:qn.a.ChainAccount.isRequired},xr),Nr=Dr=Object(Ln.a)(Dr,{keep_updating:!0}),jr=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var Ir=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["Component"]),jr(t,[{key:"render",value:function(){return a.createElement(u.a,{stores:[s.a],inject:{account:function(){return s.a.getState().currentAccount}}},a.createElement(Nr,null))}}]),t}(),Fr=n(148),Mr=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var Rr=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["Component"]),Mr(t,[{key:"show",value:function(){var e="modal_confirm_"+this.props.type;ga.a.publish(e,"open")}},{key:"_onForce",value:function(e,t){var n="modal_confirm_"+this.props.type;t.preventDefault(),ga.a.publish(n,"close"),e&&this.props.onForce()}},{key:"render",value:function(){var e=this.props,t=e.type,n=e.diff,r=e.hasOrders;return a.createElement(ya.a,{id:"modal_confirm_"+t,overlay:!0},a.createElement(g.a,{component:"h3",content:"transaction.confirm"}),a.createElement("div",{className:"grid-block vertical"},r?a.createElement(g.a,{content:"exchange.confirm_"+t,diff:f.a.format_number(n,2)}):a.createElement(g.a,{content:"exchange.confirm_no_orders_"+t}),a.createElement("div",{className:"button-group",style:{paddingTop:"2rem"}},a.createElement("input",{onClick:this._onForce.bind(this,!0),className:"button success",type:"submit",value:"Yes"}),a.createElement(Fr.a,{close:"modal_confirm_"+t},a.createElement("input",{className:"button info",type:"submit",value:"No"})))))}}]),t}(),Br=n(1279),qr=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function Lr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ur(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Vr(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Jr=function(e){function t(){return Lr(this,t),Ur(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Vr(t,a["Component"]),qr(t,[{key:"render",value:function(){var e=this.props,t=e.baseSymbol,n=e.quoteSymbol;return a.createElement("thead",null,a.createElement("tr",null,a.createElement("th",{style:{textAlign:"center"}},a.createElement(g.a,{content:"exchange.price"})," ",t?a.createElement("span",{className:"header-sub-title"},"(",a.createElement(E.a,{name:t}),"/",a.createElement(E.a,{name:n}),")"):null),a.createElement("th",{style:{textAlign:"center"}},a.createElement(g.a,{content:"transfer.amount"})," ",n?a.createElement("span",{className:"header-sub-title"},"(",a.createElement(E.a,{name:n}),")"):null),a.createElement("th",{style:{textAlign:"center"}},a.createElement(g.a,{content:"transaction.settlement_date"})," ",a.createElement("span",{style:{visibility:"hidden"},className:"header-sub-title"},"d"))))}}]),t}();Jr.defaultProps={quoteSymbol:null,baseSymbol:null};var Wr=function(e){function t(){return Lr(this,t),Ur(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Vr(t,a["Component"]),qr(t,[{key:"render",value:function(){var e=this.props,t=e.quote,n=e.order,r=e.showSymbols?" "+t.get("symbol"):null;return a.createElement("tr",null,a.createElement("td",null,f.a.format_number(n.getPrice(),t.get("precision"))," ",r),a.createElement("td",null,a.createElement(Bn.a,{amount:n[n.isBid()?"amountToReceive":"amountForSale"]().getAmount(),asset:n[n.isBid()?"amountToReceive":"amountForSale"]().asset_id})),a.createElement("td",null,a.createElement(Br.a,{time:n.settlement_date})))}}]),t}();Wr.defaultProps={showSymbols:!1,invert:!1};var Hr=function(e){function t(){return Lr(this,t),Ur(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Vr(t,a["Component"]),qr(t,[{key:"shouldComponentUpdate",value:function(e){return e.currentAccount!==this.props.currentAccount||e.orders!==this.props.orders}},{key:"render",value:function(){var e=this.props,t=e.orders,n=e.base,r=e.quote,o=e.quoteSymbol,s=e.baseSymbol,i=null;if(!(t.size>0&&n&&r))return null;var l=0;return i=t.sort(function(e,t){return e.isBefore(t)?-1:1}).map(function(e){return a.createElement(Wr,{key:l++,order:e,base:n,quote:r})}).toArray(),a.createElement("div",{key:"open_orders",className:"grid-block no-overflow small-12 no-padding vertical medium-horizontal middle-content"},a.createElement("div",{className:"small-12 order-1",style:{paddingBottom:"1rem"}},a.createElement("div",{className:"exchange-bordered"},this.props.withHeader&&a.createElement("div",{className:"exchange-content-header"},a.createElement(g.a,{content:"exchange.settle_orders"})),a.createElement("div",{className:"grid-block",style:{maxHeight:"400px",overflow:"hidden"},ref:"orders"},a.createElement("table",{className:"table order-table text-right table-hover"},a.createElement(Jr,{type:"buy",baseSymbol:s,quoteSymbol:o}),a.createElement("tbody",{ref:"orders"},i))))))}}]),t}();Hr.defaultProps={base:{},quote:{},orders:{},quoteSymbol:"",baseSymbol:""},Hr.propTypes={base:p.object.isRequired,quote:p.object.isRequired,orders:p.object.isRequired,quoteSymbol:p.string.isRequired,baseSymbol:p.string.isRequired};var zr=Hr,Gr=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var $r=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["Component"]),Gr(t,[{key:"_addMarket",value:function(e,t){var n=e+"_"+t;this.props.starredMarkets.has(n)?Cn.a.removeStarMarket(e,t):Cn.a.addStarMarket(e,t)}},{key:"render",value:function(){var e=this.props,t=e.quoteAsset,n=e.baseAsset,r=e.starredMarkets,o=e.hasPrediction,s=e.feedPrice,i=e.showCallLimit,l=e.lowestCallPrice,c=e.marketReady,u=e.latestPrice,p=(e.currentPeriod,e.marketStats),d=(e.showDepthChart,e.buckets,e.bucketSize,e.showIndicators,e.onBorrowBase,e.onBorrowQuote,e.indicators,e.indicatorSettings,e.currentMouseItem,n.get("symbol")),m=t.get("symbol"),h=m+"_"+d,f=r.has(h)?"gold-star":"grey-star",b=p.get("change"),y=0===parseFloat(b)?"":parseFloat(b)<0?"negative":"positive",v=""===y?"":"positive"===y?"change-up":"change-down",_=p.get("volumeBase"),w=p.get("volumeQuote");return a.createElement("div",{className:"grid-block shrink no-padding overflow-visible top-bar"},a.createElement("div",{className:"grid-block overflow-visible"},a.createElement("div",{className:"grid-block shrink show-for-large"},a.createElement("span",{className:"v-align clickable",onClick:this._addMarket.bind(this,m,d)},a.createElement("span",{style:{paddingRight:0},className:"market-symbol"},a.createElement(k.a,{className:f,name:"fi-star"})),a.createElement("span",{className:"market-symbol"},a.createElement("span",{style:{fontSize:"1.2em"}},a.createElement(E.a,{name:m}))," / ",a.createElement(E.a,{name:d})))),a.createElement("div",{className:"grid-block vertical",style:{overflow:"visible"}},a.createElement("ul",{className:"market-stats stats top-stats medium-12"},u?a.createElement(J,{ready:c,price:u.full,hideBase:!0,withYuan:!0,quote:t,base:n,hideQuote:!0,content:"exchange.latest"}):null,a.createElement("li",{className:"stat"},a.createElement("span",null,a.createElement(g.a,{className:"nowrap",component:"span",content:"account.hour_24"}),a.createElement("br",null),a.createElement("b",{className:"value "+y},c?b:0),a.createElement("span",{className:v},"%"))),_>=0?a.createElement(J,{ready:c,decimals:0,volume:!0,price:_,volume2:parseFloat(w),base:n,quote:t,content:"exchange.volume_24"}):null,!o&&s?a.createElement(J,{toolTip:G.a.translate("tooltip.settle_price"),ready:c,price:s.toReal(),quote:t,base:n,content:"exchange.settle"}):null,l&&i?a.createElement(J,{toolTip:G.a.translate("tooltip.call_limit"),ready:c,className:"is-call",price:l,quote:t,base:n,content:"explorer.block.call_limit"}):null,s&&i?a.createElement(J,{toolTip:G.a.translate("tooltip.margin_price"),ready:c,className:"is-call",price:s.getSqueezePrice({real:!0}),quote:t,base:n,content:"exchange.squeeze"}):null))))}}]),t}(),Yr=n(289),Kr=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function Xr(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var Qr=new Va.a,Zr=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={},e.bindListeners({onHistoryPatched:sr.onHistoryPatched}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,Ht["a"]),Kr(t,[{key:"onHistoryPatched",value:function(e){var t=e.market,n=e.history,a=void 0===n?[]:n,r=e.loadLatest,o=e.requestID,s=this.state[t]||[],i=a.length?a[a.length-1]:null;i&&(s=s.filter(function(e){return e.date<i.date}));var l=r?[].concat(Xr(a),Xr(s)):[].concat(Xr(s),Xr(a));this.setState(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},t,l)),console.debug("MarketHistoryStore Patched: ",this.state),o&&Qr.emit(o,l)}}]),t}(),eo=qt.a.createStore(Zr,"MarketHistoryStore"),to=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],a=!0,r=!1,o=void 0;try{for(var s,i=e[Symbol.iterator]();!(a=(s=i.next()).done)&&(n.push(s.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{!a&&i.return&&i.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),no=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function ao(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ro=[{key:"my-market",label:"exchange.tabs.market"},{key:"my-order",label:"exchange.tabs.orders"},{key:"order-book-buy",label:"exchange.tabs.bidask"},{key:"depth-chart",label:"exchange.tabs.depthChart"},{key:"market-history",label:"exchange.tabs.trades"},{key:"open-settle-order",label:"exchange.tabs.settle"}],oo=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state=n._initialState(e),n._getWindowSize=Object(Zn.debounce)(n._getWindowSize.bind(n),150),n._checkFeeStatus=n._checkFeeStatus.bind(n),n.psInit=!0,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["Component"]),no(t,[{key:"_initialState",value:function(e){var t=e.viewSettings,n={forSaleText:"",toReceiveText:"",priceText:"",for_sale:new A.a({asset_id:e.baseAsset.get("id"),precision:e.baseAsset.get("precision")}),to_receive:new A.a({asset_id:e.quoteAsset.get("id"),precision:e.quoteAsset.get("precision")}),price:null};n.price=new A.f({base:n.for_sale,quote:n.to_receive});var a={forSaleText:"",toReceiveText:"",priceText:"",for_sale:new A.a({asset_id:e.quoteAsset.get("id"),precision:e.quoteAsset.get("precision")}),to_receive:new A.a({asset_id:e.baseAsset.get("id"),precision:e.baseAsset.get("precision")}),price:null};a.price=new A.f({base:a.for_sale,quote:a.to_receive});var r=ro[0];return{history:[],buySellOpen:t.get("buySellOpen",!0),bid:n,ask:a,favorite:!1,showDepthChart:t.get("showDepthChart",!1),leftOrderBook:t.get("leftOrderBook",!1),buyDiff:!1,sellDiff:!1,buySellTop:t.get("buySellTop",!0),buyFeeAssetIdx:t.get("buyFeeAssetIdx",0),sellFeeAssetIdx:t.get("sellFeeAssetIdx",0),currentMouseItem:{},currentInfoTab:r,height:window.innerHeight,width:window.innerWidth,chartHeight:t.get("chartHeight",425),currentPeriod:t.get("currentPeriod",7776e3)}}},{key:"_getLastMarketKey",value:function(){var e=Ha.a.instance().chain_id;return"lastMarket"+(e?"_"+e.substr(0,8):"")}},{key:"componentWillMount",value:function(){window.removeEventListener("optimizedResize",this._getWindowSize),this._checkFeeStatus()}},{key:"componentDidMount",value:function(){Cn.a.changeViewSetting.defer(ao({},this._getLastMarketKey(),this.props.quoteAsset.get("symbol")+"_"+this.props.baseAsset.get("symbol"))),window.addEventListener("optimizedResize",this._getWindowSize)}},{key:"shouldComponentUpdate",value:function(e){return!(!e.marketReady&&!this.props.marketReady)}},{key:"_checkFeeStatus",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[this.props.coreAsset,this.props.baseAsset,this.props.quoteAsset],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.props.currentAccount,a={},r=[];t.forEach(function(e){r.push(Object(Yr.b)({accountID:n.get("id"),feeID:e.get("id"),type:"limit_order_create"}))}),Promise.all(r).then(function(n){t.forEach(function(e,t){a[e.get("id")]=n[t]}),f.a.are_equal_shallow(e.state.feeStatus,a)||e.setState({feeStatus:a})})}},{key:"_getWindowSize",value:function(){var e=window,t=e.innerHeight,n=e.innerWidth;if(t!==this.state.height||n!==this.state.width){this.setState({height:t,width:n});this.refs.center}}},{key:"componentWillReceiveProps",value:function(e){return e.quoteAsset===this.props.quoteAsset&&e.baseAsset===this.props.baseAsset&&e.currentAccount===this.props.currentAccount||this._checkFeeStatus([e.coreAsset,e.baseAsset,e.quoteAsset],e.currentAccount),e.quoteAsset.get("symbol")!==this.props.quoteAsset.get("symbol")||e.baseAsset.get("symbol")!==this.props.baseAsset.get("symbol")?(this.setState(this._initialState(e)),Cn.a.changeViewSetting(ao({},this._getLastMarketKey(),e.quoteAsset.get("symbol")+"_"+e.baseAsset.get("symbol")))):this.props.sub&&e.bucketSize!==this.props.bucketSize?this._changeBucketSize(e.bucketSize):void 0}},{key:"_getFeeAssets",value:function(e,t,n){var a=this,r=this.props.currentAccount,o=this.state.feeStatus;function s(e,t){-1===e.indexOf(t)&&e.push(t)}var i=[n,e===n?t:e];s(i,e),s(i,t);var l=[n,t===n?e:t];s(l,e),s(l,t);var c={};function u(e,t,a){var r=void 0;return(e=e.filter(function(e){return!!t[e.get("id")]&&(function(e){return o[e]&&o[e].hasPoolBalance}(e.get("id"))&&function(e){return o[e]&&o[e].hasBalance}(e.get("id")))})).length?r=e[Math.min(e.length-1,a)]:(r=n,e.push(n)),{assets:e,asset:r}}r.get("balances",[]).filter(function(n,a){return["1.3.0",e.get("id"),t.get("id")].indexOf(a)>=0}).forEach(function(e,t){var n=w.b.getObject(e);c[t]={balance:n?parseInt(n.get("balance"),10):0,fee:a._getFee(w.b.getAsset(t))}});var p=u(i,c,this.state.sellFeeAssetIdx),d=p.assets,m=p.asset,h=u(l,c,this.state.buyFeeAssetIdx),f=h.assets,b=h.asset;return{sellFeeAsset:m,sellFeeAssets:d,sellFee:this._getFee(m),buyFeeAsset:b,buyFeeAssets:f,buyFee:this._getFee(b)}}},{key:"_getFee",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props.coreAsset;return this.state.feeStatus[e.get("id")]&&this.state.feeStatus[e.get("id")].fee}},{key:"_verifyFee",value:function(e,t,n,a){var r=this._getFee(),o=e.getAmount()+t;return"1.3.0"===e.asset_id?r.getAmount()<=a?"1.3.0":null:o<=n?e.asset_id:r.getAmount()<=a&&"1.3.0"!==e.asset_id?"1.3.0":null}},{key:"_createLimitOrderConfirm",value:function(e,t,n,a,r,o){var s=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];arguments[7].preventDefault();var i=this.props.marketData,l=i.highestBid,c=i.lowestAsk,u=this.state["sell"===o?"ask":"bid"];n=u.for_sale.clone(n?parseInt(w.b.getObject(n).toJS().balance,10):0),a=new A.a({amount:a?parseInt(w.b.getObject(a).toJS().balance,10):0});var p=this._getFee(r),d=this._verifyFee(p,u.for_sale.getAmount(),n.getAmount(),a.getAmount());if(!d)return gr.b.addNotification({message:"Insufficient funds to pay fees",level:"error"});if("buy"===o&&c){var m=this.state.bid.price.toReal()/c.getPrice();if(m>1.2)return this.refs.buy.show(),this.setState({buyDiff:m})}else if("sell"===o&&l){var h=1/(this.state.ask.price.toReal()/l.getPrice());if(h>1.2)return this.refs.sell.show(),this.setState({sellDiff:h})}var f=t.getIn(["bitasset","is_prediction_market"]);return u.for_sale.gt(n)&&!f?gr.b.addNotification({message:"Insufficient funds to place order, you need at least "+u.for_sale.getAmount({real:!0})+" "+t.get("symbol"),level:"error"}):u.for_sale.getAmount()>0&&u.to_receive.getAmount()>0?"sell"===o&&f&&s?this._createPredictionShort(d):void this._createLimitOrder(o,d):gr.b.addNotification({message:"Please enter a valid amount and price",level:"error"})}},{key:"_createLimitOrder",value:function(e,t){var n=this.state["sell"===e?"ask":"bid"],a=new A.e({for_sale:n.for_sale,to_receive:n.to_receive,seller:this.props.currentAccount.get("id"),fee:{asset_id:t,amount:0}}),r=On.a.getMarketID(this.props.baseAsset,this.props.quoteAsset),o=r.marketID,s=r.first,i=this.props.marketDirections.get(o);if(i&&s.get("id")!==this.props.baseAsset.get("id")||!i&&s.get("id")!==this.props.baseAsset.get("id")){var l={};l[o]=!i,Cn.a.changeMarketDirection(l)}return d.a.createLimitOrder2(a).then(function(e){e.error&&"wallet locked"!==e.error.message&&gr.b.addNotification({message:"Unknown error. Failed to place order for "+n.to_receive.getAmount({real:!0})+" "+n.to_receive.asset_id,level:"error"})}).catch(function(e){console.log("order failed:",e)})}},{key:"_createPredictionShort",value:function(e){var t=this.state.ask,n=new A.e({for_sale:t.for_sale,to_receive:t.to_receive,seller:this.props.currentAccount.get("id"),fee:{asset_id:e,amount:0}});Promise.all([Object(w.f)("getAsset",this.props.quoteAsset.getIn(["bitasset","options","short_backing_asset"]))]).then(function(e){var t=to(e,1)[0],a=new A.a({amount:n.amount_for_sale.getAmount(),asset_id:t.get("id"),precision:t.get("precision")});d.a.createPredictionShort(n,a).then(function(e){e.error&&"wallet locked"!==e.error.message&&gr.b.addNotification({message:"Unknown error. Failed to place order",level:"error"})})})}},{key:"_forceBuy",value:function(e,t,n,a){var r=this.state["sell"===e?"ask":"bid"];n=r.for_sale.clone(n?parseInt(w.b.getObject(n).get("balance"),10):0),a=new A.a({amount:a?parseInt(w.b.getObject(a).toJS().balance,10):0});var o=this._getFee(t),s=this._verifyFee(o,r.for_sale.getAmount(),n.getAmount(),a.getAmount());s?this._createLimitOrder(e,s):console.error("Unable to pay fees, aborting limit order creation")}},{key:"_forceSell",value:function(e,t,n,a){var r=this.state["sell"===e?"ask":"bid"];n=r.for_sale.clone(n?parseInt(w.b.getObject(n).get("balance"),10):0),a=new A.a({amount:a?parseInt(w.b.getObject(a).toJS().balance,10):0});var o=this._getFee(t),s=this._verifyFee(o,r.for_sale.getAmount(),n.getAmount(),a.getAmount());s?this._createLimitOrder(e,s):console.error("Unable to pay fees, aborting limit order creation")}},{key:"_cancelLimitOrder",value:function(e,t){t.preventDefault();var n=this.props.currentAccount;d.a.cancelLimitOrder(n.get("id"),e)}},{key:"_changeBucketSize",value:function(e,t){if(t&&t.preventDefault(),e!==this.props.bucketSize){d.a.changeBucketSize.defer(e);var n=this.props.sub.split("_");d.a.unSubscribeMarket.defer(n[0],n[1]),this.props.subToMarket(this.props,e)}}},{key:"_toggleOpenBuySell",value:function(){Cn.a.changeViewSetting({buySellOpen:!this.state.buySellOpen}),this.setState({buySellOpen:!this.state.buySellOpen})}},{key:"_toggleCharts",value:function(){Cn.a.changeViewSetting({showDepthChart:!this.state.showDepthChart}),this.setState({showDepthChart:!this.state.showDepthChart})}},{key:"_moveOrderBook",value:function(){Cn.a.changeViewSetting({leftOrderBook:!this.state.leftOrderBook}),this.setState({leftOrderBook:!this.state.leftOrderBook})}},{key:"_currentPriceClick",value:function(e,t){var n="bid"===e,a=this.state[e];a.price=t[n?"invert":"clone"](),a.priceText=a.price.toReal(),n?this._setForSale(a,n)||this._setReceive(a,n):this._setReceive(a,n)||this._setForSale(a,n),this.forceUpdate()}},{key:"_orderbookClick",value:function(e,t){console.log("click order ==========================",t);var n=e.isBid(),a=e.totalToReceive({noCache:!0}),r=a.times(e.sellPrice()),o=new A.f({base:n?r:a,quote:n?a:r}),s=this.state[n?"bid":"ask"];s.price=o,s.priceText=t;var i=ao({},n?"ask":"bid",{for_sale:a,forSaleText:a.getAmount({real:!0}),to_receive:r,toReceiveText:r.getAmount({real:!0}),price:o,priceText:t});n?this._setForSale(s,n)||this._setReceive(s,n):this._setReceive(s,n)||this._setForSale(s,n),this.setState(i)}},{key:"_borrowQuote",value:function(){this.refs.borrowQuote.show()}},{key:"_borrowBase",value:function(){this.refs.borrowBase.show()}},{key:"_getSettlementInfo",value:function(){var e=this.props,t=e.lowestCallPrice,n=e.feedPrice,a=e.quoteAsset,r=!1;return n&&(r=n.inverted?t<=n.toReal():t>=n.toReal()),!(!r||!t||a.getIn(["bitasset","is_prediction_market"]))}},{key:"onChangeFeeAsset",value:function(e,t){t.preventDefault(),"buy"===e?(this.setState({buyFeeAssetIdx:t.target.value}),Cn.a.changeViewSetting({buyFeeAssetIdx:t.target.value})):(this.setState({sellFeeAssetIdx:t.target.value}),Cn.a.changeViewSetting({sellFeeAssetIdx:t.target.value}))}},{key:"onChangeChartHeight",value:function(e){var t=e.value,n=e.increase,a=t||this.state.chartHeight+(n?20:-20);this.setState({chartHeight:a}),Cn.a.changeViewSetting({chartHeight:a})}},{key:"_toggleBuySellPosition",value:function(){this.setState({buySellTop:!this.state.buySellTop}),Cn.a.changeViewSetting({buySellTop:!this.state.buySellTop})}},{key:"_setReceive",value:function(e,t){return!(!e.price.isValid()||!e.for_sale.hasAmount())&&(e.to_receive=e.for_sale.times(e.price),e.toReceiveText=e.to_receive.getAmount({real:!0}).toString(),!0)}},{key:"_setForSale",value:function(e,t){return!(!e.price.isValid()||!e.to_receive.hasAmount())&&(e.for_sale=e.to_receive.times(e.price,!0),e.forSaleText=e.for_sale.getAmount({real:!0}).toString(),!0)}},{key:"_setPrice",value:function(e){return!(!e.for_sale.hasAmount()||!e.to_receive.hasAmount())&&(e.price=new A.f({base:e.for_sale,quote:e.to_receive}),e.priceText=e.price.toReal().toString(),!0)}},{key:"_setPriceText",value:function(e,t){var n=e[t?"for_sale":"to_receive"],a=e[t?"to_receive":"for_sale"];n.hasAmount()&&a.hasAmount()&&(e.priceText=new A.f({base:n,quote:a}).toReal().toString())}},{key:"_onInputPrice",value:function(e,t){var n=this.state[e],a="bid"===e;n.price=new A.f({base:n[a?"for_sale":"to_receive"],quote:n[a?"to_receive":"for_sale"],real:parseFloat(t.target.value)||0}),a?this._setForSale(n,a)||this._setReceive(n,a):this._setReceive(n,a)||this._setForSale(n,a),n.priceText=t.target.value,this.forceUpdate()}},{key:"_onInputSell",value:function(e,t,n){var a=this.state[e];a.for_sale.setAmount({real:parseFloat(n.target.value)||0}),a.price.isValid()?this._setReceive(a,t):this._setPrice(a),a.forSaleText=n.target.value,this._setPriceText(a,"bid"===e),this.forceUpdate()}},{key:"_onInputReceive",value:function(e,t,n){var a=this.state[e];a.to_receive.setAmount({real:parseFloat(n.target.value)||0}),a.price.isValid()?this._setForSale(a,t):this._setPrice(a),a.toReceiveText=n.target.value,this._setPriceText(a,"bid"===e),this.forceUpdate()}},{key:"isMarketFrozen",value:function(){var e=this.props,t=e.baseAsset,n=e.quoteAsset,a=t.getIn(["options","whitelist_markets"]).toJS(),r=n.getIn(["options","whitelist_markets"]).toJS(),o=t.getIn(["options","blacklist_markets"]).toJS(),s=n.getIn(["options","blacklist_markets"]).toJS();return r.length&&-1===r.indexOf(t.get("id"))?{isFrozen:!0,frozenAsset:n.get("symbol")}:a.length&&-1===a.indexOf(n.get("id"))?{isFrozen:!0,frozenAsset:t.get("symbol")}:s.length&&-1!==s.indexOf(t.get("id"))?{isFrozen:!0,frozenAsset:n.get("symbol")}:o.length&&-1!==o.indexOf(n.get("id"))?{isFrozen:!0,frozenAsset:t.get("symbol")}:{isFrozen:!1}}},{key:"_toggleMiniChart",value:function(){Cn.a.changeViewSetting({miniDepthChart:!this.props.miniDepthChart})}},{key:"_handleMouseMove",value:function(e){var t=this;setTimeout(function(){return t.setState({currentMouseItem:e})})}},{key:"render",value:function(){var e=this.props,t=e.currentAccount,n=e.marketLimitOrders,r=e.marketCallOrders,o=e.marketData,s=e.activeMarketHistory,i=e.invertedCalls,l=e.starredMarkets,c=e.quoteAsset,u=e.baseAsset,p=e.lowestCallPrice,d=e.marketStats,m=e.marketReady,h=e.marketSettleOrders,f=e.bucketSize,b=e.totals,g=e.feedPrice,y=(e.buckets,e.coreAsset),v=o.combinedBids,_=o.combinedAsks,E=o.lowestAsk,k=o.highestBid,w=(o.flatBids,o.flatAsks,o.flatCalls,o.flatSettles,this.state),A=(w.elements,w.bid),O=w.ask,C=w.leftOrderBook,S=w.showDepthChart,x=(w.tools,w.chartHeight),T=w.buyDiff,P=w.sellDiff,D=w.width,N=w.buySellTop,j=(w.currentInfoTab,this.isMarketFrozen()),F=j.isFrozen,R=(j.frozenAsset,null),B=null,q=null,L=null,U=null,V=null,J=void 0,W=void 0,z=!1,G=void 0,$=void 0,Y="1.2.3"===t.get("id");if(c.size&&u.size&&t.size){if(B=c,W=(R=u).get("symbol"),J=B.get("symbol"),q=t.get("balances").toJS())for(var K in q)K===B.get("id")&&(L=q[K]),K===R.get("id")&&(U=q[K]),"1.3.0"===K&&(V=q[K]);z=this._getSettlementInfo()}var X=!!c.get("bitasset_data_id"),Q=!!u.get("bitasset_data_id");E&&k&&(E.getPrice(),k.getPrice());if(s.size){var Z=s.take(3),ee=Z.first(),te=Z.last(),ne=void 0,ae=void 0,re=!1;ee.pays.asset_id===R.get("id")?(ne=R,ae=B,re=!0):(ne=B,ae=R);var oe=R.get("id").split(".")[2]>B.get("id").split(".")[2];if(G=On.a.parse_order_history(ee,ne,ae,re,oe),re=!1,te){te.pays.asset_id===R.get("id")?(ne=R,ae=B,re=!0):(ne=B,ae=R);var se=On.a.parse_order_history(te,ne,ae,re,oe);$=G.full===se.full?"":G.full-se.full>0?"change-up":"change-down"}}if(!y||!this.state.feeStatus)return null;var ie=this._getFeeAssets(B,R,y),le=ie.sellFeeAsset,ce=ie.sellFeeAssets,ue=ie.sellFee,pe=ie.buyFeeAsset,de=ie.buyFeeAssets,me=ie.buyFee,he=R.getIn(["bitasset","is_prediction_market"])||B.getIn(["bitasset","is_prediction_market"]),fe=null;he&&(fe=c.getIn(["options","description"]),fe=Fa.a.parseDescription(fe).main);var be=!1;D<1e3&&(be=!0,C=!1);var ge=C?2:1,ye=Math.max(this.state.height>1100?x:x-125,300),ve=F?null:a.createElement(qa,{onBorrow:!Y&&Q?this._borrowBase.bind(this):null,currentAccount:t,backedCoin:R.get("symbol")in this.props.backedCoins,currentBridges:this.props.bridgeCoins.get(R.get("symbol"))||null,smallScreen:be,isOpen:this.state.buySellOpen,onToggleOpen:this._toggleOpenBuySell.bind(this),className:M()("bgcolor-primary small-12 medium-6 no-padding",{disabled:Y},this.state.flipBuySell?"order-"+(N?2:5*ge)+" sell-form":"order-"+(N?1:4*ge)+" buy-form"),type:"bid",amount:A.toReceiveText,price:A.priceText,total:A.forSaleText,quote:B,base:R,amountChange:this._onInputReceive.bind(this,"bid",!0),priceChange:this._onInputPrice.bind(this,"bid"),setPrice:this._currentPriceClick.bind(this),totalChange:this._onInputSell.bind(this,"bid",!1),balance:U,balanceId:R.get("id"),onSubmit:this._createLimitOrderConfirm.bind(this,B,R,U,V,pe,"buy"),balancePrecision:R.get("precision"),quotePrecision:B.get("precision"),totalPrecision:R.get("precision"),currentPrice:E.getPrice(),currentPriceObject:E,account:t.get("name"),fee:me,hasFeeBalance:this.state.feeStatus[me.asset_id].hasBalance,feeAssets:de,feeAsset:pe,onChangeFeeAsset:this.onChangeFeeAsset.bind(this,"buy"),isPredictionMarket:R.getIn(["bitasset","is_prediction_market"]),onTogglePosition:this._toggleBuySellPosition.bind(this)}),_e=F?null:a.createElement(qa,{onBorrow:!Y&&X?this._borrowQuote.bind(this):null,currentAccount:t,backedCoin:B.get("symbol")in this.props.backedCoins,currentBridges:this.props.bridgeCoins.get(B.get("symbol"))||null,smallScreen:be,isOpen:this.state.buySellOpen,onToggleOpen:this._toggleOpenBuySell.bind(this),className:M()("bgcolor-primary small-12 medium-6 no-padding",{disabled:Y},this.state.flipBuySell?"order-"+(N?1:4*ge)+" buy-form":"order-"+(N?2:5*ge)+" sell-form"),type:"ask",amount:O.forSaleText,price:O.priceText,total:O.toReceiveText,quote:B,base:R,amountChange:this._onInputSell.bind(this,"ask",!1),priceChange:this._onInputPrice.bind(this,"ask"),setPrice:this._currentPriceClick.bind(this),totalChange:this._onInputReceive.bind(this,"ask",!0),balance:L,balanceId:B.get("id"),onSubmit:this._createLimitOrderConfirm.bind(this,R,B,L,V,le,"sell"),balancePrecision:B.get("precision"),quotePrecision:B.get("precision"),totalPrecision:R.get("precision"),currentPrice:k.getPrice(),currentPriceObject:k,account:t.get("name"),fee:ue,hasFeeBalance:this.state.feeStatus[ue.asset_id].hasBalance,feeAssets:ce,feeAsset:le,onChangeFeeAsset:this.onChangeFeeAsset.bind(this,"sell"),isPredictionMarket:B.getIn(["bitasset","is_prediction_market"])}),Ee=a.createElement(An,{latest:G,changeClass:$,orders:n,calls:r,invertedCalls:i,combinedBids:v,combinedAsks:_,highestBid:k,lowestAsk:E,totalBids:b.bid,totalAsks:b.ask,base:R,quote:B,baseSymbol:W,quoteSymbol:J,height:ye,width:D,onClick:this._orderbookClick.bind(this),horizontal:!1,moveOrderBook:this._moveOrderBook.bind(this),flipOrderBook:this.props.viewSettings.get("flipOrderBook"),marketReady:m,currentAccount:this.props.currentAccount.get("id")});return a.createElement("div",{className:"market-layout"},a.createElement("div",{className:"market-main _scroll-bar",style:{overflowX:"hidden",boxShadow:"0 0 2px 2px "+H.b.$colorNoir}},a.createElement($r,{quoteAsset:c,baseAsset:u,hasPrediction:he,starredMarkets:l,lowestAsk:E,highestBid:k,lowestCallPrice:p,showCallLimit:z,feedPrice:g,marketReady:m,latestPrice:G,showDepthChart:S,marketStats:d,onToggleCharts:this._toggleCharts.bind(this)}),a.createElement("div",{className:"grid-block shrink no-overflow",id:"market-charts"},a.createElement(fr,{priceData:eo.getState()[""+J+W+f]||[],onChangeBucket:this._changeBucketSize.bind(this),base:R,quote:B,latestPrice:G,baseSymbol:W,quoteSymbol:J,height:366,bucketSize:f})),a.createElement("div",{className:"grid-block no-padding exchange-forms"},ve,_e,a.createElement(Rr,{type:"buy",ref:"buy",onForce:this._forceBuy.bind(this,"buy",pe,U,V),diff:T,hasOrders:_.length>0}),a.createElement(Rr,{type:"sell",ref:"sell",onForce:this._forceSell.bind(this,"sell",le,L,V),diff:P,hasOrders:v.length>0})),a.createElement(I,{smallScreen:this.props.smallScreen,className:M()({disabled:Y},"align-spaced ps-container middle-content order-6"),key:"open_orders",orders:n,currentAccount:t,base:R,quote:B,baseSymbol:W,quoteSymbol:J,onCancel:this._cancelLimitOrder.bind(this),flipMyOrders:this.props.viewSettings.get("flipMyOrders")}),a.createElement(zr,{withHeader:!1,key:"settle_orders",className:M()(be||C?"":"medium-6 xlarge-4 order-12","small-12 medium-6 no-padding align-spaced ps-container middle-content order-12"),orders:h,base:R,quote:B,baseSymbol:W,quoteSymbol:J})),a.createElement("div",{className:"market-markets"},a.createElement(ha,{className:"left-order-book no-padding no-overflow",headerStyle:{paddingTop:0},columns:[{name:"star",index:1},{name:"market",index:2},{name:"vol",index:3},{name:"price",index:4},{name:"change",index:5}],findColumns:[{name:"market",index:1},{name:"issuer",index:2},{name:"price",index:3},{name:"vol",index:4},{name:"change",index:5}],current:J+"_"+W})),a.createElement("div",{className:"market-orders",style:{borderTop:"1px solid "+H.e.$colorDark}},a.createElement(Rn,{className:"no-padding no-overflow middle-content small-12",headerStyle:{paddingTop:0},history:s,currentAccount:t,myHistory:t.get("history"),base:R,quote:B,baseSymbol:W,quoteSymbol:J,isNullAccount:Y})),a.createElement("div",{className:"market-orderbook",id:"orderBook"},Ee),a.createElement("div",null),!Y&&X?a.createElement(br.a,{ref:"borrowQuote",quote_asset:c.get("id"),backing_asset:c.getIn(["bitasset","options","short_backing_asset"]),account:t}):null,!Y&&Q?a.createElement(br.a,{ref:"borrowBase",quote_asset:u.get("id"),backing_asset:u.getIn(["bitasset","options","short_backing_asset"]),account:t}):null,a.createElement(Ir,null))}}]),t}();oo.propTypes={marketCallOrders:p.object.isRequired,activeMarketHistory:p.object.isRequired,viewSettings:p.object.isRequired,priceData:p.array.isRequired,volumeData:p.array.isRequired},oo.defaultProps={marketCallOrders:[],activeMarketHistory:{},viewSettings:{},priceData:[],volumeData:[]};var so=oo,io=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function lo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function co(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function uo(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var po=function(e){function t(){return lo(this,t),co(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return uo(t,a["Component"]),io(t,[{key:"render",value:function(){var e=this.props.match.params.marketID.split("_");return a.createElement(u.a,{stores:[o.a,s.a,i.b],inject:{marketLimitOrders:function(){return o.a.getState().marketLimitOrders},marketCallOrders:function(){return o.a.getState().marketCallOrders},invertedCalls:function(){return o.a.getState().invertedCalls},marketSettleOrders:function(){return o.a.getState().marketSettleOrders},marketData:function(){return o.a.getState().marketData},totals:function(){return o.a.getState().totals},priceData:function(){return o.a.getState().priceData},volumeData:function(){return o.a.getState().volumeData},activeMarketHistory:function(){return o.a.getState().activeMarketHistory},bucketSize:function(){return o.a.getState().bucketSize},buckets:function(){return o.a.getState().buckets},lowestCallPrice:function(){return o.a.getState().lowestCallPrice},feedPrice:function(){return o.a.getState().feedPrice},currentAccount:function(){return s.a.getState().currentAccount},linkedAccounts:function(){return s.a.getState().linkedAccounts},viewSettings:function(){return i.b.getState().viewSettings},settings:function(){return i.b.getState().settings},preferredBases:function(){return i.b.getState().preferredBases},starredMarkets:function(){return i.b.getState().starredMarkets},marketDirections:function(){return i.b.getState().marketDirections},marketStats:function(){return o.a.getState().marketStats},marketReady:function(){return o.a.getState().marketReady},backedCoins:function(){return l.b.getState().backedCoins.get("JADE",[])},bridgeCoins:function(){return l.b.getState().bridgeCoins},miniDepthChart:function(){return i.b.getState().viewSettings.get("miniDepthChart",!0)}}},a.createElement(vo,{router:this.props.history,quoteAsset:e[0],baseAsset:e[1]}))}}]),t}(),mo=Object(w.e)(),ho=void 0,fo=void 0,bo=void 0,go=void 0,yo=void 0,vo=((_o=function(e){function t(e){lo(this,t);var n=co(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={sub:null},n._subToMarket=n._subToMarket.bind(n),n}return uo(t,a["Component"]),io(t,[{key:"componentWillMount",value:function(){var e=this;this.props.quoteAsset.toJS&&this.props.baseAsset.toJS&&this._subToMarket(this.props),mo.on("cancel-order",fo=d.a.cancelLimitOrderSuccess),mo.on("close-call",ho=d.a.closeCallOrderSuccess),mo.on("call-order-update",bo=d.a.callOrderUpdate),mo.on("bitasset-update",go=d.a.feedUpdate),mo.on("settle-order-update",yo=function(t){var n=On.a.isMarketAsset(e.props.quoteAsset,e.props.baseAsset),a=n.isMarketAsset,r=n.marketAsset;console.log("settle-order-update:",t,"isMarketAsset:",a,"marketAsset:",r),a&&r.id===t.balance.asset_id&&d.a.settleOrderUpdate(r.id)})}},{key:"componentWillReceiveProps",value:function(e){var t=e.baseAsset,n=e.quoteAsset,a=(e.preferredBases,Object(Wa.a)(t.get("symbol"),n.get("symbol")));if(e.baseAsset&&e.baseAsset.getIn(["bitasset","is_prediction_market"])&&!e.quoteAsset&&e.quoteAsset.getIn(["bitasset","is_prediction_market"])?this.props.router.push("/market/"+e.baseAsset.get("symbol")+"_"+e.quoteAsset.get("symbol")):t.get("symbol")===a.base||e.baseAsset.getIn(["bitasset","is_prediction_market"])||e.quoteAsset.getIn(["bitasset","is_prediction_market"])||this.props.router.push("/market/"+e.baseAsset.get("symbol")+"_"+e.quoteAsset.get("symbol")),e.quoteAsset&&e.baseAsset&&!this.state.sub)return this._subToMarket(e);if(e.quoteAsset.get("symbol")!==this.props.quoteAsset.get("symbol")||e.baseAsset.get("symbol")!==this.props.baseAsset.get("symbol")){var r=this.state.sub.split("_");return d.a.unSubscribeMarket(r[0],r[1]),this._subToMarket(e)}}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.quoteAsset,n=e.baseAsset;d.a.unSubscribeMarket(t.get("id"),n.get("id")),mo&&(mo.off("cancel-order",fo),mo.off("close-call",ho),mo.off("call-order-update",bo),mo.off("bitasset-update",go),mo.off("settle-order-update",yo))}},{key:"_subToMarket",value:function(e,t){var n=e.quoteAsset,a=e.baseAsset,r=e.bucketSize;t&&(r=t),n.get("id")&&a.get("id")&&(d.a.subscribeMarket.defer(a,n,r),this.setState({sub:n.get("id")+"_"+a.get("id")}))}},{key:"render",value:function(){return a.createElement(a.Fragment,null,this.props.marketReady?null:a.createElement(ea.a,null),a.createElement(so,Object.assign({},this.props,{sub:this.state.sub,subToMarket:this._subToMarket})))}}]),t}()).propTypes={currentAccount:qn.a.ChainAccount.isRequired,quoteAsset:qn.a.ChainAsset.isRequired,baseAsset:qn.a.ChainAsset.isRequired,coreAsset:qn.a.ChainAsset.isRequired},_o.defaultProps={currentAccount:"1.2.3",coreAsset:"1.3.0"},_o);vo=Object(Ln.a)(vo,{keep_updating:!0,show_loader:!0}),po=Object(Wn.a)(po);var _o;t.default=po},1268:function(e,t,n){"use strict";var a=n(0),r=n(3),o=n(879),s=n(19),i=n(40),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["Component"]),l(t,[{key:"shouldComponentUpdate",value:function(e){return!e.account.get("name")||!this.props.account.get("name")||e.account.get("name")!==this.props.account.get("name")}},{key:"render",value:function(){var e=this.props.account.get("name");return e?this.props.noLink?a.createElement("span",null,e):a.createElement(o.a,{onClick:this.props.onClick?this.props.onClick:function(){},to:"/account/"+e+"/"+this.props.subpage+"/"},e):a.createElement("span",null,this.props.account.get("id"))}}]),t}();c.propTypes={account:s.a.ChainObject.isRequired,subpage:r.string.isRequired},c.defaultProps={subpage:"overview",autosubscribe:!1},t.a=Object(i.a)(c)},1272:function(e,t,n){"use strict";var a=n(0),r=(n(3),n(879)),o=n(19),s=n(40),i=n(154),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["Component"]),l(t,[{key:"render",value:function(){var e=this.props.asset.get("symbol"),t=a.createElement(i.a,{name:e,noTip:!0});return this.props.noLink?t:a.createElement(r.a,{to:"/asset/"+e+"/"},t)}}]),t}();c.propTypes={asset:o.a.ChainObject.isRequired},t.a=Object(s.a)(c)},1274:function(e,t,n){"use strict";var a;n.d(t,"c",function(){return u}),n.d(t,"b",function(){return p}),n.d(t,"a",function(){return d}),n.d(t,"d",function(){return h});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i,l={BTC:"https://live.blockcypher.com/btc/tx/#{txid}",USDT:"https://www.omniexplorer.info/tx/#{txid}",ETH:"https://etherscan.io/tx/#{txid}",XRP:"https://xrpcharts.ripple.com/#/transactions/#{txid}",GAS:"https://neoscan.io/transaction/#{txid}",EOS:"https://eosflare.io/tx/#{txid}",LTC:"https://chain.so/tx/LTC/#{txid}",QTUM:"https://explorer.qtum.org/tx/#{txid}"},c={ERC20:"https://etherscan.io/token/#{contract}"},u="https://gateway.cybex.io/gateway",p="https://gateway-query.cybex.io/",d="CybexGateway";!function(e){e[e.ERC20=0]="ERC20",e[e.ETH=1]="ETH",e[e.BTC=2]="BTC",e[e.USDT=3]="USDT",e[e.EOS=4]="EOS",e[e.LTC=5]="LTC",e[e.QTUM=6]="QTUM",e[e.NEO=7]="NEO",e[e.XRP=8]="XRP"}(i||(i={}));var m=function(){function e(t,n,a){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};s(this,e),this.asset=t,this.type=n,this.protocol=a,this.options=r,this.isDisabled=!1,this.contractExplorer=r.contractAddress?this.getExplorerUrlByContract(r.contractAddress):"","JCT"===n&&(this.isDisabled=!0)}return r(e,[{key:"getExplorerUrlByTx",value:function(t){if(!e.ExplorerAddress[this.protocol])return"";try{return(this.options.specificExplorer||e.ExplorerAddress[this.protocol]||"").replace("#{txid}",t)}catch(e){return""}}},{key:"getExplorerUrlByContract",value:function(t){if(!e.ContractAddress[this.protocol])return"";try{return(this.options.specificContractExplorer||e.ContractAddress[this.protocol]).replace("#{contract}",t)}catch(e){return""}}}]),e}();m.ExplorerAddress=(o(a={},i.BTC,l.BTC),o(a,i.USDT,l.USDT),o(a,i.ERC20,l.ETH),o(a,i.ETH,l.ETH),o(a,i.EOS,l.EOS),o(a,i.LTC,l.LTC),o(a,i.QTUM,l.QTUM),o(a,i.XRP,l.XRP),o(a,i.NEO,l.GAS),a),m.ContractAddress=o({},i.ERC20,c.ERC20);var h={GATEWAY_ACCOUNT:"cybex-jadegateway",ADDRESS_TYPES:{"JADE.ETH":new m("JADE.ETH","ETH",i.ETH,{name:"Ethereum"}),"JADE.BTC":new m("JADE.BTC","BTC",i.BTC,{name:"Bitcoin"}),"JADE.LTC":new m("JADE.LTC","LTC",i.LTC,{name:"Litecoin"}),"JADE.EOS":new m("JADE.EOS","EOS",i.EOS,{name:"EOS"}),"JADE.XRP":new m("JADE.XRP","XRP",i.XRP,{name:"Ripple"}),"JADE.USDT":new m("JADE.USDT","USDT",i.USDT,{name:"Tether"}),"JADE.LHT":new m("JADE.LHT","LHT",i.ERC20,{name:"LongHash"}),"JADE.INK":new m("JADE.INK","INK",i.ERC20,{name:"Ink [QTUM]",contractAddress:"0xf4c90e18727c5c76499ea6369c856a6d61d3e92e"}),"JADE.BAT":new m("JADE.BAT","BAT",i.ERC20,{name:"Basic Attention Token",contractAddress:"0x0d8775f648430679a709e98d2b0cb6250d2887ef"}),"JADE.OMG":new m("JADE.OMG","OMG",i.ERC20,{name:"OmiseGO",contractAddress:"0xd26114cd6ee289accf82350c8d8487fedb8a0c07"}),"JADE.SNT":new m("JADE.SNT","SNT",i.ERC20,{name:"Status",contractAddress:"0x744d70fdbe2ba4cf95131626614a1763df805b9e"}),"JADE.NAS":new m("JADE.NAS","NAS",i.ERC20,{name:"Nebulas",contractAddress:"0x5d65d971895edc438f465c17db6992698a52318d"}),"JADE.KNC":new m("JADE.KNC","KNC",i.ERC20,{name:"Kyber Network",contractAddress:"0xdd974d5c2e2928dea5f71b9825b8b646686bd200"}),"JADE.PAY":new m("JADE.PAY","PAY",i.ERC20,{name:"TenX",contractAddress:"0xb97048628db6b661d4c2aa833e95dbe1a905b280"}),"JADE.GET":new m("JADE.GET","GET",i.ERC20,{name:"Global Escrow Token, Themis",contractAddress:"0x60c68a87be1e8a84144b543aacfa77199cd3d024"}),"JADE.MAD":new m("JADE.MAD","MAD",i.ERC20,{name:"MAD Network",contractAddress:"0x5b09a0371c1da44a8e24d36bf5deb1141a84d875"}),"JADE.TCT":new m("JADE.TCT","TCT",i.ERC20,{name:"TokenClub",contractAddress:"0x4824a7b64e3966b0133f4f4ffb1b9d6beb75fff7"}),"JADE.RING":new m("JADE.RING","RING",i.ERC20,{name:"Evolution Land Global Token",contractAddress:"0x9469D013805bFfB7D3DEBe5E7839237e535ec483"}),"JADE.MXC":new m("JADE.MXC","MXC",i.ERC20,{name:"Machine Xchange Coin",contractAddress:"0x5Ca381bBfb58f0092df149bD3D243b08B9a8386e"}),"JADE.CENNZ":new m("JADE.CENNZ","CENNZ",i.ERC20,{name:"Centrality",contractAddress:"0x1122b6a0e00dce0563082b6e2953f3a943855c1f"}),"JADE.NASH":new m("JADE.NASH","NASH",i.ERC20,{name:"NeoWorld Cash",contractAddress:"0x4b94c8567763654101f690cf4d54957206383b75"}),"JADE.NWT":new m("JADE.NWT","NWT",i.ERC20,{name:"NeoWorld Token",contractAddress:"0x179201b6d8f1d984fae733313a5035e20d4f4869"}),"JADE.POLY":new m("JADE.POLY","POLY",i.ERC20,{name:"Polymath",contractAddress:"0x9992eC3cF6A55b00978cdDF2b27BC6882d88D1eC"}),"JADE.MCO":new m("JADE.MCO","MCO",i.ERC20,{name:"Monaco",contractAddress:"0xb63b606ac810a52cca15e44bb630fd42d8d1d83d"}),"JADE.JCT":new m("JADE.JCT","JCT",i.ERC20,{name:"JCT",contractAddress:"0x9288d6b823927f528aea244c5fa71a356b807112"}),"JADE.HER":new m("JADE.HER","HER",i.ERC20,{name:"Herdius",contractAddress:"0x9ae559ac062de221eb5198d90c27e45e85fcaab2"}),"JADE.CTXC":new m("JADE.CTXC","CTXC",i.ERC20,{name:"Cortex",contractAddress:"0xea11755ae41d889ceec39a63e6ff75a02bc1c00d"}),"JADE.NES":new m("JADE.NES","NES",i.ERC20,{name:"Genesis Space",contractAddress:"0xa74ae2d3a4c3f6d9454634fee91dc7aab6724cf9"}),"JADE.PPT":new m("JADE.PPT","PPT",i.ERC20,{name:"Populous",contractAddress:"0xd4fa1460f537bb9085d22c7bccb5dd450ef28e3a"}),"JADE.RHOC":new m("JADE.RHOC","RHOC",i.ERC20,{name:"RChain",contractAddress:"0x168296bb09e24a88805cb9c33356536b980d3fc5"}),"JADE.MKR":new m("JADE.MKR","MKR",i.ERC20,{name:"Maker",contractAddress:"0x9f8f72aa9304c8b593d555f12ef6589cc3a579a2"}),"JADE.FUN":new m("JADE.FUN","FUN",i.ERC20,{name:"FunFair",contractAddress:"0x419d0d8bdd9af5e606ae2232ed285aff190e711b"}),"JADE.MVP":new m("JADE.MVP","MVP",i.ERC20,{name:"Merculet",contractAddress:"0x8a77e40936bbc27e80e9a3f526368c967869c86d"}),"JADE.GNT":new m("JADE.GNT","GNT",i.ERC20,{name:"Golem",contractAddress:"0xa74476443119a942de498590fe1f2454d7d4ac0d"}),"JADE.DPY":new m("JADE.DPY","DPY",i.ERC20,{name:"Delphy",contractAddress:"0x6c2adc2073994fb2ccc5032cc2906fa221e9b391"}),"JADE.GNX":new m("JADE.GNX","GNX",i.ERC20,{name:"Genaro Network",contractAddress:"0x6ec8a24cabdc339a06a172f8223ea557055adaa5"}),"JADE.KEY":new m("JADE.KEY","KEY",i.ERC20,{name:"Bihu KEY",contractAddress:"0x4cd988afbad37289baaf53c13e98e2bd46aaea8c"}),"JADE.MT":new m("JADE.MT","MT",i.ERC20,{name:"MyToken",contractAddress:"0x9b4e2b4b13d125238aa0480dd42b4f6fc71b37cc"}),"JADE.ENG":new m("JADE.ENG","ENG",i.ERC20,{name:"Enigma",contractAddress:"0xf0ee6b27b759c9893ce4f094b49ad28fd15a23e4"})}}},1275:function(e,t,n){"use strict";var a=n(9),r=n(10),o=n(8),s=n(155),i=n(1293),l=n(34),c=n(1274),u=n(1),p=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var d=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.op=t,this.signer=""}return p(e,[{key:"addSigner",value:function(e){this.signer=e}}]),e}();n.d(t,"a",function(){return b}),n.d(t,"c",function(){return g}),n.d(t,"b",function(){return _});var m=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var h=function(e,t,n,a){return new(n||(n=Promise))(function(r,o){function s(e){try{l(a.next(e))}catch(e){o(e)}}function i(e){try{l(a.throw(e))}catch(e){o(e)}}function l(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(s,i)}l((a=a.apply(e,t||[])).next())})},f=Object(s.a)("GatewayActions"),b="DEPOSIT_MODAL_ID",g="WITHDRAW_MODAL_ID",y=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=[],a=!0,o=!1,s=void 0;try{for(var i,l=e[Symbol.iterator]();!(a=(i=l.next()).done);a=!0){var c=i.value,u=r.a.getPrivateKey(c);if(u&&(n.push(u),n.length>=t))break}}catch(e){o=!0,s=e}finally{try{!a&&l.return&&l.return()}finally{if(o)throw s}}return n},v=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return m(e,[{key:"showDepositModal",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:b;return h(this,void 0,void 0,regeneratorRuntime.mark(function a(){var r;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(r=c.d.ADDRESS_TYPES[t]&&c.d.ADDRESS_TYPES[t].type){a.next=3;break}return a.abrupt("return",l.a.error("No suitable asset for "+t+" to be deposited"));case 3:return a.next=5,this.updateDepositAddress(e,r);case 5:if(a.sent){a.next=8;break}return a.abrupt("return");case 8:this.openModal(n);case 9:case"end":return a.stop()}},a,this)}))}},{key:"showWithdrawModal",value:function(e){return h(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(f("Withdraw: ",e),n=c.d.ADDRESS_TYPES[e]&&c.d.ADDRESS_TYPES[e].type){t.next=4;break}return t.abrupt("return",l.a.error("No suitable asset for "+e+" to be withdrawn"));case 4:return t.next=6,this.updateWithdrawInfo(e,n);case 6:if(t.sent){t.next=9;break}return t.abrupt("return");case 9:this.openModal(g);case 10:case"end":return t.stop()}},t,this)}))}},{key:"updateDepositAddress",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return h(this,void 0,void 0,regeneratorRuntime.mark(function a(){var r,o,s;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return r=void 0,f("Update Deposit Address: ",e,t,n),a.prev=2,a.next=5,Object(i.a)(e,t,n);case 5:o=r=a.sent,s=o.address,f("Address: ",s),a.next=15;break;case 10:return a.prev=10,a.t0=a.catch(2),f(a.t0),l.a.error(a.t0.message),a.abrupt("return",!1);case 15:return this.afterUpdateDepositInfo(r),a.abrupt("return",r);case 17:case"end":return a.stop()}},a,this,[[2,10]])}))}},{key:"updateWithdrawInfo",value:function(e,t){return h(this,void 0,void 0,regeneratorRuntime.mark(function n(){var a;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return a=void 0,n.prev=1,n.next=4,Object(i.b)(t);case 4:a=n.sent,f("WithdrawLimit: ",a),n.next=13;break;case 8:return n.prev=8,n.t0=n.catch(1),f(n.t0),l.a.error(n.t0.message),n.abrupt("return",!1);case 13:return this.afterUpdateWithdrawInfo(Object.assign({asset:e},a)),n.abrupt("return",!0);case 15:case"end":return n.stop()}},n,this,[[1,8]])}))}},{key:"queryFundRecords",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:200;return h(this,void 0,void 0,regeneratorRuntime.mark(function r(){var o,s,l,c;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return f("[QueryFundRecord]",e),o=new d({accountName:e.get("name"),offset:n,size:a}),t.accountName===e.get("name")&&t.signer&&o.addSigner(t.signer),r.next=5,Object(i.d)(o);case 5:if(s=r.sent){r.next=15;break}return r.next=9,this.loginGatewayQuery(e);case 9:return l=r.sent,c=l.signer,o.addSigner(c),r.next=14,Object(i.d)(o);case 14:s=r.sent;case 15:s&&this.updateFundRecords(s);case 16:case"end":return r.stop()}},r,this)}))}},{key:"updateFundRecords",value:function(e){return e}},{key:"loginGatewayQuery",value:function(e){return h(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n,a,r,s,l,c,p;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(f("[LoginGatewayQuery]",e),f("[LoginGatewayQuery]",o.b.getSetting("walletLockTimeout")),n=new d({accountName:e.get("name"),expiration:Date.now()+1e3*o.b.getSetting("walletLockTimeout")}),a=u.p.fund_query.fromObject(n.op),e.getIn(["active","weight_threshold"]),r=e.getIn(["active","key_auths"]).filter(function(e){return e.get(1)>=1}).map(function(e){return e.get(0)}).toJS(),s=y(r)[0]){t.next=9;break}throw Error("Privkey Not Found");case 9:return f("[LoginGatewayQuery privKey]",e.getIn(["options","memo_key"]),s),l=u.p.fund_query.toBuffer(a),c=u.k.signBuffer(l,s).toHex(),f("[LoginGatewayQuery Signed]",c),n.addSigner(c),t.next=16,Object(i.c)(n);case 16:return p=t.sent,f("[LoginGatewayQuery LoginRes]",p),p&&this.updateLogin(p),t.abrupt("return",p);case 20:case"end":return t.stop()}},t,this)}))}},{key:"updateLogin",value:function(e){return e}},{key:"afterUpdateWithdrawInfo",value:function(e){return e}},{key:"afterUpdateDepositInfo",value:function(e){return e}},{key:"closeModal",value:function(e){return e}},{key:"openModal",value:function(e){return e}}]),e}(),_=a.a.createActions(v);t.d=_},1278:function(e,t,n){"use strict";var a=n(9),r=n(4),o=n(17),s=n(133),i=n(134),l=n(10),c=n(1),u=n(59),p=n.n(u),d=n(121),m=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var h={},f=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return m(e,[{key:"fundPool",value:function(e,t,n,a){var r=s.a.new_transaction(),i=o.a.get_asset_precision(t.get("precision"));return r.add_type_operation("asset_fund_fee_pool",{fee:{amount:0,asset_id:"1.3.0"},from_account:e,asset_id:n.get("id"),amount:a*i}),function(e){return l.a.process_transaction(r,null,!0).then(function(t){e(!0)}).catch(function(t){console.log("[AssetActions.js:150] ----- fundPool error -----\x3e",t),e(!1)})}}},{key:"claimPoolFees",value:function(e,t,n){var a=s.a.new_transaction(),r=o.a.get_asset_precision(t.get("precision"));return a.add_type_operation("asset_claim_fees",{fee:{amount:0,asset_id:0},issuer:e,amount_to_claim:{asset_id:t.get("id"),amount:n*r}}),function(e){return l.a.process_transaction(a,null,!0).then(function(t){e(!0)}).catch(function(t){console.log("[AssetActions.js:150] ----- claimFees error -----\x3e",t),e(!1)})}}},{key:"createAsset",value:function(e,t,n,a,r,i,u,d,m){console.log("create asset:",t,"flags:",n,"isBitAsset:",i,"bitasset_opts:",d);var h=s.a.new_transaction(),f=o.a.get_asset_precision(t.precision);p.a.config({DECIMAL_PLACES:t.precision});var b=new p.a(t.max_supply).times(f).toString(),g=new p.a(t.max_market_fee||0).times(f).toString(),y=(Date.now(),null);t.vesting_period&&(y=[[1,{vesting_period:1*t.vesting_period}]]);var v=o.a.get_asset_precision(c.b.getAsset(r.base.asset_id).get("precision")),_={fee:{amount:0,asset_id:0},issuer:e,symbol:t.symbol,precision:parseInt(t.precision,10),common_options:{max_supply:b,market_fee_percent:100*t.market_fee_percent||0,max_market_fee:g,issuer_permissions:a,flags:n,core_exchange_rate:{base:{amount:r.base.amount*v,asset_id:r.base.asset_id},quote:{amount:r.quote.amount*f,asset_id:"1.3.1"}},whitelist_authorities:[],blacklist_authorities:[],whitelist_markets:[],blacklist_markets:[],description:m,extensions:y},is_prediction_market:u,extensions:null};return i&&(_.bitasset_opts=d),h.add_type_operation("asset_create",_),function(e){return l.a.process_transaction(h,null,!0).then(function(t){e(!0)}).catch(function(t){console.log("[AssetActions.js:150] ----- createAsset error -----\x3e",t),e(!1)})}}},{key:"updateAsset",value:function(e,t,n,a,r,i,u,d,m,h,f,b){var g=s.a.new_transaction(),y=o.a.get_asset_precision(r.get("precision"));p.a.config({DECIMAL_PLACES:r.get("precision")});var v=new p.a(n.max_supply).times(y).toString(),_=new p.a(n.max_market_fee||0).times(y).toString(),E=c.b.getAsset(a.quote.asset_id),k=o.a.get_asset_precision(E.get("precision")),w=c.b.getAsset(a.base.asset_id),A=o.a.get_asset_precision(w.get("precision")),O=new p.a(a.quote.amount).times(k).toString(),C=new p.a(a.base.amount).times(A).toString();console.log("auths:",b);var S={fee:{amount:0,asset_id:0},asset_to_update:r.get("id"),extensions:r.get("extensions"),issuer:e,new_issuer:t,new_options:{max_supply:v,max_market_fee:_,market_fee_percent:100*n.market_fee_percent,description:f,issuer_permissions:u,flags:i,whitelist_authorities:b.whitelist_authorities.toJS(),blacklist_authorities:b.blacklist_authorities.toJS(),whitelist_markets:b.whitelist_markets.toJS(),blacklist_markets:b.blacklist_markets.toJS(),extensions:r.getIn(["options","extensions"]),core_exchange_rate:{quote:{amount:O,asset_id:a.quote.asset_id},base:{amount:C,asset_id:a.base.asset_id}}}};if(e!==t&&t||delete S.new_issuer,g.add_type_operation("asset_update",S),console.log("bitasset_opts:",m,"original_bitasset_opts:",h),d&&(m.feed_lifetime_sec!==h.feed_lifetime_sec||m.minimum_feeds!==h.minimum_feeds||m.force_settlement_delay_sec!==h.force_settlement_delay_sec||m.force_settlement_offset_percent!==h.force_settlement_offset_percent||m.maximum_force_settlement_volume!==h.maximum_force_settlement_volume||m.short_backing_asset!==h.short_backing_asset)){var x={fee:{amount:0,asset_id:0},asset_to_update:r.get("id"),issuer:e,new_options:m};g.add_type_operation("asset_update_bitasset",x)}return l.a.process_transaction(g,null,!0).then(function(e){return!0}).catch(function(e){return console.log("[AssetActions.js:150] ----- createAsset error -----\x3e",e),!1})}},{key:"issueAsset",value:function(e,t,n,a,r,o){i.a.issue_asset(e,t,n,a,r,o)}},{key:"getAssetList",value:function(e,t){var n=e+"_"+t;return function(a){if(!h[n])return h[n]=!0,a({loading:!0}),r.a.instance().db_api().exec("list_assets",[e,t]).then(function(e){var t=[],o=[];(e=e.filter(function(e){return!Object(d.a)(e.symbol)})).forEach(function(e){c.b._updateObject(e,!1),o.push(e.dynamic_asset_data_id),e.bitasset_data_id&&t.push(e.bitasset_data_id)});var s=r.a.instance().db_api().exec("get_objects",[o]),i=t.length>0?r.a.instance().db_api().exec("get_objects",[t]):null;Promise.all([s,i]).then(function(t){delete h[n],a({assets:e,dynamic:t[0],bitasset_data:t[1],loading:!1})}),a({loading:!1}),delete h[n]})}}},{key:"lookupAsset",value:function(e,t){var n=c.b.getAsset(e);return n?{assets:[n],searchID:t,symbol:e}:function(n){setTimeout(function(){var a=c.b.getAsset(e);a&&n({assets:[a],searchID:t,symbol:e})},200)}}},{key:"reserveAsset",value:function(e,t,n){var a=s.a.new_transaction();return a.add_type_operation("asset_reserve",{fee:{amount:0,asset_id:0},amount_to_reserve:{amount:e,asset_id:t},payer:n,extensions:[]}),l.a.process_transaction(a,null,!0).then(function(e){return!0}).catch(function(e){return console.log("[AssetActions.js:150] ----- reserveAsset error -----\x3e",e),!1})}}]),e}();t.a=a.a.createActions(f)},1279:function(e,t,n){"use strict";var a=n(0),r=n(3),o=n(73),s=n(1),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["Component"]),i(t,[{key:"shouldComponentUpdate",value:function(e){return e.time!==this.props.time}},{key:"render",value:function(){var e=this.props,t=e.time,n=e.chain_time?s.b.getEstimatedChainTimeOffset():0;if(!t)return null;"string"!=typeof t||-1!==t.indexOf("+")||/Z$/.test(t)||(t+="Z");var r=Math.round(((new Date).getTime()-new Date(t).getTime()+n)/1e3),i=void 0;return i=r<60?500:r<3600?3e4:18e5,a.createElement("span",{className:"tooltip inline-block "+this.props.className,ref:"timeago_ttip_"+t,"data-tip":new Date(t),"data-place":"bottom"},a.createElement(o.c,{updateInterval:i,value:new Date(t).getTime()+.75*n,initialNow:Date.now()}))}}]),t}();l.propTypes={time:r.any.isRequired,chain_time:r.bool,component:r.element,className:r.string},l.defaultProps={chain_time:!0},t.a=l},1280:function(e,t,n){"use strict";var a=n(0),r=n(3),o=n(2),s=n.n(o),i=n(19),l=n(40),c=n(80),u=n(1287),p=n(5),d=n.n(p),m=n(13),h=n.n(m),f=n(82),b=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _=function(e){function t(){return g(this,t),y(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return v(t,a["Component"]),b(t,[{key:"render",value:function(){return 0===this.props.assets.length?null:a.createElement(u.a,{entries:this.props.assets.map(function(e){return e&&e.get("symbol")}).filter(function(e){return!!e}),values:this.props.assets.reduce(function(e,t){return t&&t.get("symbol")&&(e[t.get("symbol")]=t),e},{}),singleEntry:this.props.assets[0]?a.createElement(c.a,{asset:this.props.assets[0].get("id"),amount:0,hide_amount:!0}):null,value:this.props.value,onChange:this.props.onChange})}}]),t}();_.propTypes={assets:i.a.ChainAssetsList,value:r.string,onChange:r.func},_=Object(l.a)(_);var E=function(e){function t(){return g(this,t),y(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return v(t,a["Component"]),b(t,[{key:"componentDidMount",value:function(){this.onAssetChange(this.props.asset)}},{key:"formatAmount",value:function(e){return e||(e=""),"number"==typeof e&&(e=e.toString()),e.trim().replace(/,/g,"")}},{key:"_onChange",value:function(e){var t=e.target.value;this.props.onChange({amount:t,asset:this.props.asset})}},{key:"onAssetChange",value:function(e){this.props.onChange({amount:this.props.amount,asset:e})}},{key:"render",value:function(){var e=this.props.error?h.a.translate(this.props.error):this.formatAmount(this.props.amount),t=this.props.isNumber;return a.createElement("div",{className:"amount-selector",style:this.props.style},a.createElement("label",{className:"right-label"},this.props.display_balance),a.createElement("label",{className:"left-label"},a.createElement(s.a,{content:this.props.label}),this.props.labelTooltip&&a.createElement(f.k,{id:this.props.labelTooltip.id},this.props.labelTooltip.component)),a.createElement("div",{className:"inline-label input-wrapper"},t?a.createElement(f.h,{disabled:this.props.disabled,type:"number",valueFromOuter:!0,value:e,size:"small",placeholder:this.props.placeholder,onChange:this._onChange.bind(this),tabIndex:this.props.tabIndex,style:{width:"100%",marginBottom:0}}):a.createElement(f.h,{disabled:this.props.disabled,type:"text",valueFromOuter:!0,size:"small",value:e||"",placeholder:this.props.placeholder,onChange:this._onChange.bind(this),tabIndex:this.props.tabIndex,style:{width:"100%",marginBottom:0}}),a.createElement("div",{className:"form-label select floating-dropdown"},a.createElement(_,{ref:this.props.refCallback,value:this.props.asset.get("symbol"),assets:d.a.List(this.props.assets),onChange:this.onAssetChange.bind(this)}))))}}]),t}();E.propTypes={label:r.string,asset:i.a.ChainAsset.isRequired,assets:r.array,amount:r.any,placeholder:r.string,onChange:r.func.isRequired,tabIndex:r.number,error:r.string},E.defaultProps={disabled:!1},E=Object(l.a)(E),t.a=E},1281:function(e,t){e.exports={account_listing:{no_listing:0,white_listed:1,black_listed:2,white_and_black_listed:3}}},1282:function(e,t,n){"use strict";n.d(t,"a",function(){return m});var a=n(31),r=n(5),o=n(9),s=n(1275),i=n(1274),l=n(124),c=n(55),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var p=new c.a("__graphene__"),d=Object(l.a)("GatewayStore"),m=i.d.ADDRESS_TYPES,h=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={backedCoins:Object(r.Map)({JADE:m}),bridgeCoins:Object(r.Map)(Object(r.fromJS)(p.get("bridgeCoins",{}))),bridgeInputs:["btc","dash","eth","steem"],login:{accountName:"",signer:""},records:{total:0,records:[],offset:0,size:20},down:Object(r.Map)({}),modals:Object(r.Map)(),depositInfo:{},withdrawInfo:{}},e.bindListeners({handleDepositUpdate:s.b.afterUpdateDepositInfo,handleWithdrawUpdate:s.b.afterUpdateWithdrawInfo,handleLogin:s.b.updateLogin,handleRecordsUpdate:s.b.updateFundRecords,openModal:s.b.openModal,closeModal:s.b.closeModal}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["a"]),u(t,[{key:"handleDepositUpdate",value:function(e){var t=m[e.asset]||{},n=Object.assign({},e,{meta:t});d("Open: ",m,n),this.setState({depositInfo:n})}},{key:"handleWithdrawUpdate",value:function(e){this.setState({withdrawInfo:e})}},{key:"handleLogin",value:function(e){this.setState({login:e})}},{key:"handleRecordsUpdate",value:function(e){e.records.forEach(function(e){e.hash||(e.hash=t.findHash(e))}),this.setState({records:e})}},{key:"openModal",value:function(e){this.setState({modals:this.state.modals.set(e,!0)})}},{key:"closeModal",value:function(e){this.setState({modals:this.state.modals.set(e,!1)})}}]),t}();h.findHash=function(e){return e.details&&e.details.length?e.details[e.details.length-1].hash:null};var f=o.a.createStore(h,"GatewayStore");t.b=f},1283:function(e,t,n){"use strict";var a=n(0),r=(n(3),n(13)),o=n.n(r),s=n(17),i=n(1268),l=n(1272),c=n(879),u=n(80),p=n(286),d=n(154),m=n(1),h=n(5),f=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var b=function(e,t,n,a){return new(n||(n=Promise))(function(r,o){function s(e){try{l(a.next(e))}catch(e){o(e)}}function i(e){try{l(a.throw(e))}catch(e){o(e)}}function l(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(s,i)}l((a=a.apply(e,t||[])).next())})},g=function(e){return b(void 0,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function t(n){var a=m.b.fetchObject(e,!1,!1);a?n(a):setTimeout(function(){t(n)},30)}));case 1:case"end":return t.stop()}},t,this)}))},y=function(e){return b(void 0,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",g(e).then(function(e){return e.get("type")?g(e.get("type")).then(function(t){return e.set("tokenType",t)}):e}).then(function(e){return e.get("meta_id")?g(e.get("meta_id")).then(function(t){return e.set("meta",t.set("info",Object(h.Map)(JSON.parse(t.get("info")))))}):e}));case 1:case"end":return t.stop()}},t,this)}))},v=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.state={nft:null},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["PureComponent"]),f(t,[{key:"componentDidMount",value:function(){this.updateNFT(this.props.id)}},{key:"updateNFT",value:function(e){return b(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=this,t.next=3,y(e);case 3:t.t1=t.sent,t.t2={nft:t.t1},t.t0.setState.call(t.t0,t.t2);case 6:case"end":return t.stop()}},t,this)}))}},{key:"render",value:function(){return window.nft=this.state.nft,this.state.nft?a.createElement("span",null,this.state.nft.get("symbol")||o.a.translate("nft_type."+this.state.nft.getIn(["meta","info","type"],"other"),{token:this.state.nft.getIn(["tokenType","symbol"],""),time:this.state.nft.get("expiration")||"",amount:this.state.nft.getIn(["meta","info","info"],{recs_amount:0}).recs_amount})):null}}]),t}(),_=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var E=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["Component"]),_(t,[{key:"shouldComponentUpdate",value:function(e){return!s.a.are_equal_shallow(e.keys,this.props.keys)}},{key:"linkToAccount",value:function(e){var t=this.props.noLink;return e?s.a.is_object_id(e)?a.createElement(i.a,{account:e,noLink:t}):t?a.createElement("span",null,e):a.createElement(c.a,{to:"/account/"+e+"/overview"},e):a.createElement("span",null,"-")}},{key:"linkToAsset",value:function(e){var t=this.props.noLink;return e?s.a.is_object_id(e)?a.createElement(l.a,{asset:e,noLink:t}):t?a.createElement(d.a,{name:e,noTip:!0}):a.createElement(c.a,{to:"/asset/"+e},a.createElement(d.a,{name:e,noTip:!0})):a.createElement("span",null,"-")}},{key:"linkToNFT",value:function(e){return a.createElement(v,{id:e})}},{key:"render",value:function(){var e=this,t=this.props,n=t.string,r=t.params,i=t.keys,l=o.a.translate(n,r),c=s.a.get_translation_parts(l);i.forEach(function(t){if(c.indexOf(t.arg)){var n=void 0;switch(t.type){case"account":n=e.linkToAccount(t.value);break;case"amount":n=a.createElement(u.a,{amount:t.value.amount,asset:t.value.asset_id,decimalOffset:t.decimalOffset});break;case"price":n=a.createElement(p.a,{base_asset:t.value.base.asset_id,base_amount:t.value.base.amount,quote_asset:t.value.quote.asset_id,quote_amount:t.value.quote.amount});break;case"asset":n=e.linkToAsset(t.value);break;case"nft":n=e.linkToNFT(t.value);break;default:n=t.value}c[c.indexOf(t.arg)]=n}});var d=c.map(function(e,t){return a.createElement("span",{key:t},e)});return a.createElement("span",null,d)}}]),t}();t.a=E},1284:function(e,t,n){},1286:function(e,t,n){"use strict";var a=n(0),r=(n(3),n(44)),o=n(39),s=n(13),i=n.n(s),l=n(93),c=n(16),u=n(157),p=n(17),d=n(81),m=n.n(d),h=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function g(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var y=function(e){function t(e){f(this,t);var n=b(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._toggleFullText=function(){n.setState(function(e){return{full:!e.full}})},n.state={full:!1},n}return g(t,a["Component"]),h(t,[{key:"shouldComponentUpdate",value:function(e,t){return!p.a.are_equal_shallow(e.memo,this.props.memo)||e.wallet_locked!==this.props.wallet_locked||this.state.full!==t.full}},{key:"_toggleLock",value:function(e){e.preventDefault(),o.a.unlock().then(function(){console.log("unlocked"),m.a.rebuild()})}},{key:"render",value:function(){var e=this.props,t=e.memo,n=e.fullLength;if(!t)return null;var o=r.a.decodeMemo(t),s=o.text,c=o.isMine;if(!s&&c)return a.createElement("div",{className:"memo"},a.createElement("span",null,i.a.translate("transfer.memo_unlock")," "),a.createElement("a",{href:!0,onClick:this._toggleLock.bind(this)},a.createElement(l.a,{name:"locked"})));var u=s;return s&&!n&&!this.state.full&&s.length>35&&(s=s.substr(0,35)+"..."),s?a.createElement("div",{className:"memo",onClick:this._toggleFullText,style:{paddingTop:5,cursor:"help"}},a.createElement("span",{className:"inline-block","data-class":"memo-tip","data-tip":u!==s?u:null,"data-place":"bottom","data-offset":"{'bottom': 10}","data-html":!0},s)):null}}]),t}();y.defaultProps={fullLength:!1};var v=function(e){function t(){return f(this,t),b(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return g(t,a["Component"]),h(t,[{key:"render",value:function(){return a.createElement(y,this.props)}}]),t}();t.a=Object(c.connect)(v,{listenTo:function(){return[u.a]},getProps:function(){return{wallet_locked:u.a.getState().locked}}})},1287:function(e,t,n){"use strict";var a=n(0),r=n(17),o=n(121),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var i=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.listener=!1,n.state={active:!1},n.onBodyClick=n.onBodyClick.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["Component"]),s(t,[{key:"componentDidMount",value:function(){this._setListener()}},{key:"shouldComponentUpdate",value:function(e,t){return!r.a.are_equal_shallow(e.entries,this.props.entries)||!r.a.are_equal_shallow(t,this.state)||e.value!==this.props.value}},{key:"_setListener",value:function(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props).entries.length>1&&!this.listener&&(this.listener=!0,document.body.addEventListener("click",this.onBodyClick,{capture:!1,passive:!0}))}},{key:"_removeListener",value:function(){document.body.removeEventListener("click",this.onBodyClick),this.listener=!1}},{key:"componentWillReceiveProps",value:function(e){1===e.entries.length?this._removeListener():e.entries.length>1&&this._setListener(e)}},{key:"componentWillUnmount",value:function(){this._removeListener()}},{key:"onBodyClick",value:function(e){var t=e.target,n=!1;do{if(t.classList&&t.classList.contains("dropdown")&&t.id===this.props.id){n=!0;break}}while(t=t.parentNode);n?e.stopPropagation():this.setState({active:!1})}},{key:"onChange",value:function(e,t){t.preventDefault(),t.stopPropagation(),this.props.onChange(e),this.setState({active:!1})}},{key:"_toggleDropdown",value:function(){this.setState({active:!this.state.active})}},{key:"render",value:function(){var e=this,t=this.props,n=t.entries,s=t.value,i=t.isAsset,l=this.state.active;if(0===n.length)return null;if(1==n.length)return a.createElement("div",{className:"dropdown-wrapper inactive"+(this.props.upperCase?" upper-case":"")},a.createElement("div",null,this.props.singleEntry?r.a.replaceName(this.props.singleEntry).name:r.a.replaceName(n[0]).name));var c=n.filter(function(e){return!Object(o.a)(e)}).map(function(t){return a.createElement("li",{className:e.props.upperCase?"upper-case":"",key:t,onClick:e.onChange.bind(e,e.props.values[t])},i?a.createElement("span",null,r.a.replaceName(t).name):a.createElement("span",null,t))});return a.createElement("div",{onClick:this._toggleDropdown.bind(this),className:"dropdown-wrapper"+(l?" active":"")+(this.props.upperCase?" upper-case":"")},a.createElement("div",{style:{paddingRight:15}},s?r.a.replaceName(s).name:a.createElement("span",{className:"hidden"},"A")),a.createElement("ul",{className:"dropdown",style:{overflow:n.length>9?"auto":"hidden"}},c))}}]),t}();i.defaultProps={isAsset:!0},t.a=i},1290:function(e,t,n){"use strict";var a=n(0),r=n(3),s=n(80),i=n(879),l=n(28),c=n.n(l),u=n(2),p=n.n(u),d=n(13),m=n.n(d),h=n(94),f=n(17),b=n(1268),g=n(1272),y=n(40),v=n(286),_=n(1),E=n(1281),k=n.n(E),w=n(1286),A=n(1283),O=n(1289),C=n(106),S=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function x(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function T(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function P(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var D=_.c.operations;n(1284);var N=Object.keys(D),j=k.a.account_listing,I=function(e){function t(){return x(this,t),T(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return P(t,a["Component"]),S(t,[{key:"shouldComponentUpdate",value:function(e){return e.color!==this.props.color||e.type!==this.props.type}},{key:"render",value:function(){var e=m.a.translate("transaction.trxTypes"),t=c()("label",this.props.color||"info");return a.createElement("span",{className:t},e[N[this.props.type]])}}]),t}(),F=function(e){function t(e){x(this,t);var n=T(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.showDetails=n.showDetails.bind(n),n}return P(t,a["Component"]),S(t,[{key:"showDetails",value:function(e){e.preventDefault(),this.context.router.hsitory.push("/block/"+this.props.block)}},{key:"render",value:function(){var e=this.props,t=(e.block,e.fee),n=e.color,r=e.type,o=(e.hideDate,e.hideFee),i=e.hideOpLabel;t.amount=parseInt(t.amount,10);var l=m.a.localize(new Date(this.props.expiration),{format:"short"});return a.createElement("div",{style:{padding:"5px 0",textAlign:"left"}},i?null:a.createElement("span",{className:"left-td"},a.createElement("a",{href:!0,onClick:this.showDetails},a.createElement(I,{color:n,type:r}))),a.createElement("span",null,this.props.info," ",o?null:a.createElement("span",{className:"facolor-fee"},"(",a.createElement(s.a,{amount:t.amount,asset:t.asset_id})," fee)")),this.props.expiration?a.createElement("div",{style:{paddingTop:5,fontSize:"0.85rem"}},a.createElement("span",null,"#",this.props.id," | "),a.createElement("span",null,a.createElement(p.a,{content:"proposal.expires"}),": ",l)):null)}}]),t}();F.contextTypes={router:r.object.isRequired};var M=function(e){function t(){return x(this,t),T(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return P(t,a["Component"]),S(t,[{key:"linkToAccount",value:function(e){return e?f.a.is_object_id(e)?a.createElement(b.a,{account:e}):a.createElement(i.a,{to:"/account/"+e+"/overview"},e):a.createElement("span",null,"-")}},{key:"linkToAsset",value:function(e){return e?f.a.is_object_id(e)?a.createElement(g.a,{asset:e}):a.createElement(i.a,{to:"/asset/"+e},e):a.createElement("span",null,"-")}},{key:"render",value:function(){var e=this.props,t=e.op,n=e.current,r=e.block,l=null,c="info";switch(N[t[0]]){case"transfer":var u=null;t[1].memo&&(u=a.createElement(w.a,{memo:t[1].memo}));var d=C.a.getState().currentLocale,m=function(e){return e.extensions&&e.extensions.length&&e.extensions[0][1]?e.extensions[0][1].vesting_period:null}(t[1]),b=null===m?"none":O(1e3*m,{language:{zh:"zh_CN",en:"en"}[d],unitMeasures:{y:31536e6,mo:2592e6,w:6048e5,d:864e5,h:36e5,m:6e4,s:1e3}});c="success",t[1].amount.amount=parseFloat(t[1].amount.amount),l=a.createElement("span",{className:"right-td"},a.createElement(A.a,{string:"proposal.transfer",keys:[{type:"account",value:t[1].from,arg:"from"},{type:"amount",value:t[1].amount,arg:"amount"},{type:"account",value:t[1].to,arg:"to"},{value:b,arg:"vesting"}]}),u);break;case"limit_order_create":c="warning";var g=h.a.isAskOp(t[1]);l=a.createElement("span",null,a.createElement(A.a,{string:g?"proposal.limit_order_sell":"proposal.limit_order_buy",keys:[{type:"account",value:t[1].seller,arg:"account"},{type:"amount",value:g?t[1].amount_to_sell:t[1].min_to_receive,arg:"amount"},{type:"price",value:{base:g?t[1].min_to_receive:t[1].amount_to_sell,quote:g?t[1].amount_to_sell:t[1].min_to_receive},arg:"price"}]}));break;case"limit_order_cancel":c="cancel",l=a.createElement("span",null,this.linkToAccount(t[1].fee_paying_account)," ",a.createElement(p.a,{component:"span",content:"proposal.limit_order_cancel"})," #",t[1].order.substring(4));break;case"short_order_cancel":c="cancel",l=a.createElement("span",null,a.createElement(p.a,{component:"span",content:"proposal.short_order_cancel"})," ",t[1].order);break;case"call_order_update":c="warning",l=a.createElement("span",null,a.createElement(A.a,{string:"proposal.call_order_update",keys:[{type:"account",value:t[1].funding_account,arg:"account"},{type:"asset",value:t[1].delta_debt.asset_id,arg:"debtSymbol"},{type:"amount",value:t[1].delta_debt,arg:"debt"},{type:"amount",value:t[1].delta_collateral,arg:"collateral"}]}));break;case"key_create":l=a.createElement("span",null,a.createElement(p.a,{component:"span",content:"proposal.create_key"}));break;case"account_create":l=n===t[1].registrar?a.createElement("span",null,a.createElement(p.a,{component:"span",content:"proposal.reg_account"})," ",this.linkToAccount(t[1].name)):a.createElement("span",null,this.linkToAccount(t[1].name)," ",a.createElement(p.a,{component:"span",content:"proposal.was_reg_account"})," ",this.linkToAccount(t[1].registrar));break;case"account_update":l=a.createElement("span",null,a.createElement(A.a,{string:"proposal.update_account",keys:[{type:"account",value:t[1].account,arg:"account"}]}));break;case"account_whitelist":var E=t[1].new_listing===j.no_listing?"unlisted_by":t[1].new_listing===j.white_listed?"whitelisted_by":"blacklisted_by";l=a.createElement("span",null,a.createElement(y.a.Wrapper,{lister:t[1].authorizing_account,listee:t[1].account_to_list},function(e){var t=e.lister,n=e.listee;return a.createElement(p.a,{component:"span",content:"transaction."+E,lister:t.get("name"),listee:n.get("name")})}));break;case"account_upgrade":l=t[1].upgrade_to_lifetime_member?a.createElement("span",null,this.linkToAccount(t[1].account_to_upgrade),"  ",a.createElement(p.a,{component:"span",content:"proposal.lifetime_upgrade_account"})):a.createElement("span",null,this.linkToAccount(t[1].account_to_upgrade),"  ",a.createElement(p.a,{component:"span",content:"proposal.annual_upgrade_account"}));break;case"account_transfer":l=a.createElement("span",null,a.createElement(p.a,{component:"span",content:"proposal.transfer_account"})," ",this.linkToAccount(t[1].account_id),a.createElement(p.a,{component:"span",content:"proposal.to"})," ",this.linkToAccount(t[1].new_owner));break;case"asset_create":c="warning",l=a.createElement(A.a,{string:"proposal.asset_create",keys:[{type:"account",value:t[1].issuer,arg:"account"}],params:{asset:t[1].symbol}});break;case"asset_update":case"asset_update_bitasset":c="warning",l=a.createElement(A.a,{string:"proposal.asset_update",keys:[{type:"account",value:t[1].issuer,arg:"account"},{type:"asset",value:t[1].asset_to_update,arg:"asset"}]});break;case"asset_update_feed_producers":c="warning",l=a.createElement(A.a,{string:"proposal.feed_producer",keys:[{type:"account",value:t[1].issuer,arg:"account"},{type:"asset",value:t[1].asset_to_update,arg:"asset"}]});break;case"asset_issue":c="warning",t[1].memo&&(u=a.createElement(w.a,{memo:t[1].memo})),t[1].asset_to_issue.amount=parseInt(t[1].asset_to_issue.amount,10),l=a.createElement("span",null,a.createElement(A.a,{string:"proposal.asset_issue",keys:[{type:"account",value:t[1].issuer,arg:"account"},{type:"amount",value:t[1].asset_to_issue,arg:"amount"},{type:"account",value:t[1].issue_to_account,arg:"to"}]}),u);break;case"asset_reserve":l=a.createElement("span",null,a.createElement(A.a,{string:"proposal.asset_reserve",keys:[{type:"account",value:t[1].payer,arg:"account"},{type:"amount",value:t[1].amount_to_reserve,arg:"amount"}]}));break;case"asset_fund_fee_pool":c="warning";var k=_.b.getAsset(t[1].asset_id);k=k?k.get("symbol"):t[1].asset_id,l=a.createElement("span",null,this.linkToAccount(t[1].from_account),"  ",a.createElement(p.a,{component:"span",content:"proposal.fund_pool",asset:k})," ",a.createElement(s.a,{style:{fontWeight:"bold"},amount:t[1].amount,asset:"1.3.0"}));break;case"asset_settle":c="warning",l=a.createElement("span",null,a.createElement(p.a,{component:"span",content:"proposal.asset_settle"})," ",a.createElement(s.a,{style:{fontWeight:"bold"},amount:t[1].amount.amount,asset:t[1].amount.asset_id}));break;case"asset_global_settle":c="warning",l=a.createElement("span",null,a.createElement(p.a,{component:"span",content:"proposal.asset_global_settle"})," ",this.linkToAsset(t[1].asset_to_settle)," ",a.createElement(p.a,{component:"span",content:"proposal.at"})," ",a.createElement(v.a,{style:{fontWeight:"bold"},quote_amount:t[1].settle_price.quote.amount,quote_asset:t[1].settle_price.quote.asset_id,base_asset:t[1].settle_price.base.asset_id,base_amount:t[1].settle_price.base.amount}));break;case"asset_publish_feed":c="warning",l=a.createElement("span",null,this.linkToAccount(t[1].publisher)," ",a.createElement(p.a,{component:"span",content:"proposal.publish_feed"})," ",a.createElement(v.a,{base_asset:t[1].feed.settlement_price.base.asset_id,quote_asset:t[1].feed.settlement_price.quote.asset_id,base_amount:t[1].feed.settlement_price.base.amount,quote_amount:t[1].feed.settlement_price.quote.amount}));break;case"witness_create":l=a.createElement("span",null,a.createElement(p.a,{component:"span",content:"proposal.witness_create"})," ",this.linkToAccount(t[1].witness_account));break;case"witness_update":l=a.createElement("span",null,a.createElement(p.a,{component:"span",content:"proposal.witness_update"})," ",this.linkToAccount(t[1].witness_account));break;case"witness_withdraw_pay":l=n===t[1].witness_account?a.createElement("span",null,a.createElement(p.a,{component:"span",content:"proposal.witness_pay"})," ",a.createElement(s.a,{style:{fontWeight:"bold"},amount:t[1].amount,asset:"1.3.0"}),a.createElement(p.a,{component:"span",content:"proposal.to"})," ",this.linkToAccount(t[1].witness_account)):a.createElement("span",null,a.createElement(p.a,{component:"span",content:"proposal.received"})," ",a.createElement(s.a,{style:{fontWeight:"bold"},amount:t[1].amount,asset:"1.3.0"}),a.createElement(p.a,{component:"span",content:"proposal.from"})," ",this.linkToAccount(t[1].witness_account));break;case"proposal_create":l=a.createElement("span",null,a.createElement(p.a,{component:"span",content:"proposal.proposal_create"}));break;case"proposal_update":l=a.createElement("span",null,a.createElement(p.a,{component:"span",content:"proposal.proposal_update"}));break;case"proposal_delete":l=a.createElement("span",null,a.createElement(p.a,{component:"span",content:"proposal.proposal_delete"}));break;case"withdraw_permission_create":l=a.createElement("span",null,a.createElement(p.a,{component:"span",content:"proposal.withdraw_permission_create"})," ",this.linkToAccount(t[1].withdraw_from_account),a.createElement(p.a,{component:"span",content:"proposal.to"})," ",this.linkToAccount(t[1].authorized_account));break;case"withdraw_permission_update":l=a.createElement("span",null,a.createElement(p.a,{component:"span",content:"proposal.withdraw_permission_update"})," ",this.linkToAccount(t[1].withdraw_from_account),a.createElement(p.a,{component:"span",content:"proposal.to"})," ",this.linkToAccount(t[1].authorized_account));break;case"withdraw_permission_claim":l=a.createElement("span",null,a.createElement(p.a,{component:"span",content:"proposal.withdraw_permission_claim"})," ",this.linkToAccount(t[1].withdraw_from_account),a.createElement(p.a,{component:"span",content:"proposal.to"})," ",this.linkToAccount(t[1].withdraw_to_account));break;case"withdraw_permission_delete":l=a.createElement("span",null,a.createElement(p.a,{component:"span",content:"proposal.withdraw_permission_delete"})," ",this.linkToAccount(t[1].withdraw_from_account),a.createElement(p.a,{component:"span",content:"proposal.to"})," ",this.linkToAccount(t[1].authorized_account));break;case"fill_order":c="success",o=t[1],l=a.createElement("span",null,this.linkToAccount(t[1].account_id)," ",a.createElement(p.a,{component:"span",content:"proposal.paid"})," ",a.createElement(s.a,{style:{fontWeight:"bold"},amount:t[1].pays.amount,asset:t[1].pays.asset_id})," ",a.createElement(p.a,{component:"span",content:"proposal.obtain"})," ",a.createElement(s.a,{style:{fontWeight:"bold"},amount:t[1].receives.amount,asset:t[1].receives.asset_id})," ",a.createElement(p.a,{component:"span",content:"proposal.at"})," ",a.createElement(v.a,{base_asset:o.pays.asset_id,base_amount:o.pays.amount,quote_asset:o.receives.asset_id,quote_amount:o.receives.amount}));break;case"global_parameters_update":l=a.createElement("span",null,a.createElement(p.a,{component:"span",content:"proposal.global_parameters_update"}));break;case"file_write":l=a.createElement("span",null,a.createElement(p.a,{component:"span",content:"proposal.file_write"}));break;case"vesting_balance_create":l=a.createElement("span",null," ",this.linkToAccount(t[1].creator),a.createElement(p.a,{component:"span",content:"proposal.vesting_balance_create"})," ",a.createElement(s.a,{style:{fontWeight:"bold"},amount:t[1].amount.amount,asset:t[1].amount.asset_id})," ",this.linkToAccount(t[1].owner));break;case"vesting_balance_withdraw":l=a.createElement(A.a,{string:"proposal.vesting_balance_withdraw",keys:[{type:"account",value:t[1].owner,arg:"account"},{type:"amount",value:t[1].amount,arg:"amount"}]});break;case"bond_create_offer":l=a.createElement("span",null,a.createElement(p.a,{component:"span",content:"proposal.bond_create_offer"})," ",a.createElement(s.a,{style:{fontWeight:"bold"},amount:t[1].amount.amount,asset:t[1].amount.asset_id}));break;case"bond_cancel_offer":l=a.createElement("span",null,a.createElement(p.a,{component:"span",content:"proposal.bond_cancel_offer"})," ",t[1].offer_id);break;case"bond_accept_offer":n===t[1].lender?l=a.createElement("span",null,a.createElement(p.a,{component:"span",content:"proposal.bond_accept_offer"})," ",a.createElement(s.a,{style:{fontWeight:"bold"},amount:t[1].amount_borrowed.amount,asset:t[1].amount_borrowed.asset_id}),a.createElement(p.a,{component:"span",content:"proposal.to"})," ",this.linkToAccount(t[1].borrower)):n===t[1].borrower&&(l=a.createElement("span",null,a.createElement(p.a,{component:"span",content:"proposal.bond_accept_offer"})," ",a.createElement(s.a,{style:{fontWeight:"bold"},amount:t[1].amount_borrowed.amount,asset:t[1].amount_borrowed.asset_id}),a.createElement(p.a,{component:"span",content:"proposal.from"})," ",this.linkToAccount(t[1].lender)));break;case"bond_claim_collateral":n===t[1].lender?l=a.createElement("span",null,a.createElement(p.a,{component:"span",content:"proposal.bond_pay_collateral"})," ",a.createElement(s.a,{style:{fontWeight:"bold"},amount:t[1].collateral_claimed.amount,asset:t[1].collateral_claimed.asset_id}),a.createElement(p.a,{component:"span",content:"proposal.to"})," ",this.linkToAccount(t[1].claimer)):n===t[1].claimer&&(l=a.createElement("span",null,a.createElement(p.a,{component:"span",content:"proposal.bond_claim_collateral"})," ",a.createElement(s.a,{style:{fontWeight:"bold"},amount:t[1].collateral_claimed.amount,asset:t[1].collateral_claimed.asset_id}),a.createElement(p.a,{component:"span",content:"proposal.from"})," ",this.linkToAccount(t[1].lender)));break;case"worker_create":l=a.createElement("span",null,a.createElement(p.a,{component:"span",content:"proposal.create_worker"})," ",a.createElement(s.a,{style:{fontWeight:"bold"},amount:t[1].daily_pay,asset:"1.3.0"}));break;case"balance_claim":c="success",t[1].total_claimed.amount=parseInt(t[1].total_claimed.amount,10),l=a.createElement("span",null,this.linkToAccount(t[1].deposit_to_account)," ",a.createElement(y.a.Wrapper,{asset:t[1].total_claimed.asset_id},function(e){var n=e.asset;return a.createElement(p.a,{component:"span",content:"proposal.balance_claim",balance_amount:f.a.format_asset(t[1].total_claimed.amount,n),balance_id:t[1].balance_to_claim.substring(5)})}));break;case"committee_member_create":l=a.createElement("span",null,a.createElement(p.a,{component:"span",content:"proposal.committee_member_create"})," ",this.linkToAccount(t[1].committee_member_account));break;case"transfer_to_blind":l=a.createElement("span",null,this.linkToAccount(t[1].from)," ",a.createElement(p.a,{component:"span",content:"proposal.sent"})," ",a.createElement(s.a,{style:{fontWeight:"bold"},amount:t[1].amount.amount,asset:t[1].amount.asset_id}));break;case"transfer_from_blind":l=a.createElement("span",null,this.linkToAccount(t[1].to)," ",a.createElement(p.a,{component:"span",content:"proposal.received"})," ",a.createElement(s.a,{style:{fontWeight:"bold"},amount:t[1].amount.amount,asset:t[1].amount.asset_id}));break;case"asset_claim_fees":c="success",t[1].amount_to_claim.amount=parseInt(t[1].amount_to_claim.amount,10),l=a.createElement("span",null,this.linkToAccount(t[1].issuer)," ",a.createElement(y.a.Wrapper,{asset:t[1].amount_to_claim.asset_id},function(e){var n=e.asset;return a.createElement(p.a,{component:"span",content:"proposal.asset_claim_fees",balance_amount:f.a.format_asset(t[1].amount_to_claim.amount,n),asset:n.get("symbol")})}));break;case"committee_member_update_global_parameters":l=a.createElement("span",null,a.createElement(A.a,{string:"proposal.committee_member_update_global_parameters",keys:[{type:"account",value:"1.2.0",arg:"account"}]}));break;case"custom":l=a.createElement("span",null,a.createElement(p.a,{component:"span",content:"proposal.custom"}));break;case"override_transfer":l=a.createElement(A.a,{string:"proposal.override_transfer",keys:[{type:"account",value:t[1].issuer,arg:"issuer"},{type:"account",value:t[1].from,arg:"from"},{type:"account",value:t[1].to,arg:"to"},{type:"amount",value:t[1].amount,arg:"amount"}]});break;default:console.log("unimplemented op:",t),l=a.createElement("span",null,a.createElement(i.a,{to:"/block/"+r},"#",r))}if(this.props.csvExportMode){var S=_.b.getObject("2.0.0"),x=_.b.getObject("2.1.0"),T=f.a.calc_block_time(r,S,x);return a.createElement("div",{key:this.props.key},a.createElement("div",null,T?T.toLocaleString():""),a.createElement("div",null,N[t[0]]),a.createElement("div",null,l),a.createElement("div",null,a.createElement(s.a,{amount:parseInt(t[1].fee.amount,10),asset:t[1].fee.asset_id})))}return(l?a.createElement(F,{index:this.props.index,id:this.props.id,block:r,type:t[0],color:c,fee:t[1].fee,hideDate:this.props.hideDate,hideFee:this.props.hideFee,hideOpLabel:this.props.hideOpLabel,info:l,expiration:this.props.expiration}):null)||a.createElement("div",null)}}]),t}();M.defaultProps={op:[],current:"",block:null,hideDate:!1,hideFee:!1,hideOpLabel:!1,csvExportMode:!1},M.propTypes={op:r.array.isRequired,current:r.string,block:r.number,hideDate:r.bool,hideFee:r.bool,csvExportMode:r.bool},t.a=M},1291:function(e,t,n){"use strict";n.d(t,"b",function(){return w}),n.d(t,"a",function(){return A});var a=n(0),r=(n(3),n(80)),o=n(19),s=n(40),i=n(17),l=n(16),c=n(122),u=n(2),p=n.n(u),d=n(13),m=n.n(d),h=n(81),f=n.n(h),b=n(290),g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},y=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function E(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var k=function(e){function t(e){return v(this,t),_(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return E(t,b["a"]),y(t,[{key:"componentDidMount",value:function(){f.a.rebuild()}},{key:"shouldComponentUpdate",value:function(e){return function e(t,n,a){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,a)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(a):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"shouldComponentUpdate",this).call(this,e)||e.toAsset!==this.props.toAsset||e.fromAsset!==this.props.fromAsset||e.amount!==this.props.amount}},{key:"getValue",value:function(){var e=this.props,t=e.amount,n=e.toAsset,a=e.fromAsset,r=e.fullPrecision,o=e.marketStats,s=e.coreAsset,l=n.get("id"),c=n.get("symbol"),u=a.get("id"),p=a.get("symbol");if(r||(t=i.a.get_asset_amount(t,a)),s&&o){var d=s.get("symbol");o.get(c+"_"+d),o.get(p+"_"+d)}var m="1.3.0"===u&&"1.3.0"===l?i.a.convertPrice(a,n,u,l):(o.get(p+"_"+c)||{}).price||null;return m?i.a.convertValue(m,t,a,n):null}},{key:"render",value:function(){var e=this.props,t=e.amount,n=e.toAsset,o=e.fromAsset,s=e.fullPrecision,l=n.get("id");n.get("symbol");s||(t=i.a.get_asset_amount(t,o));var c=this.getValue();return c||0===c?a.createElement(r.a,{hide_asset:this.props.hide_asset,noPrefix:!0,amount:c,asset:l,decimalOffset:0}):a.createElement("div",{className:"tooltip inline-block","data-place":"bottom","data-tip":m.a.translate("tooltip.no_price"),style:{fontSize:"0.9rem"}},a.createElement(p.a,{content:"account.no_price"}))}}]),t}();k.propTypes={toAsset:o.a.ChainAsset.isRequired,fromAsset:o.a.ChainAsset.isRequired,coreAsset:o.a.ChainAsset.isRequired},k.defaultProps={toAsset:"1.3.0",fullPrecision:!0,noDecimals:!1,hide_asset:!1,coreAsset:"1.3.0"},k=Object(s.a)(k,{keep_updating:!0});var w=function(e){function t(){return v(this,t),_(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return E(t,a["Component"]),y(t,[{key:"render",value:function(){var e=this.props,t=e.refCallback,n=function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}(e,["refCallback"]);return a.createElement(k,g({},n,{ref:t}))}}]),t}();w=Object(l.connect)(w,{listenTo:function(){return[c.a]},getProps:function(){return{marketStats:c.a.getState().allMarketStats}}});var A=function(e){function t(){return v(this,t),_(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return E(t,a["Component"]),y(t,[{key:"render",value:function(){var e=this.props.balance,t=!!e.getIn(["balance","amount"]),n=Number(t?e.getIn(["balance","amount"]):e.get("balance")),r=t?e.getIn(["balance","asset_id"]):e.get("asset_type");return isNaN(n)?a.createElement("span",null,"--"):a.createElement(w,{refCallback:this.props.refCallback,hide_asset:this.props.hide_asset,amount:n,fromAsset:r,noDecimals:!0,toAsset:this.props.toAsset})}}]),t}();A.propTypes={balance:o.a.ChainObject.isRequired},A=Object(s.a)(A,{keep_updating:!0})},1292:function(e,t,n){"use strict";var a=n(0),r=(n(3),n(1450)),o=n.n(r),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var i=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={animateEnter:!1},e.timer=null,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["Component"]),s(t,[{key:"componentDidMount",value:function(){this.enableAnimation()}},{key:"resetAnimation",value:function(){this.setState({animateEnter:!1}),this.enableAnimation()}},{key:"enableAnimation",value:function(){var e=this;this.timer=setTimeout(function(){e.timer&&e.setState({animateEnter:!0})},2e3)}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timer),this.timer=null}},{key:"render",value:function(){return this.props.children?a.createElement(o.a,{className:this.props.className,component:this.props.component,transitionName:this.props.transitionName,transitionEnterTimeout:this.props.enterTimeout,transitionEnter:this.state.animateEnter,transitionLeave:!1},this.props.children):a.createElement(this.props.component)}}]),t}();i.defaultProps={component:"span",enterTimeout:2e3},t.a=i},1293:function(e,t,n){"use strict";n.d(t,"a",function(){return _}),n.d(t,"b",function(){return E}),n.d(t,"e",function(){return k}),n.d(t,"d",function(){return w}),n.d(t,"c",function(){return A});var a=n(1274),r=n(155),o=n(1452),s=n.n(o),i=n(1429),l=n(1425),c=n(1430),u=h(["\n    mutation GenNewAddress($accountName: String!, $asset: String!) {\n      newDepositAddress(accountName: $accountName, asset: $asset) {\n        address\n        accountName\n        asset\n        type\n        createAt\n      }\n    }\n  "],["\n    mutation GenNewAddress($accountName: String!, $asset: String!) {\n      newDepositAddress(accountName: $accountName, asset: $asset) {\n        address\n        accountName\n        asset\n        type\n        createAt\n      }\n    }\n  "]),p=h(["\n    query GetAddress($accountName: String!, $asset: String!) {\n      getDepositAddress(accountName: $accountName, asset: $asset) {\n        address\n        accountName\n        asset\n        type\n        createAt\n        projectInfo {\n          projectName\n          logoUrl\n          contractAddress\n          contractExplorerUrl\n        }\n      }\n    }\n  "],["\n    query GetAddress($accountName: String!, $asset: String!) {\n      getDepositAddress(accountName: $accountName, asset: $asset) {\n        address\n        accountName\n        asset\n        type\n        createAt\n        projectInfo {\n          projectName\n          logoUrl\n          contractAddress\n          contractExplorerUrl\n        }\n      }\n    }\n  "]),d=h(["\n    query WithdrawInfo($type: String!) {\n      withdrawInfo(type: $type) {\n        fee\n        minValue\n        precision\n        asset\n        type\n        gatewayAccount\n      }\n    }\n  "],["\n    query WithdrawInfo($type: String!) {\n      withdrawInfo(type: $type) {\n        fee\n        minValue\n        precision\n        asset\n        type\n        gatewayAccount\n      }\n    }\n  "]),m=h(["\n    query VerifyAddress(\n      $asset: String!\n      $accountName: String!\n      $address: String!\n    ) {\n      verifyAddress(\n        asset: $asset\n        accountName: $accountName\n        address: $address\n      ) {\n        valid\n        asset\n      }\n    }\n  "],["\n    query VerifyAddress(\n      $asset: String!\n      $accountName: String!\n      $address: String!\n    ) {\n      verifyAddress(\n        asset: $asset\n        accountName: $accountName\n        address: $address\n      ) {\n        valid\n        asset\n      }\n    }\n  "]);function h(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var f=function(e,t,n,a){return new(n||(n=Promise))(function(r,o){function s(e){try{l(a.next(e))}catch(e){o(e)}}function i(e){try{l(a.throw(e))}catch(e){o(e)}}function l(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(s,i)}l((a=a.apply(e,t||[])).next())})},b=Object(r.a)("GatewayService"),g=new Headers;g.append("Content-Type","application/x-www-form-urlencoded");var y=new l.a({uri:a.c}),v=new i.a({link:y,cache:new c.a});function _(e,t,n){return f(this,void 0,void 0,regeneratorRuntime.mark(function a(){var r,o;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(b("Get Deposit: ",e,t,n),r=s()(u),o=s()(p),!n){a.next=9;break}return a.next=6,C("mutate",{mutation:r,variables:{accountName:e,asset:t}},"newDepositAddress");case 6:a.t0=a.sent,a.next=12;break;case 9:return a.next=11,C("query",{query:o,variables:{accountName:e,asset:t}},"getDepositAddress");case 11:a.t0=a.sent;case 12:return a.abrupt("return",a.t0);case 13:case"end":return a.stop()}},a,this)}))}function E(e){return f(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=s()(d),t.next=3,C("query",{query:n,variables:{type:e}},"withdrawInfo");case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}},t,this)}))}function k(e,t,n){return f(this,void 0,void 0,regeneratorRuntime.mark(function a(){var r;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return r=s()(m),a.next=3,C("query",{query:r,variables:{asset:n,accountName:t,address:e}},"verifyAddress");case 3:return a.abrupt("return",a.sent);case 4:case"end":return a.stop()}},a,this)}))}function w(e){return f(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O("records",e).then(function(e){return e.data});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}))}function A(e){return f(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O("login",e).then(function(e){return e.data});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}))}function O(e,t){return f(this,void 0,void 0,regeneratorRuntime.mark(function n(){var r,o;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return(r=new Headers).append("Content-Type","application/json"),o={headers:r,method:"POST",body:JSON.stringify(t)},n.next=5,fetch(""+a.b+e,o).then(function(e){return e.json()}).catch(function(e){return{code:400,error:e.message}});case 5:return n.abrupt("return",n.sent);case 6:case"end":return n.stop()}},n,this)}))}function C(e,t,n){return f(this,void 0,void 0,regeneratorRuntime.mark(function a(){return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if("newDepositAddress"!==n){a.next=3;break}return a.next=3,v.resetStore();case 3:return a.prev=3,a.next=6,v[e](t);case 6:return a.t0=n,a.abrupt("return",a.sent.data[a.t0]);case 10:throw a.prev=10,a.t1=a.catch(3),console.error("GatewayError: ",a.t1),a.t1;case 14:case"end":return a.stop()}},a,this,[[3,10]])}))}},1294:function(e,t,n){"use strict";var a=n(0),r=n(3),o=n(80),s=n(879),i=n(28),l=n.n(i),c=n(2),u=n.n(c),p=n(13),d=n.n(p),m=n(17),h=n(40),f=n(19),b=n(1279),g=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var y=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={time:null},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["Component"]),g(t,[{key:"componentDidMount",value:function(){this.calcTime(this.props.block_number)}},{key:"calcTime",value:function(e){this.setState({time:m.a.calc_block_time(e,this.props.globalObject,this.props.dynGlobalObject)})}},{key:"componentWillReceiveProps",value:function(e){e.block_number!==this.props.block_number&&this.calcTime(e.block_number)}},{key:"render",value:function(){return a.createElement("span",{className:"time",key:this.props.block_number},this.state.time?a.createElement(b.a,{time:this.state.time}):null)}}]),t}();y.propTypes={block_number:r.number.isRequired,globalObject:f.a.ChainObject.isRequired,dynGlobalObject:f.a.ChainObject.isRequired},y.defaultProps={globalObject:"2.0.0",dynGlobalObject:"2.1.0"};var v=y=Object(h.a)(y,{keep_updating:!0}),_=n(1268),E=n(1272),k=n(1283),w=n(1),A=n(1281),O=n.n(A),C=n(1286),S=n(1290),x=n(94),T=n(16),P=n(8),D=n(1289),N=n(106),j=n(121),I=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function F(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function M(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function R(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var B=w.c.operations;n(1284);var q=Object.keys(B),L=O.a.account_listing;var U=function(e){function t(){return F(this,t),M(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return R(t,a["PureComponent"]),I(t,[{key:"render",value:function(){var e=d.a.translate("transaction.trxTypes"),t=l()("label",this.props.color||"info");return a.createElement("span",{className:t},e[q[this.props.type]])}}]),t}(),V=((W=function(e){function t(e){return F(this,t),M(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return R(t,a["PureComponent"]),I(t,[{key:"render",value:function(){var e=this.props,t=e.block,n=e.fee,r=e.color,i=e.type,l=e.hideOpLabel,c=this.props.dynGlobalObject.get("last_irreversible_block_num"),p=null;return t>c&&(p=a.createElement("span",null,"(",a.createElement(u.a,{content:"operation.pending",blocks:t-c}),")")),n.amount=parseInt(n.amount,10),a.createElement("tr",null,l?null:a.createElement("td",{style:{textAlign:"left"},className:"left-td column-hide-tiny"},a.createElement(s.a,{className:"inline-block","data-place":"bottom","data-tip":d.a.translate("tooltip.show_block",{block:m.a.format_number(this.props.block,0)}),to:"/block/"+this.props.block},a.createElement(U,{color:r,type:i}))),a.createElement("td",{style:{padding:"8px 5px",textAlign:"left"}},a.createElement("div",null,a.createElement("span",null,this.props.info)),a.createElement("div",{style:{fontSize:14,paddingTop:5}},this.props.hideFee?null:a.createElement("span",{className:"facolor-fee"}," ","- ",a.createElement(o.a,{amount:n.amount,asset:n.asset_id})),p?a.createElement("span",null," - ",p):null)),a.createElement("td",null,this.props.hideDate?null:a.createElement(v,{block_number:t})))}}]),t}()).contextTypes={router:r.object.isRequired},W.propTypes={dynGlobalObject:f.a.ChainObject.isRequired},W.defaultProps={dynGlobalObject:"2.1.0",tempComponent:"tr"},W);V=Object(h.a)(V,{keep_updating:!1});var J=function(e){function t(){return F(this,t),M(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return R(t,a["PureComponent"]),I(t,[{key:"linkToAccount",value:function(e){return e?m.a.is_object_id(e)?a.createElement(_.a,{account:e}):a.createElement(s.a,{to:"/account/"+e+"/overview"},e):a.createElement("span",null,"-")}},{key:"linkToAsset",value:function(e){return e?m.a.is_object_id(e)?a.createElement(E.a,{asset:e}):a.createElement(s.a,{to:"/asset/"+e},e):a.createElement("span",null,"-")}},{key:"render",value:function(){var e=this.props,t=e.op,n=e.current,r=e.block,i=null,l=null,c="info",p=null;switch(q[t[0]]){case"transfer":t[1].memo&&(p=a.createElement(C.a,{memo:t[1].memo,fullLength:!0}));var d=N.a.getState().currentLocale,f=function(e){return e.extensions&&e.extensions.length&&e.extensions[0][1]?e.extensions[0][1].vesting_period:null}(t[1]),b=null===f?"none":D(1e3*f,{language:{zh:"zh_CN",en:"en"}[d],unitMeasures:{y:31536e6,mo:2592e6,w:6048e5,d:864e5,h:36e5,m:6e4,s:1e3}});c="success",t[1].amount.amount=parseFloat(t[1].amount.amount),i=this.props.csvExportMode?a.createElement(k.a,{string:"operation.transfer",keys:[{type:"account",value:t[1].from,arg:"from"},{type:"amount",value:t[1].amount,arg:"amount"},{type:"account",value:t[1].to,arg:"to"},{value:b,arg:"vesting"}]}):a.createElement("span",{className:"right-td"},a.createElement(k.a,{string:"operation.transfer",keys:[{type:"account",value:t[1].from,arg:"from"},{type:"amount",value:t[1].amount,arg:"amount"},{type:"account",value:t[1].to,arg:"to"},{value:b,arg:"vesting"}]}),p),l=p;break;case"limit_order_create":c="warning";var g=t[1];i=a.createElement("span",null,a.createElement(h.a.Wrapper,{base:g.min_to_receive.asset_id,quote:g.amount_to_sell.asset_id},function(e){var n=e.base,r=e.quote,o=x.a.getMarketID(n,r),s=(o.marketID,o.first),i=(o.second,g.min_to_receive.asset_id===s.get("id")),l=i?g.amount_to_sell:g.min_to_receive,c=i?g.min_to_receive:g.amount_to_sell,u=[t[1].amount_to_sell,t[1].min_to_receive],p=u[0],d=u[1],m=Object(j.b)(n.get("symbol"),"limit_order_create",i?"operation.limit_order_buy":"operation.limit_order_sell");return a.createElement(k.a,{string:m,keys:[{type:"account",value:t[1].seller,arg:"account"},{type:"amount",value:p,arg:"amount_to_sell"},{type:"amount",value:d,arg:"amount_to_buy"},{type:"asset",value:p,arg:"asset_to_sell"},{type:"asset",value:d,arg:"asset_to_buy"},{type:"price",value:{base:l,quote:c},arg:"price"}]})}));break;case"limit_order_cancel":c="cancel",i=a.createElement("span",null,a.createElement(k.a,{string:"operation.limit_order_cancel",keys:[{type:"account",value:t[1].fee_paying_account,arg:"account"}],params:{order:t[1].order.substring(4)}}));break;case"call_order_update":c="warning",i=a.createElement("span",null,a.createElement(h.a.Wrapper,{base:t[1].delta_debt.asset_id},function(e){var n=e.base,r=Object(j.b)(n.get("symbol"),"call_order_update","operation.call_order_update");return a.createElement(k.a,{string:r,keys:[{type:"account",value:t[1].funding_account,arg:"account"},{type:"asset",value:t[1].delta_debt.asset_id,arg:"debtSymbol"},{type:"amount",value:t[1].delta_debt,arg:"debt"},{type:"amount",value:t[1].delta_collateral,arg:"collateral"}]})}));break;case"key_create":i=a.createElement("span",null,a.createElement(u.a,{component:"span",content:"transaction.create_key"}));break;case"account_create":i=a.createElement(k.a,{string:"operation.reg_account",keys:[{type:"account",value:t[1].registrar,arg:"registrar"},{type:"account",value:t[1].name,arg:"new_account"}]});break;case"account_update":i=a.createElement("span",null,a.createElement(k.a,{string:"operation.update_account",keys:[{type:"account",value:t[1].account,arg:"account"}]}));break;case"account_whitelist":var y=t[1].new_listing===L.no_listing?"unlisted_by":t[1].new_listing===L.white_listed?"whitelisted_by":"blacklisted_by";i=a.createElement("span",null,a.createElement(k.a,{string:"operation."+y,keys:[{type:"account",value:t[1].authorizing_account,arg:"lister"},{type:"account",value:t[1].account_to_list,arg:"listee"}]}));break;case"account_upgrade":i=a.createElement("span",null,a.createElement(k.a,{string:t[1].upgrade_to_lifetime_member?"operation.lifetime_upgrade_account":"operation.annual_upgrade_account",keys:[{type:"account",value:t[1].account_to_upgrade,arg:"account"}]}));break;case"account_transfer":i=a.createElement("span",null,a.createElement(k.a,{string:"operation.account_transfer",keys:[{type:"account",value:t[1].account_id,arg:"account"},{type:"account",value:t[1].new_owner,arg:"to"}]}));break;case"asset_create":c="warning",i=a.createElement("span",null,a.createElement(k.a,{string:"operation.asset_create",keys:[{type:"account",value:t[1].issuer,arg:"account"},{type:"asset",value:t[1].symbol,arg:"asset"}]}));break;case"asset_update":case"asset_update_bitasset":c="warning",i=a.createElement("span",null,a.createElement(k.a,{string:"operation.asset_update",keys:[{type:"account",value:t[1].issuer,arg:"account"},{type:"asset",value:t[1].asset_to_update,arg:"asset"}]}));break;case"asset_update_feed_producers":c="warning",i=a.createElement("span",null,a.createElement(k.a,{string:"operation.asset_update_feed_producers",keys:[{type:"account",value:t[1].issuer,arg:"account"},{type:"asset",value:t[1].asset_to_update,arg:"asset"}]}));break;case"asset_issue":c="warning",t[1].memo&&(p=a.createElement(C.a,{memo:t[1].memo})),t[1].asset_to_issue.amount=parseInt(t[1].asset_to_issue.amount,10),i=a.createElement("span",null,a.createElement(k.a,{string:"operation.asset_issue",keys:[{type:"account",value:t[1].issuer,arg:"account"},{type:"amount",value:t[1].asset_to_issue,arg:"amount"},{type:"account",value:t[1].issue_to_account,arg:"to"}]}),p);break;case"asset_fund_fee_pool":c="warning",i=a.createElement("span",null,a.createElement(k.a,{string:"operation.asset_fund_fee_pool",keys:[{type:"account",value:t[1].from_account,arg:"account"},{type:"asset",value:t[1].asset_id,arg:"asset"},{type:"amount",value:{amount:t[1].amount,asset_id:"1.3.0"},arg:"amount"}]}));break;case"asset_settle":c="warning",i=a.createElement("span",null,a.createElement(h.a.Wrapper,{asset:t[1].amount.asset_id},function(e){var n=e.asset,r=Object(j.b)(n.get("symbol"),"asset_settle","operation.asset_settle");return a.createElement(k.a,{string:r,keys:[{type:"account",value:t[1].account,arg:"account"},{type:"amount",value:t[1].amount,arg:"amount"}]})}));break;case"asset_global_settle":c="warning",i=a.createElement("span",null,a.createElement(k.a,{string:"operation.asset_global_settle",keys:[{type:"account",value:t[1].issuer,arg:"account"},{type:"asset",value:t[1].asset_to_settle,arg:"asset"},{type:"price",value:t[1].settle_price,arg:"price"}]}));break;case"asset_publish_feed":c="warning",i=a.createElement("span",null,a.createElement(k.a,{string:"operation.publish_feed",keys:[{type:"account",value:t[1].publisher,arg:"account"},{type:"price",value:t[1].feed.settlement_price,arg:"price"}]}));break;case"witness_create":i=a.createElement("span",null,a.createElement(k.a,{string:"operation.witness_create",keys:[{type:"account",value:t[1].witness_account,arg:"account"}]}));break;case"witness_update":i=a.createElement("span",null,a.createElement(k.a,{string:"operation.witness_update",keys:[{type:"account",value:t[1].witness_account,arg:"account"}]}));break;case"witness_withdraw_pay":console.log("witness_withdraw_pay:",t[1].witness_account),i=n===t[1].witness_account?a.createElement("span",null,a.createElement(u.a,{component:"span",content:"transaction.witness_pay"})," ",a.createElement(o.a,{amount:t[1].amount,asset:"1.3.0"}),a.createElement(u.a,{component:"span",content:"transaction.to"})," ",this.linkToAccount(t[1].witness_account)):a.createElement("span",null,a.createElement(u.a,{component:"span",content:"transaction.received"})," ",a.createElement(o.a,{amount:t[1].amount,asset:"1.3.0"}),a.createElement(u.a,{component:"span",content:"transaction.from"})," ",this.linkToAccount(t[1].witness_account));break;case"proposal_create":i=a.createElement("div",{className:"inline-block"},a.createElement("span",null,a.createElement(k.a,{string:"operation.proposal_create",keys:[{type:"account",value:t[1].fee_paying_account,arg:"account"}]}),":"),a.createElement("div",null,t[1].proposed_ops.map(function(e,t){return a.createElement(S.a,{op:e.op,key:t,index:t,inverted:!1,hideFee:!0,hideOpLabel:!0,hideDate:!0,proposal:!0})})));break;case"proposal_update":i=a.createElement("span",null,a.createElement(k.a,{string:"operation.proposal_update",keys:[{type:"account",value:t[1].fee_paying_account,arg:"account"}]}));break;case"proposal_delete":i=a.createElement("span",null,a.createElement(u.a,{component:"span",content:"transaction.proposal_delete"}));break;case"withdraw_permission_create":i=a.createElement("span",null,a.createElement(u.a,{component:"span",content:"transaction.withdraw_permission_create"})," ",this.linkToAccount(t[1].withdraw_from_account),a.createElement(u.a,{component:"span",content:"transaction.to"})," ",this.linkToAccount(t[1].authorized_account));break;case"withdraw_permission_update":i=a.createElement("span",null,a.createElement(u.a,{component:"span",content:"transaction.withdraw_permission_update"})," ",this.linkToAccount(t[1].withdraw_from_account),a.createElement(u.a,{component:"span",content:"transaction.to"})," ",this.linkToAccount(t[1].authorized_account));break;case"withdraw_permission_claim":i=a.createElement("span",null,a.createElement(u.a,{component:"span",content:"transaction.withdraw_permission_claim"})," ",this.linkToAccount(t[1].withdraw_from_account),a.createElement(u.a,{component:"span",content:"transaction.to"})," ",this.linkToAccount(t[1].withdraw_to_account));break;case"withdraw_permission_delete":i=a.createElement("span",null,a.createElement(u.a,{component:"span",content:"transaction.withdraw_permission_delete"})," ",this.linkToAccount(t[1].withdraw_from_account),a.createElement(u.a,{component:"span",content:"transaction.to"})," ",this.linkToAccount(t[1].authorized_account));break;case"fill_order":c="success",g=t[1],i=a.createElement("span",null,a.createElement(h.a.Wrapper,{base:g.receives.asset_id,quote:g.pays.asset_id},function(e){var n=e.base,r=e.quote,o=x.a.getMarketID(n,r),s=(o.marketID,o.first,o.second),i=g.pays.asset_id===s.get("id"),l=i?g.fill_price.base:g.fill_price.quote,c=i?g.fill_price.quote:g.fill_price.base,u=i?g.receives:g.pays,p=g.fee.asset_id===u.asset_id?u.amount-g.fee.amount:u.amount,d=Object(j.b)(n.get("symbol"),"fill_order","operation.fill_order_"+(i?"buy":"sell"));return a.createElement(k.a,{string:d,keys:[{type:"account",value:t[1].account_id,arg:"account"},{type:"amount",value:{amount:p,asset_id:u.asset_id},arg:"amount"},{type:"price",value:{base:l,quote:c},arg:"price"}]})}));break;case"global_parameters_update":i=a.createElement("span",null,a.createElement(u.a,{component:"span",content:"transaction.global_parameters_update"}));break;case"vesting_balance_create":i=a.createElement("span",null," ",this.linkToAccount(t[1].creator),a.createElement(u.a,{component:"span",content:"transaction.vesting_balance_create"})," ",a.createElement(o.a,{amount:t[1].amount.amount,asset:t[1].amount.asset_id})," ",this.linkToAccount(t[1].owner));break;case"vesting_balance_withdraw":i=a.createElement("span",null,a.createElement(k.a,{string:"operation.vesting_balance_withdraw",keys:[{type:"account",value:t[1].owner,arg:"account"},{type:"amount",value:t[1].amount,arg:"amount"}]}));break;case"worker_create":i=a.createElement("span",null,a.createElement(k.a,{string:"operation.worker_create",keys:[{type:"account",value:t[1].owner,arg:"account"},{type:"amount",value:{amount:t[1].daily_pay,asset_id:"1.3.0"},arg:"pay"}],params:{name:t[1].name}}));break;case"balance_claim":c="success",t[1].total_claimed.amount=parseInt(t[1].total_claimed.amount,10),i=a.createElement("span",null,a.createElement(k.a,{string:"operation.balance_claim",keys:[{type:"account",value:t[1].deposit_to_account,arg:"account"},{type:"amount",value:t[1].total_claimed,arg:"amount"}]}));break;case"committee_member_create":i=a.createElement("span",null,a.createElement(u.a,{component:"span",content:"transaction.committee_member_create"})," ",this.linkToAccount(t[1].committee_member_account));break;case"transfer_to_blind":i=a.createElement("span",null,this.linkToAccount(t[1].from)," ",a.createElement(u.a,{component:"span",content:"transaction.sent"})," ",a.createElement(o.a,{amount:t[1].amount.amount,asset:t[1].amount.asset_id}));break;case"transfer_from_blind":i=a.createElement("span",null,this.linkToAccount(t[1].to)," ",a.createElement(u.a,{component:"span",content:"transaction.received"})," ",a.createElement(o.a,{amount:t[1].amount.amount,asset:t[1].amount.asset_id}));break;case"asset_claim_fees":c="success",t[1].amount_to_claim.amount=parseInt(t[1].amount_to_claim.amount,10),i=a.createElement("span",null,this.linkToAccount(t[1].issuer)," ",a.createElement(h.a.Wrapper,{asset:t[1].amount_to_claim.asset_id},function(e){var n=e.asset;return a.createElement(u.a,{component:"span",content:"transaction.asset_claim_fees",balance_amount:m.a.format_asset(t[1].amount_to_claim.amount,n),asset:n.get("symbol")})}));break;case"custom":i=a.createElement("span",null,a.createElement(u.a,{component:"span",content:"transaction.custom"}));break;case"asset_reserve":i=a.createElement("span",null,a.createElement(k.a,{string:"operation.asset_reserve",keys:[{type:"account",value:t[1].payer,arg:"account"},{type:"amount",value:t[1].amount_to_reserve,arg:"amount"}]}));break;case"committee_member_update_global_parameters":console.log("committee_member_update_global_parameters op:",t),i=a.createElement("span",null,a.createElement(k.a,{string:"operation.committee_member_update_global_parameters",keys:[{type:"account",value:"1.2.0",arg:"account"}]}));break;case"override_transfer":i=a.createElement(k.a,{string:"operation.override_transfer",keys:[{type:"account",value:t[1].issuer,arg:"issuer"},{type:"account",value:t[1].from,arg:"from"},{type:"account",value:t[1].to,arg:"to"},{type:"amount",value:t[1].amount,arg:"amount"}]});break;case"initiate_crowdfund":i=a.createElement(k.a,{string:"operation.init_crowd",keys:[{type:"account",value:t[1].owner,arg:"owner"},{type:"asset",value:t[1].asset_id,arg:"asset"}]});break;case"participate_crowdfund":i=a.createElement(k.a,{string:"operation.part_crowd",keys:[{type:"account",value:t[1].buyer,arg:"account"},{type:"amount",value:{asset_id:"1.3.0",amount:t[1].valuation},arg:"amount"}]});break;case"withdraw_crowdfund":i=a.createElement(k.a,{string:"operation.withdraw_crowd",keys:[{type:"account",value:t[1].buyer,arg:"account"}]});break;case"withdraw_all":i=t[1].sell_asset_id===t[1].receive_asset_id&&"1.3.0"===t[1].receive_asset_id?a.createElement(k.a,{string:"operation.withdraw_all_all",keys:[{type:"account",value:t[1].seller,arg:"account"}]}):a.createElement(k.a,{string:"operation.withdraw_all",keys:[{type:"account",value:t[1].seller,arg:"account"},{type:"asset",value:t[1].receive_asset_id,arg:"quote"},{type:"asset",value:t[1].sell_asset_id,arg:"base"}]});break;case"initiate_dice_bet":i=a.createElement(k.a,{string:"operation.initiate_dice_bet",keys:[{type:"account",value:t[1].owner,arg:"account"}]});break;case"deposit_dice_bet":i=a.createElement(k.a,{string:"operation.deposit_dice_bet",keys:[{type:"account",value:t[1].owner,arg:"account"}]});break;case"withdraw_dice_bet":i=a.createElement(k.a,{string:"operation.withdraw_dice_bet",keys:[{type:"account",value:t[1].owner,arg:"account"}]});break;case"participate_dice_bet":console.debug("Bet: "),i=a.createElement(k.a,{string:"operation.participate_dice_bet",keys:[{type:"account",value:t[1].payer,arg:"account"},{type:"value",value:t[1].choice,arg:"amount"}]});break;case"settle_bet":console.debug("Bet: "),i=a.createElement(k.a,{string:"operation.settle_bet",keys:[{type:"account",value:t[1].payer,arg:"account"},{type:"amount",value:{asset_id:t[1].asset_id,amount:t[1].refund},arg:"amount"},{type:"asset",value:t[1].asset_id,arg:"asset"}]});break;case"nonfungible_create":i=a.createElement(k.a,{string:"operation.nonfungible_create",keys:[{type:"account",value:t[1].issuer,arg:"account"}]});break;case"nonfungible_update":i=a.createElement(k.a,{string:"operation.nonfungible_update",keys:[{type:"account",value:t[1].issuer,arg:"account"}]});break;case"nonfungible_issue":i=a.createElement(k.a,{string:"operation.nonfungible_issue",keys:[{type:"account",value:t[1].issuer,arg:"from"},{type:"account",value:t[1].issue_to_account,arg:"to"},{type:"nft",value:t[1].nonfungible_to_issue,arg:"nft"}]});break;case"nonfungible_transfer":i=a.createElement(k.a,{string:"operation.nonfungible_transfer",keys:[{type:"account",value:t[1].from,arg:"from"},{type:"account",value:t[1].to,arg:"to"},{type:"nft",value:t[1].token_id,arg:"nft"}]});break;case"nonfungible_reserve":i=a.createElement(k.a,{string:"operation.nonfungible_reserve",keys:[{type:"account",value:t[1].owner,arg:"account"}]});break;case"nonfungible_sell":i=a.createElement(k.a,{string:"operation.nonfungible_sell",keys:[{type:"account",value:t[1].seller,arg:"seller"},{type:"amount",value:t[1].min_to_receive,arg:"price"},{type:"nft",value:t[1].token_id,arg:"nft"}]});break;case"nonfungible_cancel_sell":i=a.createElement(k.a,{string:"operation.nonfungible_cancel_sell",keys:[{type:"account",value:t[1].seller,arg:"seller"},{type:"nft",value:t[1].token_id,arg:"nft"}]});break;case"nonfungible_buy":i=a.createElement(k.a,{string:"operation.nonfungible_buy",keys:[{type:"account",value:t[1].buyer,arg:"buyer"},{type:"amount",value:t[1].pay,arg:"price"},{type:"other",value:t[1].min_to_receive,arg:"receive"},{type:"nft",value:t[1].token_id,arg:"nft"}]});break;default:console.log("unimplemented op:",t,q[t[0]],q),i=a.createElement("span",null,a.createElement(s.a,{to:"/block/"+r},"#",r))}if(this.props.csvExportMode){var v=w.b.getObject("2.0.0"),_=w.b.getObject("2.1.0"),E=m.a.calc_block_time(r,v,_);return a.createElement("div",null,a.createElement("div",null,E?E.toLocaleString():""),a.createElement("div",null,q[t[0]]),a.createElement("div",null,i),l&&a.createElement("div",null,l),a.createElement("div",null,a.createElement(o.a,{amount:parseInt(t[1].fee.amount,10),asset:t[1].fee.asset_id})))}return(i?a.createElement(V,{block:r,type:t[0],color:c,fee:t[1].fee,hideOpLabel:this.props.hideOpLabel,hideDate:this.props.hideDate,info:i,hideFee:this.props.hideFee}):null)||a.createElement("tr",null)}}]),t}();J.defaultProps={op:[],current:"",block:null,hideOpLabel:!1,csvExportMode:!1},J.propTypes={op:r.array.isRequired,current:r.string,block:r.number,csvExportMode:r.bool},J=Object(T.connect)(J,{listenTo:function(){return[P.b]},getProps:function(){return{marketDirections:P.b.getState().marketDirections}}});var W;t.a=J},1300:function(e,t,n){"use strict";var a=n(31),r=n(5),o=n.n(r),s=n(9),i=n(1278),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var c=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.assets=o.a.Map(),e.asset_symbol_to_id={},e.searchTerms={},e.lookupResults=[],e.assetsLoading=!1,e.bindListeners({onGetAssetList:i.a.getAssetList,onLookupAsset:i.a.lookupAsset}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["a"]),l(t,[{key:"onGetAssetList",value:function(e){var t=this;if(!e)return!1;this.assetsLoading=e.loading,e.assets&&e.assets.forEach(function(n){for(var a=0;a<e.dynamic.length;a++)if(e.dynamic[a].id===n.dynamic_asset_data_id){n.dynamic=e.dynamic[a];break}if(n.bitasset_data_id){n.market_asset=!0;for(a=0;a<e.bitasset_data.length;a++)if(e.bitasset_data[a].id===n.bitasset_data_id){n.bitasset_data=e.bitasset_data[a];break}}else n.market_asset=!1;t.assets=t.assets.set(n.id,n),t.asset_symbol_to_id[n.symbol]=n.id})}},{key:"onLookupAsset",value:function(e){this.searchTerms[e.searchID]=e.symbol,this.lookupResults=e.assets}}]),t}();t.a=s.a.createStore(c,"AssetStore")},1435:function(e,t,n){"use strict";var a=n(0),r=n(3),o=n(23),s=n(54),i=n.n(s),l=n(235),c=n(148),u=n(2),p=n.n(u),d=n(19),m=n(40),h=n(80),f=n(17),b=n(28),g=n.n(b),y=n(1280),v=n(287),_=n(133),E=n(10),k=n(286),w=n(13),A=n.n(w),O=n(288),C=n(5),S=n.n(C),x=n(1),T=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function P(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function D(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function N(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var j=function(e){function t(e){P(this,t);var n=D(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.state=n._initialState(e),n}return N(t,a["Component"]),T(t,[{key:"_initialState",value:function(e){var t=e?this._getCurrentPosition(e):{};if(t.collateral){var n=f.a.get_asset_amount(t.debt,e.quote_asset),a=f.a.get_asset_amount(t.collateral,e.backing_asset);return{short_amount:n?n.toString():null,collateral:a?a.toString():null,collateral_ratio:this._getCollateralRatio(n,a),errors:this._getInitialErrors(),isValid:!1,original_position:{debt:n,collateral:a}}}return{short_amount:0,collateral:0,collateral_ratio:this._getInitialCollateralRatio(e),errors:this._getInitialErrors(),isValid:!1,original_position:{debt:0,collateral:0}}}},{key:"componentDidMount",value:function(){var e=this._initialState(this.props);this.setState(e),this._setUpdatedPosition(e)}},{key:"shouldComponentUpdate",value:function(e,t){return!(f.a.are_equal_shallow(t,this.state)&&S.a.is(e.quote_asset,this.props.quote_asset)&&!e.backing_asset.get("symbol")!==this.props.backing_asset.get("symbol")&&S.a.is(e.account,this.props.account)&&S.a.is(e.call_orders,this.props.call_orders))}},{key:"componentWillReceiveProps",value:function(e){e.account===this.props.account&&e.hasCallOrders===this.props.hasCallOrders&&e.quote_asset.get("id")===this.props.quote_asset.get("id")||this.setState(this._initialState(e))}},{key:"_getInitialErrors",value:function(){return{collateral_balance:null,ratio_too_high:null}}},{key:"confirmClicked",value:function(e){e.preventDefault(),i.a.publish(this.props.modalId,"close")}},{key:"_onBorrowChange",value:function(e){var t=this._getFeedPrice(),n=e.amount.replace(/,/g,""),a={short_amount:n,collateral:(this.state.collateral_ratio*(n/t)).toFixed(this.props.backing_asset.get("precision")),collateral_ratio:this.state.collateral_ratio};this.setState(a),this._validateFields(a),this._setUpdatedPosition(a)}},{key:"_onCollateralChange",value:function(e){var t=e.amount.replace(/,/g,""),n=this._getFeedPrice(),a=t/(this.state.short_amount/n),r=this._isPredictionMarket(this.props)?{short_amount:t,collateral:t,collateral_ratio:1}:{short_amount:this.state.short_amount,collateral:t,collateral_ratio:Object(o.isFinite)(a)?a:this._getInitialCollateralRatio(this.props)};this.setState(r),this._validateFields(r),this._setUpdatedPosition(r)}},{key:"_onRatioChange",value:function(e){var t=this._getFeedPrice(),n=e.target.value,a={short_amount:this.state.short_amount,collateral:(this.state.short_amount/t*n).toFixed(this.props.backing_asset.get("precision")),collateral_ratio:n};this.setState(a),this._validateFields(a),this._setUpdatedPosition(a)}},{key:"_setUpdatedPosition",value:function(e){this.setState({newPosition:parseFloat(e.short_amount)/parseFloat(e.collateral)})}},{key:"_validateFields",value:function(e){var t=this._getInitialErrors(),n=this.state.original_position,a=this.props.backing_balance?this.props.backing_balance.toJS():{balance:0};parseFloat(e.collateral)-n.collateral>f.a.get_asset_amount(a.balance,this.props.backing_asset.toJS())&&(t.collateral_balance=A.a.translate("borrow.errors.collateral"));var r=e.short_amount>=0&&e.collateral>=0&&(e.short_amount!=n.debt||e.collateral!=n.collateral),o=this.props.quote_asset.getIn(["bitasset","current_feed","maintenance_collateral_ratio"])/1e3;parseFloat(e.collateral_ratio)<(this._isPredictionMarket(this.props)?1:o)?(t.below_maintenance=A.a.translate("borrow.errors.below",{mr:o}),r=!1):parseFloat(e.collateral_ratio)<(this._isPredictionMarket(this.props)?1:o+.5)&&(t.close_maintenance=A.a.translate("borrow.errors.close",{mr:o}),r=!0),this.setState({errors:t,isValid:r})}},{key:"_onSubmit",value:function(e){e.preventDefault();var t=f.a.get_asset_precision(this.props.quote_asset.get("precision")),n=f.a.get_asset_precision(this.props.backing_asset.get("precision")),a=this._getCurrentPosition(this.props),r=_.a.new_transaction();r.add_type_operation("call_order_update",{fee:{amount:0,asset_id:0},funding_account:this.props.account.get("id"),delta_collateral:{amount:parseInt(this.state.collateral*n-a.collateral,10),asset_id:this.props.backing_asset.get("id")},delta_debt:{amount:parseInt(this.state.short_amount*t-a.debt,10),asset_id:this.props.quote_asset.get("id")}}),E.a.process_transaction(r,null,!0).catch(function(e){}),i.a.publish(this.props.modalId,"close")}},{key:"_getCurrentPosition",value:function(e){var t={collateral:null,debt:null};if(e&&e.hasCallOrders&&e.call_orders)for(var n in e.call_orders)e.call_orders.hasOwnProperty(n)&&e.call_orders[n]&&e.quote_asset.get("id")===e.call_orders[n].getIn(["call_price","quote","asset_id"])&&(t=e.call_orders[n].toJS());return t}},{key:"_getFeedPrice",value:function(){return this.props?this._isPredictionMarket(this.props)?1:1/f.a.get_asset_price(this.props.quote_asset.getIn(["bitasset","current_feed","settlement_price","quote","amount"]),this.props.backing_asset,this.props.quote_asset.getIn(["bitasset","current_feed","settlement_price","base","amount"]),this.props.quote_asset):1}},{key:"_getInitialCollateralRatio",value:function(e){return this._isPredictionMarket(e)?1:0}},{key:"_getCollateralRatio",value:function(e,t){return t/(e/this._getFeedPrice())}},{key:"_isPredictionMarket",value:function(e){return e.quote_asset.getIn(["bitasset","is_prediction_market"])}},{key:"render",value:function(){var e=this,t=this.props,n=t.quote_asset,r=t.bitasset_balance,o=t.backing_asset,s=t.backing_balance,i=this.state,l=i.short_amount,u=i.collateral,d=i.collateral_ratio,m=i.errors,b=i.isValid,_=f.a.get_asset_precision(this.props.quote_asset.get("precision")),E=f.a.get_asset_precision(this.props.backing_asset.get("precision"));d&&!isNaN(d)&&d>0&&d<1e3||(d=0),r=r?r.toJS():{balance:0,id:null},s=s?s.toJS():{balance:0,id:null};var w=g()("form-group",{"has-error":m.collateral_balance}),C=g()("form-group",{"has-error":m.below_maintenance},{"has-warning":m.close_maintenance}),S=g()("button",{disabled:m.collateral_balance||!b},{success:b}),T=this._getCurrentPosition(this.props),P=s.id?x.b.getObject(s.id):null,D=(P?P.get("balance"):0)-parseInt(this.state.collateral*E-T.collateral,10),N=a.createElement("span",null,a.createElement(p.a,{component:"span",content:"transfer.available"}),":"," ",r.id?a.createElement(v.a,{balance:r.id}):a.createElement(h.a,{amount:0,asset:n.get("id")})),j=a.createElement("span",null,a.createElement(p.a,{component:"span",content:"transfer.available"}),":"," ",s.id?a.createElement(h.a,{amount:D,asset:o.get("id")}):a.createElement(h.a,{amount:0,asset:o.get("id")})),I=this._getFeedPrice(),F=this.props.quote_asset.getIn(["bitasset","current_feed","maintenance_collateral_ratio"])/1e3,M=this.props.quote_asset.getIn(["bitasset","current_feed","maximum_short_squeeze_ratio"])/1e3,R=this._isPredictionMarket(this.props);return!R&&isNaN(I)?a.createElement("div",null,a.createElement("form",{className:"grid-container text-center no-overflow",noValidate:!0},a.createElement(p.a,{component:"h3",content:"borrow.no_valid",asset_symbol:n.get("symbol")})),a.createElement("div",{className:"grid-content button-group text-center no-overflow"},a.createElement(c.a,{close:this.props.modalId},a.createElement("div",{className:" button warning"},a.createElement(p.a,{content:"account.perm.cancel"}))))):a.createElement("div",null,a.createElement("form",{className:"grid-container small-10 small-offset-1 no-overflow",noValidate:!0},a.createElement(p.a,{component:"h3",content:"borrow.title",asset_symbol:n.get("symbol")}),a.createElement("div",{style:{textAlign:"left"}},this.props.hide_help?null:a.createElement(O.a,{path:"components/"+(R?"BorrowModalPrediction":"BorrowModal"),debt:n.get("symbol"),collateral:o.get("symbol"),borrower:this.props.account.get("name"),mr:F}),R?null:a.createElement("div",{style:{paddingBottom:"1rem"}},a.createElement("div",{className:"borrow-price-feeds"},a.createElement("span",{className:"borrow-price-label"},a.createElement(p.a,{content:"transaction.feed_price"}),": "),a.createElement(k.a,{noPopOver:!0,quote_amount:n.getIn(["bitasset","current_feed","settlement_price","base","amount"]),quote_asset:n.getIn(["bitasset","current_feed","settlement_price","base","asset_id"]),base_asset:n.getIn(["bitasset","current_feed","settlement_price","quote","asset_id"]),base_amount:n.getIn(["bitasset","current_feed","settlement_price","quote","amount"])})),a.createElement("div",{className:"borrow-price-feeds"},a.createElement("span",{className:"inline-block tooltip borrow-price-label","data-place":"bottom","data-tip":A.a.translate("tooltip.margin_price")},a.createElement(p.a,{content:"exchange.squeeze"}),": "),a.createElement(k.a,{decimals:2,callPrice:!0,noPopOver:!0,quote_amount:n.getIn(["bitasset","current_feed","settlement_price","base","amount"]),quote_asset:n.getIn(["bitasset","current_feed","settlement_price","base","asset_id"]),base_asset:n.getIn(["bitasset","current_feed","settlement_price","quote","asset_id"]),base_amount:M*n.getIn(["bitasset","current_feed","settlement_price","quote","amount"])})),a.createElement("b",null),a.createElement("div",{className:"borrow-price-final "+(m.below_maintenance?"has-error":m.close_maintenance?"has-warning":"")},a.createElement("span",{className:"borrow-price-label"},a.createElement(p.a,{content:"exchange.your_price"}),": "),this.state.newPosition?a.createElement(k.a,{noPopOver:!0,quote_amount:F*this.state.short_amount*_,quote_asset:n.get("id"),base_asset:o.get("id"),base_amount:this.state.collateral*E}):null)),a.createElement("div",{className:"form-group"},a.createElement(y.a,{label:"transaction.borrow_amount",amount:l.toString(),onChange:this._onBorrowChange.bind(this),asset:n.get("id"),assets:[n.get("id")],display_balance:N,placeholder:"0.0",tabIndex:1})),a.createElement("div",{className:w},a.createElement(y.a,{label:"transaction.collateral",amount:u.toString(),onChange:this._onCollateralChange.bind(this),asset:o.get("id"),assets:[o.get("id")],display_balance:j,placeholder:"0.0",tabIndex:1}),m.collateral_balance?a.createElement("div",{style:{paddingTop:"0.5rem"}},m.collateral_balance):null),R?null:a.createElement("div",{className:C},a.createElement(p.a,{component:"label",content:"borrow.coll_ratio"}),a.createElement("input",{min:"0",max:"6",step:"0.05",onChange:this._onRatioChange.bind(this),value:d,type:"range",disabled:!l}),a.createElement("div",{className:"inline-block"},f.a.format_number(d,2)),m.below_maintenance||m.close_maintenance?a.createElement("div",{style:{maxWidth:"calc(100% - 50px)"},className:"float-right"},m.below_maintenance,m.close_maintenance):null),a.createElement("div",{className:"no-padding grid-content button-group no-overflow"},a.createElement("div",{onClick:this._onSubmit.bind(this),href:!0,className:S},a.createElement(p.a,{content:"borrow.adjust"})),a.createElement("div",{onClick:function(t){t.preventDefault(),e.setState(e._initialState(e.props))},href:!0,className:"button info"},a.createElement(p.a,{content:"wallet.reset"}))))))}}]),t}();j.propTypes={quote_asset:d.a.ChainAsset.isRequired,bitasset_balance:d.a.ChainObject,backing_asset:d.a.ChainAsset.isRequired,backing_balance:d.a.ChainObject,call_orders:d.a.ChainObjectsList,hasCallOrders:r.bool},j=Object(m.a)(j,{keep_updating:!0});var I=function(e){function t(){P(this,t);var e=D(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={smallScreen:!1},e}return N(t,a["Component"]),T(t,[{key:"show",value:function(){var e="borrow_modal_"+this.props.quote_asset;i.a.publish(e,"open")}},{key:"componentWillMount",value:function(){this.setState({smallScreen:window.innerHeight<=800})}},{key:"render",value:function(){var e=this.props,t=e.quote_asset,n=e.backing_asset,r=e.account,o="borrow_modal_"+t,s=r.get("balances").toJS(),i=void 0,c=void 0;if(s)for(var u in s)u===n&&(i=s[u]),u===t&&(c=s[u]);return a.createElement(l.a,{id:o,overlay:!0,ref:o},a.createElement("div",{className:"grid-block vertical"},a.createElement(j,{quote_asset:t,call_orders:r.get("call_orders"),hasCallOrders:r.get("call_orders")&&r.get("call_orders").size>0,modalId:o,bitasset_balance:c,backing_balance:i,backing_asset:n,hide_help:this.state.smallScreen,account:r})))}}]),t}();t.a=I},1459:function(e,t,n){"use strict";n.r(t),n.d(t,"Notification",function(){return r});var a=n(0),r=a.createClass({displayName:"Notification",getDefaultProps:function(){return{position:"top-right",color:"success",title:null,image:null,content:null,wrapperElement:"p"}},render:function(){var e="notification "+this.props.position+" "+this.props.color;e+=" "+(this.props.className||"");var t=null;return this.props.image&&(t=a.createElement("div",{className:"notification-icon"},a.createElement("img",{src:"{{ image }}"}))),a.createElement("div",{id:this.props.id,"data-closable":!0,className:e},a.createElement("a",{href:"#",className:"close-button",onClick:this.props.closeHandler},"×"),t,a.createElement("div",{className:"notification-content"},a.createElement("h1",null,this.props.title),a.createElement(this.props.wrapperElement,null,this.props.children)))}});t.default=r},1464:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var a=n(0),r=(n(3),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var c=function(e){function t(){return s(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,a["Component"]),o(t,[{key:"onKeyPress",value:function(e){"."===e.key&&""===e.target.value&&(e.target.value="0");var t=e.target.value+e.key,n=t.match(/\./g),a=n?n.length:0;"."===e.key&&a>1&&e.preventDefault(),parseFloat(t)!=t&&e.preventDefault(),this.props.onKeyPress&&this.props.onKeyPress(e)}}]),t}(),u=function(e){function t(){return s(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return l(t,c),o(t,[{key:"componentWillReceiveProps",value:function(e){this.props.value&&!e.value&&(this.refs.input.value="")}},{key:"render",value:function(){return a.createElement("input",r({ref:"input",type:"text"},this.props,{onKeyPress:this.onKeyPress.bind(this)}))}}]),t}();t.b=u},1465:function(e,t,n){"use strict";var a=n(10),r=n(55),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var s=new r.a("__cyb__"),i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.current_blocktrades_address_cache_version_string="2"}return o(e,[{key:"getIndexForDepositKeyInExchange",value:function(e,t,n){return[this.current_blocktrades_address_cache_version_string,e,t,n].reduce(function(e,t){return e.concat("[",t,"]")},"")}},{key:"getCachedInputAddress",value:function(e,t,n,r){a.a.getWallet();var o=this.getIndexForDepositKeyInExchange(t,n,r),i=s.get("deposit_keys",{});i[e]=i[e]||{},i[e][o]=i[e][o]||[];var l=i[e][o].length;return l?i[e][o][l-1]:null}},{key:"cacheInputAddress",value:function(e,t,n,r,o,i){if(o){a.a.getWallet();null;var l=this.getIndexForDepositKeyInExchange(t,n,r),c=s.get("deposit_keys",{});c[e]=c[e]||{},c[e][l]=c[e][l]||[],c[e][l].push({address:o,memo:i}),s.set("deposit_keys",c)}}}]),e}();t.a=i},1466:function(e,t,n){"use strict";n.d(t,"d",function(){return s}),n.d(t,"c",function(){return i}),n.d(t,"b",function(){return l}),n.d(t,"e",function(){return u}),n.d(t,"f",function(){return p}),n.d(t,"a",function(){return d});var a=n(55),r=n(88),o=new a.a("");function s(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r.b.BASE+r.b.DEPOSIT_LIMIT;return fetch(n+"?inputCoinType="+encodeURIComponent(e)+"&outputCoinType="+encodeURIComponent(t),{method:"get",headers:new Headers({Accept:"application/json"})}).then(function(e){return e.json().then(function(e){return e})}).catch(function(n){console.log("error fetching deposit limit of",e,t,n)})}function i(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:r.b.BASE+r.b.ESTIMATE_OUTPUT;return fetch(a+"?inputAmount="+encodeURIComponent(e)+"&inputCoinType="+encodeURIComponent(t)+"&outputCoinType="+encodeURIComponent(n),{method:"get",headers:new Headers({Accept:"application/json"})}).then(function(e){return e.json().then(function(e){return e})}).catch(function(e){console.log("error fetching deposit limit of",t,n,e)})}function l(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:r.b.BASE+r.b.ESTIMATE_INPUT;return fetch(a+"?outputAmount="+encodeURIComponent(e)+"&inputCoinType="+encodeURIComponent(t)+"&outputCoinType="+encodeURIComponent(n),{method:"get",headers:new Headers({Accept:"application/json"})}).then(function(e){return e.json().then(function(e){return e})}).catch(function(e){console.log("error fetching deposit limit of",t,n,e)})}var c={};function u(e){var t=e.inputCoinType,n=e.outputCoinType,a=e.outputAddress,o=e.url,s=void 0===o?r.b.BASE_OL:o,i=e.stateCallback,l={inputCoinType:t,outputCoinType:n,outputAddress:a},u=JSON.stringify(l);c[u]||(c[u]=!0,fetch(s+"/simple-api/initiate-trade",{method:"post",headers:new Headers({Accept:"application/json","Content-Type":"application/json"}),body:u}).then(function(e){e.json().then(function(e){delete c[u];var t={address:e.inputAddress||"unknown",memo:e.inputMemo,error:e.error||null};i&&i(t)},function(e){delete c[u],i&&i(null)})},function(e){delete c[u],i&&i(null)}).catch(function(e){console.log("fetch error:",e),delete c[u]}))}function p(e){var t=e.url,n=void 0===t?r.b.BASE:t,a=e.walletType,o=e.newAddress;return o?fetch(n+"/wallets/"+a+"/address-validator?address="+encodeURIComponent(o),{method:"get",headers:new Headers({Accept:"application/json"})}).then(function(e){return e.json().then(function(e){return e.isValid})}).catch(function(e){console.log("validate error:",e)}):new Promise(function(e){return e()})}var d={has:function(e){return o.has("history_address_"+e)},set:function(e){var t=e.wallet,n=e.addresses;o.set("history_address_"+t,n)},get:function(e){return o.get("history_address_"+e,[])},setLast:function(e){var t=e.wallet,n=e.address;o.set("history_address_last_"+t,n)},getLast:function(e){return o.get("history_address_last_"+e,"")}}},1467:function(e,t){e.exports=function(){return navigator.languages&&navigator.languages.length?navigator.languages[0]:navigator.userLanguage?navigator.userLanguage:navigator.language}},1474:function(e,t,n){"use strict";var a=function(e){for(var t,n=e.length,a=n^n,r=0;n>=4;)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+((1540483477*(t>>>16)&65535)<<16),a=1540483477*(65535&a)+((1540483477*(a>>>16)&65535)<<16)^(t=1540483477*(65535&(t^=t>>>24))+((1540483477*(t>>>16)&65535)<<16)),n-=4,++r;switch(n){case 3:a^=(255&e.charCodeAt(r+2))<<16;case 2:a^=(255&e.charCodeAt(r+1))<<8;case 1:a=1540483477*(65535&(a^=255&e.charCodeAt(r)))+((1540483477*(a>>>16)&65535)<<16)}return a=1540483477*(65535&(a^=a>>>13))+((1540483477*(a>>>16)&65535)<<16),((a^=a>>>15)>>>0).toString(36)},r=function e(t){function n(e,t,n){var r=t.trim().split(f);t=r;var o=r.length,s=e.length;switch(s){case 0:case 1:var i=0;for(e=0===s?"":e[0]+" ";i<o;++i)t[i]=a(e,t[i],n).trim();break;default:var l=i=0;for(t=[];i<o;++i)for(var c=0;c<s;++c)t[l++]=a(e[c]+" ",r[i],n).trim()}return t}function a(e,t,n){var a=t.charCodeAt(0);switch(33>a&&(a=(t=t.trim()).charCodeAt(0)),a){case 38:return t.replace(b,"$1"+e.trim());case 58:switch(t.charCodeAt(1)){case 103:break;default:return e.trim()+t.replace(b,"$1"+e.trim())}default:if(0<1*n&&0<t.indexOf("\f"))return t.replace(b,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function r(e,t,n,a){var s=e+";",i=2*t+3*n+4*a;if(944===i){e=s.indexOf(":",9)+1;var l=s.substring(e,s.length-1).trim();return l=s.substring(0,e).trim()+l+";",1===T||2===T&&o(l,1)?"-webkit-"+l+l:l}if(0===T||2===T&&!o(s,1))return s;switch(i){case 1015:return 97===s.charCodeAt(10)?"-webkit-"+s+s:s;case 951:return 116===s.charCodeAt(3)?"-webkit-"+s+s:s;case 963:return 110===s.charCodeAt(5)?"-webkit-"+s+s:s;case 1009:if(100!==s.charCodeAt(4))break;case 969:case 942:return"-webkit-"+s+s;case 978:return"-webkit-"+s+"-moz-"+s+s;case 1019:case 983:return"-webkit-"+s+"-moz-"+s+"-ms-"+s+s;case 883:return 45===s.charCodeAt(8)?"-webkit-"+s+s:s;case 932:if(45===s.charCodeAt(4))switch(s.charCodeAt(5)){case 103:return"-webkit-box-"+s.replace("-grow","")+"-webkit-"+s+"-ms-"+s.replace("grow","positive")+s;case 115:return"-webkit-"+s+"-ms-"+s.replace("shrink","negative")+s;case 98:return"-webkit-"+s+"-ms-"+s.replace("basis","preferred-size")+s}return"-webkit-"+s+"-ms-"+s+s;case 964:return"-webkit-"+s+"-ms-flex-"+s+s;case 1023:if(99!==s.charCodeAt(8))break;return"-webkit-box-pack"+(l=s.substring(s.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+s+"-ms-flex-pack"+l+s;case 1005:return m.test(s)?s.replace(d,":-webkit-")+s.replace(d,":-moz-")+s:s;case 1e3:switch(t=(l=s.substring(13).trim()).indexOf("-")+1,l.charCodeAt(0)+l.charCodeAt(t)){case 226:l=s.replace(_,"tb");break;case 232:l=s.replace(_,"tb-rl");break;case 220:l=s.replace(_,"lr");break;default:return s}return"-webkit-"+s+"-ms-"+l+s;case 1017:if(-1===s.indexOf("sticky",9))break;case 975:switch(t=(s=e).length-10,i=(l=(33===s.charCodeAt(t)?s.substring(0,t):s).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|l.charCodeAt(7))){case 203:if(111>l.charCodeAt(8))break;case 115:s=s.replace(l,"-webkit-"+l)+";"+s;break;case 207:case 102:s=s.replace(l,"-webkit-"+(102<i?"inline-":"")+"box")+";"+s.replace(l,"-webkit-"+l)+";"+s.replace(l,"-ms-"+l+"box")+";"+s}return s+";";case 938:if(45===s.charCodeAt(5))switch(s.charCodeAt(6)){case 105:return"-webkit-"+s+"-webkit-box-"+(l=s.replace("-items",""))+"-ms-flex-"+l+s;case 115:return"-webkit-"+s+"-ms-flex-item-"+s.replace(w,"")+s;default:return"-webkit-"+s+"-ms-flex-line-pack"+s.replace("align-content","").replace(w,"")+s}break;case 973:case 989:if(45!==s.charCodeAt(3)||122===s.charCodeAt(4))break;case 931:case 953:if(!0===O.test(e))return 115===(l=e.substring(e.indexOf(":")+1)).charCodeAt(0)?r(e.replace("stretch","fill-available"),t,n,a).replace(":fill-available",":stretch"):s.replace(l,"-webkit-"+l)+s.replace(l,"-moz-"+l.replace("fill-",""))+s;break;case 962:if(s="-webkit-"+s+(102===s.charCodeAt(5)?"-ms-"+s:"")+s,211===n+a&&105===s.charCodeAt(13)&&0<s.indexOf("transform",10))return s.substring(0,s.indexOf(";",27)+1).replace(h,"$1-webkit-$2")+s}return s}function o(e,t){var n=e.indexOf(1===t?":":"{"),a=e.substring(0,3!==t?n:10);return n=e.substring(n+1,e.length-1),j(2!==t?a:a.replace(A,"$1"),n,t)}function s(e,t){var n=r(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(k," or ($1)").substring(4):"("+t+")"}function i(e,t,n,a,r,o,s,i,l,u){for(var p,d=0,m=t;d<N;++d)switch(p=D[d].call(c,e,m,n,a,r,o,s,i,l,u)){case void 0:case!1:case!0:case null:break;default:m=p}switch(m){case void 0:case!1:case!0:case null:case t:break;default:return m}}function l(e){for(var t in e){var n=e[t];switch(t){case"prefix":j=null,n?"function"!=typeof n?T=1:(T=2,j=n):T=0}}return l}function c(t,a){if(void 0!==this&&this.constructor===c)return e(t);var l=t;if(33>l.charCodeAt(0)&&(l=l.trim()),l=[l],0<N){var d=i(-1,a,l,l,S,C,0,0,0,0);void 0!==d&&"string"==typeof d&&(a=d)}var m=function e(t,a,l,c,d){for(var m,h,f,b,_,k,w=0,A=0,O=0,D=0,j=0,F=0,M=b=m=0,R=0,B=h=0,q=0,L=l.length,U=L-1,V="",J="",W="",H="";R<L;){if(f=l.charCodeAt(R),R===U&&0!==A+D+O+w&&(0!==A&&(f=47===A?10:47),D=O=w=0,L++,U++),0===A+D+O+w){if(R===U&&(0<h&&(V=V.replace(p,"")),0<V.trim().length)){switch(f){case 32:case 9:case 59:case 13:case 10:break;default:V+=l.charAt(R)}f=59}switch(f){case 123:for(m=(V=V.trim()).charCodeAt(0),b=1,q=++R;R<L;){switch(f=l.charCodeAt(R)){case 123:b++;break;case 125:b--}if(0===b)break;R++}switch(f=l.substring(q,R),0===m&&(m=(V=V.replace(u,"").trim()).charCodeAt(0)),m){case 64:switch(0<h&&(V=V.replace(p,"")),h=V.charCodeAt(1)){case 100:case 109:case 115:case 45:b=a;break;default:b=P}if(q=(f=e(a,b,f,h,d+1)).length,0<N&&(k=i(3,f,b=n(P,V,B),a,S,C,q,h,d,c),V=b.join(""),void 0!==k&&0===(q=(f=k.trim()).length)&&(h=0,f="")),0<q)switch(h){case 115:V=V.replace(E,s);case 100:case 109:case 45:f=V+"{"+f+"}";break;case 107:f=(V=V.replace(g,"$1 $2"))+"{"+f+"}",f=1===T||2===T&&o("@"+f,3)?"@-webkit-"+f+"@"+f:"@"+f;break;default:f=V+f,112===c&&(J+=f,f="")}else f="";break;default:f=e(a,n(a,V,B),f,c,d+1)}W+=f,b=B=h=M=m=0,V="",f=l.charCodeAt(++R);break;case 125:case 59:if(1<(q=(V=(0<h?V.replace(p,""):V).trim()).length))switch(0===M&&(m=V.charCodeAt(0),45===m||96<m&&123>m)&&(q=(V=V.replace(" ",":")).length),0<N&&void 0!==(k=i(1,V,a,t,S,C,J.length,c,d,c))&&0===(q=(V=k.trim()).length)&&(V="\0\0"),m=V.charCodeAt(0),h=V.charCodeAt(1),m+h){case 0:break;case 169:case 163:H+=V+l.charAt(R);break;default:58!==V.charCodeAt(q-1)&&(J+=r(V,m,h,V.charCodeAt(2)))}B=h=M=m=0,V="",f=l.charCodeAt(++R)}}switch(f){case 13:case 10:47===A?A=0:0===1+m&&(h=1,V+="\0"),0<N*I&&i(0,V,a,t,S,C,J.length,c,d,c),C=1,S++;break;case 59:case 125:if(0===A+D+O+w){C++;break}default:switch(C++,_=l.charAt(R),f){case 9:case 32:if(0===D+w+A)switch(j){case 44:case 58:case 9:case 32:_="";break;default:32!==f&&(_=" ")}break;case 0:_="\\0";break;case 12:_="\\f";break;case 11:_="\\v";break;case 38:0===D+A+w&&(h=B=1,_="\f"+_);break;case 108:if(0===D+A+w+x&&0<M)switch(R-M){case 2:112===j&&58===l.charCodeAt(R-3)&&(x=j);case 8:111===F&&(x=F)}break;case 58:0===D+A+w&&(M=R);break;case 44:0===A+O+D+w&&(h=1,_+="\r");break;case 34:case 39:0===A&&(D=D===f?0:0===D?f:D);break;case 91:0===D+A+O&&w++;break;case 93:0===D+A+O&&w--;break;case 41:0===D+A+w&&O--;break;case 40:if(0===D+A+w){if(0===m)switch(2*j+3*F){case 533:break;default:m=1}O++}break;case 64:0===A+O+D+w+M+b&&(b=1);break;case 42:case 47:if(!(0<D+w+O))switch(A){case 0:switch(2*f+3*l.charCodeAt(R+1)){case 235:A=47;break;case 220:q=R,A=42}break;case 42:47===f&&42===j&&(33===l.charCodeAt(q+2)&&(J+=l.substring(q,R+1)),_="",A=0)}}0===A&&(V+=_)}F=j,j=f,R++}if(0<(q=J.length)){if(b=a,0<N&&void 0!==(k=i(2,J,b,t,S,C,q,c,d,c))&&0===(J=k).length)return H+J+W;if(J=b.join(",")+"{"+J+"}",0!=T*x){switch(2!==T||o(J,2)||(x=0),x){case 111:J=J.replace(v,":-moz-$1")+J;break;case 112:J=J.replace(y,"::-webkit-input-$1")+J.replace(y,"::-moz-$1")+J.replace(y,":-ms-input-$1")+J}x=0}}return H+J+W}(P,l,a,0,0);return 0<N&&void 0!==(d=i(-2,m,l,l,S,C,m.length,0,0,0))&&(m=d),x=0,C=S=1,m}var u=/^\0+/g,p=/[\0\r\f]/g,d=/: */g,m=/zoo|gra/,h=/([,: ])(transform)/g,f=/,\r+?/g,b=/([\t\r\n ])*\f?&/g,g=/@(k\w+)\s*(\S*)\s*/,y=/::(place)/g,v=/:(read-only)/g,_=/[svh]\w+-[tblr]{2}/,E=/\(\s*(.*)\s*\)/g,k=/([\s\S]*?);/g,w=/-self|flex-/g,A=/[^]*?(:[rp][el]a[\w-]+)[^]*/,O=/stretch|:\s*\w+\-(?:conte|avail)/,C=1,S=1,x=0,T=1,P=[],D=[],N=0,j=null,I=0;return c.use=function e(t){switch(t){case void 0:case null:N=D.length=0;break;default:switch(t.constructor){case Array:for(var n=0,a=t.length;n<a;++n)e(t[n]);break;case Function:D[N++]=t;break;case Boolean:I=0|!!t}}return e},c.set=l,void 0!==t&&l(t),c},o=n(1521),s=n.n(o);var i={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},l=/[A-Z]|^ms/g,c=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}(function(e){return e.replace(l,"-$&").toLowerCase()}),u=function(e,t){return null==t||"boolean"==typeof t?"":1===i[e]||45===e.charCodeAt(1)||isNaN(t)||0===t?t:t+"px"},p=function e(t){for(var n=t.length,a=0,r="";a<n;a++){var o=t[a];if(null!=o){var s=void 0;switch(typeof o){case"boolean":break;case"function":s=e([o()]);break;case"object":if(Array.isArray(o))s=e(o);else for(var i in s="",o)o[i]&&i&&(s&&(s+=" "),s+=i);break;default:s=o}s&&(r&&(r+=" "),r+=s)}}return r},d="undefined"!=typeof document;function m(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key||""),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),(void 0!==e.container?e.container:document.head).appendChild(t),t}function h(e){this.isSpeedy=!0,this.tags=[],this.ctr=0,this.opts=e}function f(){if(this.injected)throw new Error("already injected!");this.tags[0]=m(this.opts),this.injected=!0}function b(e){if(0!==this.ctr)throw new Error("cannot change speedy now");this.isSpeedy=!!e}function g(e,t){if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(this.tags[this.tags.length-1]);try{n.insertRule(e,n.cssRules.length)}catch(e){0}}else{var a=m(this.opts);this.tags.push(a),a.appendChild(document.createTextNode(e+(t||"")))}this.ctr++,this.ctr%65e3==0&&this.tags.push(m(this.opts))}function y(e){return e.parentNode.removeChild(e)}function v(){this.tags.forEach(y),this.tags=[],this.ctr=0,this.injected=!1}var _=function(){var e=h.prototype;return e.inject=f,e.speedy=b,e.insert=g,e.flush=v,h}();t.a=function(e,t){if(void 0!==e.__SECRET_EMOTION__)return e.__SECRET_EMOTION__;void 0===t&&(t={});var n,o,i=t.key||"css",l=s()(function(e){n+=e,d&&h.insert(e,b)});void 0!==t.prefix&&(o={prefix:t.prefix});var m={registered:{},inserted:{},nonce:t.nonce,key:i},h=new _(t);d&&h.inject();var f=new r(o);f.use(t.stylisPlugins)(l);var b="";function g(e,t){if(null==e)return"";switch(typeof e){case"boolean":return"";case"function":if(void 0!==e.__emotion_styles){var n=e.toString();return n}return g.call(this,void 0===this?e():e(this.mergedProps,this.context),t);case"object":return function(e){if(E.has(e))return E.get(e);var t="";return Array.isArray(e)?e.forEach(function(e){t+=g.call(this,e,!1)},this):Object.keys(e).forEach(function(n){"object"!=typeof e[n]?void 0!==m.registered[e[n]]?t+=n+"{"+m.registered[e[n]]+"}":t+=c(n)+":"+u(n,e[n])+";":Array.isArray(e[n])&&"string"==typeof e[n][0]&&void 0===m.registered[e[n][0]]?e[n].forEach(function(e){t+=c(n)+":"+u(n,e)+";"}):t+=n+"{"+g.call(this,e[n],!1)+"}"},this),E.set(e,t),t}.call(this,e);default:var a=m.registered[e];return!1===t&&void 0!==a?a:e}}var y,v,E=new WeakMap,k=/label:\s*([^\s;\n{]+)\s*;/g,w=function(e){var t=!0,n="",r="";null==e||void 0===e.raw?(t=!1,n+=g.call(this,e,!1)):n+=e[0];for(var o=arguments.length,s=new Array(o>1?o-1:0),i=1;i<o;i++)s[i-1]=arguments[i];return s.forEach(function(a,r){n+=g.call(this,a,46===n.charCodeAt(n.length-1)),!0===t&&void 0!==e[r+1]&&(n+=e[r+1])},this),v=n,n=n.replace(k,function(e,t){return r+="-"+t,""}),y=a(n+r)+r,n};function A(e,t){void 0===m.inserted[y]&&(n="",f(e,t),m.inserted[y]=n)}var O=function(){var e=w.apply(this,arguments),t=i+"-"+y;return void 0===m.registered[t]&&(m.registered[t]=v),A("."+t,e),t};function C(e,t){var n="";return t.split(" ").forEach(function(t){void 0!==m.registered[t]?e.push(t):n+=t+" "}),n}function S(e,t){var n=[],a=C(n,e);return n.length<2?e:a+O(n,t)}function x(e){m.inserted[e]=!0}if(d){var T=document.querySelectorAll("[data-emotion-"+i+"]");Array.prototype.forEach.call(T,function(e){h.tags[0].parentNode.insertBefore(e,h.tags[0]),e.getAttribute("data-emotion-"+i).split(" ").forEach(x)})}var P={flush:function(){d&&(h.flush(),h.inject()),m.inserted={},m.registered={}},hydrate:function(e){e.forEach(x)},cx:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return S(p(t))},merge:S,getRegisteredStyles:C,injectGlobal:function(){A("",w.apply(this,arguments))},keyframes:function(){var e=w.apply(this,arguments),t="animation-"+y;return A("","@keyframes "+t+"{"+e+"}"),t},css:O,sheet:h,caches:m};return e.__SECRET_EMOTION__=P,P}},1502:function(e,t,n){!function(e){"use strict";function t(e,n){var r=a({},e);for(var o in n)"object"!=typeof e[o]||null===e[o]||Array.isArray(e[o])?void 0!==n[o]&&(r[o]=n[o]):r[o]=t(e[o],n[o]);return r}function n(){return"1.13 (internal id 1c7535a2 @ 2018-10-10 04:58:21.362341)"}var a=Object.assign||function(e){for(var t,n=arguments,a=1,r=arguments.length;a<r;a++)for(var o in t=n[a])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r={mobile:{disabled_features:["left_toolbar","header_widget","timeframes_toolbar","edit_buttons_in_legend","context_menus","control_bar","border_around_the_chart"],enabled_features:[]}},o={width:800,height:500,symbol:"AA",interval:"D",timezone:"Etc/UTC",container_id:"",library_path:"",locale:"en",widgetbar:{details:!1,watchlist:!1,watchlist_settings:{default_symbols:[]}},overrides:{"mainSeriesProperties.showCountdown":!1},studies_overrides:{},brokerConfig:{configFlags:{}},fullscreen:!1,autosize:!1,disabled_features:[],enabled_features:[],debug:!1,logo:{},time_frames:[{text:"5y",resolution:"W"},{text:"1y",resolution:"W"},{text:"6m",resolution:"120"},{text:"3m",resolution:"60"},{text:"1m",resolution:"30"},{text:"5d",resolution:"5"},{text:"1d",resolution:"1"}],client_id:"0",user_id:"0",charts_storage_api_version:"1.0",favorites:{intervals:[],chartTypes:[]}},s=function(){function e(e){if(this._id="tradingview_"+(1048576*(1+Math.random())|0).toString(16).substring(1),this._ready=!1,this._readyHandlers=[],this._onWindowResize=this._autoResizeChart.bind(this),!e.datafeed)throw new Error("Datafeed is not defined");if(this._options=t(o,e),e.preset){var n=r[e.preset];n?(void 0!==this._options.disabled_features?this._options.disabled_features=this._options.disabled_features.concat(n.disabled_features):this._options.disabled_features=n.disabled_features,void 0!==this._options.enabled_features?this._options.enabled_features=this._options.enabled_features.concat(n.enabled_features):this._options.enabled_features=n.enabled_features):console.warn("Unknown preset: `"+e.preset+"`")}"Dark"===this._options.theme&&void 0===this._options.loading_screen&&(this._options.loading_screen={backgroundColor:"#131722"}),this._create()}return e.prototype.onChartReady=function(e){this._ready?e.call(this):this._readyHandlers.push(e)},e.prototype.onGrayedObjectClicked=function(e){this._innerAPI().onGrayedObjectClicked(e)},e.prototype.onShortcut=function(e,t){this._innerWindow().createShortcutAction(e,t)},e.prototype.subscribe=function(e,t){this._innerAPI().subscribe(e,t)},e.prototype.unsubscribe=function(e,t){this._innerAPI().unsubscribe(e,t)},e.prototype.chart=function(e){return this._innerAPI().chart(e)},e.prototype.setLanguage=function(e){this.remove(),this._options.locale=e,this._create()},e.prototype.setSymbol=function(e,t,n){this._innerAPI().changeSymbol(e,t+"",n)},e.prototype.remove=function(){window.removeEventListener("resize",this._onWindowResize),this._readyHandlers.splice(0,this._readyHandlers.length),delete window[this._id];var e=this._getIFrameElement();e.contentWindow.destroyChart(),e.parentNode&&e.parentNode.removeChild(e)},e.prototype.closePopupsAndDialogs=function(){this._innerAPI().closePopupsAndDialogs()},e.prototype.selectLineTool=function(e){this._innerAPI().selectLineTool(e)},e.prototype.selectedLineTool=function(){return this._innerAPI().selectedLineTool()},e.prototype.save=function(e){this._innerAPI().saveChart(e)},e.prototype.load=function(e,t){this._innerAPI().loadChart({json:e,extendedData:t})},e.prototype.getSavedCharts=function(e){this._innerAPI().getSavedCharts(e)},e.prototype.loadChartFromServer=function(e){this._innerAPI().loadChartFromServer(e)},e.prototype.saveChartToServer=function(e,t,n,a){this._innerAPI().saveChartToServer(e,t,n,a)},e.prototype.removeChartFromServer=function(e,t){this._innerAPI().removeChartFromServer(e,t)},e.prototype.onContextMenu=function(e){this._innerAPI().onContextMenu(e)},e.prototype.createButton=function(e){return this._innerWindow().createButton(e)},e.prototype.showNoticeDialog=function(e){this._innerAPI().showNoticeDialog(e)},e.prototype.showConfirmDialog=function(e){this._innerAPI().showConfirmDialog(e)},e.prototype.showLoadChartDialog=function(){this._innerAPI().showLoadChartDialog()},e.prototype.showSaveAsChartDialog=function(){this._innerAPI().showSaveAsChartDialog()},e.prototype.symbolInterval=function(){return this._innerAPI().getSymbolInterval()},e.prototype.mainSeriesPriceFormatter=function(){return this._innerAPI().mainSeriesPriceFormatter()},e.prototype.getIntervals=function(){return this._innerAPI().getIntervals()},e.prototype.getStudiesList=function(){return this._innerAPI().getStudiesList()},e.prototype.addCustomCSSFile=function(e){this._innerWindow().addCustomCSSFile(e)},e.prototype.applyOverrides=function(e){this._options=t(this._options,{overrides:e}),this._innerWindow().applyOverrides(e)},e.prototype.applyStudiesOverrides=function(e){this._innerWindow().applyStudiesOverrides(e)},e.prototype.watchList=function(){return this._innerAPI().watchlist()},e.prototype.activeChart=function(){return this._innerAPI().activeChart()},e.prototype.chartsCount=function(){return this._innerAPI().chartsCount()},e.prototype.layout=function(){return this._innerAPI().layout()},e.prototype.setLayout=function(e){this._innerAPI().setLayout(e)},e.prototype.changeTheme=function(e){this._innerWindow().changeTheme(e)},e.prototype.takeScreenshot=function(){this._innerAPI().takeScreenshot()},e.prototype.lockAllDrawingTools=function(){return this._innerAPI().lockAllDrawingTools()},e.prototype._getIFrameElement=function(){var e=document.getElementById(this._id);if(null===e)throw new Error("There is no such iframe");return e},e.prototype._innerAPI=function(){return this._getIFrameElement().contentWindow.tradingViewApi},e.prototype._innerWindow=function(){return this._getIFrameElement().contentWindow},e.prototype._autoResizeChart=function(){this._options.fullscreen&&(this._getIFrameElement().style.height=window.innerHeight+"px")},e.prototype._create=function(){var e=this,t=this._render(),n=document.getElementById(this._options.container_id);if(null===n)throw new Error("There is no such element - #"+this._options.container_id);n.innerHTML=t;var a=this._getIFrameElement();(this._options.autosize||this._options.fullscreen)&&(a.style.width="100%",this._options.fullscreen||(a.style.height="100%")),window.addEventListener("resize",this._onWindowResize),this._onWindowResize();var r=function(){a.removeEventListener("load",r,!1),a.contentWindow.widgetReady(function(){e._ready=!0;for(var t=0,n=e._readyHandlers;t<n.length;t++){var r=n[t];try{r.call(e)}catch(e){console.error(e)}}a.contentWindow.initializationFinished()})};a.addEventListener("load",r,!1)},e.prototype._render=function(){var e=window;e[this._id]={datafeed:this._options.datafeed,customFormatters:this._options.customFormatters,brokerFactory:this._options.brokerFactory,overrides:this._options.overrides,studiesOverrides:this._options.studies_overrides,disabledFeatures:this._options.disabled_features,enabledFeatures:this._options.enabled_features,brokerConfig:this._options.brokerConfig,restConfig:this._options.restConfig,favorites:this._options.favorites,logo:this._options.logo,numeric_formatting:this._options.numeric_formatting,rss_news_feed:this._options.rss_news_feed,newsProvider:this._options.news_provider,loadLastChart:this._options.load_last_chart,saveLoadAdapter:this._options.save_load_adapter,loading_screen:this._options.loading_screen,settingsAdapter:this._options.settings_adapter,customIndicatorsUrl:this._options.indicators_file_name},this._options.saved_data&&(e[this._id].chartContent={json:this._options.saved_data});var t=(this._options.library_path||"")+"static/"+this._options.locale+"-tv-chart.1c7535a2aac5ec511ed5.html?setTime=201811121904#symbol="+encodeURIComponent(this._options.symbol)+"&interval="+encodeURIComponent(this._options.interval)+(this._options.timeframe?"&timeframe="+encodeURIComponent(this._options.timeframe):"")+(this._options.toolbar_bg?"&toolbarbg="+this._options.toolbar_bg.replace("#",""):"")+(this._options.studies_access?"&studiesAccess="+encodeURIComponent(JSON.stringify(this._options.studies_access)):"")+"&widgetbar="+encodeURIComponent(JSON.stringify(this._options.widgetbar))+(this._options.drawings_access?"&drawingsAccess="+encodeURIComponent(JSON.stringify(this._options.drawings_access)):"")+"&timeFrames="+encodeURIComponent(JSON.stringify(this._options.time_frames))+"&locale="+encodeURIComponent(this._options.locale)+"&uid="+encodeURIComponent(this._id)+"&clientId="+encodeURIComponent(String(this._options.client_id))+"&userId="+encodeURIComponent(String(this._options.user_id))+(this._options.charts_storage_url?"&chartsStorageUrl="+encodeURIComponent(this._options.charts_storage_url):"")+(this._options.charts_storage_api_version?"&chartsStorageVer="+encodeURIComponent(this._options.charts_storage_api_version):"")+(this._options.custom_css_url?"&customCSS="+encodeURIComponent(this._options.custom_css_url):"")+(this._options.auto_save_delay?"&autoSaveDelay="+encodeURIComponent(String(this._options.auto_save_delay)):"")+"&debug="+this._options.debug+(this._options.snapshot_url?"&snapshotUrl="+encodeURIComponent(this._options.snapshot_url):"")+(this._options.timezone?"&timezone="+encodeURIComponent(this._options.timezone):"")+(this._options.study_count_limit?"&studyCountLimit="+encodeURIComponent(String(this._options.study_count_limit)):"")+(this._options.symbol_search_request_delay?"&ssreqdelay="+encodeURIComponent(String(this._options.symbol_search_request_delay)):"")+(this._options.theme?"&theme="+encodeURIComponent(String(this._options.theme)):"");return'<iframe id="'+this._id+'" name="'+this._id+'"  src="'+t+'"'+(this._options.autosize||this._options.fullscreen?"":' width="'+this._options.width+'" height="'+this._options.height+'"')+' frameborder="0" allowTransparency="true" scrolling="no" allowfullscreen style="display:block;"></iframe>'},e}();window.TradingView=window.TradingView||{},window.TradingView.version=n,e.version=n,e.onready=function(e){window.addEventListener("DOMContentLoaded",e,!1)},e.widget=s,Object.defineProperty(e,"__esModule",{value:!0})}(t)},1511:function(e,t,n){"use strict";(function(e){var a=n(0),r=(n(3),n(54)),o=n.n(r),s=n(235),i=n(2),l=n.n(i),c=n(27),u=n(17),p=n(40),d=n(19),m=n(58),h=n(81),f=n.n(h),b=n(13),g=n.n(b),y=n(1466),v=n(1465),_=n(291),E=n(93),k=n(52),w=n(289),A=n(154),O=n(1),C=n(23),S=n(1464),x=n(88),T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},P=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function D(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function j(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var I=function(t){function n(e){D(this,n);var t=N(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return console.log("constructor"),t.state={toAddress:y.a.getLast(e.walletType),withdrawValue:"",amountError:null,symbol:e.asset.get("symbol"),to_withdraw:new c.a({asset_id:e.asset.get("id"),precision:e.asset.get("precision")}),fee_asset_id:"1.3.0",feeStatus:{}},t._validateAddress(t.state.toAddress,e),t.deposit_address_cache=new v.a,t.addDepositAddress=t.addDepositAddress.bind(t),t._checkFeeStatus=t._checkFeeStatus.bind(t),t._checkBalance=t._checkBalance.bind(t),t._getCurrentBalance=t._getCurrentBalance.bind(t),t._getFee=t._getFee.bind(t),t._updateFee=Object(C.debounce)(t._updateFee.bind(t),250),t}return j(n,S["a"]),P(n,[{key:"componentWillMount",value:function(){this._getDepositAddress(),this._updateFee(),this._checkFeeStatus()}},{key:"componentWillReceiveProps",value:function(e){e.asset&&this.props.asset&&e.asset.get("id")!==this.props.asset.get("id")&&this.setState({to_withdraw:new c.a({asset_id:e.asset.get("id"),precision:e.asset.get("precision")}),gateFee:e.asset.get("gateFee"),intermediateAccount:e.asset.get("intermediateAccount"),symbol:e.asset.get("symbol"),memo:"",withdrawValue:"",receive_address:null,toAddress:y.a.getLast(e.walletType)},this._getDepositAddress)}},{key:"_getDepositAddress",value:function(){if(this.props.backingCoinType){var e=this.props.sender.get("name"),t=this.deposit_address_cache.getCachedInputAddress("openledger",e,this.props.backingCoinType.toLowerCase(),this.props.symbol.toLowerCase());t?this.setState({receive_address:t}):Object(y.e)(this._getDepositObject())}}},{key:"_getDepositObject",value:function(){return{inputCoinType:this.props.backingCoinType.toLowerCase(),outputCoinType:this.props.symbol.toLowerCase(),outputAddress:this.props.sender.get("name"),stateCallback:this.addDepositAddress}}},{key:"addDepositAddress",value:function(e){var t=this.props.sender.get("name");this.deposit_address_cache.cacheInputAddress("openledger",t,this.props.backingCoinType.toLowerCase(),this.props.symbol.toLowerCase(),e.address,e.memo),this.setState({receive_address:e})}},{key:"componentDidUpdate",value:function(){f.a.rebuild()}},{key:"onSubmit",value:function(t){if(t.preventDefault(),0===this.state.to_withdraw.getAmount())return this.setState({amountError:"transfer.errors.pos"});if(this.props.intermediateAccount){var n=this._getFee(),a=this._getGateFee(),r=this.state.to_withdraw.clone(),o=r.clone(this._getCurrentBalance().get("balance"));r.plus(a),o.lt(r)&&(r=this.state.to_withdraw.clone()),m.a.transfer(this.props.sender.get("id"),this.props.intermediateAccount,this.state.to_withdraw.getAmount(),this.state.to_withdraw.asset_id,this.props.backingCoinType.toLowerCase()+":"+this.state.toAddress+(this.state.memo?":"+new e(this.state.memo,"utf-8"):""),null,n.asset_id)}}},{key:"_updateAmount",value:function(){var e=this._getFee(),t=this._getCurrentBalance(),n=new c.a({amount:t?t.get("balance"):0,asset_id:this.props.asset.get("id"),precision:this.props.asset.get("precision")});n.asset_id===e.asset_id&&n.minus(e),this.state.to_withdraw.setAmount({sats:n.getAmount()}),this.setState({withdrawValue:n.getAmount({real:!0}),amountError:null},this._checkBalance)}},{key:"_checkFeeStatus",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props.sender;if(t){var n=["1.3.0",this.state.to_withdraw.asset_id],a={},r=[];n.forEach(function(n){r.push(Object(w.b)({accountID:t.get("id"),feeID:n,options:["price_per_kbyte"],data:{type:"memo",content:e.props.backingCoinType.toLowerCase()+":"+e.state.toAddress+(e.state.memo?":"+e.state.memo:"")}}))}),Promise.all(r).then(function(t){n.forEach(function(e,n){a[e]=t[n]}),u.a.are_equal_shallow(e.state.feeStatus,a)||e.setState({feeStatus:a}),e._checkBalance()}).catch(function(e){console.error(e)})}}},{key:"_updateFee",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state.fee_asset_id;if(!this.props.sender)return null;Object(w.b)({accountID:this.props.sender.get("id"),feeID:t,options:["price_per_kbyte"],data:{type:"memo",content:this.props.backingCoinType.toLowerCase()+":"+this.state.toAddress+(this.state.memo?":"+this.state.memo:"")}}).then(function(t){var n=t.fee,a=t.hasBalance,r=t.hasPoolBalance;e.setState({feeAmount:n,hasBalance:a,hasPoolBalance:r,error:!a||!r},e._checkFeeStatus)})}},{key:"_getCurrentBalance",value:function(){var e=this;return this.props.balances.find(function(t){return t&&t.get("asset_type")===e.props.asset.get("id")})}},{key:"_checkBalance",value:function(){var e=this.state,t=e.feeAmount,n=e.to_withdraw,a=this.props.asset,r=this._getCurrentBalance();if(r&&t){var o=Object(w.a)(n.getAmount({real:!0}),a,this._getFee(),r,this._getGateFee());if(null!==o)return this.state.balanceError!==!o&&this.setState({balanceError:!o}),o}}},{key:"_getFee",value:function(){var e={getAmount:function(){return 0},asset_id:this.state.fee_asset_id};if(!this.state.feeStatus||!this.state.feeAmount)return e;var t=this.state.feeStatus["1.3.0"],n=this.state.feeStatus[this.state.to_withdraw.asset_id];return t&&t.hasBalance?t.fee:t&&!t.hasBalance&&n&&n.hasBalance?n.fee:t?t.fee:e}},{key:"_onInputAmount",value:function(e){try{this.state.to_withdraw.setAmount({real:parseFloat(e.target.value||0)}),this.setState({withdrawValue:e.target.value,amountError:null},this._checkBalance)}catch(e){console.error("err:",e)}}},{key:"_onInputTo",value:function(e){var t=e.target.value.trim();this.setState({withdraw_address_check_in_progress:!0,withdraw_address_selected:t,validAddress:null,toAddress:t}),this._validateAddress(t)}},{key:"_onMemoChanged",value:function(e){this.setState({memo:e.target.value},this._updateFee)}},{key:"_validateAddress",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.props;Object(y.f)({url:x.b.BASE_OL,walletType:n.walletType,newAddress:e}).then(function(n){t.state.toAddress===e&&t.setState({withdraw_address_check_in_progress:!1,validAddress:!!n})}).catch(function(e){console.error("Error when validating address:",e)})}},{key:"_openRegistrarSite",value:function(e){e.preventDefault(),window.open(SettingsStore.site_registr,"_blank").opener=null}},{key:"_getGateFee",value:function(){var e=this.props,t=e.gateFee,n=e.asset;return new c.a({real:parseFloat(t?t.replace(",",""):0),asset_id:n.get("id"),precision:n.get("precision")})}},{key:"_renderWithdraw",value:function(){var e=this.state.amountError,t=u.a.replaceName(this.props.asset.get("symbol"),!!this.props.asset.get("bitasset")).name,n=1,r=this.props.supportsMemos,o=this._getFee(),s=this._getGateFee(),i=this.state.feeStatus[o.asset_id],c=O.b.getAsset(o.asset_id),p=i&&!i.hasBalance||this.state.balanceError||!this.state.toAddress||!this.state.withdrawValue;return a.createElement("div",null,a.createElement("p",null,a.createElement(l.a,{content:"gateway.withdraw_funds",asset:t})),this._renderCurrentBalance(),a.createElement("div",{className:"SimpleTrade__withdraw-row"},a.createElement("label",{className:"left-label"},g.a.translate("modal.withdraw.amount")),a.createElement("div",{className:"inline-label input-wrapper"},a.createElement("input",{tabIndex:n++,type:"number",min:"0",onKeyPress:this.onKeyPress.bind(this),value:this.state.withdrawValue,onChange:this._onInputAmount.bind(this)}),a.createElement("div",{className:"form-label select floating-dropdown"},a.createElement("div",{className:"dropdown-wrapper inactive"},a.createElement("div",null,t)))),e?a.createElement("p",{className:"has-error no-margin",style:{paddingTop:10}},a.createElement(l.a,{content:e})):null,this.state.balanceError?a.createElement("p",{className:"has-error no-margin",style:{paddingTop:10}},a.createElement(l.a,{content:"transfer.errors.insufficient"})):null),a.createElement("div",{className:"SimpleTrade__withdraw-row"},a.createElement("label",{className:"left-label"},g.a.translate("transfer.fee")),a.createElement("div",{className:"inline-label input-wrapper"},a.createElement("input",{type:"text",disabled:!0,value:o.getAmount({real:!0})}),a.createElement("div",{className:"form-label select floating-dropdown"},a.createElement("div",{className:"dropdown-wrapper inactive"},a.createElement("div",null,c?a.createElement(A.a,{name:c.get("symbol")}):null)))),i&&!i.hasBalance?a.createElement("p",{className:"has-error no-margin",style:{paddingTop:10}},a.createElement(l.a,{content:"transfer.errors.insufficient"})):null),a.createElement("div",{className:"SimpleTrade__withdraw-row"},a.createElement("label",{className:"left-label"},g.a.translate("gateway.fee")),a.createElement("div",{className:"inline-label input-wrapper"},a.createElement("input",{type:"text",disabled:!0,value:s.getAmount({real:!0})}),a.createElement("div",{className:"form-label select floating-dropdown"},a.createElement("div",{className:"dropdown-wrapper inactive"},a.createElement("div",null,a.createElement(A.a,{name:this.props.asset.get("symbol")}))))),i&&!i.hasBalance?a.createElement("p",{className:"has-error no-margin",style:{paddingTop:10}},a.createElement(l.a,{content:"transfer.errors.insufficient"})):null),a.createElement("div",{className:"SimpleTrade__withdraw-row"},a.createElement("label",{className:"left-label"},g.a.translate("modal.withdraw.address")),a.createElement("div",{className:"inline-label input-wrapper"},a.createElement("input",{placeholder:g.a.translate("gateway.withdraw_placeholder",{asset:t}),tabIndex:n++,type:"text",value:this.state.toAddress,onChange:this._onInputTo.bind(this)}),a.createElement("div",{className:"form-label select floating-dropdown"},a.createElement("div",{className:"dropdown-wrapper inactive"},a.createElement("div",{"data-place":"right","data-tip":g.a.translate("tooltip.withdraw_address",{asset:t})},"?")))),!this.state.validAddress&&this.state.toAddress?a.createElement("div",{className:"has-error",style:{paddingTop:10}},a.createElement(l.a,{content:"gateway.valid_address",coin_type:t})):null),r?a.createElement("div",{className:"SimpleTrade__withdraw-row"},a.createElement("label",{className:"left-label"},g.a.translate("transfer.memo")),a.createElement("div",{className:"inline-label input-wrapper"},a.createElement("textarea",{rows:"1",value:this.state.memo,tabIndex:n++,onChange:this._onMemoChanged.bind(this)})),!this.state.validAddress&&this.state.toAddress?a.createElement("div",{className:"has-error",style:{paddingTop:10}},a.createElement(l.a,{content:"gateway.valid_address",coin_type:t})):null):null,a.createElement("div",{className:"button-group SimpleTrade__withdraw-row"},a.createElement("button",{tabIndex:n++,className:"button"+(p?" disabled":""),onClick:this.onSubmit.bind(this),type:"submit"},a.createElement(l.a,{content:"gateway.withdraw_now"}))))}},{key:"_renderDeposit",value:function(){var e=this.state.receive_address,t=u.a.replaceName(this.props.asset.get("symbol"),!!this.props.asset.get("bitasset")).name,n=e&&"memo"in e&&e.memo,r=e&&e.address||"",o=1;return a.createElement("div",{className:r?"":"no-overflow"},a.createElement("p",null,a.createElement(l.a,{unsafe:!0,content:"gateway.add_funds",account:this.props.sender.get("name")})),this._renderCurrentBalance(),a.createElement("div",{className:"SimpleTrade__withdraw-row"},a.createElement("p",{style:{marginBottom:10},"data-place":"right","data-tip":g.a.translate("tooltip.deposit_tip",{asset:t})},a.createElement(l.a,{className:"help-tooltip",content:"gateway.deposit_to",asset:t}),":"),r?a.createElement("label",null,a.createElement("span",{className:"inline-label"},a.createElement("input",{readOnly:!0,type:"text",value:r}),a.createElement(_.a,{text:r}))):a.createElement(k.a,{type:"three-bounce"}),n?a.createElement("label",null,a.createElement("span",{className:"inline-label"},a.createElement("input",{readOnly:!0,type:"text",value:g.a.translate("transfer.memo")+": "+e.memo}),a.createElement(_.a,{text:e.memo}))):null,e&&e.error?a.createElement("div",{className:"has-error",style:{paddingTop:10}},e.error.message):null),a.createElement("div",{className:"button-group SimpleTrade__withdraw-row"},a.createElement("button",{tabIndex:o++,className:"button",onClick:y.e.bind(null,this._getDepositObject()),type:"submit"},a.createElement(l.a,{content:"gateway.generate_new"}))))}},{key:"_renderCurrentBalance",value:function(){var e=u.a.replaceName(this.props.asset.get("symbol"),!!this.props.asset.get("bitasset")).name,t="deposit"===this.props.action,n=this._getCurrentBalance(),r=n?new c.a({asset_id:n.get("asset_type"),precision:this.props.asset.get("precision"),amount:n.get("balance")}):null,o=t?a.createElement("span",{style:{border:"2px solid black",borderLeft:"none"},className:"form-label"},e):a.createElement("button",{"data-place":"right","data-tip":g.a.translate("tooltip.withdraw_full"),className:"button",style:{border:"2px solid black",borderLeft:"none"},onClick:this._updateAmount.bind(this,n?parseInt(n.get("balance"),10):0)},a.createElement(E.a,{name:"clippy"}));return a.createElement("div",{className:"SimpleTrade__withdraw-row",style:{fontSize:"1rem"}},a.createElement("label",{style:{fontSize:"1rem"}},g.a.translate("gateway.balance_asset",{asset:e}),":",a.createElement("span",{className:"inline-label"},a.createElement("input",{disabled:!0,style:{color:"black",border:"2px solid black",padding:10,width:"100%"},value:r?r.getAmount({real:!0}):0}),o)))}},{key:"render",value:function(){var e=this.props,t=e.asset,n="deposit"===e.action;if(!t)return null;var r=u.a.replaceName(t.get("symbol"),!0).name,o=this.props.isDown?a.createElement("div",null,a.createElement(l.a,{className:"txtlabel cancel",content:"gateway.unavailable_OPEN",component:"p"})):this.props.isAvailable?n?this._renderDeposit():this._renderWithdraw():a.createElement("div",null,a.createElement(l.a,{className:"txtlabel cancel",content:"gateway.unavailable",component:"p"}));return a.createElement("div",{className:"SimpleTrade__modal"},a.createElement("div",{className:"Modal__header"},a.createElement("h3",null,a.createElement(l.a,{content:n?"gateway.deposit":"modal.withdraw.submit"})," ",r)),a.createElement("div",{className:"Modal__divider"}),a.createElement("div",{className:"grid-block vertical no-overflow",style:{zIndex:1002,paddingLeft:"2rem",paddingRight:"2rem",paddingTop:"1rem"}},o))}}]),n}();I.propTypes={sender:d.a.ChainAccount.isRequired,asset:d.a.ChainAsset.isRequired,coreAsset:d.a.ChainAsset.isRequired,globalObject:d.a.ChainAsset.isRequired},I.defaultProps={coreAsset:"1.3.0",globalObject:"2.0.0"},I=Object(p.a)(I);var F=function(e){function t(){D(this,t);var e=N(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={open:!1},e}return j(t,a["Component"]),P(t,[{key:"show",value:function(){var e=this;this.setState({open:!0},function(){o.a.publish(e.props.modalId,"open")})}},{key:"onClose",value:function(){this.setState({open:!1})}},{key:"render",value:function(){return a.createElement(s.a,{className:"test",onClose:this.onClose.bind(this),overlay:!0,id:this.props.modalId},this.state.open?a.createElement(I,T({},this.props,{open:this.state.open})):null)}}]),t}();t.a=F}).call(this,n(30).Buffer)},1512:function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},1513:function(e,t,n){"use strict";var a=n(105),r=n(83),o=n(1512);e.exports=function(){function e(e,t,n,a,s,i){i!==o&&r(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=a,n.PropTypes=n,n}},1514:function(e,t,n){e.exports=n(1513)()},1515:function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},1516:function(e,t,n){"use strict";var a=n(105),r=n(83),o=n(1515);e.exports=function(){function e(e,t,n,a,s,i){i!==o&&r(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=a,n.PropTypes=n,n}},1517:function(e,t,n){e.exports=n(1516)()},1518:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n(0),s=l(o),i=l(n(1517));function l(e){return e&&e.__esModule?e:{default:e}}var c={position:"absolute",top:0,left:0,visibility:"hidden",height:0,overflow:"scroll",whiteSpace:"pre"},u=["extraWidth","injectStyles","inputClassName","inputRef","inputStyle","minWidth","onAutosize","placeholderIsMinWidth"],p=function(e,t){t.style.fontSize=e.fontSize,t.style.fontFamily=e.fontFamily,t.style.fontWeight=e.fontWeight,t.style.fontStyle=e.fontStyle,t.style.letterSpacing=e.letterSpacing,t.style.textTransform=e.textTransform},d=!("undefined"==typeof window||!window.navigator)&&/MSIE |Trident\/|Edge\//.test(window.navigator.userAgent),m=function(){return d?"_"+Math.random().toString(36).substr(2,12):void 0},h=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.inputRef=function(e){n.input=e,"function"==typeof n.props.inputRef&&n.props.inputRef(e)},n.placeHolderSizerRef=function(e){n.placeHolderSizer=e},n.sizerRef=function(e){n.sizer=e},n.state={inputWidth:e.minWidth,inputId:e.id||m()},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),r(t,[{key:"componentDidMount",value:function(){this.mounted=!0,this.copyInputStyles(),this.updateInputWidth()}},{key:"componentWillReceiveProps",value:function(e){var t=e.id;t!==this.props.id&&this.setState({inputId:t||m()})}},{key:"componentDidUpdate",value:function(e,t){t.inputWidth!==this.state.inputWidth&&"function"==typeof this.props.onAutosize&&this.props.onAutosize(this.state.inputWidth),this.updateInputWidth()}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"copyInputStyles",value:function(){if(this.mounted&&window.getComputedStyle){var e=this.input&&window.getComputedStyle(this.input);e&&(p(e,this.sizer),this.placeHolderSizer&&p(e,this.placeHolderSizer))}}},{key:"updateInputWidth",value:function(){if(this.mounted&&this.sizer&&void 0!==this.sizer.scrollWidth){var e=void 0;e=this.props.placeholder&&(!this.props.value||this.props.value&&this.props.placeholderIsMinWidth)?Math.max(this.sizer.scrollWidth,this.placeHolderSizer.scrollWidth)+2:this.sizer.scrollWidth+2,(e+="number"===this.props.type&&void 0===this.props.extraWidth?16:parseInt(this.props.extraWidth)||0)<this.props.minWidth&&(e=this.props.minWidth),e!==this.state.inputWidth&&this.setState({inputWidth:e})}}},{key:"getInput",value:function(){return this.input}},{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){this.input.blur()}},{key:"select",value:function(){this.input.select()}},{key:"renderStyles",value:function(){var e=this.props.injectStyles;return d&&e?s.default.createElement("style",{dangerouslySetInnerHTML:{__html:"input#"+this.state.inputId+"::-ms-clear {display: none;}"}}):null}},{key:"render",value:function(){var e=[this.props.defaultValue,this.props.value,""].reduce(function(e,t){return null!==e&&void 0!==e?e:t}),t=a({},this.props.style);t.display||(t.display="inline-block");var n=a({boxSizing:"content-box",width:this.state.inputWidth+"px"},this.props.inputStyle),r=function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}(this.props,[]);return function(e){u.forEach(function(t){return delete e[t]})}(r),r.className=this.props.inputClassName,r.id=this.state.inputId,r.style=n,s.default.createElement("div",{className:this.props.className,style:t},this.renderStyles(),s.default.createElement("input",a({},r,{ref:this.inputRef})),s.default.createElement("div",{ref:this.sizerRef,style:c},e),this.props.placeholder?s.default.createElement("div",{ref:this.placeHolderSizerRef,style:c},this.props.placeholder):null)}}]),t}();h.propTypes={className:i.default.string,defaultValue:i.default.any,extraWidth:i.default.oneOfType([i.default.number,i.default.string]),id:i.default.string,injectStyles:i.default.bool,inputClassName:i.default.string,inputRef:i.default.func,inputStyle:i.default.object,minWidth:i.default.oneOfType([i.default.number,i.default.string]),onAutosize:i.default.func,onChange:i.default.func,placeholder:i.default.string,placeholderIsMinWidth:i.default.bool,style:i.default.object,value:i.default.any},h.defaultProps={minWidth:1,injectStyles:!0},t.default=h},1519:function(e,t,n){(function(t){(function(){var n,a,r,o,s,i;"undefined"!=typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:void 0!==t&&null!==t&&t.hrtime?(e.exports=function(){return(n()-s)/1e6},a=t.hrtime,o=(n=function(){var e;return 1e9*(e=a())[0]+e[1]})(),i=1e9*t.uptime(),s=o-i):Date.now?(e.exports=function(){return Date.now()-r},r=Date.now()):(e.exports=function(){return(new Date).getTime()-r},r=(new Date).getTime())}).call(this)}).call(this,n(123))},1520:function(e,t,n){(function(t){for(var a=n(1519),r="undefined"==typeof window?t:window,o=["moz","webkit"],s="AnimationFrame",i=r["request"+s],l=r["cancel"+s]||r["cancelRequest"+s],c=0;!i&&c<o.length;c++)i=r[o[c]+"Request"+s],l=r[o[c]+"Cancel"+s]||r[o[c]+"CancelRequest"+s];if(!i||!l){var u=0,p=0,d=[];i=function(e){if(0===d.length){var t=a(),n=Math.max(0,1e3/60-(t-u));u=n+t,setTimeout(function(){var e=d.slice(0);d.length=0;for(var t=0;t<e.length;t++)if(!e[t].cancelled)try{e[t].callback(u)}catch(e){setTimeout(function(){throw e},0)}},Math.round(n))}return d.push({handle:++p,callback:e,cancelled:!1}),p},l=function(e){for(var t=0;t<d.length;t++)d[t].handle===e&&(d[t].cancelled=!0)}}e.exports=function(e){return i.call(r,e)},e.exports.cancel=function(){l.apply(r,arguments)},e.exports.polyfill=function(e){e||(e=r),e.requestAnimationFrame=i,e.cancelAnimationFrame=l}}).call(this,n(62))},1521:function(e,t,n){e.exports=function(){"use strict";return function(e){function t(t){if(t)try{e(t+"}")}catch(e){}}return function(n,a,r,o,s,i,l,c,u,p){switch(n){case 1:if(0===u&&64===a.charCodeAt(0))return e(a+";"),"";break;case 2:if(0===c)return a+"/*|*/";break;case 3:switch(c){case 102:case 112:return e(r[0]+a),"";default:return a+(0===p?"/*|*/":"")}case-2:a.split("/*|*/}").forEach(t)}}}}()},1522:function(e,t,n){"use strict";(function(e){n.d(t,"b",function(){return s}),n.d(t,"a",function(){return i});var a=n(1474),r=void 0!==e?e:{},o=Object(a.a)(r),s=(o.flush,o.hydrate,o.cx,o.merge,o.getRegisteredStyles,o.injectGlobal),i=(o.keyframes,o.css);o.sheet,o.caches}).call(this,n(62))}}]);