(window.webpackJsonp=window.webpackJsonp||[]).push([[250],{1263:function(e,t,n){"use strict";n.r(t);var a=n(0),r=(n(3),n(879)),s=n(2),l=n.n(s),i=n(1268),o=n(19),c=n(40),u=n(80),m=n(286),p=n(154),d=n(1279),h=(n(288),n(93)),b=n(187),f=n(17),_=n(1),E=n(4),g=n(1276),v=n(27),y=n(155),k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},w=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function T(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var P=function(e){function t(){return O(this,t),N(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return T(t,a["Component"]),w(t,[{key:"render",value:function(){var e=this.props,t=e.isSet,n=e.name;return t?a.createElement("span",{className:"asset-flag"},a.createElement("span",{className:"label info"},a.createElement(l.a,{content:"account.user_issued_assets."+n}))):a.createElement("span",null)}}]),t}(),A=function(e){function t(){return O(this,t),N(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return T(t,a["Component"]),w(t,[{key:"render",value:function(){var e=this.props,t=e.isSet,n=e.name;return t?a.createElement("span",{className:"asset-flag"},a.createElement("span",{className:"label info"},a.createElement(l.a,{content:"account.user_issued_assets."+n}))):a.createElement("span",null)}}]),t}(),j=function(e){function t(e){O(this,t);var n=N(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={callOrders:[],marginTableSort:"price",sortDirection:!0},n}return T(t,a["Component"]),w(t,[{key:"componentWillMount",value:function(){var e=this;if(this.props.asset.has("bitasset")){var t;console.log("asset:",this.props.asset.get("id"));var n=(x(t={},this.props.asset.get("id"),this.props.asset.toJS()),x(t,this.props.backingAsset.get("id"),this.props.backingAsset.toJS()),t),a=this.props.asset.getIn(["bitasset","is_prediction_market"],!1),r=this.props.asset.getIn(["bitasset","current_feed","maximum_short_squeeze_ratio"]),s=this.props.asset.getIn(["bitasset","current_feed","settlement_price"]);a&&s.getIn(["base","asset_id"])===s.getIn(["quote","asset_id"])&&(n[this.props.backingAsset.get("id")]||(n[this.props.backingAsset.get("id")]={precision:this.props.asset.get("precision")}),s=(s=(s=(s=s.setIn(["base","amount"],1)).setIn(["base","asset_id"],this.props.backingAsset.get("id"))).setIn(["quote","amount"],1)).setIn(["quote","asset_id"],this.props.asset.get("id")),r=1e3);try{var l=new v.c({priceObject:s,market_base:this.props.asset.get("id"),sqr:r,assets:n});E.a.instance().db_api().exec("get_call_orders",[this.props.asset.get("id"),300]).then(function(t){var r=t.map(function(t){return new v.b(t,n,e.props.asset.get("id"),l,a)});e.setState({callOrders:r})})}catch(e){console.log(e)}}}},{key:"_toggleSortOrder",value:function(e){e!==this.state.marginTableSort?this.setState({marginTableSort:e}):this.setState({sortDirection:!this.state.sortDirection})}},{key:"_assetType",value:function(e){return"bitasset"in e?e.bitasset.is_prediction_market?"Prediction":"Smart":"Simple"}},{key:"renderFlagIndicators",value:function(e,t){return a.createElement("div",null,t.map(function(t){return a.createElement(P,{key:"flag_"+t,name:t,isSet:e[t]})}))}},{key:"renderPermissionIndicators",value:function(e,t){return a.createElement("div",null,t.map(function(t){return a.createElement(A,{key:"perm_"+t,name:t,isSet:e[t]})}))}},{key:"formattedPrice",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e.base,s=e.quote;return a.createElement(m.a,{base_amount:r.amount,base_asset:r.asset_id,quote_amount:s.amount,quote_asset:s.asset_id,hide_value:n,hide_symbols:t})}},{key:"renderAuthorityList",value:function(e){return e.map(function(e){return a.createElement("span",null," ",a.createElement(i.a,{account:e}))})}},{key:"renderMarketList",value:function(e,t){var n=e.symbol;return t.map(function(e){if(e==n)return null;var t=e+"_"+n,s=e+"/"+n;return a.createElement("span",null,a.createElement(r.a,{to:"/market/"+t},s),"  ")}.bind(this))}},{key:"renderAboutBox",value:function(e){var t=_.b.getObject(e.issuer,!1,!1),n=t?t.get("name"):"",r=(a.createElement(h.a,{name:"asset",className:"asset",size:"4x"}),b.a.parseDescription(e.options.description)),s=r.main.replace(/<\w.+?on.+?=.+?\>/i,""),i=r.short_name?r.short_name:null,o=(s=s&&s.length>0?s+" ":s).match(/(http?):\/\/(www\.)?[a-z0-9\.:].*?(?=\s)/g),c=_.b.getAsset("1.3.0"),u=r.market?r.market:c?c.get("symbol"):"CYB";"bitasset"in e&&e.bitasset.is_prediction_market&&(u=(u=_.b.getAsset(e.bitasset.options.short_backing_asset))?u.get("symbol"):c.get("symbol")),e.symbol===c.get("symbol")&&(u="USD"),o&&o.length&&o.forEach(function(e){var t='<a target="_blank" rel="noopener noreferrer" href="'+e+'">'+e+"</a>";s=s.replace(e,t)});var m=f.a.replaceName(e.symbol,"bitasset"in e&&!e.bitasset.is_prediction_market&&"1.2.0"===e.issuer),p=m.name,d=m.prefix;return a.createElement("div",{style:{overflow:"visible"}},a.createElement("div",{className:"asset-header"},a.createElement("h3",null,(d||"")+p),a.createElement("p",null,s),a.createElement("p",null,"Issued By: ",n)),i?a.createElement("p",null,i):null,a.createElement("a",{style:{textTransform:"uppercase"},href:"/market/"+e.symbol+"_"+u},a.createElement(l.a,{content:"exchange.market"})))}},{key:"renderSummary",value:function(e){var t=e.dynamic,n=e.options,r=b.a.getFlagBooleans(e.options.flags,this.props.asset.has("bitasset_data_id")),s=Object.keys(r),o=n&&n.extensions?Object(y.c)(n.extensions,"vesting_period"):null;o=o?a.createElement("tr",null,a.createElement("td",null," ",a.createElement(l.a,{content:"explorer.asset.summary.vesting"})," "),a.createElement("td",null,o)):null;var c=t?a.createElement("tr",null,a.createElement("td",null," ",a.createElement(l.a,{content:"explorer.asset.summary.current_supply"})," "),a.createElement("td",null," ",a.createElement(u.a,{amount:t.current_supply,asset:e.id})," ")):null,m=t?a.createElement("tr",null,a.createElement("td",null," ",a.createElement(l.a,{content:"explorer.asset.summary.stealth_supply"})," "),a.createElement("td",null," ",a.createElement(u.a,{amount:t.confidential_supply,asset:e.id})," ")):null,d=r.charge_market_fee?a.createElement("tr",null,a.createElement("td",null," ",a.createElement(l.a,{content:"explorer.asset.summary.market_fee"})," "),a.createElement("td",null," ",n.market_fee_percent/100," % ")):null,h=r.charge_market_fee?a.createElement("tr",null,a.createElement("td",null," ",a.createElement(l.a,{content:"explorer.asset.summary.max_market_fee"})," "),a.createElement("td",null," ",a.createElement(u.a,{amount:+n.max_market_fee,asset:e.id})," ")):null;return a.createElement("div",{className:"asset-card"},a.createElement("div",{className:"card-divider"},a.createElement(p.a,{name:e.symbol})),a.createElement("table",{className:"table key-value-table table-hover"},a.createElement("tbody",null,a.createElement("tr",null,a.createElement("td",null," ",a.createElement(l.a,{content:"explorer.asset.summary.asset_type"})," "),a.createElement("td",null," ",this._assetType(e)," ")),a.createElement("tr",null,a.createElement("td",null," ",a.createElement(l.a,{content:"explorer.asset.summary.issuer"})," "),a.createElement("td",null," ",a.createElement(i.a,{account:e.issuer})," ")),a.createElement("tr",null,a.createElement("td",null," ",a.createElement(l.a,{content:"explorer.assets.precision"})," "),a.createElement("td",null," ",e.precision," ")),o,c,m,d,h)),a.createElement("br",null),this.renderFlagIndicators(r,s))}},{key:"renderPriceFeed",value:function(e){var t=a.createElement(l.a,{content:"explorer.asset.price_feed.title"}),n=e.bitasset;if(!("current_feed"in n))return a.createElement("div",{header:t});var r=n.current_feed;return a.createElement("div",{className:"asset-card"},a.createElement("div",{className:"card-divider"},t),a.createElement("table",{className:"table key-value-table table-hover",style:{padding:"1.2rem"}},a.createElement("tbody",null,a.createElement("tr",null,a.createElement("td",null," ",a.createElement(l.a,{content:"explorer.asset.price_feed.settlement_price"})," "),a.createElement("td",null," ",this.formattedPrice(r.settlement_price)," ")),a.createElement("tr",null,a.createElement("td",null," ",a.createElement(l.a,{content:"explorer.asset.price_feed.maintenance_collateral_ratio"})," "),a.createElement("td",null," ",r.maintenance_collateral_ratio/10,"% ")),a.createElement("tr",null,a.createElement("td",null," ",a.createElement(l.a,{content:"explorer.asset.price_feed.maximum_short_squeeze_ratio"})," "),a.createElement("td",null," ",r.maximum_short_squeeze_ratio/10,"% ")))))}},{key:"renderFeePool",value:function(e){var t=e.dynamic,n=e.options;return a.createElement("div",{className:"asset-card"},a.createElement("div",{className:"card-divider"},a.createElement(l.a,{content:"explorer.asset.fee_pool.title"})),a.createElement("table",{className:"table key-value-table",style:{padding:"1.2rem"}},a.createElement("tbody",null,a.createElement("tr",null,a.createElement("td",null," ",a.createElement(l.a,{content:"explorer.asset.fee_pool.core_exchange_rate"})," "),a.createElement("td",null," ",this.formattedPrice(n.core_exchange_rate)," ")),a.createElement("tr",null,a.createElement("td",null," ",a.createElement(l.a,{content:"explorer.asset.fee_pool.pool_balance"})," "),a.createElement("td",null," ",t?a.createElement(u.a,{asset:"1.3.0",amount:t.fee_pool}):null," ")),a.createElement("tr",null,a.createElement("td",null," ",a.createElement(l.a,{content:"explorer.asset.fee_pool.unclaimed_issuer_income"})," "),a.createElement("td",null," ",t?a.createElement(u.a,{asset:e.id,amount:t.accumulated_fees}):null," ")))))}},{key:"renderPermissions",value:function(e){var t=e.options,n=b.a.getFlagBooleans(e.options.issuer_permissions,this.props.asset.has("bitasset_data_id")),r=Object.keys(n),s=n.charge_market_fee?a.createElement("tr",null,a.createElement("td",null," ",a.createElement(l.a,{content:"explorer.asset.permissions.max_market_fee"})," "),a.createElement("td",null," ",a.createElement(u.a,{amount:+t.max_market_fee,asset:e.id})," ")):null,i=a.createElement("tr",null,a.createElement("td",null," ",a.createElement(l.a,{content:"explorer.asset.permissions.max_supply"})," "),a.createElement("td",null," ",a.createElement(u.a,{amount:+t.max_supply,asset:e.id})," "));n.white_list&&a.createElement("span",null,a.createElement("br",null),a.createElement(l.a,{content:"explorer.asset.permissions.blacklist_authorities"}),":  ",this.renderAuthorityList(t.blacklist_authorities),a.createElement("br",null),a.createElement(l.a,{content:"explorer.asset.permissions.blacklist_markets"}),":  ",this.renderMarketList(e,t.blacklist_markets),a.createElement("br",null),a.createElement(l.a,{content:"explorer.asset.permissions.whitelist_authorities"}),":  ",this.renderAuthorityList(t.whitelist_authorities),a.createElement("br",null),a.createElement(l.a,{content:"explorer.asset.permissions.whitelist_markets"}),":  ",this.renderMarketList(e,t.whitelist_markets));return a.createElement("div",{className:"asset-card"},a.createElement("div",{className:"card-divider"},a.createElement(l.a,{content:"explorer.asset.permissions.title"})," "),a.createElement("table",{className:"table key-value-table table-hover",style:{padding:"1.2rem"}},a.createElement("tbody",null,s,i)),a.createElement("br",null),this.renderPermissionIndicators(n,r),a.createElement("br",null))}},{key:"renderPriceFeedData",value:function(e){var t=e.bitasset;if(!("feeds"in t)||0==t.feeds.length||t.is_prediction_market)return null;var n=(new Date).getTime(),r=new Date(n-1e3*e.bitasset.options.feed_lifetime_sec),s=t.feeds;if(!(s=s.filter(function(e){return new Date(e[1][0])>r}).sort(function(e,t){return new Date(t[1][0])-new Date(e[1][0])})).length)return null;for(var o=[],c=s[0][1][1].settlement_price,p=s[0][1][1].core_exchange_rate,h=a.createElement("thead",null,a.createElement("tr",null,a.createElement("th",{style:{textAlign:"left"}}," ",a.createElement(l.a,{content:"explorer.asset.price_feed_data.publisher"})," "),a.createElement("th",null,a.createElement(l.a,{content:"explorer.asset.price_feed_data.settlement_price"}),a.createElement("br",null),"(",this.formattedPrice(c,!1,!0),")"),a.createElement("th",null,a.createElement(l.a,{content:"explorer.asset.price_feed_data.core_exchange_rate"}),a.createElement("br",null),"(",this.formattedPrice(p,!1,!0),")"),a.createElement("th",null," ",a.createElement(l.a,{content:"explorer.asset.price_feed_data.maintenance_collateral_ratio"})," "),a.createElement("th",null," ",a.createElement(l.a,{content:"explorer.asset.price_feed_data.maximum_short_squeeze_ratio"})," "),a.createElement("th",null," ",a.createElement(l.a,{content:"explorer.asset.price_feed_data.published"})," "))),b=0;b<s.length;b++){var f=s[b],E=f[0],v=new Date(f[1][0]+"Z"),y=f[1][1].settlement_price,k=f[1][1].core_exchange_rate,w=f[1][1].maintenance_collateral_ratio/10+"%",x=f[1][1].maximum_short_squeeze_ratio/10+"%";o.push(a.createElement("tr",{key:E},a.createElement("td",null," ",a.createElement(i.a,{account:E})," "),a.createElement("td",{style:{textAlign:"right"}},this.formattedPrice(y,!0)),a.createElement("td",{style:{textAlign:"right"}}," ",this.formattedPrice(k,!0)," "),a.createElement("td",{style:{textAlign:"right"}}," ",w),a.createElement("td",{style:{textAlign:"right"}}," ",x),a.createElement("td",{style:{textAlign:"right"}},a.createElement(d.a,{time:v}))))}var O=this.state.sortDirection,N={name:function(e,t){var n=_.b.getAccount(e.borrower,!1);n&&(n=n.get("name"));var a=_.b.getAccount(t.borrower,!1);return a&&(a=a.get("name")),n>a?O?1:-1:n<a?O?-1:1:0},price:function(e,t){return(O?1:-1)*(e.call_price.toReal()-t.call_price.toReal())},collateral:function(e,t){return(O?1:-1)*(t.getCollateral().getAmount()-e.getCollateral().getAmount())},debt:function(e,t){return(O?1:-1)*(t.amountToReceive().getAmount()-e.amountToReceive().getAmount())},ratio:function(e,t){return(O?1:-1)*(e.getRatio()-t.getRatio())}};return a.createElement("div",{className:"grid block small-12 ",style:{overflow:"visible"}},a.createElement("div",{className:"grid-content no-padding"},a.createElement("div",{className:"asset-card"},a.createElement(g.b,{defaultActiveTab:0,segmented:!1,setting:"bitassetDataTabs"},a.createElement(g.a,{title:"explorer.asset.price_feed_data.title"},a.createElement("table",{className:"table asset-table order-table table-hover",style:{padding:"1.2rem"}},h,a.createElement("tbody",null,o))),a.createElement(g.a,{title:"explorer.asset.margin_positions.title"},a.createElement("table",{className:"table asset-table order-table table-hover",style:{padding:"1.2rem"}},a.createElement("thead",null,a.createElement("tr",null,a.createElement("th",{className:"clickable",onClick:this._toggleSortOrder.bind(this,"name"),style:{textAlign:"left"}},a.createElement(l.a,{content:"transaction.borrower"})),a.createElement("th",{className:"clickable",onClick:this._toggleSortOrder.bind(this,"collateral")},a.createElement(l.a,{content:"transaction.collateral"}),this.state.callOrders.length?a.createElement("span",null," (",a.createElement(u.a,{amount:this.state.callOrders[0].getCollateral().getAmount(),asset:this.state.callOrders[0].getCollateral().asset_id,hide_amount:!0})," ",")"):null),a.createElement("th",{className:"clickable",onClick:this._toggleSortOrder.bind(this,"debt")},a.createElement(l.a,{content:"transaction.borrow_amount"}),this.state.callOrders.length?a.createElement("span",null," (",a.createElement(u.a,{amount:this.state.callOrders[0].amountToReceive().getAmount(),asset:this.state.callOrders[0].amountToReceive().asset_id,hide_amount:!0})," ",")"):null),a.createElement("th",{style:{paddingRight:10},className:"clickable"},a.createElement("span",{onClick:this._toggleSortOrder.bind(this,"price")},a.createElement(l.a,{content:"exchange.call"})),this.state.callOrders.length?a.createElement("span",null," (",a.createElement(m.a,{base_amount:this.state.callOrders[0].call_price.base.amount,base_asset:this.state.callOrders[0].call_price.base.asset_id,quote_amount:this.state.callOrders[0].call_price.quote.amount,quote_asset:this.state.callOrders[0].call_price.quote.asset_id,hide_value:!0,noPopOver:!0}),")"):null),a.createElement("th",{className:"clickable",onClick:this._toggleSortOrder.bind(this,"ratio")},a.createElement(l.a,{content:"borrow.coll_ratio"})))),a.createElement("tbody",null,this.state.callOrders.sort(N[this.state.marginTableSort]).map(function(e){return a.createElement("tr",{className:"margin-row",key:e.id},a.createElement("td",null,a.createElement(i.a,{account:e.borrower})),a.createElement("td",{style:{textAlign:"right"}},a.createElement(u.a,{amount:e.getCollateral().getAmount(),asset:e.getCollateral().asset_id,hide_asset:!0})),a.createElement("td",{style:{textAlign:"right"}},a.createElement(u.a,{amount:e.amountToReceive().getAmount(),asset:e.amountToReceive().asset_id,hide_asset:!0})),a.createElement("td",{style:{textAlign:"right",paddingRight:10}},a.createElement(m.a,{base_amount:e.call_price.base.amount,base_asset:e.call_price.base.asset_id,quote_amount:e.call_price.quote.amount,quote_asset:e.call_price.quote.asset_id,hide_symbols:!0})),a.createElement("td",{className:e.getStatus(),style:{textAlign:"right"}},e.getRatio().toFixed(3)))}))))))))}},{key:"render",value:function(){var e=this.props.asset.toJS(),t="bitasset"in e?this.renderPriceFeed(e):null,n="bitasset"in e?this.renderPriceFeedData(e):null;return a.createElement("div",{className:"grid-block page-layout"},a.createElement("div",{className:"grid-block main-content vertical",style:{overflow:"visible"}},a.createElement("div",{className:"grid-container"},a.createElement("div",{className:"grid-content"},a.createElement("div",{className:"grid-block no-margin small-12 shrink",style:{overflow:"visible"}},this.renderAboutBox(e)),a.createElement("div",{className:"grid-block no-margin small-12 shrink vertical medium-horizontal",style:{overflow:"visible"}},a.createElement("div",{className:"small-12 medium-6",style:{overflow:"visible"}},this.renderSummary(e)),a.createElement("div",{className:"small-12 medium-6",style:{overflow:"visible"}},t||this.renderPermissions(e))),a.createElement("div",{className:"grid-block no-margin small-12 shrink vertical medium-horizontal",style:{overflow:"visible"}},a.createElement("div",{className:"small-12 medium-6",style:{overflow:"visible"}},this.renderFeePool(e)),a.createElement("div",{className:"small-12 medium-6",style:{overflow:"visible"}},t?this.renderPermissions(e):null)),n))))}}]),t}();j.propTypes={backingAsset:o.a.ChainAsset.isRequired},j=Object(c.a)(j,{keep_updating:!0});var C=function(e){function t(){return O(this,t),N(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return T(t,a["Component"]),w(t,[{key:"render",value:function(){var e=this.props.asset.has("bitasset")?this.props.asset.getIn(["bitasset","options","short_backing_asset"]):"1.3.0";return a.createElement(j,k({},this.props,{backingAsset:e}))}}]),t}();C.propTypes={asset:o.a.ChainAsset.isRequired},C=Object(c.a)(C,{keep_updating:!0});var S=function(e){function t(){return O(this,t),N(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return T(t,a["Component"]),w(t,[{key:"render",value:function(){var e=this.props.match.params.symbol.toUpperCase();return a.createElement(C,k({},this.props,{asset:e}))}}]),t}();t.default=S},1268:function(e,t,n){"use strict";var a=n(0),r=n(3),s=n(879),l=n(19),i=n(40),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["Component"]),o(t,[{key:"shouldComponentUpdate",value:function(e){return!e.account.get("name")||!this.props.account.get("name")||e.account.get("name")!==this.props.account.get("name")}},{key:"render",value:function(){var e=this.props.account.get("name");return e?this.props.noLink?a.createElement("span",null,e):a.createElement(s.a,{onClick:this.props.onClick?this.props.onClick:function(){},to:"/account/"+e+"/"+this.props.subpage+"/"},e):a.createElement("span",null,this.props.account.get("id"))}}]),t}();c.propTypes={account:l.a.ChainObject.isRequired,subpage:r.string.isRequired},c.defaultProps={subpage:"overview",autosubscribe:!1},t.a=Object(i.a)(c)},1276:function(e,t,n){"use strict";n.d(t,"b",function(){return _}),n.d(t,"a",function(){return f});var a=n(0),r=n(3),s=n(2),l=n.n(s),i=n(28),o=n.n(i),c=n(16),u=n(18),m=n(8),p=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function b(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var f=function(e){function t(){return d(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return b(t,a["Component"]),p(t,[{key:"render",value:function(){var e=this.props,t=e.isActive,n=e.index,r=e.changeTab,s=e.title,i=e.className,c=e.disabled,u=o()({"is-active":t},i);return this.props.collapsed?a.createElement("option",{value:n},"string"==typeof s&&s.indexOf(".")>0?a.createElement(l.a,{className:"tab-title",content:s}):a.createElement("span",{className:"tab-title"},s)):a.createElement("li",{className:u,onClick:c?null:r.bind(this,n)},a.createElement("a",null,"string"==typeof s&&s.indexOf(".")>0?a.createElement(l.a,{className:"tab-title",content:s}):a.createElement("span",{className:"tab-title"},s),this.props.subText?a.createElement("div",{className:"tab-subtext"},this.props.subText):null))}}]),t}();f.propTypes={changeTab:r.func,isActive:r.bool.isRequired,index:r.number.isRequired,className:r.string},f.defaultProps={isActive:!1,index:0,className:""};var _=function(e){function t(e){d(this,t);var n=h(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.state={activeTab:e.setting?e.viewSettings.get(e.setting,e.defaultActiveTab):e.defaultActiveTab,width:window.innerWidth},n._setDimensions=n._setDimensions.bind(n),n}return b(t,a["Component"]),p(t,[{key:"componentDidMount",value:function(){this._setDimensions(),window.addEventListener("resize",this._setDimensions,{capture:!1,passive:!0})}},{key:"componentWillReceiveProps",value:function(e){var t=e.viewSettings.get(e.setting);t!==this.props.viewSettings.get(this.props.setting)&&this.setState({activeTab:t})}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._setDimensions)}},{key:"_setDimensions",value:function(){var e=window.innerWidth;e!==this.state.width&&this.setState({width:e})}},{key:"_changeTab",value:function(e){e!==this.state.activeTab&&(this.props.setting&&u.a.changeViewSetting(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},this.props.setting,e)),this.setState({activeTab:e}),this.props.onChangeTab&&this.props.onChangeTab(e))}},{key:"render",value:function(){var e=this,t=this.props,n=t.children,r=t.contentClass,s=t.tabsClass,i=t.style,c=t.segmented,u=this.state.width<900,m=null,p=[],d=a.Children.map(n,function(t,n){if(!t)return null;if(u&&t.props.disabled)return null;var r=n===e.state.activeTab;return r&&(m=t.props.children),a.cloneElement(t,{collapsed:u,isActive:r,changeTab:e._changeTab.bind(e),index:n})}).filter(function(e){return e&&p.push(e.props.index),null!==e});return m||(m=d[0].props.children),a.createElement("div",{className:o()(this.props.actionButtons?"with-buttons":"",this.props.className)},a.createElement("div",{className:"service-selector"},a.createElement("ul",{style:i,className:o()("button-group no-margin",s,{segmented:c})},u?a.createElement("li",{style:{paddingLeft:10,paddingRight:10,minWidth:"15rem"}},a.createElement("select",{value:this.state.activeTab,style:{marginTop:10,marginBottom:10},className:"cyb-select",onChange:function(t){e._changeTab(parseInt(t.target.value,10))}},d.map(function(e){return a.createElement(l.a,{key:e.key,component:"option",content:e.props.title,value:e.props.index})}))):d,this.props.actionButtons?a.createElement("li",{className:"tabs-action-buttons"},this.props.actionButtons):null)),a.createElement("div",{className:r+" tab-content"},m))}}]),t}();_.propTypes={setting:r.string,defaultActiveTab:r.number,segmented:r.bool},_.defaultProps={active:0,defaultActiveTab:0,segmented:!0,contentClass:"",style:{}},_=Object(c.connect)(_,{listenTo:function(){return[m.b]},getProps:function(){return{viewSettings:m.b.getState().viewSettings}}})},1279:function(e,t,n){"use strict";var a=n(0),r=n(3),s=n(73),l=n(1),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var o=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["Component"]),i(t,[{key:"shouldComponentUpdate",value:function(e){return e.time!==this.props.time}},{key:"render",value:function(){var e=this.props,t=e.time,n=e.chain_time?l.b.getEstimatedChainTimeOffset():0;if(!t)return null;"string"!=typeof t||-1!==t.indexOf("+")||/Z$/.test(t)||(t+="Z");var r=Math.round(((new Date).getTime()-new Date(t).getTime()+n)/1e3),i=void 0;return i=r<60?500:r<3600?3e4:18e5,a.createElement("span",{className:"tooltip inline-block "+this.props.className,ref:"timeago_ttip_"+t,"data-tip":new Date(t),"data-place":"bottom"},a.createElement(s.c,{updateInterval:i,value:new Date(t).getTime()+.75*n,initialNow:Date.now()}))}}]),t}();o.propTypes={time:r.any.isRequired,chain_time:r.bool,component:r.element,className:r.string},o.defaultProps={chain_time:!0},t.a=o}}]);