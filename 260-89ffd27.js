(window.webpackJsonp=window.webpackJsonp||[]).push([[260],{2260:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n(1109),o=n(1),s=n.n(o),i=n(51),l=n(1108),c=n(2254),u=n(2250),m=n(130),p=n(138),f=n.n(p),b=n(221),d=n(64),h=n(341),g=n(2),_=n(22),y=n(24),v=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var E=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),v(t,[{key:"shouldComponentUpdate",value:function(e){return!e.account.get("name")||!this.props.account.get("name")||e.account.get("name")!==this.props.account.get("name")}},{key:"render",value:function(){var e=this.props.account.get("name");return e?r.createElement(a.a,{onClick:this.props.onClick?this.props.onClick:function(){},to:"/account/"+e+"/"+this.props.subpage+"/"},e):r.createElement("span",null,this.props.account.get("id"))}}]),t}();E.propTypes={account:_.a.ChainObject.isRequired,subpage:g.string.isRequired},E.defaultProps={subpage:"overview"};var k=Object(y.a)(E),w=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var O=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),w(t,[{key:"render",value:function(){var e=this.props.witness.get("witness_account");return r.createElement(k,{account:e})}}]),t}();O.propTypes={witness:_.a.ChainObject.isRequired};var x=O=Object(y.a)(O),j=n(2378),C=n.n(j),N=n(9),P=n.n(N),A=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var T=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),A(t,[{key:"shouldComponentUpdate",value:function(e){if(e.blocks.size<20)return!1;var t=this.refs.trx_chart?this.refs.trx_chart.chart:null;if(t&&e.blocks!==this.props.blocks){var n=this._getData(e),r=n.trxData,a=n.colors,o=t.series[0],s=o.xData[o.xData.length-1];if(o.xData.length)return r.forEach(function(e){e[0]>s&&o.addPoint(e,!1,o.xData.length>=30)}),t.options.plotOptions.column.colors=a,t.redraw(),!1}return e.blocks!==this.props.blocks||e.head_block!==this.props.head_block}},{key:"_getData",value:function(e){var t=e.blocks,n=e.head_block,r=[],a=0;return{colors:(r=t.filter(function(e){return e.id>=n-30}).sort(function(e,t){return e.id-t.id}).takeLast(30).map(function(e){return a=Math.max(e.transactions.length,a),[e.id,e.transactions.length]}).toArray()).map(function(e){return e[1]<=5?"#50D2C2":e[1]<=10?"#A0D3E8":e[1]<=20?"#FCAB53":"#deb869"}),trxData:r,max:a}}},{key:"render",value:function(){var e=this.props,t=(e.blocks,e.head_block,this._getData(this.props)),n=t.trxData,a=t.colors,o=t.max,s=P.a.translate("explorer.blocks.transactions"),i={chart:{type:"column",backgroundColor:"rgba(255, 0, 0, 0)",spacing:[0,0,5,0],height:100},title:{text:null},credits:{enabled:!1},legend:{enabled:!1},rangeSelector:{enabled:!1},navigator:{enabled:!1},scrollbar:{enabled:!1},tooltip:{shared:!1,formatter:function(){return s+": "+this.point.y}},series:[{name:"Transactions",data:n,color:"#50D2C2"}],xAxis:{labels:{enabled:!1},title:{text:null}},yAxis:{min:0,max:Math.max(1.5,o+.5),title:{text:null},labels:{enabled:!1},gridLineWidth:0,currentPriceIndicator:{enabled:!1}},plotOptions:{column:{animation:!0,minPointLength:5,colorByPoint:!0,colors:a,borderWidth:0}}};return n.length?r.createElement(C.a,{ref:"trx_chart",config:i}):null}}]),t}(),S=n(30),D=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var R=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),D(t,[{key:"shouldComponentUpdate",value:function(e){if(e.blockTimes.length<19)return!1;if(0===this.props.blockTimes.length)return!0;var t=this.refs.chart?this.refs.chart.chart:null;if(t){var n=this._getData(e),r=n.blockTimes,a=n.colors,o=t.series[0],s=o.xData[o.xData.length-1];if(o.xData.length)return r.forEach(function(e){e[0]>s&&o.addPoint(e,!1,o.xData.length>=30)}),t.options.plotOptions.column.colors=a,t.redraw(),!1}return e.blockTimes[e.blockTimes.length-1][0]!==this.props.blockTimes[this.props.blockTimes.length-1][0]||e.blockTimes.length!==this.props.blockTimes.length}},{key:"_getData",value:function(){var e=this.props,t=e.blockTimes,n=e.head_block;return t.filter(function(e){return e[0]>=n-30}),t&&t.length&&(t=Object(S.takeRight)(t,30)),{blockTimes:t,colors:t.map(function(e){return e[1]<=5?"#50D2C2":e[1]<=10?"#A0D3E8":e[1]<=20?"#FCAB53":"#deb869"})}}},{key:"render",value:function(){var e=this._getData(this.props),t=e.blockTimes,n=e.colors,a=P.a.translate("explorer.blocks.block_time"),o={chart:{type:"column",backgroundColor:"rgba(255, 0, 0, 0)",spacing:[0,0,5,0],height:100},title:{text:null},credits:{enabled:!1},legend:{enabled:!1},rangeSelector:{enabled:!1},navigator:{enabled:!1},scrollbar:{enabled:!1},tooltip:{shared:!1,formatter:function(){return a+": "+this.point.y+"s"}},series:[{name:"Block time",data:t,color:"#50D2C2"}],xAxis:{labels:{enabled:!1},title:{text:null}},yAxis:{min:0,title:{text:null},labels:{enabled:!1},gridLineWidth:0,currentPriceIndicator:{enabled:!1}},plotOptions:{column:{animation:!0,minPointLength:3,colorByPoint:!0,colors:n,borderWidth:0}}};return t.length?r.createElement(C.a,{ref:"chart",config:o}):null}}]),t}(),B=n(26),L=n.n(B),I=n(8),M=n(5),V=n.n(M),q=n(342),U=n(19),W=n(2288),z=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function F(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function H(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function G(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n(721);var J=function(e){function t(){return F(this,t),H(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return G(t,r["Component"]),z(t,[{key:"shouldComponentUpdate",value:function(e){return e.blockTime!==this.props.blockTime}},{key:"render",value:function(){var e=this.props.blockTime,t=(new Date).getTime()-new Date(e).getTime(),n=L()("txtlabel",{success:t<=6e3},{info:t>6e3&&t<=15e3},{warning:t>15e3&&t<=25e3},{error:t>25e3});return e?r.createElement("h3",{className:n},r.createElement(q.a,{time:e})):null}}]),t}(),Y=function(e){function t(e){F(this,t);var n=H(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={animateEnter:!1,operationsHeight:null,blocksHeight:null},n._updateHeight=n._updateHeight.bind(n),n}return G(t,r["Component"]),z(t,[{key:"_getBlock",value:function(e,t){e&&(e=parseInt(e,10),b.a.getLatest(e,t))}},{key:"componentWillMount",value:function(){window.addEventListener("resize",this._updateHeight,{capture:!1,passive:!0})}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._updateHeight)}},{key:"componentWillReceiveProps",value:function(e){if(0===e.latestBlocks.size)return this._getInitialBlocks();this.state.animateEnter||this.setState({animateEnter:!0});var t=e.dynGlobalObject.get("head_block_number");return e.latestBlocks.size>=20&&e.dynGlobalObject.get("head_block_number")!==e.latestBlocks.get(0).id?this._getBlock(t,t):void 0}},{key:"componentDidMount",value:function(){this._getInitialBlocks()}},{key:"shouldComponentUpdate",value:function(e,t){return!M.is(e.latestBlocks,this.props.latestBlocks)||!I.a.are_equal_shallow(t,this.state)}},{key:"componentDidUpdate",value:function(){this._updateHeight()}},{key:"_getInitialBlocks",value:function(){var e=parseInt(this.props.dynGlobalObject.get("head_block_number"),10);if(e)for(var t=19;t>=0;t--){var n=!1;if(this.props.latestBlocks.size>0)for(var r=0;r<this.props.latestBlocks.size;r++)if(this.props.latestBlocks.get(r).id===e-t){n=!0;break}n||this._getBlock(e-t,e)}}},{key:"_updateHeight",value:function(){var e=this.refs.outerWrapper.offsetHeight,t=this.refs.operationsText.offsetHeight,n=this.refs.blocksText.offsetHeight;this.setState({operationsHeight:e-t,blocksHeight:e-n},this.psUpdate)}},{key:"render",value:function(){var e=this.props,t=e.latestBlocks,n=e.latestTransactions,o=e.globalObject,i=e.dynGlobalObject,l=e.coreAsset,c=this.state,u=c.blocksHeight,m=c.operationsHeight,p=null,f=null,b=null,g=0,_=t.size,y=0,v=[],E=0;if(t&&t.size>=20){var k=void 0,w=void 0,O=void 0;t.filter(function(e,t){return e.id===i.get("head_block_number")-t}).sort(function(e,t){return e.id-t.id}).forEach(function(e,t){g+=e.transactions.length,t>0?(v.push([e.id,(e.timestamp-k)/1e3]),w=e.timestamp):O=e.timestamp,k=e.timestamp}),p=t.sort(function(e,t){return t.id-e.id}).take(20).map(function(e){return r.createElement("tr",{key:e.id},r.createElement("td",null,r.createElement(a.a,{to:"/block/"+e.id},"#",I.a.format_number(e.id,0))),r.createElement("td",null,r.createElement(d.a,{value:e.timestamp,format:"time"})),r.createElement("td",null,r.createElement(x,{witness:e.witness})),r.createElement("td",null,I.a.format_number(e.transactions.length,0)))}).toArray(),f=n.take(15).map(function(e){return e.operations.map(function(t,n){return r.createElement(h.a,{key:"trx_"+e.block_num+"_"+n,op:t,result:e.operation_results[n],block:e.block_num,hideFee:!0,hideOpLabel:!1,current:"1.2.0"})})}).toArray(),b=t.first().timestamp,E=v.reduce(function(e,t,n,r){return e+t[1]/r.length},0),y=g/((w-O)/1e3)}return r.createElement("div",{ref:"outerWrapper",className:"block-wrapper grid-block page-layout"},r.createElement("div",{className:"block-left bgcolor-primary with-shadow"},r.createElement("div",{className:"grid-block text-center small-6"},r.createElement("div",{className:"grid-content no-overflow"},r.createElement("span",{className:"txtlabel subheader"},r.createElement(s.a,{component:"span",content:"explorer.blocks.current_block"})),r.createElement("h2",null,"#",I.a.format_number(i.get("head_block_number"),0)))),r.createElement("div",{className:"grid-block text-center small-6"},r.createElement("div",{className:"grid-content no-overflow clear-fix"},r.createElement("span",{className:"txtlabel subheader"},r.createElement(s.a,{component:"span",content:"explorer.blocks.active_witnesses"})),r.createElement("h2",{className:"txtlabel warning"},o.get("active_witnesses").size))),r.createElement("div",{className:"grid-block text-center small-6"},r.createElement("div",{className:"grid-content no-overflow"},r.createElement("span",{className:"txtlabel subheader"},r.createElement(s.a,{component:"span",content:"explorer.blocks.last_block"})),r.createElement(J,{blockTime:b}))),r.createElement("div",{className:"grid-block text-center small-6"},r.createElement("div",{className:"grid-content no-overflow clear-fix"},r.createElement("span",{className:"txtlabel subheader"},r.createElement(s.a,{component:"span",content:"explorer.blocks.active_committee_members"})),r.createElement("h2",{className:"txtlabel warning"},o.get("active_committee_members").size))),r.createElement("div",{className:"grid-block text-center small-6"},r.createElement("div",{className:"grid-content no-overflow"},r.createElement("span",{className:"txtlabel subheader"},r.createElement(s.a,{component:"span",content:"explorer.blocks.avg_conf_time"})),r.createElement("h2",null,I.a.format_number(E/2,2),"s"))),r.createElement("div",{className:"grid-block text-center small-6"},r.createElement("div",{className:"grid-content no-overflow clear-fix"},r.createElement("span",{className:"txtlabel subheader"},r.createElement(s.a,{component:"span",content:"explorer.blocks.recently_missed_blocks"})),r.createElement("h2",{className:"txtlabel cancel",style:{fontWeight:"100"}},i.get("recently_missed_count")))),r.createElement("div",{className:"grid-block text-center small-6"},r.createElement("div",{className:"grid-content no-overflow clear-fix"},r.createElement("span",{className:"txtlabel subheader"},r.createElement(s.a,{component:"span",content:"explorer.blocks.trx_per_block"})),r.createElement("h2",null,I.a.format_number(g/_||0,2)))),r.createElement("div",{className:"grid-block text-center small-6"},r.createElement("div",{className:"grid-content no-overflow clear-fix"},r.createElement("span",{className:"txtlabel subheader"},r.createElement(s.a,{component:"span",content:"explorer.asset.summary.current_supply"})),r.createElement("h3",{className:"txtlabel"},r.createElement(U.a,{amount:l.getIn(["dynamic","current_supply"]),asset:l.get("id"),decimalOffset:5})))),r.createElement("div",{className:"grid-block text-center small-6"},r.createElement("div",{className:"grid-content no-overflow"},r.createElement("span",{className:"txtlabel subheader"},r.createElement(s.a,{component:"span",content:"explorer.blocks.trx_per_sec"})),r.createElement("h2",null,I.a.format_number(y,2)))),r.createElement("div",{className:"grid-block text-center small-6"},r.createElement("div",{className:"grid-content no-overflow clear-fix"},r.createElement("span",{className:"txtlabel subheader"},r.createElement(s.a,{component:"span",content:"explorer.asset.summary.stealth_supply"})),r.createElement("h3",{className:"txtlabel"},r.createElement(U.a,{amount:l.getIn(["dynamic","confidential_supply"]),asset:l.get("id"),decimalOffset:5})))),r.createElement("div",{className:"grid-block text-center small-6"},r.createElement("div",{className:"grid-content no-overflow"},r.createElement("div",{className:"text-left txtlabel subheader"},r.createElement(s.a,{component:"span",content:"explorer.blocks.trx_per_block"})),r.createElement(T,{blocks:t,head_block:i.get("head_block_number")}))),r.createElement("div",{className:"grid-block text-center small-6"},r.createElement("div",{className:"grid-content no-overflow"},r.createElement("div",{className:"text-left txtlabel subheader"},r.createElement(s.a,{component:"span",content:"explorer.blocks.block_times"})),r.createElement(R,{blockTimes:v,head_block_number:i.get("head_block_number")})))),r.createElement("div",{ref:"transactionsBlock",className:"block-right show-for-medium vertical grid-block no-overflow",style:{padding:0}},r.createElement("div",{className:"grid-block bgcolor-primary with-shadow small-12 vertical no-overflow"},r.createElement("div",{className:"grid-block vertical no-overflow generic-bordered-box"},r.createElement("div",{ref:"operationsText"},r.createElement("div",{className:"block-content-header"},r.createElement(s.a,{content:"account.recent"})),r.createElement("table",{className:"table"},r.createElement("thead",null,r.createElement("tr",null,r.createElement("th",null,r.createElement(s.a,{content:"account.votes.info"})))))),r.createElement("div",{className:"grid-block",style:{maxHeight:m||"400px",overflow:"auto"},ref:"operations"},r.createElement("table",{className:"table"},r.createElement("tbody",null,f))))),r.createElement("div",{className:"grid-block bgcolor-primary with-shadow small-12 vertical no-overflow"},r.createElement("div",{className:"grid-block vertical no-overflow generic-bordered-box"},r.createElement("div",{ref:"blocksText"},r.createElement("div",{className:"block-content-header"},r.createElement(s.a,{component:"span",content:"explorer.blocks.recent"}))),r.createElement("div",{className:"grid-block vertical",style:{maxHeight:u||"438px",overflow:"auto"},ref:"blocks"},r.createElement("table",{className:"table"},r.createElement("thead",null,r.createElement("tr",null,r.createElement("th",null,r.createElement(s.a,{component:"span",content:"explorer.block.id"})),r.createElement("th",null,r.createElement(s.a,{component:"span",content:"explorer.block.date"})),r.createElement("th",null,r.createElement(s.a,{component:"span",content:"explorer.block.witness"})),r.createElement("th",null,r.createElement(s.a,{component:"span",content:"explorer.block.count"})))),r.createElement(W.a,{component:"tbody",transitionName:"newrow"},p)))))))}}]),t}();Y.propTypes={globalObject:_.a.ChainObject.isRequired,dynGlobalObject:_.a.ChainObject.isRequired,coreAsset:_.a.ChainAsset.isRequired},Y.defaultProps={globalObject:"2.0.0",dynGlobalObject:"2.1.0",coreAsset:"1.3.0",latestBlocks:{},assets:{},accounts:{},height:1};var K=Object(y.a)(Y,{keep_updating:!0,show_loader:!0}),Q=function(){return r.createElement(f.a,{stores:[m.a],inject:{latestBlocks:function(){return m.a.getState().latestBlocks},latestTransactions:function(){return m.a.getState().latestTransactions}}},r.createElement(K,null))},X=n(2329),Z=n(10),$=n(2284),ee=n(21),te=n(139),ne=n(215),re=n(80),ae=n(2283),oe=n(3),se=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function ie(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var le=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.state={foundLast:!1,lastAsset:"",assetsFetched:0,filterUIA:e.filterUIA||"",filterMPA:e.filterMPA||"",filterPM:e.filterPM||""},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),se(t,[{key:"shouldComponentUpdate",value:function(e,t){return!V.a.is(e.assets,this.props.assets)||t.filterMPA!==this.state.filterMPA||t.filterUIA!==this.state.filterUIA||t.filterPM!==this.state.filterPM}},{key:"componentWillMount",value:function(){this._checkAssets(this.props.assets,!0)}},{key:"_checkAssets",value:function(e,t){var n=e.sort(function(e,t){return e.symbol>t.symbol?1:e.symbol<t.symbol?-1:0}).last();0===e.size||t?($.a.getAssetList.defer("A",100),this.setState({assetsFetched:100})):e.size>=this.state.assetsFetched&&($.a.getAssetList.defer(n.symbol,100),this.setState({assetsFetched:this.state.assetsFetched+99}))}},{key:"componentWillReceiveProps",value:function(e){e.assets!==this.props.assets&&this._checkAssets(e.assets)}},{key:"linkToAccount",value:function(e){return e?r.createElement(te.a,{account:e}):r.createElement("span",null,"-")}},{key:"_onFilter",value:function(e,t){this.setState(ie({},e,t.target.value.toUpperCase())),ee.a.changeViewSetting(ie({},e,t.target.value.toUpperCase()))}},{key:"render",value:function(){var e=this,t=this.props.assets,n=P.a.translate("markets.filter").toUpperCase(),o=oe.b.getAsset("1.3.0"),i=t.filter(function(t){return!t.market_asset&&-1!==t.symbol.indexOf(e.state.filterUIA)}).map(function(t){var n=ne.a.parseDescription(t.options.description),i=t.symbol+"_"+(n.market?n.market:o?o.get("symbol"):"CYB");return r.createElement("tr",{key:t.symbol},r.createElement("td",null,r.createElement(a.a,{to:"/asset/"+t.symbol},r.createElement(re.a,{name:t.symbol}))),r.createElement("td",null,e.linkToAccount(t.issuer)),r.createElement("td",null,r.createElement(U.a,{amount:t.dynamic.current_supply,asset:t.id,hide_asset:!0})),r.createElement("td",null,r.createElement(a.a,{className:"button outline",to:"/market/"+i},r.createElement(s.a,{content:"header.exchange"}))))}).sort(function(e,t){return e.key>t.key?1:e.key<t.key?-1:0}).toArray(),l=t.filter(function(t){return t.bitasset_data&&!t.bitasset_data.is_prediction_market&&-1!==t.symbol.indexOf(e.state.filterMPA)}).map(function(t){var n=ne.a.parseDescription(t.options.description),i=t.symbol+"_"+(n.market?n.market:o?o.get("symbol"):"CYB");return r.createElement("tr",{key:t.symbol},r.createElement("td",null,r.createElement(a.a,{to:"/asset/"+t.symbol},r.createElement(re.a,{name:t.symbol}))),r.createElement("td",null,e.linkToAccount(t.issuer)),r.createElement("td",null,r.createElement(U.a,{amount:t.dynamic.current_supply,asset:t.id,hide_asset:!0})),r.createElement("td",null,r.createElement(a.a,{className:"button outline",to:"/market/"+i},r.createElement(s.a,{content:"header.exchange"}))))}).sort(function(e,t){return e.key>t.key?1:e.key<t.key?-1:0}).toArray(),c=t.filter(function(t){var n=ne.a.parseDescription(t.options.description);return t.bitasset_data&&t.bitasset_data.is_prediction_market&&(-1!==t.symbol.toLowerCase().indexOf(e.state.filterPM.toLowerCase())||-1!==n.main.toLowerCase().indexOf(e.state.filterPM.toLowerCase()))}).map(function(e){var t=ne.a.parseDescription(e.options.description),n=e.symbol+"_"+(t.market?t.market:o?o.get("symbol"):"CYB");return r.createElement("tr",{key:e.id.split(".")[2]},r.createElement("td",{style:{width:"80%"}},r.createElement("div",{style:{paddingTop:10,fontWeight:"bold"}},r.createElement(a.a,{to:"/asset/"+e.symbol},r.createElement(re.a,{name:e.symbol})),t.condition?r.createElement("span",null," (",t.condition,")"):null),t?r.createElement("div",{style:{padding:"10px 20px 5px 0",lineHeight:"18px"}},t.main):null,r.createElement("div",{style:{padding:"0 20px 5px 0",lineHeight:"18px"}},r.createElement(te.a,{account:e.issuer}),r.createElement("span",null," ","-"," ",r.createElement(U.a,{amount:e.dynamic.current_supply,asset:e.id})),t.expiry?r.createElement("span",null," - ",t.expiry):null)),r.createElement("td",{style:{width:"20%"}},r.createElement(a.a,{className:"button outline",to:"/market/"+n},r.createElement(s.a,{content:"header.exchange"}))))}).sort(function(e,t){return e.key>t.key?-1:e.key<t.key?1:0}).toArray();return r.createElement("div",{className:"grid-block vertical"},r.createElement("div",{className:"grid-block page-layout vertical readable container"},r.createElement("div",{className:"grid-block main-content small-12 main-content vertical"},r.createElement("div",{className:"generic-bordered-box"},r.createElement(ae.b,{tabsClass:"no-padding bordered-header",setting:"assetsTab",segmented:!1,className:"grid-block vertical no-overflow no-padding overview-tabs with-shadow",contentClass:"grid-block vertical"},r.createElement(ae.a,{title:"explorer.assets.market"},r.createElement("div",{className:"grid-block shrink"},r.createElement("div",{className:"grid-content"},r.createElement("input",{style:{margin:"2px 0"},placeholder:n,type:"text",value:this.state.filterMPA,onChange:this._onFilter.bind(this,"filterMPA")}))),r.createElement("div",{className:"grid-block",style:{paddingBottom:20}},r.createElement("div",{className:"grid-content"},r.createElement("table",{className:"table dashboard-table"},r.createElement("thead",null,r.createElement("tr",null,r.createElement("th",null,r.createElement(s.a,{component:"span",content:"explorer.assets.symbol"})),r.createElement("th",null,r.createElement(s.a,{component:"span",content:"explorer.assets.issuer"})),r.createElement("th",null,r.createElement(s.a,{component:"span",content:"markets.supply"})),r.createElement("th",null))),r.createElement("tbody",null,l))))),r.createElement(ae.a,{title:"explorer.assets.user"},r.createElement("div",{className:"grid-block shrink"},r.createElement("div",{className:"grid-content"},r.createElement("input",{style:{margin:"2px 0"},placeholder:n,type:"text",value:this.state.filterUIA,onChange:this._onFilter.bind(this,"filterUIA")}))),r.createElement("div",{className:"grid-block",style:{paddingBottom:20}},r.createElement("div",{className:"grid-content"},r.createElement("table",{className:"table dashboard-table"},r.createElement("thead",null,r.createElement("tr",null,r.createElement("th",null,r.createElement(s.a,{component:"span",content:"explorer.assets.symbol"})),r.createElement("th",null,r.createElement(s.a,{component:"span",content:"explorer.assets.issuer"})),r.createElement("th",null,r.createElement(s.a,{component:"span",content:"markets.supply"})),r.createElement("th",null))),r.createElement("tbody",null,i))))),r.createElement(ae.a,{title:"explorer.assets.prediction"},r.createElement("div",{className:"grid-block shrink"},r.createElement("div",{className:"grid-content"},r.createElement("input",{style:{margin:"2px 0"},placeholder:P.a.translate("markets.search").toUpperCase(),type:"text",value:this.state.filterPM,onChange:this._onFilter.bind(this,"filterPM")}))),r.createElement("div",{className:"grid-block",style:{paddingBottom:20}},r.createElement("div",{className:"grid-content"},r.createElement("table",{className:"table dashboard-table"},r.createElement("tbody",null,c))))))))))}}]),t}();le.defaultProps={assets:{}},le.propTypes={assets:g.object.isRequired};var ce=le,ue=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var me=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),ue(t,[{key:"render",value:function(){return r.createElement(f.a,{stores:[X.a,Z.b],inject:{assets:function(){return X.a.getState().assets},filterMPA:function(){return Z.b.getState().viewSettings.get("filterMPA")},filterUIA:function(){return Z.b.getState().viewSettings.get("filterUIA")}}},r.createElement(ce,null))}}]),t}(),pe=n(27),fe=n(67),be=n(335),de=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function he(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ge(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _e(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var ye=function(e){function t(){return he(this,t),ge(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return _e(t,r["Component"]),de(t,[{key:"render",value:function(){var e=this.props.account,t=e.getIn(["balances","1.3.0"])||null;return r.createElement("tr",{key:e.get("id")},r.createElement("td",null,e.get("id")),r.createElement("td",null,r.createElement(a.a,{to:"/account/"+e.get("name")+"/overview"},e.get("name"))),r.createElement("td",null,t?r.createElement(be.a,{balance:t}):"n/a"),r.createElement("td",null,t?r.createElement(be.a,{balance:t,asPercentage:!0}):"n/a"))}}]),t}();ye.propTypes={account:_.a.ChainAccount.isRequired},ye.defaultProps={tempComponent:"tr",autosubscribe:!1},ye=Object(y.a)(ye);var ve=function(e){function t(e){he(this,t);var n=ge(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.state={searchTerm:e.searchTerm},n._searchAccounts=Object(S.debounce)(n._searchAccounts,200),n}return _e(t,r["Component"]),de(t,[{key:"shouldComponentUpdate",value:function(e,t){return!V.a.is(e.searchAccounts,this.props.searchAccounts)||t.searchTerm!==this.state.searchTerm}},{key:"_onSearchChange",value:function(e){this.setState({searchTerm:e.target.value.toLowerCase()}),this._searchAccounts(e.target.value)}},{key:"_searchAccounts",value:function(e){fe.a.accountSearch(e)}},{key:"render",value:function(){var e=this.props.searchAccounts,t=this.state.searchTerm,n=null;return e.size>0&&t&&t.length>0&&(n=e.filter(function(e){return-1!==e.indexOf(t)}).sort(function(e,t){return e>t?1:e<t?-1:0}).map(function(e,t){return r.createElement(ye,{key:t,account:e})}).toArray()),r.createElement("div",{className:"grid-block page-layout"},r.createElement("div",{className:"grid-block vertical readable container"},r.createElement("div",{className:"grid-content shrink"},r.createElement(s.a,{component:"h3",content:"explorer.accounts.title"}),r.createElement("input",{type:"text",value:this.state.searchTerm,onChange:this._onSearchChange.bind(this)})),r.createElement("div",{className:"grid-content"},r.createElement("table",{className:"table"},r.createElement("thead",null,r.createElement("tr",null,r.createElement("th",null,r.createElement(s.a,{component:"span",content:"explorer.assets.id"})),r.createElement("th",null,r.createElement(s.a,{component:"span",content:"account.name"})),r.createElement("th",null,r.createElement(s.a,{component:"span",content:"gateway.balance"})),r.createElement("th",null,r.createElement(s.a,{component:"span",content:"account.percent"})))),r.createElement("tbody",null,n)))))}}]),t}();ve.defaultProps={searchAccounts:{}},ve.propTypes={searchAccounts:g.object.isRequired};var Ee=ve,ke=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var we=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),ke(t,[{key:"render",value:function(){return r.createElement(f.a,{stores:[pe.a],inject:{searchAccounts:function(){return pe.a.getState().searchAccounts},searchTerm:function(){return pe.a.getState().searchTerm}}},r.createElement(Ee,null))}}]),t}(),Oe=n(141),xe=n(16),je=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function Ce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ne(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Pe(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Ae=function(e){function t(){return Ce(this,t),Ne(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Pe(t,r["Component"]),je(t,[{key:"_onCardClick",value:function(e){e.preventDefault(),this.context.router.history.push("/account/"+this.props.committee_member.get("name"))}},{key:"render",value:function(){var e=oe.b.getCommitteeMemberById(this.props.committee_member.get("id"));return e?r.createElement("div",{className:"grid-content account-card",onClick:this._onCardClick.bind(this)},r.createElement("div",{className:"card"},r.createElement("h4",{className:"text-center"},this.props.committee_member.get("name")),r.createElement("div",{className:"card-content clearfix"},r.createElement("div",{className:"float-left"},r.createElement(Oe.a,{account:this.props.committee_member.get("name"),size:{height:64,width:64}})),r.createElement("ul",{className:"balances"},r.createElement("li",null,r.createElement(s.a,{content:"account.votes.votes"}),":"," ",r.createElement(U.a,{decimalOffset:5,amount:e.get("total_votes"),asset:"1.3.0"})))))):null}}]),t}();Ae.propTypes={committee_member:_.a.ChainAccount.isRequired},Ae.contextTypes={router:g.object.isRequired},Ae=Object(y.a)(Ae,{keep_updating:!0});var Te=function(e){function t(){return Ce(this,t),Ne(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Pe(t,r["Component"]),je(t,[{key:"_onRowClick",value:function(e){e.preventDefault(),this.context.router.history.push("/account/"+this.props.committee_member.get("name"))}},{key:"render",value:function(){var e=this.props,t=e.committee_member,n=e.rank,a=oe.b.getCommitteeMemberById(t.get("id"));if(!a)return null;a.get("total_votes");var o=a.get("url");return o=o&&o.length>0&&-1===o.indexOf("http")?"http://"+o:o,r.createElement("tr",null,r.createElement("td",{onClick:this._onRowClick.bind(this)},n),r.createElement("td",{onClick:this._onRowClick.bind(this)},t.get("name")),r.createElement("td",{onClick:this._onRowClick.bind(this)},r.createElement(U.a,{amount:a.get("total_votes"),asset:"1.3.0"})),r.createElement("td",null,r.createElement("a",{href:o,rel:"noopener noreferrer",target:"_blank"},a.get("url"))))}}]),t}();Te.propTypes={committee_member:_.a.ChainAccount.isRequired},Te.contextTypes={router:g.object.isRequired},Te=Object(y.a)(Te,{keep_updating:!0});var Se=function(e){function t(){Ce(this,t);var e=Ne(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={sortBy:"rank",inverseSort:!0},e}return Pe(t,r["Component"]),je(t,[{key:"_setSort",value:function(e){this.setState({sortBy:e,inverseSort:e===this.state.sortBy?!this.state.inverseSort:this.state.inverseSort})}},{key:"render",value:function(){var e=this,t=this.props,n=t.committee_members,a=t.cardView,o=t.membersList,i=this.state,l=i.sortBy,c=i.inverseSort,u=null,m={};return n.filter(function(e){return!!e&&-1!==o.indexOf(e.get("id"))}).sort(function(e,t){if(e&&t)return parseInt(t.get("total_votes"),10)-parseInt(e.get("total_votes"),10)}).forEach(function(e,t){e&&(m[e.get("id")]=t+1)}),n.length>0&&n[1]&&(u=n.filter(function(t){if(!t)return!1;var n=oe.b.getObject(t.get("committee_member_account"));return!!n&&-1!==n.get("name").indexOf(e.props.filter)}).sort(function(e,t){var n=oe.b.getObject(e.get("committee_member_account")),r=oe.b.getObject(t.get("committee_member_account"));if(!n||!r)return 0;switch(l){case"name":return n.get("name")>r.get("name")?c?1:-1:n.get("name")<r.get("name")?c?-1:1:0;case"rank":return c?m[e.get("id")]-m[t.get("id")]:m[t.get("id")]-m[e.get("id")];default:return c?parseInt(e.get(l),10)-parseInt(t.get(l),10):parseInt(t.get(l),10)-parseInt(e.get(l),10)}}).map(function(e){return a?r.createElement(Ae,{key:e.get("id"),rank:m[e.get("id")],committee_member:e.get("committee_member_account")}):r.createElement(Te,{key:e.get("id"),rank:m[e.get("id")],committee_member:e.get("committee_member_account")})})),a?r.createElement("div",{className:"grid-block no-margin small-up-1 medium-up-2 large-up-3"},u):r.createElement("table",{className:"table table-hover"},r.createElement("thead",null,r.createElement("tr",null,r.createElement("th",{className:"clickable",onClick:this._setSort.bind(this,"rank")},r.createElement(s.a,{content:"explorer.witnesses.rank"})),r.createElement("th",{className:"clickable",onClick:this._setSort.bind(this,"name")},r.createElement(s.a,{content:"account.votes.name"})),r.createElement("th",{className:"clickable",onClick:this._setSort.bind(this,"total_votes")},r.createElement(s.a,{content:"account.votes.votes"})),r.createElement("th",null,r.createElement(s.a,{content:"account.votes.url"})))),r.createElement("tbody",null,u))}}]),t}();Se.propTypes={committee_members:_.a.ChainObjectsList.isRequired},Se=Object(y.a)(Se,{keep_updating:!0,show_loader:!0});var De=function(e){function t(e){Ce(this,t);var n=Ne(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={filterCommitteeMember:e.filterCommitteeMember||"",cardView:e.cardView},n}return Pe(t,r["Component"]),je(t,[{key:"shouldComponentUpdate",value:function(e,t){return!V.a.is(e.globalObject,this.props.globalObject)||t.filterCommitteeMember!==this.state.filterCommitteeMember||t.cardView!==this.state.cardView}},{key:"_onFilter",value:function(e){e.preventDefault(),this.setState({filterCommitteeMember:e.target.value.toLowerCase()}),ee.a.changeViewSetting({filterCommitteeMember:e.target.value.toLowerCase()})}},{key:"_toggleView",value:function(){ee.a.changeViewSetting({cardViewCommittee:!this.state.cardView}),this.setState({cardView:!this.state.cardView})}},{key:"render",value:function(){var e=this.props.globalObject;e=e.toJS();var t=[];for(var n in e.active_committee_members)e.active_committee_members.hasOwnProperty(n)&&t.push(e.active_committee_members[n]);return r.createElement("div",{className:"grid-block"},r.createElement("div",{className:"grid-block page-layout vertical medium-horizontal readable container"},r.createElement("div",{className:"grid-block vertical"},r.createElement("div",{className:"grid-block vertical shrink"},r.createElement(s.a,{component:"h3",content:"markets.filter"}),r.createElement("input",{type:"text",value:this.state.filterCommitteeMember,onChange:this._onFilter.bind(this)}),r.createElement("span",{className:"button outline",onClick:this._toggleView.bind(this)},this.state.cardView?r.createElement(s.a,{content:"explorer.witnesses.table"}):r.createElement(s.a,{content:"explorer.witnesses.card"}))),r.createElement("div",{className:"grid-content"},r.createElement(Se,{committee_members:V.a.List(e.active_committee_members),membersList:e.active_committee_members,filter:this.state.filterCommitteeMember,cardView:this.state.cardView})))))}}]),t}();De.propTypes={globalObject:_.a.ChainObject.isRequired},De.defaultProps={globalObject:"2.0.0"},De=Object(y.a)(De,{keep_updating:!0});var Re=function(e){function t(){return Ce(this,t),Ne(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Pe(t,r["Component"]),je(t,[{key:"render",value:function(){return r.createElement(De,this.props)}}]),t}(),Be=Re=Object(xe.connect)(Re,{listenTo:function(){return[Z.b]},getProps:function(){return{cardView:Z.b.getState().viewSettings.get("cardViewCommittee"),filterCommitteeMember:Z.b.getState().viewSettings.get("filterCommitteeMember")}}}),Le=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function Ie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Me(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Ve(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n(2422);var qe=function(e){function t(){return Ie(this,t),Me(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Ve(t,r["Component"]),Le(t,[{key:"_onCardClick",value:function(e){e.preventDefault(),this.context.router.history.push("/account/"+this.props.witness.get("name"))}},{key:"render",value:function(){var e=oe.b.getWitnessById(this.props.witness.get("id"));if(!e)return null;var t=e.get("total_votes"),n=e.get("last_aslot"),a={};a=this.props.most_recent-n>100?{borderLeft:"1px solid #FCAB53"}:{borderLeft:"1px solid #50D2C2"};var o=new Date(Date.now()-(this.props.most_recent-n)*oe.b.getObject("2.0.0").getIn(["parameters","block_interval"])*1e3);return r.createElement("div",{className:"grid-content account-card",onClick:this._onCardClick.bind(this)},r.createElement("div",{className:"card",style:a},r.createElement("h4",{className:"text-center"},"#",this.props.rank,": ",this.props.witness.get("name")),r.createElement("div",{className:"card-content"},r.createElement("div",{className:"text-center"},r.createElement(Oe.a,{account:this.props.witness.get("name"),size:{height:64,width:64}})),r.createElement("br",null),r.createElement("table",{className:"table key-value-table"},r.createElement("tbody",null,r.createElement("tr",null,r.createElement("td",null,"Votes"),r.createElement("td",null,r.createElement(U.a,{amount:t,asset:"1.3.0",decimalOffset:5}))),r.createElement("tr",null,r.createElement("td",null,"Last Block"),r.createElement("td",null,r.createElement(q.a,{time:new Date(o)}))),r.createElement("tr",null,r.createElement("td",null,"Missed"),r.createElement("td",null,e.get("total_missed"))))))))}}]),t}();qe.propTypes={witness:_.a.ChainAccount.isRequired},qe.contextTypes={router:g.object.isRequired},qe=Object(y.a)(qe,{keep_updating:!0});var Ue=function(e){function t(){return Ie(this,t),Me(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Ve(t,r["Component"]),Le(t,[{key:"_onRowClick",value:function(e){e.preventDefault(),this.context.router.history.push("/account/"+this.props.witness.get("name"))}},{key:"render",value:function(){var e=this.props,t=e.witness,n=e.isCurrent,a=e.rank,o=oe.b.getWitnessById(this.props.witness.get("id"));if(!o)return null;o.get("total_votes");var s=o.get("last_aslot"),i={};i=this.props.most_recent-s>100?{borderLeft:"1px solid #FCAB53"}:{borderLeft:"1px solid #50D2C2"};var l=new Date(Date.now()-(this.props.most_recent-s)*oe.b.getObject("2.0.0").getIn(["parameters","block_interval"])*1e3),c=n?"active-witness":"",u=o.get("total_missed"),m=L()("txtlabel",{success:u<=500},{info:u>500&&u<=1250},{warning:u>1250&&u<=2e3},{error:u>=200});return r.createElement("tr",{className:c,onClick:this._onRowClick.bind(this)},r.createElement("td",null,a),r.createElement("td",{style:i},t.get("name")),r.createElement("td",null,r.createElement(q.a,{time:new Date(l)})),r.createElement("td",null,o.get("last_confirmed_block_num")),r.createElement("td",{className:m},u),r.createElement("td",null,r.createElement(U.a,{amount:o.get("total_votes"),asset:"1.3.0",decimalOffset:5})))}}]),t}();Ue.propTypes={witness:_.a.ChainAccount.isRequired},Ue.contextTypes={router:g.object.isRequired},Ue=Object(y.a)(Ue,{keep_updating:!0});var We=function(e){function t(){Ie(this,t);var e=Me(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={sortBy:"rank",inverseSort:!0},e}return Ve(t,r["Component"]),Le(t,[{key:"_setSort",value:function(e){this.setState({sortBy:e,inverseSort:e===this.state.sortBy?!this.state.inverseSort:this.state.inverseSort})}},{key:"render",value:function(){var e=this,t=this.props,n=t.witnesses,a=t.current,o=t.cardView,i=t.witnessList,l=this.state,c=l.sortBy,u=l.inverseSort,m=0,p={};n.filter(function(e){return!!e&&-1!==i.indexOf(e.get("id"))}).sort(function(e,t){if(e&&t)return parseInt(t.get("total_votes"),10)-parseInt(e.get("total_votes"),10)}).forEach(function(e,t){if(e){var n=e.get("last_aslot");m<n&&(m=n),p[e.get("id")]=t+1}});var f=null;return n.length>0&&n[1]&&(f=n.filter(function(t){if(!t)return!1;var n=oe.b.getObject(t.get("witness_account"));if(!n)return!1;var r=n.get("name");return!!r&&-1!==r.indexOf(e.props.filter)}).sort(function(e,t){var n=oe.b.getObject(e.get("witness_account")),r=oe.b.getObject(t.get("witness_account"));if(!n||!r)return 0;switch(c){case"name":return n.get("name")>r.get("name")?u?1:-1:n.get("name")<r.get("name")?u?-1:1:0;case"rank":return u?p[e.get("id")]-p[t.get("id")]:p[t.get("id")]-p[e.get("id")];default:return u?parseInt(e.get(c),10)-parseInt(t.get(c),10):parseInt(t.get(c),10)-parseInt(e.get(c),10)}}).map(function(t){return o?r.createElement(qe,{key:t.get("id"),rank:p[t.get("id")],witness:t.get("witness_account"),most_recent:e.props.current_aslot}):r.createElement(Ue,{key:t.get("id"),rank:p[t.get("id")],isCurrent:a===t.get("id"),witness:t.get("witness_account"),most_recent:e.props.current_aslot})})),o?r.createElement("div",{className:"grid-block small-up-1 medium-up-2 large-up-3"},f):r.createElement("table",{className:"table table-hover"},r.createElement("thead",null,r.createElement("tr",null,r.createElement("th",{className:"clickable",onClick:this._setSort.bind(this,"rank")},r.createElement(s.a,{content:"explorer.witnesses.rank"})),r.createElement("th",{className:"clickable",onClick:this._setSort.bind(this,"name")},r.createElement(s.a,{content:"account.votes.name"})),r.createElement("th",{className:"clickable",onClick:this._setSort.bind(this,"last_aslot")},r.createElement(s.a,{content:"explorer.blocks.last_block"})),r.createElement("th",{className:"clickable",onClick:this._setSort.bind(this,"last_confirmed_block_num")},r.createElement(s.a,{content:"explorer.witnesses.last_confirmed"})),r.createElement("th",{className:"clickable",onClick:this._setSort.bind(this,"total_missed")},r.createElement(s.a,{content:"explorer.witnesses.missed"})),r.createElement("th",{className:"clickable",onClick:this._setSort.bind(this,"total_votes")},r.createElement(s.a,{content:"account.votes.votes"})))),r.createElement("tbody",null,f))}}]),t}();We.propTypes={witnesses:_.a.ChainObjectsList.isRequired},We=Object(y.a)(We,{keep_updating:!0,show_loader:!0});var ze=function(e){function t(e){Ie(this,t);var n=Me(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={filterWitness:e.filterWitness||"",cardView:e.cardView},n}return Ve(t,r["Component"]),Le(t,[{key:"_onFilter",value:function(e){e.preventDefault(),this.setState({filterWitness:e.target.value.toLowerCase()}),ee.a.changeViewSetting({filterWitness:e.target.value.toLowerCase()})}},{key:"_toggleView",value:function(){ee.a.changeViewSetting({cardView:!this.state.cardView}),this.setState({cardView:!this.state.cardView})}},{key:"render",value:function(){var e=this.props,t=e.dynGlobalObject,n=e.globalObject;t=t.toJS(),n=n.toJS();var a=oe.b.getObject(t.current_witness),o=null;return a&&(o=oe.b.getObject(a.get("witness_account"))),r.createElement("div",{className:"grid-block"},r.createElement("div",{className:"grid-block page-layout"},r.createElement("div",{className:"grid-block vertical small-5 medium-3"},r.createElement("div",{className:"grid-content"},r.createElement("br",null),r.createElement("table",{className:"table key-value-table"},r.createElement("tbody",null,r.createElement("tr",null,r.createElement("td",null,r.createElement(s.a,{content:"explorer.witnesses.current"})),r.createElement("td",null,o?o.get("name"):null)),r.createElement("tr",null,r.createElement("td",null,r.createElement(s.a,{content:"explorer.blocks.active_witnesses"})),r.createElement("td",null,Object.keys(n.active_witnesses).length)),r.createElement("tr",null,r.createElement("td",null,r.createElement(s.a,{content:"explorer.witnesses.participation"})),r.createElement("td",null,t.participation,"%")),r.createElement("tr",null,r.createElement("td",null,r.createElement(s.a,{content:"explorer.witnesses.pay"})),r.createElement("td",null,r.createElement(U.a,{amount:n.parameters.witness_pay_per_block,asset:"1.3.0"}))),r.createElement("tr",null,r.createElement("td",null,r.createElement(s.a,{content:"explorer.witnesses.budget"})),r.createElement("td",null," ",r.createElement(U.a,{amount:t.witness_budget,asset:"1.3.0"}))),r.createElement("tr",null,r.createElement("td",null,r.createElement(s.a,{content:"explorer.witnesses.next_vote"})),r.createElement("td",null," ",r.createElement(q.a,{time:new Date(t.next_maintenance_time)}))),r.createElement("tr",null,r.createElement("td",null," ",r.createElement(s.a,{component:"h4",content:"markets.filter"})," "),r.createElement("td",null," ",r.createElement("input",{type:"text",value:this.state.filterWitness,onChange:this._onFilter.bind(this)})," ")))),r.createElement("div",{className:"view-switcher"},r.createElement("span",{className:"button outline",onClick:this._toggleView.bind(this)},this.state.cardView?r.createElement(s.a,{content:"explorer.witnesses.table"}):r.createElement(s.a,{content:"explorer.witnesses.card"}))))),r.createElement("div",{className:"grid-block"},r.createElement("div",{className:"grid-content "},r.createElement(We,{current_aslot:t.current_aslot,current:a?a.get("id"):null,witnesses:V.a.List(n.active_witnesses),witnessList:n.active_witnesses,filter:this.state.filterWitness,cardView:this.state.cardView})))))}}]),t}();ze.propTypes={globalObject:_.a.ChainObject.isRequired,dynGlobalObject:_.a.ChainObject.isRequired},ze.defaultProps={globalObject:"2.0.0",dynGlobalObject:"2.1.0"},ze=Object(y.a)(ze,{keep_updating:!0});var Fe=function(e){function t(){return Ie(this,t),Me(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Ve(t,r["Component"]),Le(t,[{key:"render",value:function(){return r.createElement(ze,this.props)}}]),t}(),He=Fe=Object(xe.connect)(Fe,{listenTo:function(){return[Z.b]},getProps:function(){return{cardView:Z.b.getState().viewSettings.get("cardView"),filterWitness:Z.b.getState().viewSettings.get("filterWitness")}}}),Ge=n(336),Je=n(2301),Ye=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function Ke(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qe(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Xe(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Ze=oe.c.operations,$e=Object.keys(Ze),et={general:[0,25,26,27,28,32,33,37,39,40],asset:[10,11,12,13,14,15,16,17,18,19,38],market:[1,2,3,4,17,18],account:[5,6,7,8,9],business:[20,21,22,23,24,29,30,31,34,35,36]},tt=[5,7,20,21,34],nt=function(e){function t(e){return Ke(this,t),Qe(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return Xe(t,r["Component"]),Ye(t,[{key:"render",value:function(){var e=this.props,t=e.globalObject,n=e.settings,a=e.opIds;e.title;t=t.toJSON();var o=oe.b.getAsset("1.3.0"),i=t.parameters.current_fees,l=i.scale,c=i.parameters,u=n.get("unit")||o.get("symbol"),m=P.a.translate("transaction.trxTypes"),p=a.map(function(e){if(!(e>=c.length)){var t=c[e],n=t[0],a=t[1],o=$e[n],s=m[o],i=[],p=!1,f=L()("label","info");for(var b in a){var d=a[b]*l/1e4,h=P.a.translate("transaction.feeTypes"),g=(d?r.createElement(U.a,{amount:d,asset:"1.3.0"}):h._none,d?r.createElement(Je.b,{fromAsset:"1.3.0",fullPrecision:!0,amount:d,toAsset:u}):h._none),_=(.2*d?r.createElement(U.a,{amount:.2*d,asset:"1.3.0"}):h._none,.2*d?r.createElement(Je.b,{fromAsset:"1.3.0",fullPrecision:!0,amount:.2*d,toAsset:u}):h._none),y=null;p||(p=!0,y=r.createElement("td",{rowSpan:"6",style:{width:"15em"}},r.createElement("span",{className:f},s))),tt.indexOf(n)<0?i.push(r.createElement("tr",{key:n.toString()+b,className:"Annual Membership"===h[b]?"linethrough":""},y,r.createElement("td",null,h[b]),r.createElement("td",{style:{textAlign:"right"}},g),r.createElement("td",{style:{textAlign:"right"}},_))):i.push(r.createElement("tr",{key:n.toString()+b},y,r.createElement("td",null,h[b]),r.createElement("td",{style:{textAlign:"right"}},"- ",r.createElement("sup",null,"*")),r.createElement("td",{style:{textAlign:"right"}},_)))}return r.createElement("tbody",{key:e},i)}console.warn("Asking for non-existing fee id %d! Check group settings in Fees.jsx",e)});return r.createElement("div",{className:"asset-card"},r.createElement("div",{className:"card-divider"},this.props.title),r.createElement("table",{className:"table"},r.createElement("thead",null,r.createElement("tr",null,r.createElement("th",null,r.createElement(s.a,{content:"explorer.block.op"})),r.createElement("th",null,r.createElement(s.a,{content:"explorer.fees.type"})),r.createElement("th",{style:{textAlign:"right"}},r.createElement(s.a,{content:"explorer.fees.fee"})),r.createElement("th",{style:{textAlign:"right"}},r.createElement(s.a,{content:"explorer.fees.feeltm"})))),p))}}]),t}();nt.propTypes={globalObject:_.a.ChainObject.isRequired},nt.defaultProps={globalObject:"2.0.0"},nt=Object(y.a)(nt,{keep_updating:!0});var rt=function(e){function t(){return Ke(this,t),Qe(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Xe(t,r["Component"]),Ye(t,[{key:"render",value:function(){var e=P.a.translate("transaction.feeGroups"),t=[];for(var n in et){var a=e[n],o=et[n];t.push(r.createElement(nt,{key:n,settings:this.props.settings,opIds:o,title:a}))}return r.createElement("div",{className:"grid-block page-layout"},r.createElement("div",{className:"grid-block vertical readable container",style:{overflow:"visible"}},r.createElement("div",{className:"grid-block small-12 shrink",style:{overflow:"visible"}},r.createElement(Ge.a,{path:"components/Fees"})),r.createElement("div",{className:"grid-block small-12 ",style:{overflow:"visible"}},r.createElement("div",{className:"grid-content"},t))))}}]),t}(),at=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var ot=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),at(t,[{key:"render",value:function(){return r.createElement(f.a,{stores:[Z.b],inject:{settings:Z.b.getState().settings}},r.createElement(rt,this.props))}}]),t}(),st=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function it(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lt(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function ct(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var ut=function(e){function t(){return it(this,t),lt(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return ct(t,r["Component"]),st(t,[{key:"render",value:function(){return r.createElement("div",{className:"grid-content"},r.createElement("div",{className:"card"},this.props.children))}}]),t}(),mt=function(){return r.createElement("div",{className:"grid-block regular-padding small-up-1 medium-up-2 large-up-3"},r.createElement(ut,null,r.createElement(a.a,{to:"/explorer/blocks"},r.createElement("div",null,r.createElement(i.a,{name:"blocks",size:"5x",fillClass:"fill-black"})),r.createElement("div",{className:"card-divider text-center"},r.createElement(s.a,{component:"span",content:"explorer.blocks.title"})))),r.createElement(ut,null,r.createElement(a.a,{to:"/explorer/assets"},r.createElement("div",null,r.createElement(i.a,{name:"assets",size:"5x",fillClass:"fill-black"})),r.createElement("div",{className:"card-divider text-center"},r.createElement(s.a,{component:"span",content:"explorer.assets.title"})))),r.createElement(ut,null,r.createElement(a.a,{to:"/explorer/accounts"},r.createElement("div",null,r.createElement(i.a,{name:"accounts",size:"5x",fillClass:"fill-black"})),r.createElement("div",{className:"card-divider text-center"},r.createElement(s.a,{component:"span",content:"explorer.accounts.title"})))),r.createElement(ut,null,r.createElement(a.a,{to:"/explorer/witnesses"},r.createElement("div",null,r.createElement(i.a,{name:"witnesses",size:"5x",fillClass:"fill-black"})),r.createElement("div",{className:"card-divider text-center"},r.createElement(s.a,{component:"span",content:"explorer.witnesses.title"})))),r.createElement(ut,null,r.createElement(a.a,{to:"/explorer/committee"},r.createElement("div",null,r.createElement(i.a,{name:"committee_members",size:"5x",fillClass:"fill-black"})),r.createElement("div",{className:"card-divider text-center"},r.createElement(s.a,{component:"span",content:"explorer.committee_members.title"})))),r.createElement(ut,null,r.createElement(a.a,{to:"/explorer/fees"},r.createElement("div",null,r.createElement(i.a,{name:"fees",size:"5x",fillClass:"fill-black"})),r.createElement("div",{className:"card-divider text-center"},r.createElement(s.a,{component:"span",content:"fees.title"})))))},pt=function(e){function t(){return it(this,t),lt(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return ct(t,r["Component"]),st(t,[{key:"render",value:function(){return r.createElement("div",{className:"page-layout flex-start"},r.createElement(u.a,null,r.createElement(l.a,{path:"/explorer/",exact:!0,component:mt}),r.createElement(l.a,{path:"/explorer/blocks",component:Q}),r.createElement(l.a,{path:"/explorer/accounts",component:we}),r.createElement(l.a,{path:"/explorer/assets",component:me}),r.createElement(l.a,{path:"/explorer/committee",component:Be}),r.createElement(l.a,{path:"/explorer/witnesses",component:He}),r.createElement(l.a,{path:"/explorer/fees",component:ot}),r.createElement(c.a,{from:"*",to:"/explorer/blocks"})))}}]),t}();t.default=pt},2283:function(e,t,n){"use strict";n.d(t,"b",function(){return g}),n.d(t,"a",function(){return h});var r=n(0),a=n(2),o=n(1),s=n.n(o),i=n(26),l=n.n(i),c=n(16),u=n(21),m=n(10),p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var h=function(e){function t(){return f(this,t),b(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return d(t,r["Component"]),p(t,[{key:"render",value:function(){var e=this.props,t=e.isActive,n=e.index,a=e.changeTab,o=e.title,i=e.className,c=e.disabled,u=l()({"is-active":t},i);return this.props.collapsed?r.createElement("option",{value:n},"string"==typeof o&&o.indexOf(".")>0?r.createElement(s.a,{className:"tab-title",content:o}):r.createElement("span",{className:"tab-title"},o)):r.createElement("li",{className:u,onClick:c?null:a.bind(this,n)},r.createElement("a",null,"string"==typeof o&&o.indexOf(".")>0?r.createElement(s.a,{className:"tab-title",content:o}):r.createElement("span",{className:"tab-title"},o),this.props.subText?r.createElement("div",{className:"tab-subtext"},this.props.subText):null))}}]),t}();h.propTypes={changeTab:a.func,isActive:a.bool.isRequired,index:a.number.isRequired,className:a.string},h.defaultProps={isActive:!1,index:0,className:""};var g=function(e){function t(e){f(this,t);var n=b(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.state={activeTab:e.setting?e.viewSettings.get(e.setting,e.defaultActiveTab):e.defaultActiveTab,width:window.innerWidth},n._setDimensions=n._setDimensions.bind(n),n}return d(t,r["Component"]),p(t,[{key:"componentDidMount",value:function(){this._setDimensions(),window.addEventListener("resize",this._setDimensions,{capture:!1,passive:!0})}},{key:"componentWillReceiveProps",value:function(e){var t=e.viewSettings.get(e.setting);t!==this.props.viewSettings.get(this.props.setting)&&this.setState({activeTab:t})}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._setDimensions)}},{key:"_setDimensions",value:function(){var e=window.innerWidth;e!==this.state.width&&this.setState({width:e})}},{key:"_changeTab",value:function(e){e!==this.state.activeTab&&(this.props.setting&&u.a.changeViewSetting(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},this.props.setting,e)),this.setState({activeTab:e}),this.props.onChangeTab&&this.props.onChangeTab(e))}},{key:"render",value:function(){var e=this,t=this.props,n=t.children,a=t.contentClass,o=t.tabsClass,s=t.style,i=t.segmented,c=this.state.width<900,u=null,m=[],p=r.Children.map(n,function(t,n){if(!t)return null;if(c&&t.props.disabled)return null;var a=n===e.state.activeTab;return a&&(u=t.props.children),r.cloneElement(t,{collapsed:c,isActive:a,changeTab:e._changeTab.bind(e),index:n})}).filter(function(e){return e&&m.push(e.props.index),null!==e});return u||(u=p[0].props.children),r.createElement("div",{className:l()(this.props.actionButtons?"with-buttons":"",this.props.className)},r.createElement("div",{className:"service-selector"},r.createElement("ul",{style:s,className:l()("button-group no-margin",o,{segmented:i})},c?r.createElement("li",{style:{paddingLeft:10,paddingRight:10,minWidth:"15rem"}},r.createElement("select",{value:this.state.activeTab,style:{marginTop:10,marginBottom:10},className:"cyb-select",onChange:function(t){e._changeTab(parseInt(t.target.value,10))}},p)):p,this.props.actionButtons?r.createElement("li",{className:"tabs-action-buttons"},this.props.actionButtons):null)),r.createElement("div",{className:a+" tab-content"},u))}}]),t}();g.propTypes={setting:a.string,defaultActiveTab:a.number,segmented:a.bool},g.defaultProps={active:0,defaultActiveTab:0,segmented:!0,contentClass:"",style:{}},g=Object(c.connect)(g,{listenTo:function(){return[m.b]},getProps:function(){return{viewSettings:m.b.getState().viewSettings}}})},2284:function(e,t,n){"use strict";var r=n(13),a=n(4),o=n(8),s=n(153),i=n(154),l=n(11),c=n(3),u=n(271),m=n.n(u),p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var f={},b=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return p(e,[{key:"fundPool",value:function(e,t,n,r){var a=s.a.new_transaction(),i=o.a.get_asset_precision(t.get("precision"));return a.add_type_operation("asset_fund_fee_pool",{fee:{amount:0,asset_id:"1.3.0"},from_account:e,asset_id:n.get("id"),amount:r*i}),function(e){return l.a.process_transaction(a,null,!0).then(function(t){e(!0)}).catch(function(t){console.log("[AssetActions.js:150] ----- fundPool error -----\x3e",t),e(!1)})}}},{key:"claimPoolFees",value:function(e,t,n){var r=s.a.new_transaction(),a=o.a.get_asset_precision(t.get("precision"));return r.add_type_operation("asset_claim_fees",{fee:{amount:0,asset_id:0},issuer:e,amount_to_claim:{asset_id:t.get("id"),amount:n*a}}),function(e){return l.a.process_transaction(r,null,!0).then(function(t){e(!0)}).catch(function(t){console.log("[AssetActions.js:150] ----- claimFees error -----\x3e",t),e(!1)})}}},{key:"createAsset",value:function(e,t,n,r,a,i,u,p,f){console.log("create asset:",t,"flags:",n,"isBitAsset:",i,"bitasset_opts:",p);var b=s.a.new_transaction(),d=o.a.get_asset_precision(t.precision);m.a.config({DECIMAL_PLACES:t.precision});var h=new m.a(t.max_supply).times(d).toString(),g=new m.a(t.max_market_fee||0).times(d).toString(),_=(Date.now(),null);t.vesting_period&&(_=[[1,{vesting_period:1*t.vesting_period}]]);var y=o.a.get_asset_precision(c.b.getAsset(a.base.asset_id).get("precision")),v={fee:{amount:0,asset_id:0},issuer:e,symbol:t.symbol,precision:parseInt(t.precision,10),common_options:{max_supply:h,market_fee_percent:100*t.market_fee_percent||0,max_market_fee:g,issuer_permissions:r,flags:n,core_exchange_rate:{base:{amount:a.base.amount*y,asset_id:a.base.asset_id},quote:{amount:a.quote.amount*d,asset_id:"1.3.1"}},whitelist_authorities:[],blacklist_authorities:[],whitelist_markets:[],blacklist_markets:[],description:f,extensions:_},is_prediction_market:u,extensions:null};return i&&(v.bitasset_opts=p),console.debug("BitAsset: ",p),b.add_type_operation("asset_create",v),function(e){return l.a.process_transaction(b,null,!0).then(function(t){e(!0)}).catch(function(t){console.log("[AssetActions.js:150] ----- createAsset error -----\x3e",t),e(!1)})}}},{key:"updateAsset",value:function(e,t,n,r,a,i,u,p,f,b,d,h){var g=s.a.new_transaction(),_=o.a.get_asset_precision(a.get("precision"));m.a.config({DECIMAL_PLACES:a.get("precision")});var y=new m.a(n.max_supply).times(_).toString(),v=new m.a(n.max_market_fee||0).times(_).toString(),E=c.b.getAsset(r.quote.asset_id),k=o.a.get_asset_precision(E.get("precision")),w=c.b.getAsset(r.base.asset_id),O=o.a.get_asset_precision(w.get("precision")),x=new m.a(r.quote.amount).times(k).toString(),j=new m.a(r.base.amount).times(O).toString();console.log("auths:",h);var C={fee:{amount:0,asset_id:0},asset_to_update:a.get("id"),extensions:a.get("extensions"),issuer:e,new_issuer:t,new_options:{max_supply:y,max_market_fee:v,market_fee_percent:100*n.market_fee_percent,description:d,issuer_permissions:u,flags:i,whitelist_authorities:h.whitelist_authorities.toJS(),blacklist_authorities:h.blacklist_authorities.toJS(),whitelist_markets:h.whitelist_markets.toJS(),blacklist_markets:h.blacklist_markets.toJS(),extensions:a.getIn(["options","extensions"]),core_exchange_rate:{quote:{amount:x,asset_id:r.quote.asset_id},base:{amount:j,asset_id:r.base.asset_id}}}};if(e!==t&&t||delete C.new_issuer,g.add_type_operation("asset_update",C),console.log("bitasset_opts:",f,"original_bitasset_opts:",b),p&&(f.feed_lifetime_sec!==b.feed_lifetime_sec||f.minimum_feeds!==b.minimum_feeds||f.force_settlement_delay_sec!==b.force_settlement_delay_sec||f.force_settlement_offset_percent!==b.force_settlement_offset_percent||f.maximum_force_settlement_volume!==b.maximum_force_settlement_volume||f.short_backing_asset!==b.short_backing_asset)){var N={fee:{amount:0,asset_id:0},asset_to_update:a.get("id"),issuer:e,new_options:f};console.debug("Update: ",N),g.add_type_operation("asset_update_bitasset",N)}return l.a.process_transaction(g,null,!0).then(function(e){return!0}).catch(function(e){return console.log("[AssetActions.js:150] ----- createAsset error -----\x3e",e),!1})}},{key:"issueAsset",value:function(e,t,n,r,a,o){i.a.issue_asset(e,t,n,r,a,o)}},{key:"getAssetList",value:function(e,t){var n=e+"_"+t;return function(r){if(!f[n])return f[n]=!0,r({loading:!0}),a.a.instance().db_api().exec("list_assets",[e,t]).then(function(e){var t=[],o=[];e.forEach(function(e){c.b._updateObject(e,!1),o.push(e.dynamic_asset_data_id),e.bitasset_data_id&&t.push(e.bitasset_data_id)});var s=a.a.instance().db_api().exec("get_objects",[o]),i=t.length>0?a.a.instance().db_api().exec("get_objects",[t]):null;Promise.all([s,i]).then(function(t){delete f[n],r({assets:e,dynamic:t[0],bitasset_data:t[1],loading:!1})}),r({loading:!1}),delete f[n]})}}},{key:"lookupAsset",value:function(e,t){var n=c.b.getAsset(e);return n?{assets:[n],searchID:t,symbol:e}:function(n){setTimeout(function(){var r=c.b.getAsset(e);r&&n({assets:[r],searchID:t,symbol:e})},200)}}},{key:"reserveAsset",value:function(e,t,n){var r=s.a.new_transaction();return r.add_type_operation("asset_reserve",{fee:{amount:0,asset_id:0},amount_to_reserve:{amount:e,asset_id:t},payer:n,extensions:[]}),l.a.process_transaction(r,null,!0).then(function(e){return!0}).catch(function(e){return console.log("[AssetActions.js:150] ----- reserveAsset error -----\x3e",e),!1})}}]),e}();t.a=r.a.createActions(b)},2288:function(e,t,n){"use strict";var r=n(0),a=(n(2),n(2331)),o=n.n(a),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={animateEnter:!1},e.timer=null,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),s(t,[{key:"componentDidMount",value:function(){this.enableAnimation()}},{key:"resetAnimation",value:function(){this.setState({animateEnter:!1}),this.enableAnimation()}},{key:"enableAnimation",value:function(){var e=this;this.timer=setTimeout(function(){e.timer&&e.setState({animateEnter:!0})},2e3)}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timer),this.timer=null}},{key:"render",value:function(){return this.props.children?r.createElement(o.a,{className:this.props.className,component:this.props.component,transitionName:this.props.transitionName,transitionEnterTimeout:this.props.enterTimeout,transitionEnter:this.state.animateEnter,transitionLeave:!1},this.props.children):r.createElement(this.props.component)}}]),t}();i.defaultProps={component:"span",enterTimeout:2e3},t.a=i},2301:function(e,t,n){"use strict";n.d(t,"b",function(){return w}),n.d(t,"a",function(){return O});var r=n(0),a=(n(2),n(19)),o=n(22),s=n(24),i=n(8),l=n(16),c=n(99),u=n(1),m=n.n(u),p=n(9),f=n.n(p),b=n(69),d=n.n(b),h=n(340),g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function E(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var k=function(e){function t(e){return y(this,t),v(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return E(t,h["a"]),_(t,[{key:"componentDidMount",value:function(){d.a.rebuild()}},{key:"shouldComponentUpdate",value:function(e){return function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in a)return a.value;var s=a.get;return void 0!==s?s.call(r):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"shouldComponentUpdate",this).call(this,e)||e.toAsset!==this.props.toAsset||e.fromAsset!==this.props.fromAsset||e.amount!==this.props.amount}},{key:"getValue",value:function(){var e=this.props,t=e.amount,n=e.toAsset,r=e.fromAsset,a=e.fullPrecision,o=e.marketStats,s=e.coreAsset,l=void 0,c=void 0,u=n.get("id"),m=n.get("symbol"),p=r.get("id"),f=r.get("symbol");if(a||(t=i.a.get_asset_amount(t,r)),s&&o){var b=s.get("symbol");l=o.get(m+"_"+b),c=o.get(f+"_"+b)}var d=i.a.convertPrice(c&&c.close?c.close:"1.3.0"===p||r.has("bitasset")?r:null,l&&l.close?l.close:"1.3.0"===u||n.has("bitasset")?n:null,p,u);return d?i.a.convertValue(d,t,r,n):null}},{key:"render",value:function(){var e=this.props,t=e.amount,n=e.toAsset,o=e.fromAsset,s=e.fullPrecision,l=n.get("id");n.get("symbol");s||(t=i.a.get_asset_amount(t,o));var c=this.getValue();return c||0===c?r.createElement(a.a,{hide_asset:this.props.hide_asset,noPrefix:!0,amount:c,asset:l,decimalOffset:0}):r.createElement("div",{className:"tooltip inline-block","data-place":"bottom","data-tip":f.a.translate("tooltip.no_price"),style:{fontSize:"0.9rem"}},r.createElement(m.a,{content:"account.no_price"}))}}]),t}();k.propTypes={toAsset:o.a.ChainAsset.isRequired,fromAsset:o.a.ChainAsset.isRequired,coreAsset:o.a.ChainAsset.isRequired},k.defaultProps={toAsset:"1.3.0",fullPrecision:!0,noDecimals:!1,hide_asset:!1,coreAsset:"1.3.0"},k=Object(s.a)(k,{keep_updating:!0});var w=function(e){function t(){return y(this,t),v(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return E(t,r["Component"]),_(t,[{key:"render",value:function(){var e=this.props,t=e.refCallback,n=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["refCallback"]);return r.createElement(k,g({},n,{ref:t}))}}]),t}();w=Object(l.connect)(w,{listenTo:function(){return[c.a]},getProps:function(){return{marketStats:c.a.getState().allMarketStats}}});var O=function(e){function t(){return y(this,t),v(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return E(t,r["Component"]),_(t,[{key:"render",value:function(){var e=this.props.balance,t=!!e.getIn(["balance","amount"]),n=Number(t?e.getIn(["balance","amount"]):e.get("balance")),a=t?e.getIn(["balance","asset_id"]):e.get("asset_type");return isNaN(n)?r.createElement("span",null,"--"):r.createElement(w,{refCallback:this.props.refCallback,hide_asset:this.props.hide_asset,amount:n,fromAsset:a,noDecimals:!0,toAsset:this.props.toAsset})}}]),t}();O.propTypes={balance:o.a.ChainObject.isRequired},O=Object(s.a)(O,{keep_updating:!0})},2329:function(e,t,n){"use strict";var r=n(41),a=n(5),o=n.n(a),s=n(13),i=n(2284),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var c=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.assets=o.a.Map(),e.asset_symbol_to_id={},e.searchTerms={},e.lookupResults=[],e.assetsLoading=!1,e.bindListeners({onGetAssetList:i.a.getAssetList,onLookupAsset:i.a.lookupAsset}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["a"]),l(t,[{key:"onGetAssetList",value:function(e){var t=this;if(!e)return!1;this.assetsLoading=e.loading,e.assets&&e.assets.forEach(function(n){for(var r=0;r<e.dynamic.length;r++)if(e.dynamic[r].id===n.dynamic_asset_data_id){n.dynamic=e.dynamic[r];break}if(n.bitasset_data_id){n.market_asset=!0;for(r=0;r<e.bitasset_data.length;r++)if(e.bitasset_data[r].id===n.bitasset_data_id){n.bitasset_data=e.bitasset_data[r];break}}else n.market_asset=!1;t.assets=t.assets.set(n.id,n),t.asset_symbol_to_id[n.symbol]=n.id})}},{key:"onLookupAsset",value:function(e){this.searchTerms[e.searchID]=e.symbol,this.lookupResults=e.assets}}]),t}();t.a=s.a.createStore(c,"AssetStore")},2422:function(e,t,n){}}]);